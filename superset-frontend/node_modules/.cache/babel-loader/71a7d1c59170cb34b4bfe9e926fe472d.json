{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { getDatabaseDocumentationLinks } from 'src/views/CRUD/hooks';\nimport { t } from '@superset-ui/core';\nimport { EditHeaderTitle, EditHeaderSubtitle, StyledFormHeader, StyledStickyHeader } from './styles';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst supersetTextDocs = getDatabaseDocumentationLinks();\nexport const DOCUMENTATION_LINK = supersetTextDocs ?\nsupersetTextDocs.support :\n'https://superset.apache.org/docs/databases/installing-database-drivers';\nconst irregularDocumentationLinks = {\n  postgresql: 'https://superset.apache.org/docs/databases/postgres',\n  mssql: 'https://superset.apache.org/docs/databases/sql-server',\n  gsheets: 'https://superset.apache.org/docs/databases/google-sheets' };\n\nconst documentationLink = (engine) => {\n  if (!engine)\n  return null;\n  if (supersetTextDocs) {\n    // override doc link for superset_txt yml\n    return supersetTextDocs[engine] || supersetTextDocs.default;\n  }\n  if (!irregularDocumentationLinks[engine]) {\n    return `https://superset.apache.org/docs/databases/${engine}`;\n  }\n  return irregularDocumentationLinks[engine];\n};\nconst ModalHeader = (_ref) => {let { isLoading, isEditMode, useSqlAlchemyForm, hasConnectedDb, db, dbName, dbModel, editNewDb, fileList } = _ref;\n  const fileCheck = fileList && (fileList == null ? void 0 : fileList.length) > 0;\n  const isEditHeader = ___EmotionJSX(StyledFormHeader, null,\n  ___EmotionJSX(EditHeaderTitle, null, db == null ? void 0 : db.backend),\n  ___EmotionJSX(EditHeaderSubtitle, null, dbName));\n\n  const useSqlAlchemyFormHeader = ___EmotionJSX(StyledFormHeader, null,\n  ___EmotionJSX(\"p\", { className: \"helper-top\" },\n  t('STEP %(stepCurr)s OF %(stepLast)s', {\n    stepCurr: 2,\n    stepLast: 2 })),\n\n\n  ___EmotionJSX(\"h4\", null, t('Enter Primary Credentials')),\n  ___EmotionJSX(\"p\", { className: \"helper-bottom\" },\n  t('Need help? Learn how to connect your database'), ' ',\n  ___EmotionJSX(\"a\", { href: (supersetTextDocs == null ? void 0 : supersetTextDocs.default) || DOCUMENTATION_LINK, target: \"_blank\", rel: \"noopener noreferrer\" },\n  t('here')), \".\"));\n\n\n\n\n  const hasConnectedDbHeader = ___EmotionJSX(StyledStickyHeader, null,\n  ___EmotionJSX(StyledFormHeader, null,\n  ___EmotionJSX(\"p\", { className: \"helper-top\" },\n  t('STEP %(stepCurr)s OF %(stepLast)s', {\n    stepCurr: 3,\n    stepLast: 3 })),\n\n\n  ___EmotionJSX(\"h4\", { className: \"step-3-text\" }, t('Database connected')),\n  ___EmotionJSX(\"p\", { className: \"subheader-text\" },\n  t(`Create a dataset to begin visualizing your data as a chart or go to\n          SQL Lab to query your data.`))));\n\n\n\n  const hasDbHeader = ___EmotionJSX(StyledStickyHeader, null,\n  ___EmotionJSX(StyledFormHeader, null,\n  ___EmotionJSX(\"p\", { className: \"helper-top\" },\n  t('STEP %(stepCurr)s OF %(stepLast)s', {\n    stepCurr: 2,\n    stepLast: 3 })),\n\n\n  ___EmotionJSX(\"h4\", null,\n  t('Enter the required %(dbModelName)s credentials', {\n    dbModelName: dbModel.name })),\n\n\n  ___EmotionJSX(\"p\", { className: \"helper-bottom\" },\n  t('Need help? Learn more about'), ' ',\n  ___EmotionJSX(\"a\", { href: documentationLink(db == null ? void 0 : db.engine), target: \"_blank\", rel: \"noopener noreferrer\" },\n  t('connecting to %(dbModelName)s.', { dbModelName: dbModel.name }), \".\"))));\n\n\n\n\n\n  const noDbHeader = ___EmotionJSX(StyledFormHeader, null,\n  ___EmotionJSX(\"div\", { className: \"select-db\" },\n  ___EmotionJSX(\"p\", { className: \"helper-top\" },\n  t('STEP %(stepCurr)s OF %(stepLast)s', {\n    stepCurr: 1,\n    stepLast: 3 })),\n\n\n  ___EmotionJSX(\"h4\", null, t('Select a database to connect'))));\n\n\n  const importDbHeader = ___EmotionJSX(StyledStickyHeader, null,\n  ___EmotionJSX(StyledFormHeader, null,\n  ___EmotionJSX(\"p\", { className: \"helper-top\" },\n  t('STEP %(stepCurr)s OF %(stepLast)s', {\n    stepCurr: 2,\n    stepLast: 2 })),\n\n\n  ___EmotionJSX(\"h4\", null,\n  t('Enter the required %(dbModelName)s credentials', {\n    dbModelName: dbModel.name })),\n\n\n  ___EmotionJSX(\"p\", { className: \"helper-bottom\" }, fileCheck ? fileList[0].name : '')));\n\n\n  if (fileCheck)\n  return importDbHeader;\n  if (isLoading)\n  return ___EmotionJSX(React.Fragment, null);\n  if (isEditMode)\n  return isEditHeader;\n  if (useSqlAlchemyForm)\n  return useSqlAlchemyFormHeader;\n  if (hasConnectedDb && !editNewDb)\n  return hasConnectedDbHeader;\n  if (db || editNewDb)\n  return hasDbHeader;\n  return noDbHeader;\n};const _default =\nModalHeader;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(supersetTextDocs, \"supersetTextDocs\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/databases/DatabaseModal/ModalHeader.tsx\");reactHotLoader.register(DOCUMENTATION_LINK, \"DOCUMENTATION_LINK\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/databases/DatabaseModal/ModalHeader.tsx\");reactHotLoader.register(irregularDocumentationLinks, \"irregularDocumentationLinks\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/databases/DatabaseModal/ModalHeader.tsx\");reactHotLoader.register(documentationLink, \"documentationLink\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/databases/DatabaseModal/ModalHeader.tsx\");reactHotLoader.register(ModalHeader, \"ModalHeader\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/databases/DatabaseModal/ModalHeader.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/databases/DatabaseModal/ModalHeader.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"mappings":"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","names":["React","getDatabaseDocumentationLinks","t","EditHeaderTitle","EditHeaderSubtitle","StyledFormHeader","StyledStickyHeader","supersetTextDocs","DOCUMENTATION_LINK","support","irregularDocumentationLinks","postgresql","mssql","gsheets","documentationLink","engine","default","ModalHeader","isLoading","isEditMode","useSqlAlchemyForm","hasConnectedDb","db","dbName","dbModel","editNewDb","fileList","fileCheck","length","isEditHeader","backend","useSqlAlchemyFormHeader","stepCurr","stepLast","hasConnectedDbHeader","hasDbHeader","dbModelName","name","noDbHeader","importDbHeader"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/databases/DatabaseModal/ModalHeader.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { getDatabaseDocumentationLinks } from 'src/views/CRUD/hooks';\nimport { UploadFile } from 'antd/lib/upload/interface';\nimport { t } from '@superset-ui/core';\nimport {\n  EditHeaderTitle,\n  EditHeaderSubtitle,\n  StyledFormHeader,\n  StyledStickyHeader,\n} from './styles';\nimport { DatabaseForm, DatabaseObject } from '../types';\n\nconst supersetTextDocs = getDatabaseDocumentationLinks();\n\nexport const DOCUMENTATION_LINK = supersetTextDocs\n  ? supersetTextDocs.support\n  : 'https://superset.apache.org/docs/databases/installing-database-drivers';\n\nconst irregularDocumentationLinks = {\n  postgresql: 'https://superset.apache.org/docs/databases/postgres',\n  mssql: 'https://superset.apache.org/docs/databases/sql-server',\n  gsheets: 'https://superset.apache.org/docs/databases/google-sheets',\n};\n\nconst documentationLink = (engine: string | undefined) => {\n  if (!engine) return null;\n\n  if (supersetTextDocs) {\n    // override doc link for superset_txt yml\n    return supersetTextDocs[engine] || supersetTextDocs.default;\n  }\n\n  if (!irregularDocumentationLinks[engine]) {\n    return `https://superset.apache.org/docs/databases/${engine}`;\n  }\n  return irregularDocumentationLinks[engine];\n};\n\nconst ModalHeader = ({\n  isLoading,\n  isEditMode,\n  useSqlAlchemyForm,\n  hasConnectedDb,\n  db,\n  dbName,\n  dbModel,\n  editNewDb,\n  fileList,\n}: {\n  isLoading: boolean;\n  isEditMode: boolean;\n  useSqlAlchemyForm: boolean;\n  hasConnectedDb: boolean;\n  db: Partial<DatabaseObject> | null;\n  dbName: string;\n  dbModel: DatabaseForm;\n  editNewDb?: boolean;\n  fileList?: UploadFile[];\n  passwordFields?: string[];\n  needsOverwriteConfirm?: boolean;\n}) => {\n  const fileCheck = fileList && fileList?.length > 0;\n\n  const isEditHeader = (\n    <StyledFormHeader>\n      <EditHeaderTitle>{db?.backend}</EditHeaderTitle>\n      <EditHeaderSubtitle>{dbName}</EditHeaderSubtitle>\n    </StyledFormHeader>\n  );\n\n  const useSqlAlchemyFormHeader = (\n    <StyledFormHeader>\n      <p className=\"helper-top\">\n        {t('STEP %(stepCurr)s OF %(stepLast)s', {\n          stepCurr: 2,\n          stepLast: 2,\n        })}\n      </p>\n      <h4>{t('Enter Primary Credentials')}</h4>\n      <p className=\"helper-bottom\">\n        {t('Need help? Learn how to connect your database')}{' '}\n        <a\n          href={supersetTextDocs?.default || DOCUMENTATION_LINK}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {t('here')}\n        </a>\n        .\n      </p>\n    </StyledFormHeader>\n  );\n\n  const hasConnectedDbHeader = (\n    <StyledStickyHeader>\n      <StyledFormHeader>\n        <p className=\"helper-top\">\n          {t('STEP %(stepCurr)s OF %(stepLast)s', {\n            stepCurr: 3,\n            stepLast: 3,\n          })}\n        </p>\n        <h4 className=\"step-3-text\">{t('Database connected')}</h4>\n        <p className=\"subheader-text\">\n          {t(`Create a dataset to begin visualizing your data as a chart or go to\n          SQL Lab to query your data.`)}\n        </p>\n      </StyledFormHeader>\n    </StyledStickyHeader>\n  );\n\n  const hasDbHeader = (\n    <StyledStickyHeader>\n      <StyledFormHeader>\n        <p className=\"helper-top\">\n          {t('STEP %(stepCurr)s OF %(stepLast)s', {\n            stepCurr: 2,\n            stepLast: 3,\n          })}\n        </p>\n        <h4>\n          {t('Enter the required %(dbModelName)s credentials', {\n            dbModelName: dbModel.name,\n          })}\n        </h4>\n        <p className=\"helper-bottom\">\n          {t('Need help? Learn more about')}{' '}\n          <a\n            href={documentationLink(db?.engine)}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {t('connecting to %(dbModelName)s.', { dbModelName: dbModel.name })}\n            .\n          </a>\n        </p>\n      </StyledFormHeader>\n    </StyledStickyHeader>\n  );\n\n  const noDbHeader = (\n    <StyledFormHeader>\n      <div className=\"select-db\">\n        <p className=\"helper-top\">\n          {t('STEP %(stepCurr)s OF %(stepLast)s', {\n            stepCurr: 1,\n            stepLast: 3,\n          })}\n        </p>\n        <h4>{t('Select a database to connect')}</h4>\n      </div>\n    </StyledFormHeader>\n  );\n\n  const importDbHeader = (\n    <StyledStickyHeader>\n      <StyledFormHeader>\n        <p className=\"helper-top\">\n          {t('STEP %(stepCurr)s OF %(stepLast)s', {\n            stepCurr: 2,\n            stepLast: 2,\n          })}\n        </p>\n        <h4>\n          {t('Enter the required %(dbModelName)s credentials', {\n            dbModelName: dbModel.name,\n          })}\n        </h4>\n        <p className=\"helper-bottom\">{fileCheck ? fileList[0].name : ''}</p>\n      </StyledFormHeader>\n    </StyledStickyHeader>\n  );\n\n  if (fileCheck) return importDbHeader;\n  if (isLoading) return <></>;\n  if (isEditMode) return isEditHeader;\n  if (useSqlAlchemyForm) return useSqlAlchemyFormHeader;\n  if (hasConnectedDb && !editNewDb) return hasConnectedDbHeader;\n  if (db || editNewDb) return hasDbHeader;\n\n  return noDbHeader;\n};\n\nexport default ModalHeader;\n"]},"metadata":{},"sourceType":"module"}