{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport {\ncss,\nFeatureFlag,\nisFeatureEnabled,\nstyled,\nt } from\n'@superset-ui/core';\n\nimport DragDroppable from 'src/dashboard/components/dnd/DragDroppable';\nimport DragHandle from 'src/dashboard/components/dnd/DragHandle';\nimport DashboardComponent from 'src/dashboard/containers/DashboardComponent';\nimport DeleteComponentButton from 'src/dashboard/components/DeleteComponentButton';\nimport HoverMenu from 'src/dashboard/components/menu/HoverMenu';\nimport Icons from 'src/components/Icons';\nimport IconButton from 'src/dashboard/components/IconButton';\nimport BackgroundStyleDropdown from 'src/dashboard/components/menu/BackgroundStyleDropdown';\nimport WithPopoverMenu from 'src/dashboard/components/menu/WithPopoverMenu';\nimport { componentShape } from 'src/dashboard/util/propShapes';\nimport backgroundStyleOptions from 'src/dashboard/util/backgroundStyleOptions';\nimport { BACKGROUND_TRANSPARENT } from 'src/dashboard/util/constants';\nimport { isCurrentUserBot } from 'src/utils/isBot';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  id: PropTypes.string.isRequired,\n  parentId: PropTypes.string.isRequired,\n  component: componentShape.isRequired,\n  parentComponent: componentShape.isRequired,\n  index: PropTypes.number.isRequired,\n  depth: PropTypes.number.isRequired,\n  editMode: PropTypes.bool.isRequired,\n\n  // grid related\n  availableColumnCount: PropTypes.number.isRequired,\n  columnWidth: PropTypes.number.isRequired,\n  occupiedColumnCount: PropTypes.number.isRequired,\n  onResizeStart: PropTypes.func.isRequired,\n  onResize: PropTypes.func.isRequired,\n  onResizeStop: PropTypes.func.isRequired,\n\n  // dnd\n  handleComponentDrop: PropTypes.func.isRequired,\n  deleteComponent: PropTypes.func.isRequired,\n  updateComponents: PropTypes.func.isRequired };\n\n\nconst GridRow = styled.div`\n  ${(_ref) => {let { theme } = _ref;return css`\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: flex-start;\n    width: 100%;\n    height: fit-content;\n\n    & > :not(:last-child):not(.hover-menu) {\n      margin-right: ${theme.gridUnit * 4}px;\n    }\n\n    &.grid-row--empty {\n      min-height: ${theme.gridUnit * 25}px;\n    }\n  `;}}\n`;\n\nconst emptyRowContentStyles = (theme) => css`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${theme.colors.text.label};\n`;\n\nclass Row extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocused: false,\n      isInView: false };\n\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\n    this.handleUpdateMeta = this.handleUpdateMeta.bind(this);\n    this.handleChangeBackground = this.handleUpdateMeta.bind(\n    this,\n    'background');\n\n    this.handleChangeFocus = this.handleChangeFocus.bind(this);\n\n    this.containerRef = /*#__PURE__*/React.createRef();\n    this.observerEnabler = null;\n    this.observerDisabler = null;\n  }\n\n  // if chart not rendered - render it if it's less than 1 view height away from current viewport\n  // if chart rendered - remove it if it's more than 4 view heights away from current viewport\n  componentDidMount() {\n    if (\n    isFeatureEnabled(FeatureFlag.DASHBOARD_VIRTUALIZATION) &&\n    !isCurrentUserBot())\n    {\n      this.observerEnabler = new IntersectionObserver(\n      (_ref2) => {let [entry] = _ref2;\n        if (entry.isIntersecting && !this.state.isInView) {\n          this.setState({ isInView: true });\n        }\n      },\n      {\n        rootMargin: '100% 0px' });\n\n\n      this.observerDisabler = new IntersectionObserver(\n      (_ref3) => {let [entry] = _ref3;\n        if (!entry.isIntersecting && this.state.isInView) {\n          this.setState({ isInView: false });\n        }\n      },\n      {\n        rootMargin: '400% 0px' });\n\n\n      const element = this.containerRef.current;\n      if (element) {\n        this.observerEnabler.observe(element);\n        this.observerDisabler.observe(element);\n      }\n    }\n  }\n\n  componentWillUnmount() {var _this$observerEnabler, _this$observerDisable;\n    (_this$observerEnabler = this.observerEnabler) == null ? void 0 : _this$observerEnabler.disconnect();\n    (_this$observerDisable = this.observerDisabler) == null ? void 0 : _this$observerDisable.disconnect();\n  }\n\n  handleChangeFocus(nextFocus) {\n    this.setState(() => ({ isFocused: Boolean(nextFocus) }));\n  }\n\n  handleUpdateMeta(metaKey, nextValue) {\n    const { updateComponents, component } = this.props;\n    if (nextValue && component.meta[metaKey] !== nextValue) {\n      updateComponents({\n        [component.id]: {\n          ...component,\n          meta: {\n            ...component.meta,\n            [metaKey]: nextValue } } });\n\n\n\n    }\n  }\n\n  handleDeleteComponent() {\n    const { deleteComponent, component, parentId } = this.props;\n    deleteComponent(component.id, parentId);\n  }\n\n  render() {\n    const {\n      component: rowComponent,\n      parentComponent,\n      index,\n      availableColumnCount,\n      columnWidth,\n      occupiedColumnCount,\n      depth,\n      onResizeStart,\n      onResize,\n      onResizeStop,\n      handleComponentDrop,\n      editMode,\n      onChangeTab,\n      isComponentVisible } =\n    this.props;\n\n    const rowItems = rowComponent.children || [];\n\n    const backgroundStyle = backgroundStyleOptions.find(\n    (opt) =>\n    opt.value === (rowComponent.meta.background || BACKGROUND_TRANSPARENT));\n\n\n    return (\n      ___EmotionJSX(DragDroppable, {\n        component: rowComponent,\n        parentComponent: parentComponent,\n        orientation: \"row\",\n        index: index,\n        depth: depth,\n        onDrop: handleComponentDrop,\n        editMode: editMode },\n\n      (_ref4) => {let { dropIndicatorProps, dragSourceRef } = _ref4;return (\n          ___EmotionJSX(WithPopoverMenu, {\n            isFocused: this.state.isFocused,\n            onChangeFocus: this.handleChangeFocus,\n            disableClick: true,\n            menuItems: [\n            ___EmotionJSX(BackgroundStyleDropdown, {\n              id: `${rowComponent.id}-background`,\n              value: backgroundStyle.value,\n              onChange: this.handleChangeBackground })],\n\n\n            editMode: editMode },\n\n          editMode &&\n          ___EmotionJSX(HoverMenu, { innerRef: dragSourceRef, position: \"left\" },\n          ___EmotionJSX(DragHandle, { position: \"left\" }),\n          ___EmotionJSX(DeleteComponentButton, { onDelete: this.handleDeleteComponent }),\n          ___EmotionJSX(IconButton, {\n            onClick: this.handleChangeFocus,\n            icon: ___EmotionJSX(Icons.Cog, { iconSize: \"xl\" }) })),\n\n\n\n          ___EmotionJSX(GridRow, {\n            className: cx(\n            'grid-row',\n            rowItems.length === 0 && 'grid-row--empty',\n            backgroundStyle.className),\n\n            \"data-test\": `grid-row-${backgroundStyle.className}`,\n            ref: this.containerRef },\n\n          rowItems.length === 0 ?\n          ___EmotionJSX(\"div\", { css: emptyRowContentStyles }, t('Empty row')) :\n\n          rowItems.map((componentId, itemIndex) =>\n          ___EmotionJSX(DashboardComponent, {\n            key: componentId,\n            id: componentId,\n            parentId: rowComponent.id,\n            depth: depth + 1,\n            index: itemIndex,\n            availableColumnCount:\n            availableColumnCount - occupiedColumnCount,\n\n            columnWidth: columnWidth,\n            onResizeStart: onResizeStart,\n            onResize: onResize,\n            onResizeStop: onResizeStop,\n            isComponentVisible: isComponentVisible,\n            onChangeTab: onChangeTab,\n            isInView: this.state.isInView })),\n\n\n\n\n          dropIndicatorProps && ___EmotionJSX(\"div\", dropIndicatorProps))));}));\n\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nRow.propTypes = propTypes;const _default =\n\nRow;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Row.jsx\");reactHotLoader.register(GridRow, \"GridRow\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Row.jsx\");reactHotLoader.register(emptyRowContentStyles, \"emptyRowContentStyles\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Row.jsx\");reactHotLoader.register(Row, \"Row\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Row.jsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Row.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","PropTypes","cx","css","FeatureFlag","isFeatureEnabled","styled","t","DragDroppable","DragHandle","DashboardComponent","DeleteComponentButton","HoverMenu","Icons","IconButton","BackgroundStyleDropdown","WithPopoverMenu","componentShape","backgroundStyleOptions","BACKGROUND_TRANSPARENT","isCurrentUserBot","propTypes","id","string","isRequired","parentId","component","parentComponent","index","number","depth","editMode","bool","availableColumnCount","columnWidth","occupiedColumnCount","onResizeStart","func","onResize","onResizeStop","handleComponentDrop","deleteComponent","updateComponents","GridRow","div","theme","gridUnit","emptyRowContentStyles","colors","text","label","Row","PureComponent","constructor","props","state","isFocused","isInView","handleDeleteComponent","bind","handleUpdateMeta","handleChangeBackground","handleChangeFocus","containerRef","createRef","observerEnabler","observerDisabler","componentDidMount","DASHBOARD_VIRTUALIZATION","IntersectionObserver","entry","isIntersecting","setState","rootMargin","element","current","observe","componentWillUnmount","disconnect","nextFocus","Boolean","metaKey","nextValue","meta","render","rowComponent","onChangeTab","isComponentVisible","rowItems","children","backgroundStyle","find","opt","value","background","dropIndicatorProps","dragSourceRef","length","className","map","componentId","itemIndex"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Row.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport {\n  css,\n  FeatureFlag,\n  isFeatureEnabled,\n  styled,\n  t,\n} from '@superset-ui/core';\n\nimport DragDroppable from 'src/dashboard/components/dnd/DragDroppable';\nimport DragHandle from 'src/dashboard/components/dnd/DragHandle';\nimport DashboardComponent from 'src/dashboard/containers/DashboardComponent';\nimport DeleteComponentButton from 'src/dashboard/components/DeleteComponentButton';\nimport HoverMenu from 'src/dashboard/components/menu/HoverMenu';\nimport Icons from 'src/components/Icons';\nimport IconButton from 'src/dashboard/components/IconButton';\nimport BackgroundStyleDropdown from 'src/dashboard/components/menu/BackgroundStyleDropdown';\nimport WithPopoverMenu from 'src/dashboard/components/menu/WithPopoverMenu';\nimport { componentShape } from 'src/dashboard/util/propShapes';\nimport backgroundStyleOptions from 'src/dashboard/util/backgroundStyleOptions';\nimport { BACKGROUND_TRANSPARENT } from 'src/dashboard/util/constants';\nimport { isCurrentUserBot } from 'src/utils/isBot';\n\nconst propTypes = {\n  id: PropTypes.string.isRequired,\n  parentId: PropTypes.string.isRequired,\n  component: componentShape.isRequired,\n  parentComponent: componentShape.isRequired,\n  index: PropTypes.number.isRequired,\n  depth: PropTypes.number.isRequired,\n  editMode: PropTypes.bool.isRequired,\n\n  // grid related\n  availableColumnCount: PropTypes.number.isRequired,\n  columnWidth: PropTypes.number.isRequired,\n  occupiedColumnCount: PropTypes.number.isRequired,\n  onResizeStart: PropTypes.func.isRequired,\n  onResize: PropTypes.func.isRequired,\n  onResizeStop: PropTypes.func.isRequired,\n\n  // dnd\n  handleComponentDrop: PropTypes.func.isRequired,\n  deleteComponent: PropTypes.func.isRequired,\n  updateComponents: PropTypes.func.isRequired,\n};\n\nconst GridRow = styled.div`\n  ${({ theme }) => css`\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: flex-start;\n    width: 100%;\n    height: fit-content;\n\n    & > :not(:last-child):not(.hover-menu) {\n      margin-right: ${theme.gridUnit * 4}px;\n    }\n\n    &.grid-row--empty {\n      min-height: ${theme.gridUnit * 25}px;\n    }\n  `}\n`;\n\nconst emptyRowContentStyles = theme => css`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${theme.colors.text.label};\n`;\n\nclass Row extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocused: false,\n      isInView: false,\n    };\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\n    this.handleUpdateMeta = this.handleUpdateMeta.bind(this);\n    this.handleChangeBackground = this.handleUpdateMeta.bind(\n      this,\n      'background',\n    );\n    this.handleChangeFocus = this.handleChangeFocus.bind(this);\n\n    this.containerRef = React.createRef();\n    this.observerEnabler = null;\n    this.observerDisabler = null;\n  }\n\n  // if chart not rendered - render it if it's less than 1 view height away from current viewport\n  // if chart rendered - remove it if it's more than 4 view heights away from current viewport\n  componentDidMount() {\n    if (\n      isFeatureEnabled(FeatureFlag.DASHBOARD_VIRTUALIZATION) &&\n      !isCurrentUserBot()\n    ) {\n      this.observerEnabler = new IntersectionObserver(\n        ([entry]) => {\n          if (entry.isIntersecting && !this.state.isInView) {\n            this.setState({ isInView: true });\n          }\n        },\n        {\n          rootMargin: '100% 0px',\n        },\n      );\n      this.observerDisabler = new IntersectionObserver(\n        ([entry]) => {\n          if (!entry.isIntersecting && this.state.isInView) {\n            this.setState({ isInView: false });\n          }\n        },\n        {\n          rootMargin: '400% 0px',\n        },\n      );\n      const element = this.containerRef.current;\n      if (element) {\n        this.observerEnabler.observe(element);\n        this.observerDisabler.observe(element);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.observerEnabler?.disconnect();\n    this.observerDisabler?.disconnect();\n  }\n\n  handleChangeFocus(nextFocus) {\n    this.setState(() => ({ isFocused: Boolean(nextFocus) }));\n  }\n\n  handleUpdateMeta(metaKey, nextValue) {\n    const { updateComponents, component } = this.props;\n    if (nextValue && component.meta[metaKey] !== nextValue) {\n      updateComponents({\n        [component.id]: {\n          ...component,\n          meta: {\n            ...component.meta,\n            [metaKey]: nextValue,\n          },\n        },\n      });\n    }\n  }\n\n  handleDeleteComponent() {\n    const { deleteComponent, component, parentId } = this.props;\n    deleteComponent(component.id, parentId);\n  }\n\n  render() {\n    const {\n      component: rowComponent,\n      parentComponent,\n      index,\n      availableColumnCount,\n      columnWidth,\n      occupiedColumnCount,\n      depth,\n      onResizeStart,\n      onResize,\n      onResizeStop,\n      handleComponentDrop,\n      editMode,\n      onChangeTab,\n      isComponentVisible,\n    } = this.props;\n\n    const rowItems = rowComponent.children || [];\n\n    const backgroundStyle = backgroundStyleOptions.find(\n      opt =>\n        opt.value === (rowComponent.meta.background || BACKGROUND_TRANSPARENT),\n    );\n\n    return (\n      <DragDroppable\n        component={rowComponent}\n        parentComponent={parentComponent}\n        orientation=\"row\"\n        index={index}\n        depth={depth}\n        onDrop={handleComponentDrop}\n        editMode={editMode}\n      >\n        {({ dropIndicatorProps, dragSourceRef }) => (\n          <WithPopoverMenu\n            isFocused={this.state.isFocused}\n            onChangeFocus={this.handleChangeFocus}\n            disableClick\n            menuItems={[\n              <BackgroundStyleDropdown\n                id={`${rowComponent.id}-background`}\n                value={backgroundStyle.value}\n                onChange={this.handleChangeBackground}\n              />,\n            ]}\n            editMode={editMode}\n          >\n            {editMode && (\n              <HoverMenu innerRef={dragSourceRef} position=\"left\">\n                <DragHandle position=\"left\" />\n                <DeleteComponentButton onDelete={this.handleDeleteComponent} />\n                <IconButton\n                  onClick={this.handleChangeFocus}\n                  icon={<Icons.Cog iconSize=\"xl\" />}\n                />\n              </HoverMenu>\n            )}\n            <GridRow\n              className={cx(\n                'grid-row',\n                rowItems.length === 0 && 'grid-row--empty',\n                backgroundStyle.className,\n              )}\n              data-test={`grid-row-${backgroundStyle.className}`}\n              ref={this.containerRef}\n            >\n              {rowItems.length === 0 ? (\n                <div css={emptyRowContentStyles}>{t('Empty row')}</div>\n              ) : (\n                rowItems.map((componentId, itemIndex) => (\n                  <DashboardComponent\n                    key={componentId}\n                    id={componentId}\n                    parentId={rowComponent.id}\n                    depth={depth + 1}\n                    index={itemIndex}\n                    availableColumnCount={\n                      availableColumnCount - occupiedColumnCount\n                    }\n                    columnWidth={columnWidth}\n                    onResizeStart={onResizeStart}\n                    onResize={onResize}\n                    onResizeStop={onResizeStop}\n                    isComponentVisible={isComponentVisible}\n                    onChangeTab={onChangeTab}\n                    isInView={this.state.isInView}\n                  />\n                ))\n              )}\n\n              {dropIndicatorProps && <div {...dropIndicatorProps} />}\n            </GridRow>\n          </WithPopoverMenu>\n        )}\n      </DragDroppable>\n    );\n  }\n}\n\nRow.propTypes = propTypes;\n\nexport default Row;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}