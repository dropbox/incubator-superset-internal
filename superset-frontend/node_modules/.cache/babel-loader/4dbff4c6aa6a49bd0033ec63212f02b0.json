{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { css, isEqualArray, t } from '@superset-ui/core';\nimport Select from 'src/components/Select/Select';\nimport ControlHeader from 'src/explore/components/ControlHeader';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  ariaLabel: PropTypes.string,\n  autoFocus: PropTypes.bool,\n  choices: PropTypes.array,\n  clearable: PropTypes.bool,\n  description: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  disabled: PropTypes.bool,\n  freeForm: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  mode: PropTypes.string,\n  multi: PropTypes.bool,\n  isMulti: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onSelect: PropTypes.func,\n  onDeselect: PropTypes.func,\n  value: PropTypes.oneOfType([\n  PropTypes.string,\n  PropTypes.number,\n  PropTypes.array]),\n\n  default: PropTypes.oneOfType([\n  PropTypes.string,\n  PropTypes.number,\n  PropTypes.array]),\n\n  showHeader: PropTypes.bool,\n  optionRenderer: PropTypes.func,\n  valueKey: PropTypes.string,\n  options: PropTypes.array,\n  placeholder: PropTypes.string,\n  filterOption: PropTypes.func,\n  tokenSeparators: PropTypes.arrayOf(PropTypes.string),\n  notFoundContent: PropTypes.object,\n\n  // ControlHeader props\n  label: PropTypes.string,\n  renderTrigger: PropTypes.bool,\n  validationErrors: PropTypes.array,\n  rightNode: PropTypes.node,\n  leftNode: PropTypes.node,\n  onClick: PropTypes.func,\n  hovered: PropTypes.bool,\n  tooltipOnClick: PropTypes.func,\n  warning: PropTypes.string,\n  danger: PropTypes.string };\n\n\nconst defaultProps = {\n  autoFocus: false,\n  choices: [],\n  clearable: true,\n  description: null,\n  disabled: false,\n  freeForm: false,\n  isLoading: false,\n  label: null,\n  multi: false,\n  onChange: () => {},\n  onFocus: () => {},\n  showHeader: true,\n  valueKey: 'value' };\n\n\nexport default class SelectControl extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: this.getOptions(props) };\n\n    this.onChange = this.onChange.bind(this);\n    this.handleFilterOptions = this.handleFilterOptions.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (\n    !isEqualArray(nextProps.choices, this.props.choices) ||\n    !isEqualArray(nextProps.options, this.props.options))\n    {\n      const options = this.getOptions(nextProps);\n      this.setState({ options });\n    }\n  }\n\n  // Beware: This is acting like an on-click instead of an on-change\n  // (firing every time user chooses vs firing only if a new option is chosen).\n  onChange(val) {\n    // will eventually call `exploreReducer`: SET_FIELD_VALUE\n    const { valueKey } = this.props;\n    let onChangeVal = val;\n\n    if (Array.isArray(val)) {\n      const values = val.map((v) =>\n      (v == null ? void 0 : v[valueKey]) !== undefined ? v[valueKey] : v);\n\n      onChangeVal = values;\n    }\n    if (typeof val === 'object' && (val == null ? void 0 : val[valueKey]) !== undefined) {\n      onChangeVal = val[valueKey];\n    }\n    this.props.onChange(onChangeVal, []);\n  }\n\n  getOptions(props) {\n    const { choices, optionRenderer, valueKey } = props;\n    let options = [];\n    if (props.options) {\n      options = props.options.map((o) => ({\n        ...o,\n        value: o[valueKey],\n        label: o.label || o[valueKey],\n        customLabel: optionRenderer ? optionRenderer(o) : undefined }));\n\n    } else if (choices) {\n      // Accepts different formats of input\n      options = choices.map((c) => {\n        if (Array.isArray(c)) {\n          const [value, label] = c.length > 1 ? c : [c[0], c[0]];\n          return {\n            value,\n            label };\n\n        }\n        if (Object.is(c)) {\n          return {\n            ...c,\n            value: c[valueKey],\n            label: c.label || c[valueKey] };\n\n        }\n        return { value: c, label: c };\n      });\n    }\n    return options;\n  }\n\n  handleFilterOptions(text, option) {\n    const { filterOption } = this.props;\n    return filterOption({ data: option }, text);\n  }\n\n  render() {\n    const {\n      ariaLabel,\n      autoFocus,\n      clearable,\n      disabled,\n      filterOption,\n      freeForm,\n      isLoading,\n      isMulti,\n      label,\n      multi,\n      name,\n      notFoundContent,\n      onFocus,\n      onSelect,\n      onDeselect,\n      placeholder,\n      showHeader,\n      tokenSeparators,\n      value,\n      // ControlHeader props\n      description,\n      renderTrigger,\n      rightNode,\n      leftNode,\n      validationErrors,\n      onClick,\n      hovered,\n      tooltipOnClick,\n      warning,\n      danger } =\n    this.props;\n\n    const headerProps = {\n      name,\n      label,\n      description,\n      renderTrigger,\n      rightNode,\n      leftNode,\n      validationErrors,\n      onClick,\n      hovered,\n      tooltipOnClick,\n      warning,\n      danger };\n\n\n    const getValue = () => {\n      const currentValue =\n      value || (\n      this.props.default !== undefined ? this.props.default : undefined);\n\n      // safety check - the value is intended to be undefined but null was used\n      if (\n      currentValue === null &&\n      !this.state.options.find((o) => o.value === null))\n      {\n        return undefined;\n      }\n      return currentValue;\n    };\n\n    const selectProps = {\n      allowNewOptions: freeForm,\n      autoFocus,\n      ariaLabel:\n      ariaLabel || (typeof label === 'string' ? label : t('Select ...')),\n      allowClear: clearable,\n      disabled,\n      filterOption:\n      filterOption && typeof filterOption === 'function' ?\n      this.handleFilterOptions :\n      true,\n      header: showHeader && ___EmotionJSX(ControlHeader, headerProps),\n      loading: isLoading,\n      mode: this.props.mode || (isMulti || multi ? 'multiple' : 'single'),\n      name: `select-${name}`,\n      onChange: this.onChange,\n      onFocus,\n      onSelect,\n      onDeselect,\n      options: this.state.options,\n      placeholder,\n      sortComparator: this.props.sortComparator,\n      value: getValue(),\n      tokenSeparators,\n      notFoundContent };\n\n\n    return (\n      ___EmotionJSX(\"div\", {\n        css: (theme) => css`\n          .type-label {\n            margin-right: ${theme.gridUnit * 2}px;\n          }\n          .Select__multi-value__label > span,\n          .Select__option > span,\n          .Select__single-value > span {\n            display: flex;\n            align-items: center;\n          }\n        ` },\n\n      ___EmotionJSX(Select, selectProps)));\n\n\n  }}\n\n\nSelectControl.propTypes = propTypes;\nSelectControl.defaultProps = defaultProps;","map":{"version":3,"names":["React","PropTypes","css","isEqualArray","t","Select","ControlHeader","propTypes","ariaLabel","string","autoFocus","bool","choices","array","clearable","description","oneOfType","node","disabled","freeForm","isLoading","mode","multi","isMulti","name","isRequired","onChange","func","onFocus","onSelect","onDeselect","value","number","default","showHeader","optionRenderer","valueKey","options","placeholder","filterOption","tokenSeparators","arrayOf","notFoundContent","object","label","renderTrigger","validationErrors","rightNode","leftNode","onClick","hovered","tooltipOnClick","warning","danger","defaultProps","SelectControl","PureComponent","constructor","props","state","getOptions","bind","handleFilterOptions","UNSAFE_componentWillReceiveProps","nextProps","setState","val","onChangeVal","Array","isArray","values","map","v","undefined","o","customLabel","c","length","Object","is","text","option","data","render","headerProps","getValue","currentValue","find","selectProps","allowNewOptions","allowClear","header","loading","sortComparator","theme","gridUnit"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/explore/components/controls/SelectControl.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { css, isEqualArray, t } from '@superset-ui/core';\nimport Select from 'src/components/Select/Select';\nimport ControlHeader from 'src/explore/components/ControlHeader';\n\nconst propTypes = {\n  ariaLabel: PropTypes.string,\n  autoFocus: PropTypes.bool,\n  choices: PropTypes.array,\n  clearable: PropTypes.bool,\n  description: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  disabled: PropTypes.bool,\n  freeForm: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  mode: PropTypes.string,\n  multi: PropTypes.bool,\n  isMulti: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onSelect: PropTypes.func,\n  onDeselect: PropTypes.func,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.array,\n  ]),\n  default: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.array,\n  ]),\n  showHeader: PropTypes.bool,\n  optionRenderer: PropTypes.func,\n  valueKey: PropTypes.string,\n  options: PropTypes.array,\n  placeholder: PropTypes.string,\n  filterOption: PropTypes.func,\n  tokenSeparators: PropTypes.arrayOf(PropTypes.string),\n  notFoundContent: PropTypes.object,\n\n  // ControlHeader props\n  label: PropTypes.string,\n  renderTrigger: PropTypes.bool,\n  validationErrors: PropTypes.array,\n  rightNode: PropTypes.node,\n  leftNode: PropTypes.node,\n  onClick: PropTypes.func,\n  hovered: PropTypes.bool,\n  tooltipOnClick: PropTypes.func,\n  warning: PropTypes.string,\n  danger: PropTypes.string,\n};\n\nconst defaultProps = {\n  autoFocus: false,\n  choices: [],\n  clearable: true,\n  description: null,\n  disabled: false,\n  freeForm: false,\n  isLoading: false,\n  label: null,\n  multi: false,\n  onChange: () => {},\n  onFocus: () => {},\n  showHeader: true,\n  valueKey: 'value',\n};\n\nexport default class SelectControl extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: this.getOptions(props),\n    };\n    this.onChange = this.onChange.bind(this);\n    this.handleFilterOptions = this.handleFilterOptions.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (\n      !isEqualArray(nextProps.choices, this.props.choices) ||\n      !isEqualArray(nextProps.options, this.props.options)\n    ) {\n      const options = this.getOptions(nextProps);\n      this.setState({ options });\n    }\n  }\n\n  // Beware: This is acting like an on-click instead of an on-change\n  // (firing every time user chooses vs firing only if a new option is chosen).\n  onChange(val) {\n    // will eventually call `exploreReducer`: SET_FIELD_VALUE\n    const { valueKey } = this.props;\n    let onChangeVal = val;\n\n    if (Array.isArray(val)) {\n      const values = val.map(v =>\n        v?.[valueKey] !== undefined ? v[valueKey] : v,\n      );\n      onChangeVal = values;\n    }\n    if (typeof val === 'object' && val?.[valueKey] !== undefined) {\n      onChangeVal = val[valueKey];\n    }\n    this.props.onChange(onChangeVal, []);\n  }\n\n  getOptions(props) {\n    const { choices, optionRenderer, valueKey } = props;\n    let options = [];\n    if (props.options) {\n      options = props.options.map(o => ({\n        ...o,\n        value: o[valueKey],\n        label: o.label || o[valueKey],\n        customLabel: optionRenderer ? optionRenderer(o) : undefined,\n      }));\n    } else if (choices) {\n      // Accepts different formats of input\n      options = choices.map(c => {\n        if (Array.isArray(c)) {\n          const [value, label] = c.length > 1 ? c : [c[0], c[0]];\n          return {\n            value,\n            label,\n          };\n        }\n        if (Object.is(c)) {\n          return {\n            ...c,\n            value: c[valueKey],\n            label: c.label || c[valueKey],\n          };\n        }\n        return { value: c, label: c };\n      });\n    }\n    return options;\n  }\n\n  handleFilterOptions(text, option) {\n    const { filterOption } = this.props;\n    return filterOption({ data: option }, text);\n  }\n\n  render() {\n    const {\n      ariaLabel,\n      autoFocus,\n      clearable,\n      disabled,\n      filterOption,\n      freeForm,\n      isLoading,\n      isMulti,\n      label,\n      multi,\n      name,\n      notFoundContent,\n      onFocus,\n      onSelect,\n      onDeselect,\n      placeholder,\n      showHeader,\n      tokenSeparators,\n      value,\n      // ControlHeader props\n      description,\n      renderTrigger,\n      rightNode,\n      leftNode,\n      validationErrors,\n      onClick,\n      hovered,\n      tooltipOnClick,\n      warning,\n      danger,\n    } = this.props;\n\n    const headerProps = {\n      name,\n      label,\n      description,\n      renderTrigger,\n      rightNode,\n      leftNode,\n      validationErrors,\n      onClick,\n      hovered,\n      tooltipOnClick,\n      warning,\n      danger,\n    };\n\n    const getValue = () => {\n      const currentValue =\n        value ||\n        (this.props.default !== undefined ? this.props.default : undefined);\n\n      // safety check - the value is intended to be undefined but null was used\n      if (\n        currentValue === null &&\n        !this.state.options.find(o => o.value === null)\n      ) {\n        return undefined;\n      }\n      return currentValue;\n    };\n\n    const selectProps = {\n      allowNewOptions: freeForm,\n      autoFocus,\n      ariaLabel:\n        ariaLabel || (typeof label === 'string' ? label : t('Select ...')),\n      allowClear: clearable,\n      disabled,\n      filterOption:\n        filterOption && typeof filterOption === 'function'\n          ? this.handleFilterOptions\n          : true,\n      header: showHeader && <ControlHeader {...headerProps} />,\n      loading: isLoading,\n      mode: this.props.mode || (isMulti || multi ? 'multiple' : 'single'),\n      name: `select-${name}`,\n      onChange: this.onChange,\n      onFocus,\n      onSelect,\n      onDeselect,\n      options: this.state.options,\n      placeholder,\n      sortComparator: this.props.sortComparator,\n      value: getValue(),\n      tokenSeparators,\n      notFoundContent,\n    };\n\n    return (\n      <div\n        css={theme => css`\n          .type-label {\n            margin-right: ${theme.gridUnit * 2}px;\n          }\n          .Select__multi-value__label > span,\n          .Select__option > span,\n          .Select__single-value > span {\n            display: flex;\n            align-items: center;\n          }\n        `}\n      >\n        <Select {...selectProps} />\n      </div>\n    );\n  }\n}\n\nSelectControl.propTypes = propTypes;\nSelectControl.defaultProps = defaultProps;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}