{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport cx from 'classnames';\n\nimport { css, styled, t, SafeMarkdown } from '@superset-ui/core';\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from 'src/logger/LogUtils';\nimport { MarkdownEditor } from 'src/components/AsyncAceEditor';\n\nimport DeleteComponentButton from 'src/dashboard/components/DeleteComponentButton';\nimport DragDroppable from 'src/dashboard/components/dnd/DragDroppable';\nimport HoverMenu from 'src/dashboard/components/menu/HoverMenu';\nimport ResizableContainer from 'src/dashboard/components/resizable/ResizableContainer';\nimport MarkdownModeDropdown from 'src/dashboard/components/menu/MarkdownModeDropdown';\nimport WithPopoverMenu from 'src/dashboard/components/menu/WithPopoverMenu';\nimport { componentShape } from 'src/dashboard/util/propShapes';\nimport { ROW_TYPE, COLUMN_TYPE } from 'src/dashboard/util/componentTypes';\nimport {\nGRID_MIN_COLUMN_COUNT,\nGRID_MIN_ROW_UNITS,\nGRID_BASE_UNIT } from\n'src/dashboard/util/constants';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  id: PropTypes.string.isRequired,\n  parentId: PropTypes.string.isRequired,\n  component: componentShape.isRequired,\n  parentComponent: componentShape.isRequired,\n  index: PropTypes.number.isRequired,\n  depth: PropTypes.number.isRequired,\n  editMode: PropTypes.bool.isRequired,\n\n  // from redux\n  logEvent: PropTypes.func.isRequired,\n  addDangerToast: PropTypes.func.isRequired,\n  undoLength: PropTypes.number.isRequired,\n  redoLength: PropTypes.number.isRequired,\n\n  // grid related\n  availableColumnCount: PropTypes.number.isRequired,\n  columnWidth: PropTypes.number.isRequired,\n  onResizeStart: PropTypes.func.isRequired,\n  onResize: PropTypes.func.isRequired,\n  onResizeStop: PropTypes.func.isRequired,\n\n  // dnd\n  deleteComponent: PropTypes.func.isRequired,\n  handleComponentDrop: PropTypes.func.isRequired,\n  updateComponents: PropTypes.func.isRequired,\n\n  // HTML sanitization\n  htmlSanitization: PropTypes.bool,\n  htmlSchemaOverrides: PropTypes.object };\n\n\nconst defaultProps = {};\n\n// TODO: localize\nconst MARKDOWN_PLACE_HOLDER = `# ✨Header 1\n## ✨Header 2\n### ✨Header 3\n\n<br />\n\nClick here to learn more about [markdown formatting](https://bit.ly/1dQOfRK)`;\n\nconst MARKDOWN_ERROR_MESSAGE = t('This markdown component has an error.');\n\nconst MarkdownStyles = styled.div`\n  ${(_ref) => {let { theme } = _ref;return css`\n    &.dashboard-markdown {\n      overflow: hidden;\n\n      h4,\n      h5,\n      h6 {\n        font-weight: ${theme.typography.weights.normal};\n      }\n\n      h5 {\n        color: ${theme.colors.grayscale.base};\n      }\n\n      h6 {\n        font-size: ${theme.typography.sizes.s}px;\n      }\n\n      .dashboard-component-chart-holder {\n        overflow-y: auto;\n        overflow-x: hidden;\n      }\n\n      .dashboard--editing & {\n        cursor: move;\n      }\n    }\n  `;}}\n`;\n\nclass Markdown extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocused: false,\n      markdownSource: props.component.meta.code,\n      editor: null,\n      editorMode: 'preview',\n      undoLength: props.undoLength,\n      redoLength: props.redoLength };\n\n    this.renderStartTime = Logger.getTimestamp();\n\n    this.handleChangeFocus = this.handleChangeFocus.bind(this);\n    this.handleChangeEditorMode = this.handleChangeEditorMode.bind(this);\n    this.handleMarkdownChange = this.handleMarkdownChange.bind(this);\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\n    this.handleResizeStart = this.handleResizeStart.bind(this);\n    this.setEditor = this.setEditor.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.logEvent(LOG_ACTIONS_RENDER_CHART, {\n      viz_type: 'markdown',\n      start_offset: this.renderStartTime,\n      ts: new Date().getTime(),\n      duration: Logger.getTimestamp() - this.renderStartTime });\n\n  }\n\n  static getDerivedStateFromProps(nextProps, state) {\n    const { hasError, editorMode, markdownSource, undoLength, redoLength } =\n    state;\n    const {\n      component: nextComponent,\n      undoLength: nextUndoLength,\n      redoLength: nextRedoLength } =\n    nextProps;\n    // user click undo or redo ?\n    if (nextUndoLength !== undoLength || nextRedoLength !== redoLength) {\n      return {\n        ...state,\n        undoLength: nextUndoLength,\n        redoLength: nextRedoLength,\n        markdownSource: nextComponent.meta.code,\n        hasError: false };\n\n    }\n    if (\n    !hasError &&\n    editorMode === 'preview' &&\n    nextComponent.meta.code !== markdownSource)\n    {\n      return {\n        ...state,\n        markdownSource: nextComponent.meta.code };\n\n    }\n\n    return state;\n  }\n\n  static getDerivedStateFromError() {\n    return {\n      hasError: true };\n\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n    this.state.editor && (\n    prevProps.component.meta.width !== this.props.component.meta.width ||\n    prevProps.columnWidth !== this.props.columnWidth))\n    {\n      this.state.editor.resize(true);\n    }\n    // pre-load AceEditor when entering edit mode\n    if (this.props.editMode) {\n      MarkdownEditor.preload();\n    }\n  }\n\n  componentDidCatch() {\n    if (this.state.editor && this.state.editorMode === 'preview') {\n      this.props.addDangerToast(\n      t(\n      'This markdown component has an error. Please revert your recent changes.'));\n\n\n    }\n  }\n\n  setEditor(editor) {\n    editor.getSession().setUseWrapMode(true);\n    this.setState({\n      editor });\n\n  }\n\n  handleChangeFocus(nextFocus) {\n    const nextFocused = !!nextFocus;\n    const nextEditMode = nextFocused ? 'edit' : 'preview';\n    this.setState(() => ({ isFocused: nextFocused }));\n    this.handleChangeEditorMode(nextEditMode);\n  }\n\n  handleChangeEditorMode(mode) {\n    const nextState = {\n      ...this.state,\n      editorMode: mode };\n\n    if (mode === 'preview') {\n      this.updateMarkdownContent();\n      nextState.hasError = false;\n    }\n\n    this.setState(nextState);\n  }\n\n  updateMarkdownContent() {\n    const { updateComponents, component } = this.props;\n    if (component.meta.code !== this.state.markdownSource) {\n      updateComponents({\n        [component.id]: {\n          ...component,\n          meta: {\n            ...component.meta,\n            code: this.state.markdownSource } } });\n\n\n\n    }\n  }\n\n  handleMarkdownChange(nextValue) {\n    this.setState({\n      markdownSource: nextValue });\n\n  }\n\n  handleDeleteComponent() {\n    const { deleteComponent, id, parentId } = this.props;\n    deleteComponent(id, parentId);\n  }\n\n  handleResizeStart(e) {\n    const { editorMode } = this.state;\n    const { editMode, onResizeStart } = this.props;\n    const isEditing = editorMode === 'edit';\n    onResizeStart(e);\n    if (editMode && isEditing) {\n      this.updateMarkdownContent();\n    }\n  }\n\n  renderEditMode() {\n    return (\n      ___EmotionJSX(MarkdownEditor, {\n        onChange: this.handleMarkdownChange,\n        width: \"100%\",\n        height: \"100%\",\n        showGutter: false,\n        editorProps: { $blockScrolling: true },\n        value:\n        // this allows \"select all => delete\" to give an empty editor\n        typeof this.state.markdownSource === 'string' ?\n        this.state.markdownSource :\n        MARKDOWN_PLACE_HOLDER,\n\n        readOnly: false,\n        onLoad: this.setEditor,\n        \"data-test\": \"editor\" }));\n\n\n  }\n\n  renderPreviewMode() {\n    const { hasError } = this.state;\n\n    return (\n      ___EmotionJSX(SafeMarkdown, {\n        source:\n        hasError ?\n        MARKDOWN_ERROR_MESSAGE :\n        this.state.markdownSource || MARKDOWN_PLACE_HOLDER,\n\n        htmlSanitization: this.props.htmlSanitization,\n        htmlSchemaOverrides: this.props.htmlSchemaOverrides }));\n\n\n  }\n\n  render() {\n    const { isFocused, editorMode } = this.state;\n\n    const {\n      component,\n      parentComponent,\n      index,\n      depth,\n      availableColumnCount,\n      columnWidth,\n      onResize,\n      onResizeStop,\n      handleComponentDrop,\n      editMode } =\n    this.props;\n\n    // inherit the size of parent columns\n    const widthMultiple =\n    parentComponent.type === COLUMN_TYPE ?\n    parentComponent.meta.width || GRID_MIN_COLUMN_COUNT :\n    component.meta.width || GRID_MIN_COLUMN_COUNT;\n\n    const isEditing = editorMode === 'edit';\n\n    return (\n      ___EmotionJSX(DragDroppable, {\n        component: component,\n        parentComponent: parentComponent,\n        orientation: parentComponent.type === ROW_TYPE ? 'column' : 'row',\n        index: index,\n        depth: depth,\n        onDrop: handleComponentDrop,\n        disableDragDrop: isFocused,\n        editMode: editMode },\n\n      (_ref2) => {let { dropIndicatorProps, dragSourceRef } = _ref2;return (\n          ___EmotionJSX(WithPopoverMenu, {\n            onChangeFocus: this.handleChangeFocus,\n            menuItems: [\n            ___EmotionJSX(MarkdownModeDropdown, {\n              id: `${component.id}-mode`,\n              value: this.state.editorMode,\n              onChange: this.handleChangeEditorMode })],\n\n\n            editMode: editMode },\n\n          ___EmotionJSX(MarkdownStyles, {\n            \"data-test\": \"dashboard-markdown-editor\",\n            className: cx(\n            'dashboard-markdown',\n            isEditing && 'dashboard-markdown--editing'),\n\n            id: component.id },\n\n          ___EmotionJSX(ResizableContainer, {\n            id: component.id,\n            adjustableWidth: parentComponent.type === ROW_TYPE,\n            adjustableHeight: true,\n            widthStep: columnWidth,\n            widthMultiple: widthMultiple,\n            heightStep: GRID_BASE_UNIT,\n            heightMultiple: component.meta.height,\n            minWidthMultiple: GRID_MIN_COLUMN_COUNT,\n            minHeightMultiple: GRID_MIN_ROW_UNITS,\n            maxWidthMultiple: availableColumnCount + widthMultiple,\n            onResizeStart: this.handleResizeStart,\n            onResize: onResize,\n            onResizeStop: onResizeStop,\n            editMode: isFocused ? false : editMode },\n\n          ___EmotionJSX(\"div\", {\n            ref: dragSourceRef,\n            className: \"dashboard-component dashboard-component-chart-holder\",\n            \"data-test\": \"dashboard-component-chart-holder\" },\n\n          editMode &&\n          ___EmotionJSX(HoverMenu, { position: \"top\" },\n          ___EmotionJSX(DeleteComponentButton, {\n            onDelete: this.handleDeleteComponent })),\n\n\n\n          editMode && isEditing ?\n          this.renderEditMode() :\n          this.renderPreviewMode()))),\n\n\n\n          dropIndicatorProps && ___EmotionJSX(\"div\", dropIndicatorProps)));}));\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nMarkdown.propTypes = propTypes;\nMarkdown.defaultProps = defaultProps;\n\nfunction mapStateToProps(state) {\n  return {\n    undoLength: state.dashboardLayout.past.length,\n    redoLength: state.dashboardLayout.future.length,\n    htmlSanitization: state.common.conf.HTML_SANITIZATION,\n    htmlSchemaOverrides: state.common.conf.HTML_SANITIZATION_SCHEMA_EXTENSIONS };\n\n}const _default =\nconnect(mapStateToProps)(Markdown);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Markdown.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Markdown.jsx\");reactHotLoader.register(MARKDOWN_PLACE_HOLDER, \"MARKDOWN_PLACE_HOLDER\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Markdown.jsx\");reactHotLoader.register(MARKDOWN_ERROR_MESSAGE, \"MARKDOWN_ERROR_MESSAGE\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Markdown.jsx\");reactHotLoader.register(MarkdownStyles, \"MarkdownStyles\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Markdown.jsx\");reactHotLoader.register(Markdown, \"Markdown\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Markdown.jsx\");reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Markdown.jsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Markdown.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","PropTypes","connect","cx","css","styled","t","SafeMarkdown","Logger","LOG_ACTIONS_RENDER_CHART","MarkdownEditor","DeleteComponentButton","DragDroppable","HoverMenu","ResizableContainer","MarkdownModeDropdown","WithPopoverMenu","componentShape","ROW_TYPE","COLUMN_TYPE","GRID_MIN_COLUMN_COUNT","GRID_MIN_ROW_UNITS","GRID_BASE_UNIT","propTypes","id","string","isRequired","parentId","component","parentComponent","index","number","depth","editMode","bool","logEvent","func","addDangerToast","undoLength","redoLength","availableColumnCount","columnWidth","onResizeStart","onResize","onResizeStop","deleteComponent","handleComponentDrop","updateComponents","htmlSanitization","htmlSchemaOverrides","object","defaultProps","MARKDOWN_PLACE_HOLDER","MARKDOWN_ERROR_MESSAGE","MarkdownStyles","div","theme","typography","weights","normal","colors","grayscale","base","sizes","s","Markdown","PureComponent","constructor","props","state","isFocused","markdownSource","meta","code","editor","editorMode","renderStartTime","getTimestamp","handleChangeFocus","bind","handleChangeEditorMode","handleMarkdownChange","handleDeleteComponent","handleResizeStart","setEditor","componentDidMount","viz_type","start_offset","ts","Date","getTime","duration","getDerivedStateFromProps","nextProps","hasError","nextComponent","nextUndoLength","nextRedoLength","getDerivedStateFromError","componentDidUpdate","prevProps","width","resize","preload","componentDidCatch","getSession","setUseWrapMode","setState","nextFocus","nextFocused","nextEditMode","mode","nextState","updateMarkdownContent","nextValue","e","isEditing","renderEditMode","$blockScrolling","renderPreviewMode","render","widthMultiple","type","dropIndicatorProps","dragSourceRef","height","mapStateToProps","dashboardLayout","past","length","future","common","conf","HTML_SANITIZATION","HTML_SANITIZATION_SCHEMA_EXTENSIONS"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/gridComponents/Markdown.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport cx from 'classnames';\n\nimport { css, styled, t, SafeMarkdown } from '@superset-ui/core';\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from 'src/logger/LogUtils';\nimport { MarkdownEditor } from 'src/components/AsyncAceEditor';\n\nimport DeleteComponentButton from 'src/dashboard/components/DeleteComponentButton';\nimport DragDroppable from 'src/dashboard/components/dnd/DragDroppable';\nimport HoverMenu from 'src/dashboard/components/menu/HoverMenu';\nimport ResizableContainer from 'src/dashboard/components/resizable/ResizableContainer';\nimport MarkdownModeDropdown from 'src/dashboard/components/menu/MarkdownModeDropdown';\nimport WithPopoverMenu from 'src/dashboard/components/menu/WithPopoverMenu';\nimport { componentShape } from 'src/dashboard/util/propShapes';\nimport { ROW_TYPE, COLUMN_TYPE } from 'src/dashboard/util/componentTypes';\nimport {\n  GRID_MIN_COLUMN_COUNT,\n  GRID_MIN_ROW_UNITS,\n  GRID_BASE_UNIT,\n} from 'src/dashboard/util/constants';\n\nconst propTypes = {\n  id: PropTypes.string.isRequired,\n  parentId: PropTypes.string.isRequired,\n  component: componentShape.isRequired,\n  parentComponent: componentShape.isRequired,\n  index: PropTypes.number.isRequired,\n  depth: PropTypes.number.isRequired,\n  editMode: PropTypes.bool.isRequired,\n\n  // from redux\n  logEvent: PropTypes.func.isRequired,\n  addDangerToast: PropTypes.func.isRequired,\n  undoLength: PropTypes.number.isRequired,\n  redoLength: PropTypes.number.isRequired,\n\n  // grid related\n  availableColumnCount: PropTypes.number.isRequired,\n  columnWidth: PropTypes.number.isRequired,\n  onResizeStart: PropTypes.func.isRequired,\n  onResize: PropTypes.func.isRequired,\n  onResizeStop: PropTypes.func.isRequired,\n\n  // dnd\n  deleteComponent: PropTypes.func.isRequired,\n  handleComponentDrop: PropTypes.func.isRequired,\n  updateComponents: PropTypes.func.isRequired,\n\n  // HTML sanitization\n  htmlSanitization: PropTypes.bool,\n  htmlSchemaOverrides: PropTypes.object,\n};\n\nconst defaultProps = {};\n\n// TODO: localize\nconst MARKDOWN_PLACE_HOLDER = `# ✨Header 1\n## ✨Header 2\n### ✨Header 3\n\n<br />\n\nClick here to learn more about [markdown formatting](https://bit.ly/1dQOfRK)`;\n\nconst MARKDOWN_ERROR_MESSAGE = t('This markdown component has an error.');\n\nconst MarkdownStyles = styled.div`\n  ${({ theme }) => css`\n    &.dashboard-markdown {\n      overflow: hidden;\n\n      h4,\n      h5,\n      h6 {\n        font-weight: ${theme.typography.weights.normal};\n      }\n\n      h5 {\n        color: ${theme.colors.grayscale.base};\n      }\n\n      h6 {\n        font-size: ${theme.typography.sizes.s}px;\n      }\n\n      .dashboard-component-chart-holder {\n        overflow-y: auto;\n        overflow-x: hidden;\n      }\n\n      .dashboard--editing & {\n        cursor: move;\n      }\n    }\n  `}\n`;\n\nclass Markdown extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocused: false,\n      markdownSource: props.component.meta.code,\n      editor: null,\n      editorMode: 'preview',\n      undoLength: props.undoLength,\n      redoLength: props.redoLength,\n    };\n    this.renderStartTime = Logger.getTimestamp();\n\n    this.handleChangeFocus = this.handleChangeFocus.bind(this);\n    this.handleChangeEditorMode = this.handleChangeEditorMode.bind(this);\n    this.handleMarkdownChange = this.handleMarkdownChange.bind(this);\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\n    this.handleResizeStart = this.handleResizeStart.bind(this);\n    this.setEditor = this.setEditor.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.logEvent(LOG_ACTIONS_RENDER_CHART, {\n      viz_type: 'markdown',\n      start_offset: this.renderStartTime,\n      ts: new Date().getTime(),\n      duration: Logger.getTimestamp() - this.renderStartTime,\n    });\n  }\n\n  static getDerivedStateFromProps(nextProps, state) {\n    const { hasError, editorMode, markdownSource, undoLength, redoLength } =\n      state;\n    const {\n      component: nextComponent,\n      undoLength: nextUndoLength,\n      redoLength: nextRedoLength,\n    } = nextProps;\n    // user click undo or redo ?\n    if (nextUndoLength !== undoLength || nextRedoLength !== redoLength) {\n      return {\n        ...state,\n        undoLength: nextUndoLength,\n        redoLength: nextRedoLength,\n        markdownSource: nextComponent.meta.code,\n        hasError: false,\n      };\n    }\n    if (\n      !hasError &&\n      editorMode === 'preview' &&\n      nextComponent.meta.code !== markdownSource\n    ) {\n      return {\n        ...state,\n        markdownSource: nextComponent.meta.code,\n      };\n    }\n\n    return state;\n  }\n\n  static getDerivedStateFromError() {\n    return {\n      hasError: true,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.state.editor &&\n      (prevProps.component.meta.width !== this.props.component.meta.width ||\n        prevProps.columnWidth !== this.props.columnWidth)\n    ) {\n      this.state.editor.resize(true);\n    }\n    // pre-load AceEditor when entering edit mode\n    if (this.props.editMode) {\n      MarkdownEditor.preload();\n    }\n  }\n\n  componentDidCatch() {\n    if (this.state.editor && this.state.editorMode === 'preview') {\n      this.props.addDangerToast(\n        t(\n          'This markdown component has an error. Please revert your recent changes.',\n        ),\n      );\n    }\n  }\n\n  setEditor(editor) {\n    editor.getSession().setUseWrapMode(true);\n    this.setState({\n      editor,\n    });\n  }\n\n  handleChangeFocus(nextFocus) {\n    const nextFocused = !!nextFocus;\n    const nextEditMode = nextFocused ? 'edit' : 'preview';\n    this.setState(() => ({ isFocused: nextFocused }));\n    this.handleChangeEditorMode(nextEditMode);\n  }\n\n  handleChangeEditorMode(mode) {\n    const nextState = {\n      ...this.state,\n      editorMode: mode,\n    };\n    if (mode === 'preview') {\n      this.updateMarkdownContent();\n      nextState.hasError = false;\n    }\n\n    this.setState(nextState);\n  }\n\n  updateMarkdownContent() {\n    const { updateComponents, component } = this.props;\n    if (component.meta.code !== this.state.markdownSource) {\n      updateComponents({\n        [component.id]: {\n          ...component,\n          meta: {\n            ...component.meta,\n            code: this.state.markdownSource,\n          },\n        },\n      });\n    }\n  }\n\n  handleMarkdownChange(nextValue) {\n    this.setState({\n      markdownSource: nextValue,\n    });\n  }\n\n  handleDeleteComponent() {\n    const { deleteComponent, id, parentId } = this.props;\n    deleteComponent(id, parentId);\n  }\n\n  handleResizeStart(e) {\n    const { editorMode } = this.state;\n    const { editMode, onResizeStart } = this.props;\n    const isEditing = editorMode === 'edit';\n    onResizeStart(e);\n    if (editMode && isEditing) {\n      this.updateMarkdownContent();\n    }\n  }\n\n  renderEditMode() {\n    return (\n      <MarkdownEditor\n        onChange={this.handleMarkdownChange}\n        width=\"100%\"\n        height=\"100%\"\n        showGutter={false}\n        editorProps={{ $blockScrolling: true }}\n        value={\n          // this allows \"select all => delete\" to give an empty editor\n          typeof this.state.markdownSource === 'string'\n            ? this.state.markdownSource\n            : MARKDOWN_PLACE_HOLDER\n        }\n        readOnly={false}\n        onLoad={this.setEditor}\n        data-test=\"editor\"\n      />\n    );\n  }\n\n  renderPreviewMode() {\n    const { hasError } = this.state;\n\n    return (\n      <SafeMarkdown\n        source={\n          hasError\n            ? MARKDOWN_ERROR_MESSAGE\n            : this.state.markdownSource || MARKDOWN_PLACE_HOLDER\n        }\n        htmlSanitization={this.props.htmlSanitization}\n        htmlSchemaOverrides={this.props.htmlSchemaOverrides}\n      />\n    );\n  }\n\n  render() {\n    const { isFocused, editorMode } = this.state;\n\n    const {\n      component,\n      parentComponent,\n      index,\n      depth,\n      availableColumnCount,\n      columnWidth,\n      onResize,\n      onResizeStop,\n      handleComponentDrop,\n      editMode,\n    } = this.props;\n\n    // inherit the size of parent columns\n    const widthMultiple =\n      parentComponent.type === COLUMN_TYPE\n        ? parentComponent.meta.width || GRID_MIN_COLUMN_COUNT\n        : component.meta.width || GRID_MIN_COLUMN_COUNT;\n\n    const isEditing = editorMode === 'edit';\n\n    return (\n      <DragDroppable\n        component={component}\n        parentComponent={parentComponent}\n        orientation={parentComponent.type === ROW_TYPE ? 'column' : 'row'}\n        index={index}\n        depth={depth}\n        onDrop={handleComponentDrop}\n        disableDragDrop={isFocused}\n        editMode={editMode}\n      >\n        {({ dropIndicatorProps, dragSourceRef }) => (\n          <WithPopoverMenu\n            onChangeFocus={this.handleChangeFocus}\n            menuItems={[\n              <MarkdownModeDropdown\n                id={`${component.id}-mode`}\n                value={this.state.editorMode}\n                onChange={this.handleChangeEditorMode}\n              />,\n            ]}\n            editMode={editMode}\n          >\n            <MarkdownStyles\n              data-test=\"dashboard-markdown-editor\"\n              className={cx(\n                'dashboard-markdown',\n                isEditing && 'dashboard-markdown--editing',\n              )}\n              id={component.id}\n            >\n              <ResizableContainer\n                id={component.id}\n                adjustableWidth={parentComponent.type === ROW_TYPE}\n                adjustableHeight\n                widthStep={columnWidth}\n                widthMultiple={widthMultiple}\n                heightStep={GRID_BASE_UNIT}\n                heightMultiple={component.meta.height}\n                minWidthMultiple={GRID_MIN_COLUMN_COUNT}\n                minHeightMultiple={GRID_MIN_ROW_UNITS}\n                maxWidthMultiple={availableColumnCount + widthMultiple}\n                onResizeStart={this.handleResizeStart}\n                onResize={onResize}\n                onResizeStop={onResizeStop}\n                editMode={isFocused ? false : editMode}\n              >\n                <div\n                  ref={dragSourceRef}\n                  className=\"dashboard-component dashboard-component-chart-holder\"\n                  data-test=\"dashboard-component-chart-holder\"\n                >\n                  {editMode && (\n                    <HoverMenu position=\"top\">\n                      <DeleteComponentButton\n                        onDelete={this.handleDeleteComponent}\n                      />\n                    </HoverMenu>\n                  )}\n                  {editMode && isEditing\n                    ? this.renderEditMode()\n                    : this.renderPreviewMode()}\n                </div>\n              </ResizableContainer>\n            </MarkdownStyles>\n            {dropIndicatorProps && <div {...dropIndicatorProps} />}\n          </WithPopoverMenu>\n        )}\n      </DragDroppable>\n    );\n  }\n}\n\nMarkdown.propTypes = propTypes;\nMarkdown.defaultProps = defaultProps;\n\nfunction mapStateToProps(state) {\n  return {\n    undoLength: state.dashboardLayout.past.length,\n    redoLength: state.dashboardLayout.future.length,\n    htmlSanitization: state.common.conf.HTML_SANITIZATION,\n    htmlSchemaOverrides: state.common.conf.HTML_SANITIZATION_SCHEMA_EXTENSIONS,\n  };\n}\nexport default connect(mapStateToProps)(Markdown);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}