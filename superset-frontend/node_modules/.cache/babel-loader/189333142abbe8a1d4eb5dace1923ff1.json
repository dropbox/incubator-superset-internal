{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _cloneDeep from \"lodash/cloneDeep\";import _isEqual from \"lodash/isEqual\";import _snakeCase from \"lodash/snakeCase\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {\nSuperChart,\nlogging,\nBehavior,\nt,\nisFeatureEnabled,\nFeatureFlag,\ngetChartMetadataRegistry } from\n'@superset-ui/core';\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from 'src/logger/LogUtils';\nimport { EmptyStateBig, EmptyStateSmall } from 'src/components/EmptyState';\nimport { ChartSource } from 'src/types/ChartSource';\nimport ChartContextMenu from './ChartContextMenu/ChartContextMenu';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  annotationData: PropTypes.object,\n  actions: PropTypes.object,\n  chartId: PropTypes.number.isRequired,\n  datasource: PropTypes.object,\n  initialValues: PropTypes.object,\n  formData: PropTypes.object.isRequired,\n  latestQueryFormData: PropTypes.object,\n  labelColors: PropTypes.object,\n  sharedLabelColors: PropTypes.object,\n  height: PropTypes.number,\n  width: PropTypes.number,\n  setControlValue: PropTypes.func,\n  vizType: PropTypes.string.isRequired,\n  triggerRender: PropTypes.bool,\n  // state\n  chartAlert: PropTypes.string,\n  chartStatus: PropTypes.string,\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\n  triggerQuery: PropTypes.bool,\n  chartIsStale: PropTypes.bool,\n  // dashboard callbacks\n  addFilter: PropTypes.func,\n  setDataMask: PropTypes.func,\n  onFilterMenuOpen: PropTypes.func,\n  onFilterMenuClose: PropTypes.func,\n  ownState: PropTypes.object,\n  postTransformProps: PropTypes.func,\n  source: PropTypes.oneOf([ChartSource.Dashboard, ChartSource.Explore]),\n  emitCrossFilters: PropTypes.bool };\n\n\nconst BLANK = {};\n\nconst BIG_NO_RESULT_MIN_WIDTH = 300;\nconst BIG_NO_RESULT_MIN_HEIGHT = 220;\n\nconst behaviors = [Behavior.INTERACTIVE_CHART];\n\nconst defaultProps = {\n  addFilter: () => BLANK,\n  onFilterMenuOpen: () => BLANK,\n  onFilterMenuClose: () => BLANK,\n  initialValues: BLANK,\n  setControlValue() {},\n  triggerRender: false };\n\n\nclass ChartRenderer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showContextMenu:\n      props.source === ChartSource.Dashboard && (\n      isFeatureEnabled(FeatureFlag.DRILL_TO_DETAIL) ||\n      isFeatureEnabled(FeatureFlag.DASHBOARD_CROSS_FILTERS)),\n      inContextMenu: false };\n\n    this.hasQueryResponseChange = false;\n\n    this.contextMenuRef = /*#__PURE__*/React.createRef();\n\n    this.handleAddFilter = this.handleAddFilter.bind(this);\n    this.handleRenderSuccess = this.handleRenderSuccess.bind(this);\n    this.handleRenderFailure = this.handleRenderFailure.bind(this);\n    this.handleSetControlValue = this.handleSetControlValue.bind(this);\n    this.handleOnContextMenu = this.handleOnContextMenu.bind(this);\n    this.handleContextMenuSelected = this.handleContextMenuSelected.bind(this);\n    this.handleContextMenuClosed = this.handleContextMenuClosed.bind(this);\n    this.onContextMenuFallback = this.onContextMenuFallback.bind(this);\n\n    this.hooks = {\n      onAddFilter: this.handleAddFilter,\n      onContextMenu: this.state.showContextMenu ?\n      this.handleOnContextMenu :\n      undefined,\n      onError: this.handleRenderFailure,\n      setControlValue: this.handleSetControlValue,\n      onFilterMenuOpen: this.props.onFilterMenuOpen,\n      onFilterMenuClose: this.props.onFilterMenuClose,\n      setDataMask: (dataMask) => {var _this$props$actions;\n        (_this$props$actions = this.props.actions) == null ? void 0 : _this$props$actions.updateDataMask(this.props.chartId, dataMask);\n      } };\n\n\n    // TODO: queriesResponse comes from Redux store but it's being edited by\n    // the plugins, hence we need to clone it to avoid state mutation\n    // until we change the reducers to use Redux Toolkit with Immer\n    this.mutableQueriesResponse = _cloneDeep(this.props.queriesResponse);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {var _nextProps$queriesRes, _nextProps$queriesRes2;\n    const resultsReady =\n    nextProps.queriesResponse &&\n    ['success', 'rendered'].indexOf(nextProps.chartStatus) > -1 &&\n    !((_nextProps$queriesRes = nextProps.queriesResponse) != null && (_nextProps$queriesRes2 = _nextProps$queriesRes[0]) != null && _nextProps$queriesRes2.error);\n\n    if (resultsReady) {\n      if (!_isEqual(this.state, nextState)) {\n        return true;\n      }\n      this.hasQueryResponseChange =\n      nextProps.queriesResponse !== this.props.queriesResponse;\n\n      if (this.hasQueryResponseChange) {\n        this.mutableQueriesResponse = _cloneDeep(nextProps.queriesResponse);\n      }\n\n      return (\n        this.hasQueryResponseChange ||\n        !_isEqual(nextProps.datasource, this.props.datasource) ||\n        nextProps.annotationData !== this.props.annotationData ||\n        nextProps.ownState !== this.props.ownState ||\n        nextProps.filterState !== this.props.filterState ||\n        nextProps.height !== this.props.height ||\n        nextProps.width !== this.props.width ||\n        nextProps.triggerRender ||\n        nextProps.labelColors !== this.props.labelColors ||\n        nextProps.sharedLabelColors !== this.props.sharedLabelColors ||\n        nextProps.formData.color_scheme !== this.props.formData.color_scheme ||\n        nextProps.formData.stack !== this.props.formData.stack ||\n        nextProps.cacheBusterProp !== this.props.cacheBusterProp ||\n        nextProps.emitCrossFilters !== this.props.emitCrossFilters);\n\n    }\n    return false;\n  }\n\n  handleAddFilter(col, vals, merge, refresh) {if (merge === void 0) {merge = true;}if (refresh === void 0) {refresh = true;}\n    this.props.addFilter(col, vals, merge, refresh);\n  }\n\n  handleRenderSuccess() {\n    const { actions, chartStatus, chartId, vizType } = this.props;\n    if (['loading', 'rendered'].indexOf(chartStatus) < 0) {\n      actions.chartRenderingSucceeded(chartId);\n    }\n\n    // only log chart render time which is triggered by query results change\n    // currently we don't log chart re-render time, like window resize etc\n    if (this.hasQueryResponseChange) {\n      actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\n        slice_id: chartId,\n        viz_type: vizType,\n        start_offset: this.renderStartTime,\n        ts: new Date().getTime(),\n        duration: Logger.getTimestamp() - this.renderStartTime });\n\n    }\n  }\n\n  handleRenderFailure(error, info) {\n    const { actions, chartId } = this.props;\n    logging.warn(error);\n    actions.chartRenderingFailed(\n    error.toString(),\n    chartId,\n    info ? info.componentStack : null);\n\n\n    // only trigger render log when query is changed\n    if (this.hasQueryResponseChange) {\n      actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\n        slice_id: chartId,\n        has_err: true,\n        error_details: error.toString(),\n        start_offset: this.renderStartTime,\n        ts: new Date().getTime(),\n        duration: Logger.getTimestamp() - this.renderStartTime });\n\n    }\n  }\n\n  handleSetControlValue() {\n    const { setControlValue } = this.props;\n    if (setControlValue) {\n      setControlValue(...arguments);\n    }\n  }\n\n  handleOnContextMenu(offsetX, offsetY, filters) {\n    this.contextMenuRef.current.open(offsetX, offsetY, filters);\n    this.setState({ inContextMenu: true });\n  }\n\n  handleContextMenuSelected() {\n    this.setState({ inContextMenu: false });\n  }\n\n  handleContextMenuClosed() {\n    this.setState({ inContextMenu: false });\n  }\n\n  // When viz plugins don't handle `contextmenu` event, fallback handler\n  // calls `handleOnContextMenu` with no `filters` param.\n  onContextMenuFallback(event) {\n    if (!this.state.inContextMenu) {\n      event.preventDefault();\n      this.handleOnContextMenu(event.clientX, event.clientY);\n    }\n  }\n\n  render() {var _getChartMetadataRegi;\n    const { chartAlert, chartStatus, chartId, emitCrossFilters } = this.props;\n\n    // Skip chart rendering\n    if (chartStatus === 'loading' || !!chartAlert || chartStatus === null) {\n      return null;\n    }\n\n    this.renderStartTime = Logger.getTimestamp();\n\n    const {\n      width,\n      height,\n      datasource,\n      annotationData,\n      initialValues,\n      ownState,\n      filterState,\n      chartIsStale,\n      formData,\n      latestQueryFormData,\n      postTransformProps } =\n    this.props;\n\n    const currentFormData =\n    chartIsStale && latestQueryFormData ? latestQueryFormData : formData;\n    const vizType = currentFormData.viz_type || this.props.vizType;\n\n    // It's bad practice to use unprefixed `vizType` as classnames for chart\n    // container. It may cause css conflicts as in the case of legacy table chart.\n    // When migrating charts, we should gradually add a `superset-chart-` prefix\n    // to each one of them.\n    const snakeCaseVizType = _snakeCase(vizType);\n    const chartClassName =\n    vizType === 'table' ?\n    `superset-chart-${snakeCaseVizType}` :\n    snakeCaseVizType;\n\n    const webpackHash =\n    process.env.WEBPACK_MODE === 'development' ?\n    `-${\n    // eslint-disable-next-line camelcase\n    typeof __webpack_require__ !== 'undefined' &&\n    // eslint-disable-next-line camelcase, no-undef\n    typeof __webpack_require__.h === 'function' &&\n    // eslint-disable-next-line no-undef\n    __webpack_require__.h()\n    }` :\n    '';\n\n    let noResultsComponent;\n    const noResultTitle = t('No results were returned for this query');\n    const noResultDescription =\n    this.props.source === ChartSource.Explore ?\n    t(\n    'Make sure that the controls are configured properly and the datasource contains data for the selected time range') :\n\n    undefined;\n    const noResultImage = 'chart.svg';\n    if (width > BIG_NO_RESULT_MIN_WIDTH && height > BIG_NO_RESULT_MIN_HEIGHT) {\n      noResultsComponent =\n      ___EmotionJSX(EmptyStateBig, {\n        title: noResultTitle,\n        description: noResultDescription,\n        image: noResultImage });\n\n\n    } else {\n      noResultsComponent =\n      ___EmotionJSX(EmptyStateSmall, { title: noResultTitle, image: noResultImage });\n\n    }\n\n    // Check for Behavior.DRILL_TO_DETAIL to tell if chart can receive Drill to\n    // Detail props or if it'll cause side-effects (e.g. excessive re-renders).\n    const drillToDetailProps = (_getChartMetadataRegi = getChartMetadataRegistry().\n    get(formData.viz_type)) != null && _getChartMetadataRegi.\n    behaviors.find((behavior) => behavior === Behavior.DRILL_TO_DETAIL) ?\n    { inContextMenu: this.state.inContextMenu } :\n    {};\n\n    return (\n      ___EmotionJSX(React.Fragment, null,\n      this.state.showContextMenu &&\n      ___EmotionJSX(ChartContextMenu, {\n        ref: this.contextMenuRef,\n        id: chartId,\n        formData: currentFormData,\n        onSelection: this.handleContextMenuSelected,\n        onClose: this.handleContextMenuClosed }),\n\n\n      ___EmotionJSX(\"div\", {\n        onContextMenu:\n        this.state.showContextMenu ? this.onContextMenuFallback : undefined },\n\n\n      ___EmotionJSX(SuperChart, _extends({\n        disableErrorBoundary: true,\n        key: `${chartId}${webpackHash}`,\n        id: `chart-id-${chartId}`,\n        className: chartClassName,\n        chartType: vizType,\n        width: width,\n        height: height,\n        annotationData: annotationData,\n        datasource: datasource,\n        initialValues: initialValues,\n        formData: currentFormData,\n        ownState: ownState,\n        filterState: filterState,\n        hooks: this.hooks,\n        behaviors: behaviors,\n        queriesData: this.mutableQueriesResponse,\n        onRenderSuccess: this.handleRenderSuccess,\n        onRenderFailure: this.handleRenderFailure,\n        noResults: noResultsComponent,\n        postTransformProps: postTransformProps,\n        emitCrossFilters: emitCrossFilters },\n      drillToDetailProps)))));\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nChartRenderer.propTypes = propTypes;\nChartRenderer.defaultProps = defaultProps;const _default =\n\nChartRenderer;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/ChartRenderer.jsx\");reactHotLoader.register(BLANK, \"BLANK\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/ChartRenderer.jsx\");reactHotLoader.register(BIG_NO_RESULT_MIN_WIDTH, \"BIG_NO_RESULT_MIN_WIDTH\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/ChartRenderer.jsx\");reactHotLoader.register(BIG_NO_RESULT_MIN_HEIGHT, \"BIG_NO_RESULT_MIN_HEIGHT\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/ChartRenderer.jsx\");reactHotLoader.register(behaviors, \"behaviors\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/ChartRenderer.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/ChartRenderer.jsx\");reactHotLoader.register(ChartRenderer, \"ChartRenderer\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/ChartRenderer.jsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/ChartRenderer.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["PropTypes","React","SuperChart","logging","Behavior","t","isFeatureEnabled","FeatureFlag","getChartMetadataRegistry","Logger","LOG_ACTIONS_RENDER_CHART","EmptyStateBig","EmptyStateSmall","ChartSource","ChartContextMenu","propTypes","annotationData","object","actions","chartId","number","isRequired","datasource","initialValues","formData","latestQueryFormData","labelColors","sharedLabelColors","height","width","setControlValue","func","vizType","string","triggerRender","bool","chartAlert","chartStatus","queriesResponse","arrayOf","triggerQuery","chartIsStale","addFilter","setDataMask","onFilterMenuOpen","onFilterMenuClose","ownState","postTransformProps","source","oneOf","Dashboard","Explore","emitCrossFilters","BLANK","BIG_NO_RESULT_MIN_WIDTH","BIG_NO_RESULT_MIN_HEIGHT","behaviors","INTERACTIVE_CHART","defaultProps","ChartRenderer","Component","constructor","props","state","showContextMenu","DRILL_TO_DETAIL","DASHBOARD_CROSS_FILTERS","inContextMenu","hasQueryResponseChange","contextMenuRef","createRef","handleAddFilter","bind","handleRenderSuccess","handleRenderFailure","handleSetControlValue","handleOnContextMenu","handleContextMenuSelected","handleContextMenuClosed","onContextMenuFallback","hooks","onAddFilter","onContextMenu","undefined","onError","dataMask","updateDataMask","mutableQueriesResponse","shouldComponentUpdate","nextProps","nextState","resultsReady","indexOf","error","filterState","color_scheme","stack","cacheBusterProp","col","vals","merge","refresh","chartRenderingSucceeded","logEvent","slice_id","viz_type","start_offset","renderStartTime","ts","Date","getTime","duration","getTimestamp","info","warn","chartRenderingFailed","toString","componentStack","has_err","error_details","offsetX","offsetY","filters","current","open","setState","event","preventDefault","clientX","clientY","render","currentFormData","snakeCaseVizType","chartClassName","webpackHash","process","env","WEBPACK_MODE","__webpack_require__","h","noResultsComponent","noResultTitle","noResultDescription","noResultImage","drillToDetailProps","get","find","behavior"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/ChartRenderer.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { snakeCase, isEqual, cloneDeep } from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  SuperChart,\n  logging,\n  Behavior,\n  t,\n  isFeatureEnabled,\n  FeatureFlag,\n  getChartMetadataRegistry,\n} from '@superset-ui/core';\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from 'src/logger/LogUtils';\nimport { EmptyStateBig, EmptyStateSmall } from 'src/components/EmptyState';\nimport { ChartSource } from 'src/types/ChartSource';\nimport ChartContextMenu from './ChartContextMenu/ChartContextMenu';\n\nconst propTypes = {\n  annotationData: PropTypes.object,\n  actions: PropTypes.object,\n  chartId: PropTypes.number.isRequired,\n  datasource: PropTypes.object,\n  initialValues: PropTypes.object,\n  formData: PropTypes.object.isRequired,\n  latestQueryFormData: PropTypes.object,\n  labelColors: PropTypes.object,\n  sharedLabelColors: PropTypes.object,\n  height: PropTypes.number,\n  width: PropTypes.number,\n  setControlValue: PropTypes.func,\n  vizType: PropTypes.string.isRequired,\n  triggerRender: PropTypes.bool,\n  // state\n  chartAlert: PropTypes.string,\n  chartStatus: PropTypes.string,\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\n  triggerQuery: PropTypes.bool,\n  chartIsStale: PropTypes.bool,\n  // dashboard callbacks\n  addFilter: PropTypes.func,\n  setDataMask: PropTypes.func,\n  onFilterMenuOpen: PropTypes.func,\n  onFilterMenuClose: PropTypes.func,\n  ownState: PropTypes.object,\n  postTransformProps: PropTypes.func,\n  source: PropTypes.oneOf([ChartSource.Dashboard, ChartSource.Explore]),\n  emitCrossFilters: PropTypes.bool,\n};\n\nconst BLANK = {};\n\nconst BIG_NO_RESULT_MIN_WIDTH = 300;\nconst BIG_NO_RESULT_MIN_HEIGHT = 220;\n\nconst behaviors = [Behavior.INTERACTIVE_CHART];\n\nconst defaultProps = {\n  addFilter: () => BLANK,\n  onFilterMenuOpen: () => BLANK,\n  onFilterMenuClose: () => BLANK,\n  initialValues: BLANK,\n  setControlValue() {},\n  triggerRender: false,\n};\n\nclass ChartRenderer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showContextMenu:\n        props.source === ChartSource.Dashboard &&\n        (isFeatureEnabled(FeatureFlag.DRILL_TO_DETAIL) ||\n          isFeatureEnabled(FeatureFlag.DASHBOARD_CROSS_FILTERS)),\n      inContextMenu: false,\n    };\n    this.hasQueryResponseChange = false;\n\n    this.contextMenuRef = React.createRef();\n\n    this.handleAddFilter = this.handleAddFilter.bind(this);\n    this.handleRenderSuccess = this.handleRenderSuccess.bind(this);\n    this.handleRenderFailure = this.handleRenderFailure.bind(this);\n    this.handleSetControlValue = this.handleSetControlValue.bind(this);\n    this.handleOnContextMenu = this.handleOnContextMenu.bind(this);\n    this.handleContextMenuSelected = this.handleContextMenuSelected.bind(this);\n    this.handleContextMenuClosed = this.handleContextMenuClosed.bind(this);\n    this.onContextMenuFallback = this.onContextMenuFallback.bind(this);\n\n    this.hooks = {\n      onAddFilter: this.handleAddFilter,\n      onContextMenu: this.state.showContextMenu\n        ? this.handleOnContextMenu\n        : undefined,\n      onError: this.handleRenderFailure,\n      setControlValue: this.handleSetControlValue,\n      onFilterMenuOpen: this.props.onFilterMenuOpen,\n      onFilterMenuClose: this.props.onFilterMenuClose,\n      setDataMask: dataMask => {\n        this.props.actions?.updateDataMask(this.props.chartId, dataMask);\n      },\n    };\n\n    // TODO: queriesResponse comes from Redux store but it's being edited by\n    // the plugins, hence we need to clone it to avoid state mutation\n    // until we change the reducers to use Redux Toolkit with Immer\n    this.mutableQueriesResponse = cloneDeep(this.props.queriesResponse);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const resultsReady =\n      nextProps.queriesResponse &&\n      ['success', 'rendered'].indexOf(nextProps.chartStatus) > -1 &&\n      !nextProps.queriesResponse?.[0]?.error;\n\n    if (resultsReady) {\n      if (!isEqual(this.state, nextState)) {\n        return true;\n      }\n      this.hasQueryResponseChange =\n        nextProps.queriesResponse !== this.props.queriesResponse;\n\n      if (this.hasQueryResponseChange) {\n        this.mutableQueriesResponse = cloneDeep(nextProps.queriesResponse);\n      }\n\n      return (\n        this.hasQueryResponseChange ||\n        !isEqual(nextProps.datasource, this.props.datasource) ||\n        nextProps.annotationData !== this.props.annotationData ||\n        nextProps.ownState !== this.props.ownState ||\n        nextProps.filterState !== this.props.filterState ||\n        nextProps.height !== this.props.height ||\n        nextProps.width !== this.props.width ||\n        nextProps.triggerRender ||\n        nextProps.labelColors !== this.props.labelColors ||\n        nextProps.sharedLabelColors !== this.props.sharedLabelColors ||\n        nextProps.formData.color_scheme !== this.props.formData.color_scheme ||\n        nextProps.formData.stack !== this.props.formData.stack ||\n        nextProps.cacheBusterProp !== this.props.cacheBusterProp ||\n        nextProps.emitCrossFilters !== this.props.emitCrossFilters\n      );\n    }\n    return false;\n  }\n\n  handleAddFilter(col, vals, merge = true, refresh = true) {\n    this.props.addFilter(col, vals, merge, refresh);\n  }\n\n  handleRenderSuccess() {\n    const { actions, chartStatus, chartId, vizType } = this.props;\n    if (['loading', 'rendered'].indexOf(chartStatus) < 0) {\n      actions.chartRenderingSucceeded(chartId);\n    }\n\n    // only log chart render time which is triggered by query results change\n    // currently we don't log chart re-render time, like window resize etc\n    if (this.hasQueryResponseChange) {\n      actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\n        slice_id: chartId,\n        viz_type: vizType,\n        start_offset: this.renderStartTime,\n        ts: new Date().getTime(),\n        duration: Logger.getTimestamp() - this.renderStartTime,\n      });\n    }\n  }\n\n  handleRenderFailure(error, info) {\n    const { actions, chartId } = this.props;\n    logging.warn(error);\n    actions.chartRenderingFailed(\n      error.toString(),\n      chartId,\n      info ? info.componentStack : null,\n    );\n\n    // only trigger render log when query is changed\n    if (this.hasQueryResponseChange) {\n      actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\n        slice_id: chartId,\n        has_err: true,\n        error_details: error.toString(),\n        start_offset: this.renderStartTime,\n        ts: new Date().getTime(),\n        duration: Logger.getTimestamp() - this.renderStartTime,\n      });\n    }\n  }\n\n  handleSetControlValue(...args) {\n    const { setControlValue } = this.props;\n    if (setControlValue) {\n      setControlValue(...args);\n    }\n  }\n\n  handleOnContextMenu(offsetX, offsetY, filters) {\n    this.contextMenuRef.current.open(offsetX, offsetY, filters);\n    this.setState({ inContextMenu: true });\n  }\n\n  handleContextMenuSelected() {\n    this.setState({ inContextMenu: false });\n  }\n\n  handleContextMenuClosed() {\n    this.setState({ inContextMenu: false });\n  }\n\n  // When viz plugins don't handle `contextmenu` event, fallback handler\n  // calls `handleOnContextMenu` with no `filters` param.\n  onContextMenuFallback(event) {\n    if (!this.state.inContextMenu) {\n      event.preventDefault();\n      this.handleOnContextMenu(event.clientX, event.clientY);\n    }\n  }\n\n  render() {\n    const { chartAlert, chartStatus, chartId, emitCrossFilters } = this.props;\n\n    // Skip chart rendering\n    if (chartStatus === 'loading' || !!chartAlert || chartStatus === null) {\n      return null;\n    }\n\n    this.renderStartTime = Logger.getTimestamp();\n\n    const {\n      width,\n      height,\n      datasource,\n      annotationData,\n      initialValues,\n      ownState,\n      filterState,\n      chartIsStale,\n      formData,\n      latestQueryFormData,\n      postTransformProps,\n    } = this.props;\n\n    const currentFormData =\n      chartIsStale && latestQueryFormData ? latestQueryFormData : formData;\n    const vizType = currentFormData.viz_type || this.props.vizType;\n\n    // It's bad practice to use unprefixed `vizType` as classnames for chart\n    // container. It may cause css conflicts as in the case of legacy table chart.\n    // When migrating charts, we should gradually add a `superset-chart-` prefix\n    // to each one of them.\n    const snakeCaseVizType = snakeCase(vizType);\n    const chartClassName =\n      vizType === 'table'\n        ? `superset-chart-${snakeCaseVizType}`\n        : snakeCaseVizType;\n\n    const webpackHash =\n      process.env.WEBPACK_MODE === 'development'\n        ? `-${\n            // eslint-disable-next-line camelcase\n            typeof __webpack_require__ !== 'undefined' &&\n            // eslint-disable-next-line camelcase, no-undef\n            typeof __webpack_require__.h === 'function' &&\n            // eslint-disable-next-line no-undef\n            __webpack_require__.h()\n          }`\n        : '';\n\n    let noResultsComponent;\n    const noResultTitle = t('No results were returned for this query');\n    const noResultDescription =\n      this.props.source === ChartSource.Explore\n        ? t(\n            'Make sure that the controls are configured properly and the datasource contains data for the selected time range',\n          )\n        : undefined;\n    const noResultImage = 'chart.svg';\n    if (width > BIG_NO_RESULT_MIN_WIDTH && height > BIG_NO_RESULT_MIN_HEIGHT) {\n      noResultsComponent = (\n        <EmptyStateBig\n          title={noResultTitle}\n          description={noResultDescription}\n          image={noResultImage}\n        />\n      );\n    } else {\n      noResultsComponent = (\n        <EmptyStateSmall title={noResultTitle} image={noResultImage} />\n      );\n    }\n\n    // Check for Behavior.DRILL_TO_DETAIL to tell if chart can receive Drill to\n    // Detail props or if it'll cause side-effects (e.g. excessive re-renders).\n    const drillToDetailProps = getChartMetadataRegistry()\n      .get(formData.viz_type)\n      ?.behaviors.find(behavior => behavior === Behavior.DRILL_TO_DETAIL)\n      ? { inContextMenu: this.state.inContextMenu }\n      : {};\n\n    return (\n      <>\n        {this.state.showContextMenu && (\n          <ChartContextMenu\n            ref={this.contextMenuRef}\n            id={chartId}\n            formData={currentFormData}\n            onSelection={this.handleContextMenuSelected}\n            onClose={this.handleContextMenuClosed}\n          />\n        )}\n        <div\n          onContextMenu={\n            this.state.showContextMenu ? this.onContextMenuFallback : undefined\n          }\n        >\n          <SuperChart\n            disableErrorBoundary\n            key={`${chartId}${webpackHash}`}\n            id={`chart-id-${chartId}`}\n            className={chartClassName}\n            chartType={vizType}\n            width={width}\n            height={height}\n            annotationData={annotationData}\n            datasource={datasource}\n            initialValues={initialValues}\n            formData={currentFormData}\n            ownState={ownState}\n            filterState={filterState}\n            hooks={this.hooks}\n            behaviors={behaviors}\n            queriesData={this.mutableQueriesResponse}\n            onRenderSuccess={this.handleRenderSuccess}\n            onRenderFailure={this.handleRenderFailure}\n            noResults={noResultsComponent}\n            postTransformProps={postTransformProps}\n            emitCrossFilters={emitCrossFilters}\n            {...drillToDetailProps}\n          />\n        </div>\n      </>\n    );\n  }\n}\n\nChartRenderer.propTypes = propTypes;\nChartRenderer.defaultProps = defaultProps;\n\nexport default ChartRenderer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}