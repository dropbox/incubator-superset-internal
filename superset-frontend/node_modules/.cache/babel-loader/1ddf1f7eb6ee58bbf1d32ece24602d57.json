{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { forwardRef } from 'react';\n// first, ..., prev, current, next, ..., last\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";const MINIMAL_PAGE_ITEM_COUNT = 7;\n/**\n * Generate numeric page items around current page.\n *   - Always include first and last page\n *   - Add ellipsis if needed\n */\nexport function generatePageItems(total, current, width) {\n  if (width < MINIMAL_PAGE_ITEM_COUNT) {\n    throw new Error(`Must allow at least ${MINIMAL_PAGE_ITEM_COUNT} page items`);\n  }\n  if (width % 2 === 0) {\n    throw new Error(`Must allow odd number of page items`);\n  }\n  if (total < width) {\n    return [...new Array(total).keys()];\n  }\n  const left = Math.max(0, Math.min(total - width, current - Math.floor(width / 2)));\n  const items = new Array(width);\n  for (let i = 0; i < width; i += 1) {\n    items[i] = i + left;\n  }\n  // replace non-ending items with placeholders\n  if (items[0] > 0) {\n    items[0] = 0;\n    items[1] = 'prev-more';\n  }\n  if (items[items.length - 1] < total - 1) {\n    items[items.length - 1] = total - 1;\n    items[items.length - 2] = 'next-more';\n  }\n  return items;\n}\nexport default /*#__PURE__*/React.memo( /*#__PURE__*/forwardRef(function Pagination(_ref, ref) {let { style, pageCount, currentPage = 0, maxPageItemCount = 9, onPageChange } = _ref;\n  const pageItems = generatePageItems(pageCount, currentPage, maxPageItemCount);\n  return ___EmotionJSX(\"div\", { ref: ref, className: \"dt-pagination\", style: style },\n  ___EmotionJSX(\"ul\", { className: \"pagination pagination-sm\" },\n  pageItems.map((item) => typeof item === 'number' ?\n  // actual page number\n  ___EmotionJSX(\"li\", { key: item, className: currentPage === item ? 'active' : undefined },\n  ___EmotionJSX(\"a\", { href: `#page-${item}`, role: \"button\", onClick: (e) => {\n      e.preventDefault();\n      onPageChange(item);\n    } },\n  item + 1)) :\n\n  ___EmotionJSX(\"li\", { key: item, className: \"dt-pagination-ellipsis\" },\n  ___EmotionJSX(\"span\", null, \"\\u2026\")))));\n\n\n\n}));","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,IAA+BC,UAA/B,QAAiD,OAAjD;AAWA;sDACA,MAAMC,uBAAuB,GAAG,CAAhC;AAEA;;;;;AAKA,OAAM,SAAUC,iBAAV,CACJC,KADI,EAEJC,OAFI,EAGJC,KAHI,EAGS;EAEb,IAAIA,KAAK,GAAGJ,uBAAZ,EAAqC;IACnC,MAAM,IAAIK,KAAJ,CACJ,uBAAuBL,uBAAuB,aAD1C,CAAN;EAGD;EACD,IAAII,KAAK,GAAG,CAAR,KAAc,CAAlB,EAAqB;IACnB,MAAM,IAAIC,KAAJ,CAAU,qCAAV,CAAN;EACD;EACD,IAAIH,KAAK,GAAGE,KAAZ,EAAmB;IACjB,OAAO,CAAC,GAAG,IAAIE,KAAJ,CAAUJ,KAAV,EAAiBK,IAAjB,EAAJ,CAAP;EACD;EACD,MAAMC,IAAI,GAAGC,IAAI,CAACC,GAAL,CACX,CADW,EAEXD,IAAI,CAACE,GAAL,CAAST,KAAK,GAAGE,KAAjB,EAAwBD,OAAO,GAAGM,IAAI,CAACG,KAAL,CAAWR,KAAK,GAAG,CAAnB,CAAlC,CAFW,CAAb;EAIA,MAAMS,KAAK,GAAwB,IAAIP,KAAJ,CAAUF,KAAV,CAAnC;EACA,KAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,KAApB,EAA2BU,CAAC,IAAI,CAAhC,EAAmC;IACjCD,KAAK,CAACC,CAAD,CAAL,GAAWA,CAAC,GAAGN,IAAf;EACD;EACD;EACA,IAAIK,KAAK,CAAC,CAAD,CAAL,GAAW,CAAf,EAAkB;IAChBA,KAAK,CAAC,CAAD,CAAL,GAAW,CAAX;IACAA,KAAK,CAAC,CAAD,CAAL,GAAW,WAAX;EACD;EACD,IAAIA,KAAK,CAACA,KAAK,CAACE,MAAN,GAAe,CAAhB,CAAL,GAA0Bb,KAAK,GAAG,CAAtC,EAAyC;IACvCW,KAAK,CAACA,KAAK,CAACE,MAAN,GAAe,CAAhB,CAAL,GAA0Bb,KAAK,GAAG,CAAlC;IACAW,KAAK,CAACA,KAAK,CAACE,MAAN,GAAe,CAAhB,CAAL,GAA0B,WAA1B;EACD;EACD,OAAOF,KAAP;AACD;AAED,4BAAef,KAAK,CAACkB,IAAN,eACbjB,UAAU,CAAC,SAASkB,UAAT,OAQTC,GARS,EAQqB,KAP9B,EACEC,KADF,EAEEC,SAFF,EAGEC,WAAW,GAAG,CAHhB,EAIEC,gBAAgB,GAAG,CAJrB,EAKEC,YALF,EAO8B;EAE9B,MAAMC,SAAS,GAAGvB,iBAAiB,CACjCmB,SADiC,EAEjCC,WAFiC,EAGjCC,gBAHiC,CAAnC;EAKA,OACE,uBAAK,GAAG,EAAEJ,GAAV,EAAe,SAAS,EAAC,eAAzB,EAAyC,KAAK,EAAEC,KAAhD;EACE,sBAAI,SAAS,EAAC,0BAAd;EACGK,SAAS,CAACC,GAAV,CAAc,KAAI,KACjB,OAAOC,IAAP,KAAgB,QAAhB;EACE;EACA,sBACE,GAAG,EAAEA,IADP,EAEE,SAAS,EAAEL,WAAW,KAAKK,IAAhB,GAAuB,QAAvB,GAAkCC,SAF/C;EAIE,qBACE,IAAI,EAAE,SAASD,IAAI,EADrB,EAEE,IAAI,EAAC,QAFP,EAGE,OAAO,EAAE,EAAC,KAAG;MACXE,CAAC,CAACC,cAAF;MACAN,YAAY,CAACG,IAAD,CAAZ;IACD,CANH;EAQGA,IAAI,GAAG,CARV,CAJF,CAFF;;EAkBE,sBAAI,GAAG,EAAEA,IAAT,EAAe,SAAS,EAAC,wBAAzB;EACE,qCADF,CAnBH,CADH,CADF,CADF;;;;AA8BD,CA7CS,CADG,CAAf","names":["React","forwardRef","MINIMAL_PAGE_ITEM_COUNT","generatePageItems","total","current","width","Error","Array","keys","left","Math","max","min","floor","items","i","length","memo","Pagination","ref","style","pageCount","currentPage","maxPageItemCount","onPageChange","pageItems","map","item","undefined","e","preventDefault"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/plugin-chart-table/src/DataTable/components/Pagination.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { CSSProperties, forwardRef } from 'react';\n\nexport interface PaginationProps {\n  pageCount: number; // number of pages\n  currentPage?: number; // index of current page, zero-based\n  maxPageItemCount?: number;\n  ellipsis?: string; // content for ellipsis item\n  onPageChange: (page: number) => void; // `page` is zero-based\n  style?: CSSProperties;\n}\n\n// first, ..., prev, current, next, ..., last\nconst MINIMAL_PAGE_ITEM_COUNT = 7;\n\n/**\n * Generate numeric page items around current page.\n *   - Always include first and last page\n *   - Add ellipsis if needed\n */\nexport function generatePageItems(\n  total: number,\n  current: number,\n  width: number,\n) {\n  if (width < MINIMAL_PAGE_ITEM_COUNT) {\n    throw new Error(\n      `Must allow at least ${MINIMAL_PAGE_ITEM_COUNT} page items`,\n    );\n  }\n  if (width % 2 === 0) {\n    throw new Error(`Must allow odd number of page items`);\n  }\n  if (total < width) {\n    return [...new Array(total).keys()];\n  }\n  const left = Math.max(\n    0,\n    Math.min(total - width, current - Math.floor(width / 2)),\n  );\n  const items: (string | number)[] = new Array(width);\n  for (let i = 0; i < width; i += 1) {\n    items[i] = i + left;\n  }\n  // replace non-ending items with placeholders\n  if (items[0] > 0) {\n    items[0] = 0;\n    items[1] = 'prev-more';\n  }\n  if (items[items.length - 1] < total - 1) {\n    items[items.length - 1] = total - 1;\n    items[items.length - 2] = 'next-more';\n  }\n  return items;\n}\n\nexport default React.memo(\n  forwardRef(function Pagination(\n    {\n      style,\n      pageCount,\n      currentPage = 0,\n      maxPageItemCount = 9,\n      onPageChange,\n    }: PaginationProps,\n    ref: React.Ref<HTMLDivElement>,\n  ) {\n    const pageItems = generatePageItems(\n      pageCount,\n      currentPage,\n      maxPageItemCount,\n    );\n    return (\n      <div ref={ref} className=\"dt-pagination\" style={style}>\n        <ul className=\"pagination pagination-sm\">\n          {pageItems.map(item =>\n            typeof item === 'number' ? (\n              // actual page number\n              <li\n                key={item}\n                className={currentPage === item ? 'active' : undefined}\n              >\n                <a\n                  href={`#page-${item}`}\n                  role=\"button\"\n                  onClick={e => {\n                    e.preventDefault();\n                    onPageChange(item);\n                  }}\n                >\n                  {item + 1}\n                </a>\n              </li>\n            ) : (\n              <li key={item} className=\"dt-pagination-ellipsis\">\n                <span>â€¦</span>\n              </li>\n            ),\n          )}\n        </ul>\n      </div>\n    );\n  }),\n);\n"]},"metadata":{},"sourceType":"module"}