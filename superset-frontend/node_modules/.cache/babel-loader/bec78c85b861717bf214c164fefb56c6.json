{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import { InternMap } from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values) {for (var _len = arguments.length, keys = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {keys[_key - 1] = arguments[_key];}\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values) {for (var _len2 = arguments.length, keys = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {keys[_key2 - 1] = arguments[_key2];}\n  return nest(values, Array.from, identity, keys);\n}\n\nexport function rollup(values, reduce) {for (var _len3 = arguments.length, keys = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {keys[_key3 - 2] = arguments[_key3];}\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce) {for (var _len4 = arguments.length, keys = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {keys[_key4 - 2] = arguments[_key4];}\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values) {for (var _len5 = arguments.length, keys = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {keys[_key5 - 1] = arguments[_key5];}\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values) {for (var _len6 = arguments.length, keys = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {keys[_key6 - 1] = arguments[_key6];}\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);else\n      groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  }(values, 0);\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(group, \"group\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/group.js\");reactHotLoader.register(groups, \"groups\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/group.js\");reactHotLoader.register(rollup, \"rollup\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/group.js\");reactHotLoader.register(rollups, \"rollups\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/group.js\");reactHotLoader.register(index, \"index\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/group.js\");reactHotLoader.register(indexes, \"indexes\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/group.js\");reactHotLoader.register(unique, \"unique\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/group.js\");reactHotLoader.register(nest, \"nest\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/group.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["InternMap","identity","group","values","keys","nest","groups","Array","from","rollup","reduce","rollups","index","unique","indexes","length","Error","map","regroup","i","keyof","value","key","get","push","set"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-country-map/node_modules/d3-array/src/group.js"],"sourcesContent":["import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}