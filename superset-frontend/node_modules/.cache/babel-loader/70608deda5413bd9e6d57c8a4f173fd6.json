{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport { css, t, isDefined } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { OPEN_FILTER_BAR_WIDTH } from 'src/dashboard/constants';\nimport { rgba } from 'emotion-rgba';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { getFilterBarTestId } from '../utils';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst containerStyle = (theme) => css`\n  display: flex;\n\n  && > .filter-clear-all-button {\n    color: ${theme.colors.grayscale.base};\n    margin-left: 0;\n    &:hover {\n      color: ${theme.colors.primary.dark1};\n    }\n\n    &[disabled],\n    &[disabled]:hover {\n      color: ${theme.colors.grayscale.light1};\n    }\n  }\n`;\nconst verticalStyle = (theme, width) => css`\n  flex-direction: column;\n  align-items: center;\n  pointer-events: none;\n  position: fixed;\n  z-index: 100;\n\n  // filter bar width minus 1px for border\n  width: ${width - 1}px;\n  bottom: 0;\n\n  padding: ${theme.gridUnit * 4}px;\n  padding-top: ${theme.gridUnit * 6}px;\n\n  background: linear-gradient(\n    ${rgba(theme.colors.grayscale.light5, 0)},\n    ${theme.colors.grayscale.light5} ${theme.opacity.mediumLight}\n  );\n\n  & > button {\n    pointer-events: auto;\n  }\n\n  & > .filter-apply-button {\n    margin-bottom: ${theme.gridUnit * 3}px;\n  }\n`;\nconst horizontalStyle = (theme) => css`\n  align-items: center;\n  margin-left: auto;\n  && > .filter-clear-all-button {\n    text-transform: capitalize;\n    font-weight: ${theme.typography.weights.normal};\n  }\n  & > .filter-apply-button {\n    &[disabled],\n    &[disabled]:hover {\n      color: ${theme.colors.grayscale.light1};\n      background: ${theme.colors.grayscale.light3};\n    }\n  }\n`;\nconst ActionButtons = (_ref) => {let { width = OPEN_FILTER_BAR_WIDTH, onApply, onClearAll, dataMaskApplied, dataMaskSelected, isApplyDisabled, filterBarOrientation = FilterBarOrientation.VERTICAL } = _ref;\n  const isClearAllEnabled = useMemo(() => Object.values(dataMaskApplied).some((filter) => {var _dataMaskSelected$fil, _dataMaskSelected$fil2, _filter$filterState;return isDefined((_dataMaskSelected$fil = dataMaskSelected[filter.id]) == null ? void 0 : (_dataMaskSelected$fil2 = _dataMaskSelected$fil.filterState) == null ? void 0 : _dataMaskSelected$fil2.value) ||\n    !dataMaskSelected[filter.id] &&\n    isDefined((_filter$filterState = filter.filterState) == null ? void 0 : _filter$filterState.value);}), [dataMaskApplied, dataMaskSelected]);\n  const isVertical = filterBarOrientation === FilterBarOrientation.VERTICAL;\n  return ___EmotionJSX(\"div\", { css: (theme) => [\n    containerStyle(theme),\n    isVertical ? verticalStyle(theme, width) : horizontalStyle(theme)],\n    \"data-test\": \"filterbar-action-buttons\" },\n  ___EmotionJSX(Button, _extends({ disabled: isApplyDisabled, buttonStyle: \"primary\", htmlType: \"submit\", className: \"filter-apply-button\", onClick: onApply }, getFilterBarTestId('apply-button')),\n  isVertical ? t('Apply filters') : t('Apply')),\n\n  ___EmotionJSX(Button, _extends({ disabled: !isClearAllEnabled, buttonStyle: \"link\", buttonSize: \"small\", className: \"filter-clear-all-button\", onClick: onClearAll }, getFilterBarTestId('clear-button')),\n  t('Clear all')));\n\n\n};__signature__(ActionButtons, \"useMemo{isClearAllEnabled}\");const _default =\nActionButtons;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(containerStyle, \"containerStyle\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");reactHotLoader.register(verticalStyle, \"verticalStyle\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");reactHotLoader.register(horizontalStyle, \"horizontalStyle\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");reactHotLoader.register(ActionButtons, \"ActionButtons\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"mappings":"sWAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AACA,SACEC,GADF,EAIEC,CAJF,EAKEC,SALF,QAOO,mBAPP;AAQA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,qBAAT,QAAsC,yBAAtC;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,SAASC,kBAAT,QAAmC,UAAnC,C;AAYA,MAAMC,cAAc,GAAG,CAACC,KAAD,KAA0BT,GAAG;;;;aAIvCS,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,IAAI;;;eAGzBH,KAAK,CAACC,MAAN,CAAaG,OAAb,CAAqBC,KAAK;;;;;eAK1BL,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBI,MAAM;;;CAZ5C;AAiBA,MAAMC,aAAa,GAAG,CAACP,KAAD,EAAuBQ,KAAvB,KAAyCjB,GAAG;;;;;;;;WAQvDiB,KAAK,GAAG,CAAC;;;aAGPR,KAAK,CAACS,QAAN,GAAiB,CAAC;iBACdT,KAAK,CAACS,QAAN,GAAiB,CAAC;;;MAG7Bb,IAAI,CAACI,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBQ,MAAxB,EAAgC,CAAhC,CAAkC;MACtCV,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBQ,MAAM,IAAIV,KAAK,CAACW,OAAN,CAAcC,WAAW;;;;;;;;qBAQ3CZ,KAAK,CAACS,QAAN,GAAiB,CAAC;;CAxBvC;AA4BA,MAAMI,eAAe,GAAG,CAACb,KAAD,KAA0BT,GAAG;;;;;mBAKlCS,KAAK,CAACc,UAAN,CAAiBC,OAAjB,CAAyBC,MAAM;;;;;eAKnChB,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBI,MAAM;oBACxBN,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBe,MAAM;;;CAXjD;AAgBA,MAAMC,aAAa,GAAG,UAQG,KARF,EACrBV,KAAK,GAAGb,qBADa,EAErBwB,OAFqB,EAGrBC,UAHqB,EAIrBC,eAJqB,EAKrBC,gBALqB,EAMrBC,eANqB,EAOrBC,oBAAoB,GAAG3B,oBAAoB,CAAC4B,QAPvB,EAQE;EACvB,MAAMC,iBAAiB,GAAGpC,OAAO,CAC/B,MACEqC,MAAM,CAACC,MAAP,CAAcP,eAAd,EAA+BQ,IAA/B,CACE,OAAM,oFACJpC,SAAS,0BAAC6B,gBAAgB,CAACQ,MAAM,CAACC,EAAR,CAAjB,+CAAC,sBAA6BC,WAA9B,qBAAC,uBAA0CC,KAA3C,CAAT;IACC,CAACX,gBAAgB,CAACQ,MAAM,CAACC,EAAR,CAAjB;IACCtC,SAAS,wBAACqC,MAAM,CAACE,WAAR,qBAAC,oBAAoBC,KAArB,CAHP,EADR,CAF6B,EAQ/B,CAACZ,eAAD,EAAkBC,gBAAlB,CAR+B,CAAjC;EAUA,MAAMY,UAAU,GAAGV,oBAAoB,KAAK3B,oBAAoB,CAAC4B,QAAjE;EAEA,OACE,uBACE,GAAG,EAAE,CAACzB,KAAD,KAA0B;IAC7BD,cAAc,CAACC,KAAD,CADe;IAE7BkC,UAAU,GAAG3B,aAAa,CAACP,KAAD,EAAQQ,KAAR,CAAhB,GAAiCK,eAAe,CAACb,KAAD,CAF7B,CADjC;IAKE,aAAU,0BALZ;EAOE,cAAC,MAAD,aACE,QAAQ,EAAEuB,eADZ,EAEE,WAAW,EAAC,SAFd,EAGE,QAAQ,EAAC,QAHX,EAIE,SAAS,EAAC,qBAJZ,EAKE,OAAO,EAAEJ,OALX,IAMMrB,kBAAkB,CAAC,cAAD,CANxB;EAQGoC,UAAU,GAAG1C,CAAC,CAAC,eAAD,CAAJ,GAAwBA,CAAC,CAAC,OAAD,CARtC,CAPF;;EAiBE,cAAC,MAAD,aACE,QAAQ,EAAE,CAACkC,iBADb,EAEE,WAAW,EAAC,MAFd,EAGE,UAAU,EAAC,OAHb,EAIE,SAAS,EAAC,yBAJZ,EAKE,OAAO,EAAEN,UALX,IAMMtB,kBAAkB,CAAC,cAAD,CANxB;EAQGN,CAAC,CAAC,WAAD,CARJ,CAjBF,CADF;;;AA8BD,CAnDD,C,cAAM0B,a;AAqDSA,a,CAAf,wB,iLAlHMnB,c,yLAiBAQ,a,wLA4BAM,e,0LAgBAK,a","names":["React","useMemo","css","t","isDefined","Button","OPEN_FILTER_BAR_WIDTH","rgba","FilterBarOrientation","getFilterBarTestId","containerStyle","theme","colors","grayscale","base","primary","dark1","light1","verticalStyle","width","gridUnit","light5","opacity","mediumLight","horizontalStyle","typography","weights","normal","light3","ActionButtons","onApply","onClearAll","dataMaskApplied","dataMaskSelected","isApplyDisabled","filterBarOrientation","VERTICAL","isClearAllEnabled","Object","values","some","filter","id","filterState","value","isVertical"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/ActionButtons/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport {\n  css,\n  DataMaskState,\n  DataMaskStateWithId,\n  t,\n  isDefined,\n  SupersetTheme,\n} from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { OPEN_FILTER_BAR_WIDTH } from 'src/dashboard/constants';\nimport { rgba } from 'emotion-rgba';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { getFilterBarTestId } from '../utils';\n\ninterface ActionButtonsProps {\n  width?: number;\n  onApply: () => void;\n  onClearAll: () => void;\n  dataMaskSelected: DataMaskState;\n  dataMaskApplied: DataMaskStateWithId;\n  isApplyDisabled: boolean;\n  filterBarOrientation?: FilterBarOrientation;\n}\n\nconst containerStyle = (theme: SupersetTheme) => css`\n  display: flex;\n\n  && > .filter-clear-all-button {\n    color: ${theme.colors.grayscale.base};\n    margin-left: 0;\n    &:hover {\n      color: ${theme.colors.primary.dark1};\n    }\n\n    &[disabled],\n    &[disabled]:hover {\n      color: ${theme.colors.grayscale.light1};\n    }\n  }\n`;\n\nconst verticalStyle = (theme: SupersetTheme, width: number) => css`\n  flex-direction: column;\n  align-items: center;\n  pointer-events: none;\n  position: fixed;\n  z-index: 100;\n\n  // filter bar width minus 1px for border\n  width: ${width - 1}px;\n  bottom: 0;\n\n  padding: ${theme.gridUnit * 4}px;\n  padding-top: ${theme.gridUnit * 6}px;\n\n  background: linear-gradient(\n    ${rgba(theme.colors.grayscale.light5, 0)},\n    ${theme.colors.grayscale.light5} ${theme.opacity.mediumLight}\n  );\n\n  & > button {\n    pointer-events: auto;\n  }\n\n  & > .filter-apply-button {\n    margin-bottom: ${theme.gridUnit * 3}px;\n  }\n`;\n\nconst horizontalStyle = (theme: SupersetTheme) => css`\n  align-items: center;\n  margin-left: auto;\n  && > .filter-clear-all-button {\n    text-transform: capitalize;\n    font-weight: ${theme.typography.weights.normal};\n  }\n  & > .filter-apply-button {\n    &[disabled],\n    &[disabled]:hover {\n      color: ${theme.colors.grayscale.light1};\n      background: ${theme.colors.grayscale.light3};\n    }\n  }\n`;\n\nconst ActionButtons = ({\n  width = OPEN_FILTER_BAR_WIDTH,\n  onApply,\n  onClearAll,\n  dataMaskApplied,\n  dataMaskSelected,\n  isApplyDisabled,\n  filterBarOrientation = FilterBarOrientation.VERTICAL,\n}: ActionButtonsProps) => {\n  const isClearAllEnabled = useMemo(\n    () =>\n      Object.values(dataMaskApplied).some(\n        filter =>\n          isDefined(dataMaskSelected[filter.id]?.filterState?.value) ||\n          (!dataMaskSelected[filter.id] &&\n            isDefined(filter.filterState?.value)),\n      ),\n    [dataMaskApplied, dataMaskSelected],\n  );\n  const isVertical = filterBarOrientation === FilterBarOrientation.VERTICAL;\n\n  return (\n    <div\n      css={(theme: SupersetTheme) => [\n        containerStyle(theme),\n        isVertical ? verticalStyle(theme, width) : horizontalStyle(theme),\n      ]}\n      data-test=\"filterbar-action-buttons\"\n    >\n      <Button\n        disabled={isApplyDisabled}\n        buttonStyle=\"primary\"\n        htmlType=\"submit\"\n        className=\"filter-apply-button\"\n        onClick={onApply}\n        {...getFilterBarTestId('apply-button')}\n      >\n        {isVertical ? t('Apply filters') : t('Apply')}\n      </Button>\n      <Button\n        disabled={!isClearAllEnabled}\n        buttonStyle=\"link\"\n        buttonSize=\"small\"\n        className=\"filter-clear-all-button\"\n        onClick={onClearAll}\n        {...getFilterBarTestId('clear-button')}\n      >\n        {t('Clear all')}\n      </Button>\n    </div>\n  );\n};\n\nexport default ActionButtons;\n"]},"metadata":{},"sourceType":"module"}