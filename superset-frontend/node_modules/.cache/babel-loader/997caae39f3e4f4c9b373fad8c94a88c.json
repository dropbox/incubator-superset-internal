{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextArea } from 'src/components/Input';\nimport { t, withTheme } from '@superset-ui/core';\n\nimport Button from 'src/components/Button';\nimport { TextAreaEditor } from 'src/components/AsyncAceEditor';\nimport ModalTrigger from 'src/components/ModalTrigger';\n\nimport ControlHeader from 'src/explore/components/ControlHeader';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  initialValue: PropTypes.string,\n  height: PropTypes.number,\n  minLines: PropTypes.number,\n  maxLines: PropTypes.number,\n  offerEditInModal: PropTypes.bool,\n  language: PropTypes.oneOf([\n  null,\n  'json',\n  'html',\n  'sql',\n  'markdown',\n  'javascript']),\n\n  aboveEditorSection: PropTypes.node,\n  readOnly: PropTypes.bool,\n  resize: PropTypes.oneOf([\n  null,\n  'block',\n  'both',\n  'horizontal',\n  'inline',\n  'none',\n  'vertical']),\n\n  textAreaStyles: PropTypes.object };\n\n\nconst defaultProps = {\n  onChange: () => {},\n  initialValue: '',\n  height: 250,\n  minLines: 3,\n  maxLines: 10,\n  offerEditInModal: true,\n  readOnly: false,\n  resize: null,\n  textAreaStyles: {} };\n\n\nclass TextAreaControl extends React.Component {\n  onControlChange(event) {\n    const { value } = event.target;\n    this.props.onChange(value);\n  }\n\n  onAreaEditorChange(value) {\n    this.props.onChange(value);\n  }\n\n  renderEditor(inModal) {if (inModal === void 0) {inModal = false;}\n    const minLines = inModal ? 40 : this.props.minLines || 12;\n    if (this.props.language) {\n      const style = {\n        border: `1px solid ${this.props.theme.colors.grayscale.light1}`,\n        minHeight: `${minLines}em`,\n        width: 'auto',\n        ...this.props.textAreaStyles };\n\n      if (this.props.resize) {\n        style.resize = this.props.resize;\n      }\n      if (this.props.readOnly) {\n        style.backgroundColor = '#f2f2f2';\n      }\n\n      return (\n        ___EmotionJSX(TextAreaEditor, _extends({\n          mode: this.props.language,\n          style: style,\n          minLines: minLines,\n          maxLines: inModal ? 1000 : this.props.maxLines,\n          editorProps: { $blockScrolling: true },\n          defaultValue: this.props.initialValue,\n          readOnly: this.props.readOnly,\n          key: this.props.name },\n        this.props, {\n          onChange: this.onAreaEditorChange.bind(this) })));\n\n\n    }\n    return (\n      ___EmotionJSX(TextArea, {\n        placeholder: t('textarea'),\n        onChange: this.onControlChange.bind(this),\n        defaultValue: this.props.initialValue,\n        disabled: this.props.readOnly,\n        style: { height: this.props.height } }));\n\n\n  }\n\n  renderModalBody() {\n    return (\n      ___EmotionJSX(React.Fragment, null,\n      ___EmotionJSX(\"div\", null, this.props.aboveEditorSection),\n      this.renderEditor(true)));\n\n\n  }\n\n  render() {\n    const controlHeader = ___EmotionJSX(ControlHeader, this.props);\n    return (\n      ___EmotionJSX(\"div\", null,\n      controlHeader,\n      this.renderEditor(),\n      this.props.offerEditInModal &&\n      ___EmotionJSX(ModalTrigger, {\n        modalTitle: controlHeader,\n        triggerNode:\n        ___EmotionJSX(Button, { buttonSize: \"small\", className: \"m-t-5\" },\n        t('Edit'), \" \", ___EmotionJSX(\"strong\", null, this.props.language), ' ',\n        t('in modal')),\n\n\n        modalBody: this.renderModalBody(true),\n        responsive: true })));\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nTextAreaControl.propTypes = propTypes;\nTextAreaControl.defaultProps = defaultProps;const _default =\n\nwithTheme(TextAreaControl);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/explore/components/controls/TextAreaControl.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/explore/components/controls/TextAreaControl.jsx\");reactHotLoader.register(TextAreaControl, \"TextAreaControl\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/explore/components/controls/TextAreaControl.jsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/explore/components/controls/TextAreaControl.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","PropTypes","TextArea","t","withTheme","Button","TextAreaEditor","ModalTrigger","ControlHeader","propTypes","name","string","onChange","func","initialValue","height","number","minLines","maxLines","offerEditInModal","bool","language","oneOf","aboveEditorSection","node","readOnly","resize","textAreaStyles","object","defaultProps","TextAreaControl","Component","onControlChange","event","value","target","props","onAreaEditorChange","renderEditor","inModal","style","border","theme","colors","grayscale","light1","minHeight","width","backgroundColor","$blockScrolling","bind","renderModalBody","render","controlHeader"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/explore/components/controls/TextAreaControl.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextArea } from 'src/components/Input';\nimport { t, withTheme } from '@superset-ui/core';\n\nimport Button from 'src/components/Button';\nimport { TextAreaEditor } from 'src/components/AsyncAceEditor';\nimport ModalTrigger from 'src/components/ModalTrigger';\n\nimport ControlHeader from 'src/explore/components/ControlHeader';\n\nconst propTypes = {\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  initialValue: PropTypes.string,\n  height: PropTypes.number,\n  minLines: PropTypes.number,\n  maxLines: PropTypes.number,\n  offerEditInModal: PropTypes.bool,\n  language: PropTypes.oneOf([\n    null,\n    'json',\n    'html',\n    'sql',\n    'markdown',\n    'javascript',\n  ]),\n  aboveEditorSection: PropTypes.node,\n  readOnly: PropTypes.bool,\n  resize: PropTypes.oneOf([\n    null,\n    'block',\n    'both',\n    'horizontal',\n    'inline',\n    'none',\n    'vertical',\n  ]),\n  textAreaStyles: PropTypes.object,\n};\n\nconst defaultProps = {\n  onChange: () => {},\n  initialValue: '',\n  height: 250,\n  minLines: 3,\n  maxLines: 10,\n  offerEditInModal: true,\n  readOnly: false,\n  resize: null,\n  textAreaStyles: {},\n};\n\nclass TextAreaControl extends React.Component {\n  onControlChange(event) {\n    const { value } = event.target;\n    this.props.onChange(value);\n  }\n\n  onAreaEditorChange(value) {\n    this.props.onChange(value);\n  }\n\n  renderEditor(inModal = false) {\n    const minLines = inModal ? 40 : this.props.minLines || 12;\n    if (this.props.language) {\n      const style = {\n        border: `1px solid ${this.props.theme.colors.grayscale.light1}`,\n        minHeight: `${minLines}em`,\n        width: 'auto',\n        ...this.props.textAreaStyles,\n      };\n      if (this.props.resize) {\n        style.resize = this.props.resize;\n      }\n      if (this.props.readOnly) {\n        style.backgroundColor = '#f2f2f2';\n      }\n\n      return (\n        <TextAreaEditor\n          mode={this.props.language}\n          style={style}\n          minLines={minLines}\n          maxLines={inModal ? 1000 : this.props.maxLines}\n          editorProps={{ $blockScrolling: true }}\n          defaultValue={this.props.initialValue}\n          readOnly={this.props.readOnly}\n          key={this.props.name}\n          {...this.props}\n          onChange={this.onAreaEditorChange.bind(this)}\n        />\n      );\n    }\n    return (\n      <TextArea\n        placeholder={t('textarea')}\n        onChange={this.onControlChange.bind(this)}\n        defaultValue={this.props.initialValue}\n        disabled={this.props.readOnly}\n        style={{ height: this.props.height }}\n      />\n    );\n  }\n\n  renderModalBody() {\n    return (\n      <>\n        <div>{this.props.aboveEditorSection}</div>\n        {this.renderEditor(true)}\n      </>\n    );\n  }\n\n  render() {\n    const controlHeader = <ControlHeader {...this.props} />;\n    return (\n      <div>\n        {controlHeader}\n        {this.renderEditor()}\n        {this.props.offerEditInModal && (\n          <ModalTrigger\n            modalTitle={controlHeader}\n            triggerNode={\n              <Button buttonSize=\"small\" className=\"m-t-5\">\n                {t('Edit')} <strong>{this.props.language}</strong>{' '}\n                {t('in modal')}\n              </Button>\n            }\n            modalBody={this.renderModalBody(true)}\n            responsive\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nTextAreaControl.propTypes = propTypes;\nTextAreaControl.defaultProps = defaultProps;\n\nexport default withTheme(TextAreaControl);\n"],"mappings":"sWAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,SAASC,CAAT,EAAYC,SAAZ,QAA6B,mBAA7B;;AAEA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,cAAT,QAA+B,+BAA/B;AACA,OAAOC,YAAP,MAAyB,6BAAzB;;AAEA,OAAOC,aAAP,MAA0B,sCAA1B,C;;AAEA,MAAMC,SAAS,GAAG;EAChBC,IAAI,EAAET,SAAS,CAACU,MADA;EAEhBC,QAAQ,EAAEX,SAAS,CAACY,IAFJ;EAGhBC,YAAY,EAAEb,SAAS,CAACU,MAHR;EAIhBI,MAAM,EAAEd,SAAS,CAACe,MAJF;EAKhBC,QAAQ,EAAEhB,SAAS,CAACe,MALJ;EAMhBE,QAAQ,EAAEjB,SAAS,CAACe,MANJ;EAOhBG,gBAAgB,EAAElB,SAAS,CAACmB,IAPZ;EAQhBC,QAAQ,EAAEpB,SAAS,CAACqB,KAAV,CAAgB;EACxB,IADwB;EAExB,MAFwB;EAGxB,MAHwB;EAIxB,KAJwB;EAKxB,UALwB;EAMxB,YANwB,CAAhB,CARM;;EAgBhBC,kBAAkB,EAAEtB,SAAS,CAACuB,IAhBd;EAiBhBC,QAAQ,EAAExB,SAAS,CAACmB,IAjBJ;EAkBhBM,MAAM,EAAEzB,SAAS,CAACqB,KAAV,CAAgB;EACtB,IADsB;EAEtB,OAFsB;EAGtB,MAHsB;EAItB,YAJsB;EAKtB,QALsB;EAMtB,MANsB;EAOtB,UAPsB,CAAhB,CAlBQ;;EA2BhBK,cAAc,EAAE1B,SAAS,CAAC2B,MA3BV,EAAlB;;;AA8BA,MAAMC,YAAY,GAAG;EACnBjB,QAAQ,EAAE,MAAM,CAAE,CADC;EAEnBE,YAAY,EAAE,EAFK;EAGnBC,MAAM,EAAE,GAHW;EAInBE,QAAQ,EAAE,CAJS;EAKnBC,QAAQ,EAAE,EALS;EAMnBC,gBAAgB,EAAE,IANC;EAOnBM,QAAQ,EAAE,KAPS;EAQnBC,MAAM,EAAE,IARW;EASnBC,cAAc,EAAE,EATG,EAArB;;;AAYA,MAAMG,eAAN,SAA8B9B,KAAK,CAAC+B,SAApC,CAA8C;EAC5CC,eAAe,CAACC,KAAD,EAAQ;IACrB,MAAM,EAAEC,KAAF,KAAYD,KAAK,CAACE,MAAxB;IACA,KAAKC,KAAL,CAAWxB,QAAX,CAAoBsB,KAApB;EACD;;EAEDG,kBAAkB,CAACH,KAAD,EAAQ;IACxB,KAAKE,KAAL,CAAWxB,QAAX,CAAoBsB,KAApB;EACD;;EAEDI,YAAY,CAACC,OAAD,EAAkB,KAAjBA,OAAiB,cAAjBA,OAAiB,GAAP,KAAO;IAC5B,MAAMtB,QAAQ,GAAGsB,OAAO,GAAG,EAAH,GAAQ,KAAKH,KAAL,CAAWnB,QAAX,IAAuB,EAAvD;IACA,IAAI,KAAKmB,KAAL,CAAWf,QAAf,EAAyB;MACvB,MAAMmB,KAAK,GAAG;QACZC,MAAM,EAAG,aAAY,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,SAAxB,CAAkCC,MAAO,EADlD;QAEZC,SAAS,EAAG,GAAE7B,QAAS,IAFX;QAGZ8B,KAAK,EAAE,MAHK;QAIZ,GAAG,KAAKX,KAAL,CAAWT,cAJF,EAAd;;MAMA,IAAI,KAAKS,KAAL,CAAWV,MAAf,EAAuB;QACrBc,KAAK,CAACd,MAAN,GAAe,KAAKU,KAAL,CAAWV,MAA1B;MACD;MACD,IAAI,KAAKU,KAAL,CAAWX,QAAf,EAAyB;QACvBe,KAAK,CAACQ,eAAN,GAAwB,SAAxB;MACD;;MAED;QACE,cAAC,cAAD;UACE,IAAI,EAAE,KAAKZ,KAAL,CAAWf,QADnB;UAEE,KAAK,EAAEmB,KAFT;UAGE,QAAQ,EAAEvB,QAHZ;UAIE,QAAQ,EAAEsB,OAAO,GAAG,IAAH,GAAU,KAAKH,KAAL,CAAWlB,QAJxC;UAKE,WAAW,EAAE,EAAE+B,eAAe,EAAE,IAAnB,EALf;UAME,YAAY,EAAE,KAAKb,KAAL,CAAWtB,YAN3B;UAOE,QAAQ,EAAE,KAAKsB,KAAL,CAAWX,QAPvB;UAQE,GAAG,EAAE,KAAKW,KAAL,CAAW1B,IARlB;QASM,KAAK0B,KATX;UAUE,QAAQ,EAAE,KAAKC,kBAAL,CAAwBa,IAAxB,CAA6B,IAA7B,CAVZ,IADF;;;IAcD;IACD;MACE,cAAC,QAAD;QACE,WAAW,EAAE/C,CAAC,CAAC,UAAD,CADhB;QAEE,QAAQ,EAAE,KAAK6B,eAAL,CAAqBkB,IAArB,CAA0B,IAA1B,CAFZ;QAGE,YAAY,EAAE,KAAKd,KAAL,CAAWtB,YAH3B;QAIE,QAAQ,EAAE,KAAKsB,KAAL,CAAWX,QAJvB;QAKE,KAAK,EAAE,EAAEV,MAAM,EAAE,KAAKqB,KAAL,CAAWrB,MAArB,EALT,GADF;;;EASD;;EAEDoC,eAAe,GAAG;IAChB;MACE;MACE,2BAAM,KAAKf,KAAL,CAAWb,kBAAjB,CADF;MAEG,KAAKe,YAAL,CAAkB,IAAlB,CAFH,CADF;;;EAMD;;EAEDc,MAAM,GAAG;IACP,MAAMC,aAAa,GAAG,cAAC,aAAD,EAAmB,KAAKjB,KAAxB,CAAtB;IACA;MACE;MACGiB,aADH;MAEG,KAAKf,YAAL,EAFH;MAGG,KAAKF,KAAL,CAAWjB,gBAAX;MACC,cAAC,YAAD;QACE,UAAU,EAAEkC,aADd;QAEE,WAAW;QACT,cAAC,MAAD,IAAQ,UAAU,EAAC,OAAnB,EAA2B,SAAS,EAAC,OAArC;QACGlD,CAAC,CAAC,MAAD,CADJ,OACc,8BAAS,KAAKiC,KAAL,CAAWf,QAApB,CADd,EACqD,GADrD;QAEGlB,CAAC,CAAC,UAAD,CAFJ,CAHJ;;;QAQE,SAAS,EAAE,KAAKgD,eAAL,CAAqB,IAArB,CARb;QASE,UAAU,MATZ,GAJJ,CADF;;;;;EAmBD,CAlF2C;EAAA;IAAA;AAqF9CrB,eAAe,CAACrB,SAAhB,GAA4BA,SAA5B;AACAqB,eAAe,CAACD,YAAhB,GAA+BA,YAA/B,C;;AAEezB,SAAS,CAAC0B,eAAD,C,CAAxB,wB,iLAlIMrB,S,+JA8BAoB,Y,kKAYAC,e"},"metadata":{},"sourceType":"module"}