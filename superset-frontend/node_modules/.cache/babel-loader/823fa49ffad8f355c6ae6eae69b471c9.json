{"ast":null,"code":"import _includesInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/includes\"; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable camelcase */\n// util function to make sure filter is a valid slice in current dashboard\nfunction isValidFilter(getState, chartId) {var _context;\n  return _includesInstanceProperty(_context = getState().dashboardState.sliceIds).call(_context, chartId);\n}\n\nexport const ADD_FILTER = 'ADD_FILTER';\nexport function addFilter(chartId, component, form_data) {\n  return (dispatch, getState) => {\n    if (isValidFilter(getState, chartId)) {\n      return dispatch({ type: ADD_FILTER, chartId, component, form_data });\n    }\n    return getState().dashboardFilters;\n  };\n}\n\nexport const REMOVE_FILTER = 'REMOVE_FILTER';\nexport function removeFilter(chartId) {\n  return (dispatch, getState) => {\n    if (isValidFilter(getState, chartId)) {\n      return dispatch({ type: REMOVE_FILTER, chartId });\n    }\n    return getState().dashboardFilters;\n  };\n}\n\nexport const CHANGE_FILTER = 'CHANGE_FILTER';\nexport function changeFilter(chartId, newSelectedValues, merge) {\n  return (dispatch, getState) => {\n    if (isValidFilter(getState, chartId)) {\n      const components = getState().dashboardLayout.present;\n      return dispatch({\n        type: CHANGE_FILTER,\n        chartId,\n        newSelectedValues,\n        merge,\n        components });\n\n    }\n    return getState().dashboardFilters;\n  };\n}\n\nexport const UPDATE_DIRECT_PATH_TO_FILTER = 'UPDATE_DIRECT_PATH_TO_FILTER';\nexport function updateDirectPathToFilter(chartId, path) {\n  return (dispatch, getState) => {\n    if (isValidFilter(getState, chartId)) {\n      return dispatch({ type: UPDATE_DIRECT_PATH_TO_FILTER, chartId, path });\n    }\n    return getState().dashboardFilters;\n  };\n}\n\nexport const UPDATE_LAYOUT_COMPONENTS = 'UPDATE_LAYOUT_COMPONENTS';\nexport function updateLayoutComponents(components) {\n  return (dispatch) => {\n    dispatch({ type: UPDATE_LAYOUT_COMPONENTS, components });\n  };\n}\n\nexport const UPDATE_DASHBOARD_FILTERS_SCOPE = 'UPDATE_DASHBOARD_FILTERS_SCOPE';\nexport function updateDashboardFiltersScope(scopes) {\n  return (dispatch) => {\n    dispatch({ type: UPDATE_DASHBOARD_FILTERS_SCOPE, scopes });\n  };\n}","map":{"version":3,"names":["isValidFilter","getState","chartId","dashboardState","sliceIds","ADD_FILTER","addFilter","component","form_data","dispatch","type","dashboardFilters","REMOVE_FILTER","removeFilter","CHANGE_FILTER","changeFilter","newSelectedValues","merge","components","dashboardLayout","present","UPDATE_DIRECT_PATH_TO_FILTER","updateDirectPathToFilter","path","UPDATE_LAYOUT_COMPONENTS","updateLayoutComponents","UPDATE_DASHBOARD_FILTERS_SCOPE","updateDashboardFiltersScope","scopes"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/actions/dashboardFilters.js"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable camelcase */\n// util function to make sure filter is a valid slice in current dashboard\nfunction isValidFilter(getState, chartId) {\n  return getState().dashboardState.sliceIds.includes(chartId);\n}\n\nexport const ADD_FILTER = 'ADD_FILTER';\nexport function addFilter(chartId, component, form_data) {\n  return (dispatch, getState) => {\n    if (isValidFilter(getState, chartId)) {\n      return dispatch({ type: ADD_FILTER, chartId, component, form_data });\n    }\n    return getState().dashboardFilters;\n  };\n}\n\nexport const REMOVE_FILTER = 'REMOVE_FILTER';\nexport function removeFilter(chartId) {\n  return (dispatch, getState) => {\n    if (isValidFilter(getState, chartId)) {\n      return dispatch({ type: REMOVE_FILTER, chartId });\n    }\n    return getState().dashboardFilters;\n  };\n}\n\nexport const CHANGE_FILTER = 'CHANGE_FILTER';\nexport function changeFilter(chartId, newSelectedValues, merge) {\n  return (dispatch, getState) => {\n    if (isValidFilter(getState, chartId)) {\n      const components = getState().dashboardLayout.present;\n      return dispatch({\n        type: CHANGE_FILTER,\n        chartId,\n        newSelectedValues,\n        merge,\n        components,\n      });\n    }\n    return getState().dashboardFilters;\n  };\n}\n\nexport const UPDATE_DIRECT_PATH_TO_FILTER = 'UPDATE_DIRECT_PATH_TO_FILTER';\nexport function updateDirectPathToFilter(chartId, path) {\n  return (dispatch, getState) => {\n    if (isValidFilter(getState, chartId)) {\n      return dispatch({ type: UPDATE_DIRECT_PATH_TO_FILTER, chartId, path });\n    }\n    return getState().dashboardFilters;\n  };\n}\n\nexport const UPDATE_LAYOUT_COMPONENTS = 'UPDATE_LAYOUT_COMPONENTS';\nexport function updateLayoutComponents(components) {\n  return dispatch => {\n    dispatch({ type: UPDATE_LAYOUT_COMPONENTS, components });\n  };\n}\n\nexport const UPDATE_DASHBOARD_FILTERS_SCOPE = 'UPDATE_DASHBOARD_FILTERS_SCOPE';\nexport function updateDashboardFiltersScope(scopes) {\n  return dispatch => {\n    dispatch({ type: UPDATE_DASHBOARD_FILTERS_SCOPE, scopes });\n  };\n}\n"],"mappings":"iGAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,aAAT,CAAuBC,QAAvB,EAAiCC,OAAjC,EAA0C;EACxC,OAAO,qCAAAD,QAAQ,GAAGE,cAAX,CAA0BC,QAA1B,iBAA4CF,OAA5C,CAAP;AACD;;AAED,OAAO,MAAMG,UAAU,GAAG,YAAnB;AACP,OAAO,SAASC,SAAT,CAAmBJ,OAAnB,EAA4BK,SAA5B,EAAuCC,SAAvC,EAAkD;EACvD,OAAO,CAACC,QAAD,EAAWR,QAAX,KAAwB;IAC7B,IAAID,aAAa,CAACC,QAAD,EAAWC,OAAX,CAAjB,EAAsC;MACpC,OAAOO,QAAQ,CAAC,EAAEC,IAAI,EAAEL,UAAR,EAAoBH,OAApB,EAA6BK,SAA7B,EAAwCC,SAAxC,EAAD,CAAf;IACD;IACD,OAAOP,QAAQ,GAAGU,gBAAlB;EACD,CALD;AAMD;;AAED,OAAO,MAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,SAASC,YAAT,CAAsBX,OAAtB,EAA+B;EACpC,OAAO,CAACO,QAAD,EAAWR,QAAX,KAAwB;IAC7B,IAAID,aAAa,CAACC,QAAD,EAAWC,OAAX,CAAjB,EAAsC;MACpC,OAAOO,QAAQ,CAAC,EAAEC,IAAI,EAAEE,aAAR,EAAuBV,OAAvB,EAAD,CAAf;IACD;IACD,OAAOD,QAAQ,GAAGU,gBAAlB;EACD,CALD;AAMD;;AAED,OAAO,MAAMG,aAAa,GAAG,eAAtB;AACP,OAAO,SAASC,YAAT,CAAsBb,OAAtB,EAA+Bc,iBAA/B,EAAkDC,KAAlD,EAAyD;EAC9D,OAAO,CAACR,QAAD,EAAWR,QAAX,KAAwB;IAC7B,IAAID,aAAa,CAACC,QAAD,EAAWC,OAAX,CAAjB,EAAsC;MACpC,MAAMgB,UAAU,GAAGjB,QAAQ,GAAGkB,eAAX,CAA2BC,OAA9C;MACA,OAAOX,QAAQ,CAAC;QACdC,IAAI,EAAEI,aADQ;QAEdZ,OAFc;QAGdc,iBAHc;QAIdC,KAJc;QAKdC,UALc,EAAD,CAAf;;IAOD;IACD,OAAOjB,QAAQ,GAAGU,gBAAlB;EACD,CAZD;AAaD;;AAED,OAAO,MAAMU,4BAA4B,GAAG,8BAArC;AACP,OAAO,SAASC,wBAAT,CAAkCpB,OAAlC,EAA2CqB,IAA3C,EAAiD;EACtD,OAAO,CAACd,QAAD,EAAWR,QAAX,KAAwB;IAC7B,IAAID,aAAa,CAACC,QAAD,EAAWC,OAAX,CAAjB,EAAsC;MACpC,OAAOO,QAAQ,CAAC,EAAEC,IAAI,EAAEW,4BAAR,EAAsCnB,OAAtC,EAA+CqB,IAA/C,EAAD,CAAf;IACD;IACD,OAAOtB,QAAQ,GAAGU,gBAAlB;EACD,CALD;AAMD;;AAED,OAAO,MAAMa,wBAAwB,GAAG,0BAAjC;AACP,OAAO,SAASC,sBAAT,CAAgCP,UAAhC,EAA4C;EACjD,OAAO,CAAAT,QAAQ,KAAI;IACjBA,QAAQ,CAAC,EAAEC,IAAI,EAAEc,wBAAR,EAAkCN,UAAlC,EAAD,CAAR;EACD,CAFD;AAGD;;AAED,OAAO,MAAMQ,8BAA8B,GAAG,gCAAvC;AACP,OAAO,SAASC,2BAAT,CAAqCC,MAArC,EAA6C;EAClD,OAAO,CAAAnB,QAAQ,KAAI;IACjBA,QAAQ,CAAC,EAAEC,IAAI,EAAEgB,8BAAR,EAAwCE,MAAxC,EAAD,CAAR;EACD,CAFD;AAGD"},"metadata":{},"sourceType":"module"}