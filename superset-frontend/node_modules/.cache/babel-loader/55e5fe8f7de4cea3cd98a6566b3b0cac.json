{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport default function transformProps(chartProps) {\n  const { width, height, formData, queriesData, datasource } = chartProps;\n  const { colorScheme, linearColorScheme, metric, secondaryMetric, sliceId } =\n  formData;\n\n  const returnProps = {\n    width,\n    height,\n    data: queriesData[0].data,\n    colorScheme,\n    linearColorScheme,\n    metrics: [metric, secondaryMetric],\n    sliceId };\n\n\n  if (datasource && datasource.metrics) {\n    const metricWithFormat = datasource.metrics.find(\n    (_ref) => {let { metric_name: metricName, d3format } = _ref;return (\n        metricName === formData.metric && d3format);});\n\n    if (metricWithFormat) {\n      Object.assign(returnProps, { numberFormat: metricWithFormat.d3format });\n    }\n  }\n\n  return returnProps;\n}","map":{"version":3,"names":["transformProps","chartProps","width","height","formData","queriesData","datasource","colorScheme","linearColorScheme","metric","secondaryMetric","sliceId","returnProps","data","metrics","metricWithFormat","find","metric_name","metricName","d3format","Object","assign","numberFormat"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-plugin-chart-sunburst/src/transformProps.js"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport default function transformProps(chartProps) {\n  const { width, height, formData, queriesData, datasource } = chartProps;\n  const { colorScheme, linearColorScheme, metric, secondaryMetric, sliceId } =\n    formData;\n\n  const returnProps = {\n    width,\n    height,\n    data: queriesData[0].data,\n    colorScheme,\n    linearColorScheme,\n    metrics: [metric, secondaryMetric],\n    sliceId,\n  };\n\n  if (datasource && datasource.metrics) {\n    const metricWithFormat = datasource.metrics.find(\n      ({ metric_name: metricName, d3format }) =>\n        metricName === formData.metric && d3format,\n    );\n    if (metricWithFormat) {\n      Object.assign(returnProps, { numberFormat: metricWithFormat.d3format });\n    }\n  }\n\n  return returnProps;\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASA,cAAT,CAAwBC,UAAxB,EAAoC;EACjD,MAAM,EAAEC,KAAF,EAASC,MAAT,EAAiBC,QAAjB,EAA2BC,WAA3B,EAAwCC,UAAxC,KAAuDL,UAA7D;EACA,MAAM,EAAEM,WAAF,EAAeC,iBAAf,EAAkCC,MAAlC,EAA0CC,eAA1C,EAA2DC,OAA3D;EACJP,QADF;;EAGA,MAAMQ,WAAW,GAAG;IAClBV,KADkB;IAElBC,MAFkB;IAGlBU,IAAI,EAAER,WAAW,CAAC,CAAD,CAAX,CAAeQ,IAHH;IAIlBN,WAJkB;IAKlBC,iBALkB;IAMlBM,OAAO,EAAE,CAACL,MAAD,EAASC,eAAT,CANS;IAOlBC,OAPkB,EAApB;;;EAUA,IAAIL,UAAU,IAAIA,UAAU,CAACQ,OAA7B,EAAsC;IACpC,MAAMC,gBAAgB,GAAGT,UAAU,CAACQ,OAAX,CAAmBE,IAAnB;IACvB,eAAC,EAAEC,WAAW,EAAEC,UAAf,EAA2BC,QAA3B,EAAD;QACED,UAAU,KAAKd,QAAQ,CAACK,MAAxB,IAAkCU,QADpC,GADuB,CAAzB;;IAIA,IAAIJ,gBAAJ,EAAsB;MACpBK,MAAM,CAACC,MAAP,CAAcT,WAAd,EAA2B,EAAEU,YAAY,EAAEP,gBAAgB,CAACI,QAAjC,EAA3B;IACD;EACF;;EAED,OAAOP,WAAP;AACD"},"metadata":{},"sourceType":"module"}