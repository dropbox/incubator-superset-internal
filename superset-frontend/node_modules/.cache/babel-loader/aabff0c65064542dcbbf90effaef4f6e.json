{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect } from 'react';\nimport { t } from '@superset-ui/core';\nimport URLShortLinkButton from 'src/dashboard/components/URLShortLinkButton';\nimport getLocationHash from 'src/dashboard/util/getLocationHash';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nexport default function AnchorLink(_ref) {let { id, dashboardId, placement = 'right', scrollIntoView = false, showShortLinkButton = true } = _ref;\n  const scrollAnchorIntoView = (elementId) => {\n    const element = document.getElementById(elementId);\n    if (element) {\n      element.scrollIntoView({\n        block: 'center',\n        behavior: 'smooth' });\n\n    }\n  };\n  // will always scroll element into view if element id and url hash match\n  const hash = getLocationHash();\n  useEffect(() => {\n    if (hash && id === hash) {\n      scrollAnchorIntoView(id);\n    }\n  }, [hash, id]);\n  // force scroll into view\n  useEffect(() => {\n    if (scrollIntoView) {\n      scrollAnchorIntoView(id);\n    }\n  }, [id, scrollIntoView]);\n  return ___EmotionJSX(\"span\", { className: \"anchor-link-container\", id: id },\n  showShortLinkButton && dashboardId && ___EmotionJSX(URLShortLinkButton, { anchorLinkId: id, dashboardId: dashboardId, emailSubject: t('Superset chart'), emailContent: t('Check out this chart in dashboard:'), placement: placement }));\n\n}","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,CAAT,QAAkB,mBAAlB;AAEA,OAAOC,kBAAP,MAEO,6CAFP;AAGA,OAAOC,eAAP,MAA4B,oCAA5B,C;AASA,eAAc,SAAUC,UAAV,OAMI,KANiB,EACjCC,EADiC,EAEjCC,WAFiC,EAGjCC,SAAS,GAAG,OAHqB,EAIjCC,cAAc,GAAG,KAJgB,EAKjCC,mBAAmB,GAAG,IALW,EAMjB;EAChB,MAAMC,oBAAoB,GAAG,CAACC,SAAD,KAAsB;IACjD,MAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBH,SAAxB,CAAhB;IACA,IAAIC,OAAJ,EAAa;MACXA,OAAO,CAACJ,cAAR,CAAuB;QACrBO,KAAK,EAAE,QADc;QAErBC,QAAQ,EAAE,QAFW,EAAvB;;IAID;EACF,CARD;EAUA;EACA,MAAMC,IAAI,GAAGd,eAAe,EAA5B;EACAH,SAAS,CAAC,MAAK;IACb,IAAIiB,IAAI,IAAIZ,EAAE,KAAKY,IAAnB,EAAyB;MACvBP,oBAAoB,CAACL,EAAD,CAApB;IACD;EACF,CAJQ,EAIN,CAACY,IAAD,EAAOZ,EAAP,CAJM,CAAT;EAMA;EACAL,SAAS,CAAC,MAAK;IACb,IAAIQ,cAAJ,EAAoB;MAClBE,oBAAoB,CAACL,EAAD,CAApB;IACD;EACF,CAJQ,EAIN,CAACA,EAAD,EAAKG,cAAL,CAJM,CAAT;EAMA,OACE,wBAAM,SAAS,EAAC,uBAAhB,EAAwC,EAAE,EAAEH,EAA5C;EACGI,mBAAmB,IAAIH,WAAvB,IACC,cAAC,kBAAD,IACE,YAAY,EAAED,EADhB,EAEE,WAAW,EAAEC,WAFf,EAGE,YAAY,EAAEL,CAAC,CAAC,gBAAD,CAHjB,EAIE,YAAY,EAAEA,CAAC,CAAC,oCAAD,CAJjB,EAKE,SAAS,EAAEM,SALb,GAFJ,CADF;;AAaD","names":["React","useEffect","t","URLShortLinkButton","getLocationHash","AnchorLink","id","dashboardId","placement","scrollIntoView","showShortLinkButton","scrollAnchorIntoView","elementId","element","document","getElementById","block","behavior","hash"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/AnchorLink/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect } from 'react';\nimport { t } from '@superset-ui/core';\n\nimport URLShortLinkButton, {\n  URLShortLinkButtonProps,\n} from 'src/dashboard/components/URLShortLinkButton';\nimport getLocationHash from 'src/dashboard/util/getLocationHash';\n\nexport type AnchorLinkProps = {\n  id: string;\n  dashboardId?: number;\n  scrollIntoView?: boolean;\n  showShortLinkButton?: boolean;\n} & Pick<URLShortLinkButtonProps, 'placement'>;\n\nexport default function AnchorLink({\n  id,\n  dashboardId,\n  placement = 'right',\n  scrollIntoView = false,\n  showShortLinkButton = true,\n}: AnchorLinkProps) {\n  const scrollAnchorIntoView = (elementId: string) => {\n    const element = document.getElementById(elementId);\n    if (element) {\n      element.scrollIntoView({\n        block: 'center',\n        behavior: 'smooth',\n      });\n    }\n  };\n\n  // will always scroll element into view if element id and url hash match\n  const hash = getLocationHash();\n  useEffect(() => {\n    if (hash && id === hash) {\n      scrollAnchorIntoView(id);\n    }\n  }, [hash, id]);\n\n  // force scroll into view\n  useEffect(() => {\n    if (scrollIntoView) {\n      scrollAnchorIntoView(id);\n    }\n  }, [id, scrollIntoView]);\n\n  return (\n    <span className=\"anchor-link-container\" id={id}>\n      {showShortLinkButton && dashboardId && (\n        <URLShortLinkButton\n          anchorLinkId={id}\n          dashboardId={dashboardId}\n          emailSubject={t('Superset chart')}\n          emailContent={t('Check out this chart in dashboard:')}\n          placement={placement}\n        />\n      )}\n    </span>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}