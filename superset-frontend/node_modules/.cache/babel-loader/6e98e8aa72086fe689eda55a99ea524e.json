{"ast":null,"code":"/* eslint-disable camelcase */\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitationsxw\n * under the License.\n */\nimport { ensureIsArray, ComparisonType } from '@superset-ui/core';\nimport { hasTimeOffset } from './timeOffset';\nexport const isDerivedSeries = (series, formData) => {\n  const comparisonType = formData.comparison_type;\n  if (comparisonType !== ComparisonType.Values) {\n    return false;\n  }\n  const timeCompare = ensureIsArray(formData == null ? void 0 : formData.time_compare);\n  return hasTimeOffset(series, timeCompare);\n};","map":{"version":3,"mappings":"AAAA;AACA;;;;;;;;;;;;;;;;;;AAkBA,SACEA,aADF,EAIEC,cAJF,QAKO,mBALP;AAMA,SAASC,aAAT,QAA8B,cAA9B;AAEA,OAAO,MAAMC,eAAe,GAAG,CAC7BC,MAD6B,EAE7BC,QAF6B,KAGlB;EACX,MAAMC,cAAc,GAAGD,QAAQ,CAACE,eAAhC;EACA,IAAID,cAAc,KAAKL,cAAc,CAACO,MAAtC,EAA8C;IAC5C,OAAO,KAAP;EACD;EACD,MAAMC,WAAW,GAAaT,aAAa,CAACK,QAAD,oBAACA,QAAQ,CAAEK,YAAX,CAA3C;EACA,OAAOR,aAAa,CAACE,MAAD,EAASK,WAAT,CAApB;AACD,CAVM","names":["ensureIsArray","ComparisonType","hasTimeOffset","isDerivedSeries","series","formData","comparisonType","comparison_type","Values","timeCompare","time_compare"],"sourceRoot":"","sources":["/Users/zhaorui/src/incubator-superset-internal/superset-frontend/packages/superset-ui-chart-controls/src/operators/utils/isDerivedSeries.ts"],"sourcesContent":["/* eslint-disable camelcase */\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitationsxw\n * under the License.\n */\nimport {\n  ensureIsArray,\n  JsonObject,\n  QueryFormData,\n  ComparisonType,\n} from '@superset-ui/core';\nimport { hasTimeOffset } from './timeOffset';\n\nexport const isDerivedSeries = (\n  series: JsonObject,\n  formData: QueryFormData,\n): boolean => {\n  const comparisonType = formData.comparison_type;\n  if (comparisonType !== ComparisonType.Values) {\n    return false;\n  }\n  const timeCompare: string[] = ensureIsArray(formData?.time_compare);\n  return hasTimeOffset(series, timeCompare);\n};\n"]},"metadata":{},"sourceType":"module"}