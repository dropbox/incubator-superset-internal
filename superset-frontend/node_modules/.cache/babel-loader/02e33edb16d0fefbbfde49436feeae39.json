{"ast":null,"code":"import _includesInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/includes\"; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * Sort comparator with basic rankings.\n */\nexport function rankedSearchCompare(a, b, search) {\n  const aLower = a.toLowerCase() || '';\n  const bLower = b.toLowerCase() || '';\n  const searchLower = search.toLowerCase() || '';\n  if (!search)\n  return a.localeCompare(b);\n  return Number(b === search) - Number(a === search) ||\n  Number(b.startsWith(search)) - Number(a.startsWith(search)) ||\n  Number(bLower === searchLower) - Number(aLower === searchLower) ||\n  Number(bLower.startsWith(searchLower)) -\n  Number(aLower.startsWith(searchLower)) ||\n  Number(_includesInstanceProperty(b).call(b, search)) - Number(_includesInstanceProperty(a).call(a, search)) ||\n  Number(_includesInstanceProperty(bLower).call(bLower, searchLower)) - Number(_includesInstanceProperty(a).call(a, searchLower)) ||\n  a.localeCompare(b);\n}","map":{"version":3,"mappings":"iGAAA;;;;;;;;;;;;;;;;;;AAmBA;;;AAGA,OAAM,SAAUA,mBAAV,CAA8BC,CAA9B,EAAyCC,CAAzC,EAAoDC,MAApD,EAAkE;EACtE,MAAMC,MAAM,GAAGH,CAAC,CAACI,WAAF,MAAmB,EAAlC;EACA,MAAMC,MAAM,GAAGJ,CAAC,CAACG,WAAF,MAAmB,EAAlC;EACA,MAAME,WAAW,GAAGJ,MAAM,CAACE,WAAP,MAAwB,EAA5C;EACA,IAAI,CAACF,MAAL;EAAa,OAAOF,CAAC,CAACO,aAAF,CAAgBN,CAAhB,CAAP;EACb,OACEO,MAAM,CAACP,CAAC,KAAKC,MAAP,CAAN,GAAuBM,MAAM,CAACR,CAAC,KAAKE,MAAP,CAA7B;EACAM,MAAM,CAACP,CAAC,CAACQ,UAAF,CAAaP,MAAb,CAAD,CAAN,GAA+BM,MAAM,CAACR,CAAC,CAACS,UAAF,CAAaP,MAAb,CAAD,CADrC;EAEAM,MAAM,CAACH,MAAM,KAAKC,WAAZ,CAAN,GAAiCE,MAAM,CAACL,MAAM,KAAKG,WAAZ,CAFvC;EAGAE,MAAM,CAACH,MAAM,CAACI,UAAP,CAAkBH,WAAlB,CAAD,CAAN;EACEE,MAAM,CAACL,MAAM,CAACM,UAAP,CAAkBH,WAAlB,CAAD,CAJR;EAKAE,MAAM,CAAC,2BAAC,MAAD,EAAC,EAAUN,MAAV,CAAF,CAAN,GAA6BM,MAAM,CAAC,2BAAC,MAAD,EAAC,EAAUN,MAAV,CAAF,CALnC;EAMAM,MAAM,CAAC,gCAAM,MAAN,OAAM,EAAUF,WAAV,CAAP,CAAN,GAAuCE,MAAM,CAAC,2BAAC,MAAD,EAAC,EAAUF,WAAV,CAAF,CAN7C;EAOAN,CAAC,CAACO,aAAF,CAAgBN,CAAhB,CARF;AAUD","names":["rankedSearchCompare","a","b","search","aLower","toLowerCase","bLower","searchLower","localeCompare","Number","startsWith"],"sourceRoot":"","sources":["/Users/zhaorui/src/incubator-superset-internal/superset-frontend/src/utils/rankedSearchCompare.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * Sort comparator with basic rankings.\n */\nexport function rankedSearchCompare(a: string, b: string, search: string) {\n  const aLower = a.toLowerCase() || '';\n  const bLower = b.toLowerCase() || '';\n  const searchLower = search.toLowerCase() || '';\n  if (!search) return a.localeCompare(b);\n  return (\n    Number(b === search) - Number(a === search) ||\n    Number(b.startsWith(search)) - Number(a.startsWith(search)) ||\n    Number(bLower === searchLower) - Number(aLower === searchLower) ||\n    Number(bLower.startsWith(searchLower)) -\n      Number(aLower.startsWith(searchLower)) ||\n    Number(b.includes(search)) - Number(a.includes(search)) ||\n    Number(bLower.includes(searchLower)) - Number(a.includes(searchLower)) ||\n    a.localeCompare(b)\n  );\n}\n"]},"metadata":{},"sourceType":"module"}