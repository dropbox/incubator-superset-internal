{"ast":null,"code":"import _includesInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/includes\";function _EMOTION_STRINGIFIED_CSS_ERROR__() {return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";} /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport Split from 'react-split';\nimport {\ncss,\nDatasourceType,\nensureIsArray,\nisFeatureEnabled,\nFeatureFlag,\ngetChartMetadataRegistry,\nstyled,\nSupersetClient,\nt,\nuseTheme } from\n'@superset-ui/core';\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\nimport ChartContainer from 'src/components/Chart/ChartContainer';\nimport {\ngetItem,\nsetItem,\nLocalStorageKeys } from\n'src/utils/localStorageHelpers';\nimport Alert from 'src/components/Alert';\nimport { SaveDatasetModal } from 'src/SqlLab/components/SaveDatasetModal';\nimport { getDatasourceAsSaveableDataset } from 'src/utils/datasourceUtils';\nimport { buildV1ChartDataPayload } from 'src/explore/exploreUtils';\nimport { getChartRequiredFieldsMissingMessage } from 'src/utils/getChartRequiredFieldsMissingMessage';\nimport { DataTablesPane } from '../DataTablesPane';\nimport { ChartPills } from '../ChartPills';\nimport { ExploreAlert } from '../ExploreAlert';\nimport useResizeDetectorByObserver from './useResizeDetectorByObserver';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  actions: PropTypes.object.isRequired,\n  onQuery: PropTypes.func,\n  can_overwrite: PropTypes.bool.isRequired,\n  can_download: PropTypes.bool.isRequired,\n  datasource: PropTypes.object,\n  dashboardId: PropTypes.number,\n  column_formats: PropTypes.object,\n  containerId: PropTypes.string.isRequired,\n  isStarred: PropTypes.bool.isRequired,\n  slice: PropTypes.object,\n  sliceName: PropTypes.string,\n  table_name: PropTypes.string,\n  vizType: PropTypes.string.isRequired,\n  form_data: PropTypes.object,\n  ownState: PropTypes.object,\n  standalone: PropTypes.bool,\n  force: PropTypes.bool,\n  timeout: PropTypes.number,\n  chartIsStale: PropTypes.bool,\n  chart: chartPropShape,\n  errorMessage: PropTypes.node,\n  triggerRender: PropTypes.bool };\n\n\nconst GUTTER_SIZE_FACTOR = 1.25;\n\nconst INITIAL_SIZES = [100, 0];\nconst MIN_SIZES = [300, 65];\nconst DEFAULT_SOUTH_PANE_HEIGHT_PERCENT = 40;\n\nconst Styles = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  align-content: stretch;\n  overflow: auto;\n  box-shadow: none;\n  height: 100%;\n\n  & > div {\n    height: 100%;\n  }\n\n  .gutter {\n    border-top: 1px solid ${(_ref) => {let { theme } = _ref;return theme.colors.grayscale.light2;}};\n    border-bottom: 1px solid ${(_ref2) => {let { theme } = _ref2;return theme.colors.grayscale.light2;}};\n    width: ${(_ref3) => {let { theme } = _ref3;return theme.gridUnit * 9;}}px;\n    margin: ${(_ref4) => {let { theme } = _ref4;return theme.gridUnit * GUTTER_SIZE_FACTOR;}}px auto;\n  }\n\n  .gutter.gutter-vertical {\n    display: ${(_ref5) => {let { showSplite } = _ref5;return showSplite ? 'block' : 'none';}};\n    cursor: row-resize;\n  }\n\n  .ant-collapse {\n    .ant-tabs {\n      height: 100%;\n      .ant-tabs-nav {\n        padding-left: ${(_ref6) => {let { theme } = _ref6;return theme.gridUnit * 5;}}px;\n        margin: 0;\n      }\n      .ant-tabs-content-holder {\n        overflow: hidden;\n        .ant-tabs-content {\n          height: 100%;\n        }\n      }\n    }\n  }\n`;var _ref8 = process.env.NODE_ENV === \"production\" ? { name: \"1wbll7q\", styles: \"text-decoration:underline\" } : { name: \"1iriwhq-panelBody\", styles: \"text-decoration:underline;label:panelBody;\", map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy96aGFvcnVpL3NyYy9pbmN1YmF0b3Itc3VwZXJzZXQtaW50ZXJuYWwvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9FeHBsb3JlQ2hhcnRQYW5lbC9pbmRleC5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBdVVrQiIsImZpbGUiOiIvVXNlcnMvemhhb3J1aS9zcmMvaW5jdWJhdG9yLXN1cGVyc2V0LWludGVybmFsL3N1cGVyc2V0LWZyb250ZW5kL3NyYy9leHBsb3JlL2NvbXBvbmVudHMvRXhwbG9yZUNoYXJ0UGFuZWwvaW5kZXguanN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBTcGxpdCBmcm9tICdyZWFjdC1zcGxpdCc7XG5pbXBvcnQge1xuICBjc3MsXG4gIERhdGFzb3VyY2VUeXBlLFxuICBlbnN1cmVJc0FycmF5LFxuICBpc0ZlYXR1cmVFbmFibGVkLFxuICBGZWF0dXJlRmxhZyxcbiAgZ2V0Q2hhcnRNZXRhZGF0YVJlZ2lzdHJ5LFxuICBzdHlsZWQsXG4gIFN1cGVyc2V0Q2xpZW50LFxuICB0LFxuICB1c2VUaGVtZSxcbn0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgY2hhcnRQcm9wU2hhcGUgfSBmcm9tICdzcmMvZGFzaGJvYXJkL3V0aWwvcHJvcFNoYXBlcyc7XG5pbXBvcnQgQ2hhcnRDb250YWluZXIgZnJvbSAnc3JjL2NvbXBvbmVudHMvQ2hhcnQvQ2hhcnRDb250YWluZXInO1xuaW1wb3J0IHtcbiAgZ2V0SXRlbSxcbiAgc2V0SXRlbSxcbiAgTG9jYWxTdG9yYWdlS2V5cyxcbn0gZnJvbSAnc3JjL3V0aWxzL2xvY2FsU3RvcmFnZUhlbHBlcnMnO1xuaW1wb3J0IEFsZXJ0IGZyb20gJ3NyYy9jb21wb25lbnRzL0FsZXJ0JztcbmltcG9ydCB7IFNhdmVEYXRhc2V0TW9kYWwgfSBmcm9tICdzcmMvU3FsTGFiL2NvbXBvbmVudHMvU2F2ZURhdGFzZXRNb2RhbCc7XG5pbXBvcnQgeyBnZXREYXRhc291cmNlQXNTYXZlYWJsZURhdGFzZXQgfSBmcm9tICdzcmMvdXRpbHMvZGF0YXNvdXJjZVV0aWxzJztcbmltcG9ydCB7IGJ1aWxkVjFDaGFydERhdGFQYXlsb2FkIH0gZnJvbSAnc3JjL2V4cGxvcmUvZXhwbG9yZVV0aWxzJztcbmltcG9ydCB7IGdldENoYXJ0UmVxdWlyZWRGaWVsZHNNaXNzaW5nTWVzc2FnZSB9IGZyb20gJ3NyYy91dGlscy9nZXRDaGFydFJlcXVpcmVkRmllbGRzTWlzc2luZ01lc3NhZ2UnO1xuaW1wb3J0IHsgRGF0YVRhYmxlc1BhbmUgfSBmcm9tICcuLi9EYXRhVGFibGVzUGFuZSc7XG5pbXBvcnQgeyBDaGFydFBpbGxzIH0gZnJvbSAnLi4vQ2hhcnRQaWxscyc7XG5pbXBvcnQgeyBFeHBsb3JlQWxlcnQgfSBmcm9tICcuLi9FeHBsb3JlQWxlcnQnO1xuaW1wb3J0IHVzZVJlc2l6ZURldGVjdG9yQnlPYnNlcnZlciBmcm9tICcuL3VzZVJlc2l6ZURldGVjdG9yQnlPYnNlcnZlcic7XG5cbmNvbnN0IHByb3BUeXBlcyA9IHtcbiAgYWN0aW9uczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBvblF1ZXJ5OiBQcm9wVHlwZXMuZnVuYyxcbiAgY2FuX292ZXJ3cml0ZTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgY2FuX2Rvd25sb2FkOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBkYXRhc291cmNlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBkYXNoYm9hcmRJZDogUHJvcFR5cGVzLm51bWJlcixcbiAgY29sdW1uX2Zvcm1hdHM6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNvbnRhaW5lcklkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGlzU3RhcnJlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgc2xpY2U6IFByb3BUeXBlcy5vYmplY3QsXG4gIHNsaWNlTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgdGFibGVfbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgdml6VHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBmb3JtX2RhdGE6IFByb3BUeXBlcy5vYmplY3QsXG4gIG93blN0YXRlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBzdGFuZGFsb25lOiBQcm9wVHlwZXMuYm9vbCxcbiAgZm9yY2U6IFByb3BUeXBlcy5ib29sLFxuICB0aW1lb3V0OiBQcm9wVHlwZXMubnVtYmVyLFxuICBjaGFydElzU3RhbGU6IFByb3BUeXBlcy5ib29sLFxuICBjaGFydDogY2hhcnRQcm9wU2hhcGUsXG4gIGVycm9yTWVzc2FnZTogUHJvcFR5cGVzLm5vZGUsXG4gIHRyaWdnZXJSZW5kZXI6IFByb3BUeXBlcy5ib29sLFxufTtcblxuY29uc3QgR1VUVEVSX1NJWkVfRkFDVE9SID0gMS4yNTtcblxuY29uc3QgSU5JVElBTF9TSVpFUyA9IFsxMDAsIDBdO1xuY29uc3QgTUlOX1NJWkVTID0gWzMwMCwgNjVdO1xuY29uc3QgREVGQVVMVF9TT1VUSF9QQU5FX0hFSUdIVF9QRVJDRU5UID0gNDA7XG5cbmNvbnN0IFN0eWxlcyA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICBhbGlnbi1jb250ZW50OiBzdHJldGNoO1xuICBvdmVyZmxvdzogYXV0bztcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgaGVpZ2h0OiAxMDAlO1xuXG4gICYgPiBkaXYge1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIC5ndXR0ZXIge1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQyfTtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmxpZ2h0Mn07XG4gICAgd2lkdGg6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiA5fXB4O1xuICAgIG1hcmdpbjogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIEdVVFRFUl9TSVpFX0ZBQ1RPUn1weCBhdXRvO1xuICB9XG5cbiAgLmd1dHRlci5ndXR0ZXItdmVydGljYWwge1xuICAgIGRpc3BsYXk6ICR7KHsgc2hvd1NwbGl0ZSB9KSA9PiAoc2hvd1NwbGl0ZSA/ICdibG9jaycgOiAnbm9uZScpfTtcbiAgICBjdXJzb3I6IHJvdy1yZXNpemU7XG4gIH1cblxuICAuYW50LWNvbGxhcHNlIHtcbiAgICAuYW50LXRhYnMge1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgLmFudC10YWJzLW5hdiB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDV9cHg7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgIH1cbiAgICAgIC5hbnQtdGFicy1jb250ZW50LWhvbGRlciB7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIC5hbnQtdGFicy1jb250ZW50IHtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbmA7XG5cbmNvbnN0IEV4cGxvcmVDaGFydFBhbmVsID0gKHtcbiAgY2hhcnQsXG4gIHNsaWNlLFxuICB2aXpUeXBlLFxuICBvd25TdGF0ZSxcbiAgdHJpZ2dlclJlbmRlcixcbiAgZm9yY2UsXG4gIGRhdGFzb3VyY2UsXG4gIGVycm9yTWVzc2FnZSxcbiAgZm9ybV9kYXRhOiBmb3JtRGF0YSxcbiAgb25RdWVyeSxcbiAgYWN0aW9ucyxcbiAgdGltZW91dCxcbiAgc3RhbmRhbG9uZSxcbiAgY2hhcnRJc1N0YWxlLFxuICBjaGFydEFsZXJ0LFxufSkgPT4ge1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IGd1dHRlck1hcmdpbiA9IHRoZW1lLmdyaWRVbml0ICogR1VUVEVSX1NJWkVfRkFDVE9SO1xuICBjb25zdCBndXR0ZXJIZWlnaHQgPSB0aGVtZS5ncmlkVW5pdCAqIEdVVFRFUl9TSVpFX0ZBQ1RPUjtcbiAgY29uc3Qge1xuICAgIHJlZjogY2hhcnRQYW5lbFJlZixcbiAgICBvYnNlcnZlclJlZjogcmVzaXplT2JzZXJ2ZXJSZWYsXG4gICAgd2lkdGg6IGNoYXJ0UGFuZWxXaWR0aCxcbiAgICBoZWlnaHQ6IGNoYXJ0UGFuZWxIZWlnaHQsXG4gIH0gPSB1c2VSZXNpemVEZXRlY3RvckJ5T2JzZXJ2ZXIoKTtcbiAgY29uc3QgW3NwbGl0U2l6ZXMsIHNldFNwbGl0U2l6ZXNdID0gdXNlU3RhdGUoXG4gICAgaXNGZWF0dXJlRW5hYmxlZChGZWF0dXJlRmxhZy5EQVRBUEFORUxfQ0xPU0VEX0JZX0RFRkFVTFQpXG4gICAgICA/IElOSVRJQUxfU0laRVNcbiAgICAgIDogZ2V0SXRlbShMb2NhbFN0b3JhZ2VLZXlzLmNoYXJ0X3NwbGl0X3NpemVzLCBJTklUSUFMX1NJWkVTKSxcbiAgKTtcbiAgY29uc3QgW3Nob3dTcGxpdGUsIHNldFNob3dTcGxpdF0gPSB1c2VTdGF0ZShcbiAgICBpc0ZlYXR1cmVFbmFibGVkKEZlYXR1cmVGbGFnLkRBVEFQQU5FTF9DTE9TRURfQllfREVGQVVMVClcbiAgICAgID8gZmFsc2VcbiAgICAgIDogZ2V0SXRlbShMb2NhbFN0b3JhZ2VLZXlzLmlzX2RhdGFwYW5lbF9vcGVuLCBmYWxzZSksXG4gICk7XG5cbiAgY29uc3QgW3Nob3dEYXRhc2V0TW9kYWwsIHNldFNob3dEYXRhc2V0TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IG1ldGFEYXRhUmVnaXN0cnkgPSBnZXRDaGFydE1ldGFkYXRhUmVnaXN0cnkoKTtcbiAgY29uc3QgeyB1c2VMZWdhY3lBcGkgfSA9IG1ldGFEYXRhUmVnaXN0cnkuZ2V0KHZpelR5cGUpID8/IHt9O1xuICBjb25zdCB2aXpUeXBlTmVlZHNEYXRhc2V0ID1cbiAgICB1c2VMZWdhY3lBcGkgJiYgZGF0YXNvdXJjZS50eXBlICE9PSBEYXRhc291cmNlVHlwZS5UYWJsZTtcbiAgLy8gYWRkZWQgYm9vbGVhbiBjb2x1bW4gdG8gYmVsb3cgc2hvdyBib29sZWFuIHNvIHRoYXQgdGhlIGVycm9ycyBhcmVuJ3Qgb3ZlcmxhcHBpbmdcbiAgY29uc3Qgc2hvd0FsZXJ0QmFubmVyID1cbiAgICAhY2hhcnRBbGVydCAmJlxuICAgIGNoYXJ0SXNTdGFsZSAmJlxuICAgICF2aXpUeXBlTmVlZHNEYXRhc2V0ICYmXG4gICAgY2hhcnQuY2hhcnRTdGF0dXMgIT09ICdmYWlsZWQnICYmXG4gICAgZW5zdXJlSXNBcnJheShjaGFydC5xdWVyaWVzUmVzcG9uc2UpLmxlbmd0aCA+IDA7XG5cbiAgY29uc3QgdXBkYXRlUXVlcnlDb250ZXh0ID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hDaGFydERhdGEoKSB7XG4gICAgICBpZiAoc2xpY2UgJiYgc2xpY2UucXVlcnlfY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCBxdWVyeUNvbnRleHQgPSBidWlsZFYxQ2hhcnREYXRhUGF5bG9hZCh7XG4gICAgICAgICAgZm9ybURhdGE6IHNsaWNlLmZvcm1fZGF0YSxcbiAgICAgICAgICBmb3JjZSxcbiAgICAgICAgICByZXN1bHRGb3JtYXQ6ICdqc29uJyxcbiAgICAgICAgICByZXN1bHRUeXBlOiAnZnVsbCcsXG4gICAgICAgICAgc2V0RGF0YU1hc2s6IG51bGwsXG4gICAgICAgICAgb3duU3RhdGU6IG51bGwsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IFN1cGVyc2V0Q2xpZW50LnB1dCh7XG4gICAgICAgICAgZW5kcG9pbnQ6IGAvYXBpL3YxL2NoYXJ0LyR7c2xpY2Uuc2xpY2VfaWR9YCxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBxdWVyeV9jb250ZXh0OiBKU09OLnN0cmluZ2lmeShxdWVyeUNvbnRleHQpLFxuICAgICAgICAgICAgcXVlcnlfY29udGV4dF9nZW5lcmF0aW9uOiB0cnVlLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzbGljZV0sXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB1cGRhdGVRdWVyeUNvbnRleHQoKTtcbiAgfSwgW3VwZGF0ZVF1ZXJ5Q29udGV4dF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXRlbShMb2NhbFN0b3JhZ2VLZXlzLmNoYXJ0X3NwbGl0X3NpemVzLCBzcGxpdFNpemVzKTtcbiAgfSwgW3NwbGl0U2l6ZXNdKTtcblxuICBjb25zdCBvbkRyYWdFbmQgPSB1c2VDYWxsYmFjayhzaXplcyA9PiB7XG4gICAgc2V0U3BsaXRTaXplcyhzaXplcyk7XG4gIH0sIFtdKTtcblxuICBjb25zdCByZWZyZXNoQ2FjaGVkUXVlcnkgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgYWN0aW9ucy5zZXRGb3JjZVF1ZXJ5KHRydWUpO1xuICAgIGFjdGlvbnMucG9zdENoYXJ0Rm9ybURhdGEoXG4gICAgICBmb3JtRGF0YSxcbiAgICAgIHRydWUsXG4gICAgICB0aW1lb3V0LFxuICAgICAgY2hhcnQuaWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBvd25TdGF0ZSxcbiAgICApO1xuICAgIGFjdGlvbnMudXBkYXRlUXVlcnlGb3JtRGF0YShmb3JtRGF0YSwgY2hhcnQuaWQpO1xuICB9LCBbYWN0aW9ucywgY2hhcnQuaWQsIGZvcm1EYXRhLCBvd25TdGF0ZSwgdGltZW91dF0pO1xuXG4gIGNvbnN0IG9uQ29sbGFwc2VDaGFuZ2UgPSB1c2VDYWxsYmFjayhpc09wZW4gPT4ge1xuICAgIGxldCBzcGxpdFNpemVzO1xuICAgIGlmICghaXNPcGVuKSB7XG4gICAgICBzcGxpdFNpemVzID0gSU5JVElBTF9TSVpFUztcbiAgICB9IGVsc2Uge1xuICAgICAgc3BsaXRTaXplcyA9IFtcbiAgICAgICAgMTAwIC0gREVGQVVMVF9TT1VUSF9QQU5FX0hFSUdIVF9QRVJDRU5ULFxuICAgICAgICBERUZBVUxUX1NPVVRIX1BBTkVfSEVJR0hUX1BFUkNFTlQsXG4gICAgICBdO1xuICAgIH1cbiAgICBzZXRTcGxpdFNpemVzKHNwbGl0U2l6ZXMpO1xuICAgIHNldFNob3dTcGxpdChpc09wZW4pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgcmVuZGVyQ2hhcnQgPSB1c2VDYWxsYmFjayhcbiAgICAoKSA9PiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgIG1pbi1oZWlnaHQ6IDA7XG4gICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgYH1cbiAgICAgICAgcmVmPXtjaGFydFBhbmVsUmVmfVxuICAgICAgPlxuICAgICAgICB7Y2hhcnRQYW5lbFdpZHRoICYmIGNoYXJ0UGFuZWxIZWlnaHQgJiYgKFxuICAgICAgICAgIDxDaGFydENvbnRhaW5lclxuICAgICAgICAgICAgd2lkdGg9e01hdGguZmxvb3IoY2hhcnRQYW5lbFdpZHRoKX1cbiAgICAgICAgICAgIGhlaWdodD17Y2hhcnRQYW5lbEhlaWdodH1cbiAgICAgICAgICAgIG93blN0YXRlPXtvd25TdGF0ZX1cbiAgICAgICAgICAgIGFubm90YXRpb25EYXRhPXtjaGFydC5hbm5vdGF0aW9uRGF0YX1cbiAgICAgICAgICAgIGNoYXJ0QWxlcnQ9e2NoYXJ0LmNoYXJ0QWxlcnR9XG4gICAgICAgICAgICBjaGFydFN0YWNrVHJhY2U9e2NoYXJ0LmNoYXJ0U3RhY2tUcmFjZX1cbiAgICAgICAgICAgIGNoYXJ0SWQ9e2NoYXJ0LmlkfVxuICAgICAgICAgICAgY2hhcnRTdGF0dXM9e2NoYXJ0LmNoYXJ0U3RhdHVzfVxuICAgICAgICAgICAgdHJpZ2dlclJlbmRlcj17dHJpZ2dlclJlbmRlcn1cbiAgICAgICAgICAgIGZvcmNlPXtmb3JjZX1cbiAgICAgICAgICAgIGRhdGFzb3VyY2U9e2RhdGFzb3VyY2V9XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U9e2Vycm9yTWVzc2FnZX1cbiAgICAgICAgICAgIGZvcm1EYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgICAgIGxhdGVzdFF1ZXJ5Rm9ybURhdGE9e2NoYXJ0LmxhdGVzdFF1ZXJ5Rm9ybURhdGF9XG4gICAgICAgICAgICBvblF1ZXJ5PXtvblF1ZXJ5fVxuICAgICAgICAgICAgcXVlcmllc1Jlc3BvbnNlPXtjaGFydC5xdWVyaWVzUmVzcG9uc2V9XG4gICAgICAgICAgICBjaGFydElzU3RhbGU9e2NoYXJ0SXNTdGFsZX1cbiAgICAgICAgICAgIHNldENvbnRyb2xWYWx1ZT17YWN0aW9ucy5zZXRDb250cm9sVmFsdWV9XG4gICAgICAgICAgICB0aW1lb3V0PXt0aW1lb3V0fVxuICAgICAgICAgICAgdHJpZ2dlclF1ZXJ5PXtjaGFydC50cmlnZ2VyUXVlcnl9XG4gICAgICAgICAgICB2aXpUeXBlPXt2aXpUeXBlfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApLFxuICAgIFtcbiAgICAgIGFjdGlvbnMuc2V0Q29udHJvbFZhbHVlLFxuICAgICAgY2hhcnQuYW5ub3RhdGlvbkRhdGEsXG4gICAgICBjaGFydC5jaGFydEFsZXJ0LFxuICAgICAgY2hhcnQuY2hhcnRTdGFja1RyYWNlLFxuICAgICAgY2hhcnQuY2hhcnRTdGF0dXMsXG4gICAgICBjaGFydC5pZCxcbiAgICAgIGNoYXJ0LmxhdGVzdFF1ZXJ5Rm9ybURhdGEsXG4gICAgICBjaGFydC5xdWVyaWVzUmVzcG9uc2UsXG4gICAgICBjaGFydC50cmlnZ2VyUXVlcnksXG4gICAgICBjaGFydElzU3RhbGUsXG4gICAgICBjaGFydFBhbmVsSGVpZ2h0LFxuICAgICAgY2hhcnRQYW5lbFJlZixcbiAgICAgIGNoYXJ0UGFuZWxXaWR0aCxcbiAgICAgIGRhdGFzb3VyY2UsXG4gICAgICBlcnJvck1lc3NhZ2UsXG4gICAgICBmb3JjZSxcbiAgICAgIGZvcm1EYXRhLFxuICAgICAgb25RdWVyeSxcbiAgICAgIG93blN0YXRlLFxuICAgICAgdGltZW91dCxcbiAgICAgIHRyaWdnZXJSZW5kZXIsXG4gICAgICB2aXpUeXBlLFxuICAgIF0sXG4gICk7XG5cbiAgY29uc3QgcGFuZWxCb2R5ID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIlxuICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGB9XG4gICAgICAgIHJlZj17cmVzaXplT2JzZXJ2ZXJSZWZ9XG4gICAgICA+XG4gICAgICAgIHt2aXpUeXBlTmVlZHNEYXRhc2V0ICYmIChcbiAgICAgICAgICA8QWxlcnRcbiAgICAgICAgICAgIG1lc3NhZ2U9e3QoJ0NoYXJ0IHR5cGUgcmVxdWlyZXMgYSBkYXRhc2V0Jyl9XG4gICAgICAgICAgICB0eXBlPVwiZXJyb3JcIlxuICAgICAgICAgICAgY3NzPXt0aGVtZSA9PiBjc3NgXG4gICAgICAgICAgICAgIG1hcmdpbjogMCAwICR7dGhlbWUuZ3JpZFVuaXQgKiA0fXB4IDA7XG4gICAgICAgICAgICBgfVxuICAgICAgICAgICAgZGVzY3JpcHRpb249e1xuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHt0KFxuICAgICAgICAgICAgICAgICAgJ1RoaXMgY2hhcnQgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIHdoZW4gdXNpbmcgYW4gdW5zYXZlZCBxdWVyeSBhcyBhIGNoYXJ0IHNvdXJjZS4gJyxcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIHRhYkluZGV4PXswfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0RhdGFzZXRNb2RhbCh0cnVlKX1cbiAgICAgICAgICAgICAgICAgIGNzcz17eyB0ZXh0RGVjb3JhdGlvbjogJ3VuZGVybGluZScgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dCgnQ3JlYXRlIGEgZGF0YXNldCcpfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7dCgnIHRvIHZpc3VhbGl6ZSB5b3VyIGRhdGEuJyl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIHtzaG93QWxlcnRCYW5uZXIgJiYgKFxuICAgICAgICAgIDxFeHBsb3JlQWxlcnRcbiAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlXG4gICAgICAgICAgICAgICAgPyB0KCdSZXF1aXJlZCBjb250cm9sIHZhbHVlcyBoYXZlIGJlZW4gcmVtb3ZlZCcpXG4gICAgICAgICAgICAgICAgOiB0KCdZb3VyIGNoYXJ0IGlzIG5vdCB1cCB0byBkYXRlJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvZHlUZXh0PXtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID8gKFxuICAgICAgICAgICAgICAgIGdldENoYXJ0UmVxdWlyZWRGaWVsZHNNaXNzaW5nTWVzc2FnZShmYWxzZSlcbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIHt0KFxuICAgICAgICAgICAgICAgICAgICAnWW91IHVwZGF0ZWQgdGhlIHZhbHVlcyBpbiB0aGUgY29udHJvbCBwYW5lbCwgYnV0IHRoZSBjaGFydCB3YXMgbm90IHVwZGF0ZWQgYXV0b21hdGljYWxseS4gUnVuIHRoZSBxdWVyeSBieSBjbGlja2luZyBvbiB0aGUgXCJVcGRhdGUgY2hhcnRcIiBidXR0b24gb3InLFxuICAgICAgICAgICAgICAgICAgKX17JyAnfVxuICAgICAgICAgICAgICAgICAgPHNwYW4gcm9sZT1cImJ1dHRvblwiIHRhYkluZGV4PXswfSBvbkNsaWNrPXtvblF1ZXJ5fT5cbiAgICAgICAgICAgICAgICAgICAge3QoJ2NsaWNrIGhlcmUnKX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIC5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHR5cGU9XCJ3YXJuaW5nXCJcbiAgICAgICAgICAgIGNzcz17dGhlbWUgPT4gY3NzYFxuICAgICAgICAgICAgICBtYXJnaW46IDAgMCAke3RoZW1lLmdyaWRVbml0ICogNH1weCAwO1xuICAgICAgICAgICAgYH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICA8Q2hhcnRQaWxsc1xuICAgICAgICAgIHF1ZXJpZXNSZXNwb25zZT17Y2hhcnQucXVlcmllc1Jlc3BvbnNlfVxuICAgICAgICAgIGNoYXJ0U3RhdHVzPXtjaGFydC5jaGFydFN0YXR1c31cbiAgICAgICAgICBjaGFydFVwZGF0ZVN0YXJ0VGltZT17Y2hhcnQuY2hhcnRVcGRhdGVTdGFydFRpbWV9XG4gICAgICAgICAgY2hhcnRVcGRhdGVFbmRUaW1lPXtjaGFydC5jaGFydFVwZGF0ZUVuZFRpbWV9XG4gICAgICAgICAgcmVmcmVzaENhY2hlZFF1ZXJ5PXtyZWZyZXNoQ2FjaGVkUXVlcnl9XG4gICAgICAgICAgcm93TGltaXQ9e2Zvcm1EYXRhPy5yb3dfbGltaXR9XG4gICAgICAgIC8+XG4gICAgICAgIHtyZW5kZXJDaGFydCgpfVxuICAgICAgPC9kaXY+XG4gICAgKSxcbiAgICBbXG4gICAgICByZXNpemVPYnNlcnZlclJlZixcbiAgICAgIHNob3dBbGVydEJhbm5lcixcbiAgICAgIGVycm9yTWVzc2FnZSxcbiAgICAgIG9uUXVlcnksXG4gICAgICBjaGFydC5xdWVyaWVzUmVzcG9uc2UsXG4gICAgICBjaGFydC5jaGFydFN0YXR1cyxcbiAgICAgIGNoYXJ0LmNoYXJ0VXBkYXRlU3RhcnRUaW1lLFxuICAgICAgY2hhcnQuY2hhcnRVcGRhdGVFbmRUaW1lLFxuICAgICAgcmVmcmVzaENhY2hlZFF1ZXJ5LFxuICAgICAgZm9ybURhdGE/LnJvd19saW1pdCxcbiAgICAgIHJlbmRlckNoYXJ0LFxuICAgIF0sXG4gICk7XG5cbiAgY29uc3Qgc3RhbmRhbG9uZUNoYXJ0Qm9keSA9IHVzZU1lbW8oKCkgPT4gcmVuZGVyQ2hhcnQoKSwgW3JlbmRlckNoYXJ0XSk7XG5cbiAgY29uc3QgW3F1ZXJ5Rm9ybURhdGEsIHNldFF1ZXJ5Rm9ybURhdGFdID0gdXNlU3RhdGUoY2hhcnQubGF0ZXN0UXVlcnlGb3JtRGF0YSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBvbmx5IHVwZGF0ZSB3aGVuIGBsYXRlc3RRdWVyeUZvcm1EYXRhYCBjaGFuZ2VzIEFORCBgdHJpZ2dlclJlbmRlcmBcbiAgICAvLyBpcyBmYWxzZS4gTm8gdXBkYXRlIHNob3VsZCBiZSBkb25lIHdoZW4gb25seSBgdHJpZ2dlclJlbmRlcmAgY2hhbmdlcyxcbiAgICAvLyBhcyB0aGlzIGNhbiB0cmlnZ2VyIGEgcXVlcnkgZG93bnN0cmVhbSBiYXNlZCBvbiBpbmNvbXBsZXRlIGZvcm0gZGF0YS5cbiAgICAvLyAoYGxhdGVzdFF1ZXJ5Rm9ybURhdGFgIGlzIG9ubHkgdXBkYXRlZCB3aGVuIGEgYSB2YWxpZCByZXF1ZXN0IGhhcyBiZWVuXG4gICAgLy8gdHJpZ2dlcmVkKS5cbiAgICBpZiAoIXRyaWdnZXJSZW5kZXIpIHtcbiAgICAgIHNldFF1ZXJ5Rm9ybURhdGEoY2hhcnQubGF0ZXN0UXVlcnlGb3JtRGF0YSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2NoYXJ0LmxhdGVzdFF1ZXJ5Rm9ybURhdGFdKTtcblxuICBjb25zdCBlbGVtZW50U3R5bGUgPSB1c2VDYWxsYmFjayhcbiAgICAoZGltZW5zaW9uLCBlbGVtZW50U2l6ZSwgZ3V0dGVyU2l6ZSkgPT4gKHtcbiAgICAgIFtkaW1lbnNpb25dOiBgY2FsYygke2VsZW1lbnRTaXplfSUgLSAke2d1dHRlclNpemUgKyBndXR0ZXJNYXJnaW59cHgpYCxcbiAgICB9KSxcbiAgICBbZ3V0dGVyTWFyZ2luXSxcbiAgKTtcblxuICBpZiAoc3RhbmRhbG9uZSkge1xuICAgIC8vIGRvbSBtYW5pcHVsYXRpb24gaGFjayB0byBnZXQgcmlkIG9mIHRoZSBib290c3RyYXAgdGhlbWUncyBib2R5IGJhY2tncm91bmRcbiAgICBjb25zdCBzdGFuZGFsb25lQ2xhc3MgPSAnYmFja2dyb3VuZC10cmFuc3BhcmVudCc7XG4gICAgY29uc3QgYm9keUNsYXNzZXMgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5zcGxpdCgnICcpO1xuICAgIGlmICghYm9keUNsYXNzZXMuaW5jbHVkZXMoc3RhbmRhbG9uZUNsYXNzKSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgKz0gYCAke3N0YW5kYWxvbmVDbGFzc31gO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBpZD1cImFwcFwiIGRhdGEtdGVzdD1cInN0YW5kYWxvbmUtYXBwXCIgcmVmPXtyZXNpemVPYnNlcnZlclJlZn0+XG4gICAgICAgIHtzdGFuZGFsb25lQ2hhcnRCb2R5fVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFN0eWxlc1xuICAgICAgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBjaGFydC1jb250YWluZXJcIlxuICAgICAgc2hvd1NwbGl0ZT17c2hvd1NwbGl0ZX1cbiAgICA+XG4gICAgICB7dml6VHlwZSA9PT0gJ2ZpbHRlcl9ib3gnID8gKFxuICAgICAgICBwYW5lbEJvZHlcbiAgICAgICkgOiAoXG4gICAgICAgIDxTcGxpdFxuICAgICAgICAgIHNpemVzPXtzcGxpdFNpemVzfVxuICAgICAgICAgIG1pblNpemU9e01JTl9TSVpFU31cbiAgICAgICAgICBkaXJlY3Rpb249XCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgZ3V0dGVyU2l6ZT17Z3V0dGVySGVpZ2h0fVxuICAgICAgICAgIG9uRHJhZ0VuZD17b25EcmFnRW5kfVxuICAgICAgICAgIGVsZW1lbnRTdHlsZT17ZWxlbWVudFN0eWxlfVxuICAgICAgICAgIGV4cGFuZFRvTWluXG4gICAgICAgID5cbiAgICAgICAgICB7cGFuZWxCb2R5fVxuICAgICAgICAgIDxEYXRhVGFibGVzUGFuZVxuICAgICAgICAgICAgb3duU3RhdGU9e293blN0YXRlfVxuICAgICAgICAgICAgcXVlcnlGb3JtRGF0YT17cXVlcnlGb3JtRGF0YX1cbiAgICAgICAgICAgIGRhdGFzb3VyY2U9e2RhdGFzb3VyY2V9XG4gICAgICAgICAgICBxdWVyeUZvcmNlPXtmb3JjZX1cbiAgICAgICAgICAgIG9uQ29sbGFwc2VDaGFuZ2U9e29uQ29sbGFwc2VDaGFuZ2V9XG4gICAgICAgICAgICBjaGFydFN0YXR1cz17Y2hhcnQuY2hhcnRTdGF0dXN9XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U9e2Vycm9yTWVzc2FnZX1cbiAgICAgICAgICAgIGFjdGlvbnM9e2FjdGlvbnN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TcGxpdD5cbiAgICAgICl9XG4gICAgICB7c2hvd0RhdGFzZXRNb2RhbCAmJiAoXG4gICAgICAgIDxTYXZlRGF0YXNldE1vZGFsXG4gICAgICAgICAgdmlzaWJsZT17c2hvd0RhdGFzZXRNb2RhbH1cbiAgICAgICAgICBvbkhpZGU9eygpID0+IHNldFNob3dEYXRhc2V0TW9kYWwoZmFsc2UpfVxuICAgICAgICAgIGJ1dHRvblRleHRPblNhdmU9e3QoJ1NhdmUnKX1cbiAgICAgICAgICBidXR0b25UZXh0T25PdmVyd3JpdGU9e3QoJ092ZXJ3cml0ZScpfVxuICAgICAgICAgIGRhdGFzb3VyY2U9e2dldERhdGFzb3VyY2VBc1NhdmVhYmxlRGF0YXNldChkYXRhc291cmNlKX1cbiAgICAgICAgICBvcGVuV2luZG93PXtmYWxzZX1cbiAgICAgICAgICBmb3JtRGF0YT17Zm9ybURhdGF9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvU3R5bGVzPlxuICApO1xufTtcblxuRXhwbG9yZUNoYXJ0UGFuZWwucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuXG5leHBvcnQgZGVmYXVsdCBFeHBsb3JlQ2hhcnRQYW5lbDtcbiJdfQ== */\", toString: _EMOTION_STRINGIFIED_CSS_ERROR__ };\n\nconst ExploreChartPanel = (_ref7) =>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{var _metaDataRegistry$get;let { chart, slice, vizType, ownState, triggerRender, force, datasource, errorMessage, form_data: formData, onQuery, actions, timeout, standalone, chartIsStale, chartAlert } = _ref7;\n  const theme = useTheme();\n  const gutterMargin = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const gutterHeight = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const {\n    ref: chartPanelRef,\n    observerRef: resizeObserverRef,\n    width: chartPanelWidth,\n    height: chartPanelHeight } =\n  useResizeDetectorByObserver();\n  const [splitSizes, setSplitSizes] = useState(\n  isFeatureEnabled(FeatureFlag.DATAPANEL_CLOSED_BY_DEFAULT) ?\n  INITIAL_SIZES :\n  getItem(LocalStorageKeys.chart_split_sizes, INITIAL_SIZES));\n\n  const [showSplite, setShowSplit] = useState(\n  isFeatureEnabled(FeatureFlag.DATAPANEL_CLOSED_BY_DEFAULT) ?\n  false :\n  getItem(LocalStorageKeys.is_datapanel_open, false));\n\n\n  const [showDatasetModal, setShowDatasetModal] = useState(false);\n\n  const metaDataRegistry = getChartMetadataRegistry();\n  const { useLegacyApi } = (_metaDataRegistry$get = metaDataRegistry.get(vizType)) != null ? _metaDataRegistry$get : {};\n  const vizTypeNeedsDataset =\n  useLegacyApi && datasource.type !== DatasourceType.Table;\n  // added boolean column to below show boolean so that the errors aren't overlapping\n  const showAlertBanner =\n  !chartAlert &&\n  chartIsStale &&\n  !vizTypeNeedsDataset &&\n  chart.chartStatus !== 'failed' &&\n  ensureIsArray(chart.queriesResponse).length > 0;\n\n  const updateQueryContext = useCallback(\n  async function fetchChartData() {\n    if (slice && slice.query_context === null) {\n      const queryContext = buildV1ChartDataPayload({\n        formData: slice.form_data,\n        force,\n        resultFormat: 'json',\n        resultType: 'full',\n        setDataMask: null,\n        ownState: null });\n\n\n      await SupersetClient.put({\n        endpoint: `/api/v1/chart/${slice.slice_id}`,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          query_context: JSON.stringify(queryContext),\n          query_context_generation: true }) });\n\n\n    }\n  },\n  [slice]);\n\n\n  useEffect(() => {\n    updateQueryContext();\n  }, [updateQueryContext]);\n\n  useEffect(() => {\n    setItem(LocalStorageKeys.chart_split_sizes, splitSizes);\n  }, [splitSizes]);\n\n  const onDragEnd = useCallback((sizes) => {\n    setSplitSizes(sizes);\n  }, []);\n\n  const refreshCachedQuery = useCallback(() => {\n    actions.setForceQuery(true);\n    actions.postChartFormData(\n    formData,\n    true,\n    timeout,\n    chart.id,\n    undefined,\n    ownState);\n\n    actions.updateQueryFormData(formData, chart.id);\n  }, [actions, chart.id, formData, ownState, timeout]);\n\n  const onCollapseChange = useCallback((isOpen) => {\n    let splitSizes;\n    if (!isOpen) {\n      splitSizes = INITIAL_SIZES;\n    } else {\n      splitSizes = [\n      100 - DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\n      DEFAULT_SOUTH_PANE_HEIGHT_PERCENT];\n\n    }\n    setSplitSizes(splitSizes);\n    setShowSplit(isOpen);\n  }, []);\n\n  const renderChart = useCallback(\n  () =>\n  ___EmotionJSX(\"div\", {\n    css: css`\n          min-height: 0;\n          flex: 1;\n          overflow: auto;\n        `,\n    ref: chartPanelRef },\n\n  chartPanelWidth && chartPanelHeight &&\n  ___EmotionJSX(ChartContainer, {\n    width: Math.floor(chartPanelWidth),\n    height: chartPanelHeight,\n    ownState: ownState,\n    annotationData: chart.annotationData,\n    chartAlert: chart.chartAlert,\n    chartStackTrace: chart.chartStackTrace,\n    chartId: chart.id,\n    chartStatus: chart.chartStatus,\n    triggerRender: triggerRender,\n    force: force,\n    datasource: datasource,\n    errorMessage: errorMessage,\n    formData: formData,\n    latestQueryFormData: chart.latestQueryFormData,\n    onQuery: onQuery,\n    queriesResponse: chart.queriesResponse,\n    chartIsStale: chartIsStale,\n    setControlValue: actions.setControlValue,\n    timeout: timeout,\n    triggerQuery: chart.triggerQuery,\n    vizType: vizType })),\n\n\n\n\n  [\n  actions.setControlValue,\n  chart.annotationData,\n  chart.chartAlert,\n  chart.chartStackTrace,\n  chart.chartStatus,\n  chart.id,\n  chart.latestQueryFormData,\n  chart.queriesResponse,\n  chart.triggerQuery,\n  chartIsStale,\n  chartPanelHeight,\n  chartPanelRef,\n  chartPanelWidth,\n  datasource,\n  errorMessage,\n  force,\n  formData,\n  onQuery,\n  ownState,\n  timeout,\n  triggerRender,\n  vizType]);\n\n\n\n  const panelBody = useMemo(\n  () =>\n  ___EmotionJSX(\"div\", {\n    className: \"panel-body\",\n    css: css`\n          display: flex;\n          flex-direction: column;\n        `,\n    ref: resizeObserverRef },\n\n  vizTypeNeedsDataset &&\n  ___EmotionJSX(Alert, {\n    message: t('Chart type requires a dataset'),\n    type: \"error\",\n    css: (theme) => css`\n              margin: 0 0 ${theme.gridUnit * 4}px 0;\n            `,\n    description:\n    ___EmotionJSX(React.Fragment, null,\n    t(\n    'This chart type is not supported when using an unsaved query as a chart source. '),\n\n    ___EmotionJSX(\"span\", {\n      role: \"button\",\n      tabIndex: 0,\n      onClick: () => setShowDatasetModal(true),\n      css: _ref8 },\n\n    t('Create a dataset')),\n\n    t(' to visualize your data.')) }),\n\n\n\n\n  showAlertBanner &&\n  ___EmotionJSX(ExploreAlert, {\n    title:\n    errorMessage ?\n    t('Required control values have been removed') :\n    t('Your chart is not up to date'),\n\n    bodyText:\n    errorMessage ?\n    getChartRequiredFieldsMissingMessage(false) :\n\n    ___EmotionJSX(\"span\", null,\n    t(\n    'You updated the values in the control panel, but the chart was not updated automatically. Run the query by clicking on the \"Update chart\" button or'),\n    ' ',\n    ___EmotionJSX(\"span\", { role: \"button\", tabIndex: 0, onClick: onQuery },\n    t('click here')), \".\"),\n\n\n\n\n\n    type: \"warning\",\n    css: (theme) => css`\n              margin: 0 0 ${theme.gridUnit * 4}px 0;\n            ` }),\n\n\n  ___EmotionJSX(ChartPills, {\n    queriesResponse: chart.queriesResponse,\n    chartStatus: chart.chartStatus,\n    chartUpdateStartTime: chart.chartUpdateStartTime,\n    chartUpdateEndTime: chart.chartUpdateEndTime,\n    refreshCachedQuery: refreshCachedQuery,\n    rowLimit: formData == null ? void 0 : formData.row_limit }),\n\n  renderChart()),\n\n\n  [\n  resizeObserverRef,\n  showAlertBanner,\n  errorMessage,\n  onQuery,\n  chart.queriesResponse,\n  chart.chartStatus,\n  chart.chartUpdateStartTime,\n  chart.chartUpdateEndTime,\n  refreshCachedQuery,\n  formData == null ? void 0 : formData.row_limit,\n  renderChart]);\n\n\n\n  const standaloneChartBody = useMemo(() => renderChart(), [renderChart]);\n\n  const [queryFormData, setQueryFormData] = useState(chart.latestQueryFormData);\n\n  useEffect(() => {\n    // only update when `latestQueryFormData` changes AND `triggerRender`\n    // is false. No update should be done when only `triggerRender` changes,\n    // as this can trigger a query downstream based on incomplete form data.\n    // (`latestQueryFormData` is only updated when a a valid request has been\n    // triggered).\n    if (!triggerRender) {\n      setQueryFormData(chart.latestQueryFormData);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chart.latestQueryFormData]);\n\n  const elementStyle = useCallback(\n  (dimension, elementSize, gutterSize) => ({\n    [dimension]: `calc(${elementSize}% - ${gutterSize + gutterMargin}px)` }),\n\n  [gutterMargin]);\n\n\n  if (standalone) {\n    // dom manipulation hack to get rid of the bootstrap theme's body background\n    const standaloneClass = 'background-transparent';\n    const bodyClasses = document.body.className.split(' ');\n    if (!_includesInstanceProperty(bodyClasses).call(bodyClasses, standaloneClass)) {\n      document.body.className += ` ${standaloneClass}`;\n    }\n    return (\n      ___EmotionJSX(\"div\", { id: \"app\", ref: resizeObserverRef },\n      standaloneChartBody));\n\n\n  }\n\n  return (\n    ___EmotionJSX(Styles, {\n      className: \"panel panel-default chart-container\",\n      showSplite: showSplite },\n\n    vizType === 'filter_box' ?\n    panelBody :\n\n    ___EmotionJSX(Split, {\n      sizes: splitSizes,\n      minSize: MIN_SIZES,\n      direction: \"vertical\",\n      gutterSize: gutterHeight,\n      onDragEnd: onDragEnd,\n      elementStyle: elementStyle,\n      expandToMin: true },\n\n    panelBody,\n    ___EmotionJSX(DataTablesPane, {\n      ownState: ownState,\n      queryFormData: queryFormData,\n      datasource: datasource,\n      queryForce: force,\n      onCollapseChange: onCollapseChange,\n      chartStatus: chart.chartStatus,\n      errorMessage: errorMessage,\n      actions: actions })),\n\n\n\n    showDatasetModal &&\n    ___EmotionJSX(SaveDatasetModal, {\n      visible: showDatasetModal,\n      onHide: () => setShowDatasetModal(false),\n      buttonTextOnSave: t('Save'),\n      buttonTextOnOverwrite: t('Overwrite'),\n      datasource: getDatasourceAsSaveableDataset(datasource),\n      openWindow: false,\n      formData: formData })));\n\n\n\n\n};\n\nExploreChartPanel.propTypes = propTypes;\n\nexport default ExploreChartPanel;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","PropTypes","Split","css","DatasourceType","ensureIsArray","isFeatureEnabled","FeatureFlag","getChartMetadataRegistry","styled","SupersetClient","t","useTheme","chartPropShape","ChartContainer","getItem","setItem","LocalStorageKeys","Alert","SaveDatasetModal","getDatasourceAsSaveableDataset","buildV1ChartDataPayload","getChartRequiredFieldsMissingMessage","DataTablesPane","ChartPills","ExploreAlert","useResizeDetectorByObserver","propTypes","actions","object","isRequired","onQuery","func","can_overwrite","bool","can_download","datasource","dashboardId","number","column_formats","containerId","string","isStarred","slice","sliceName","table_name","vizType","form_data","ownState","standalone","force","timeout","chartIsStale","chart","errorMessage","node","triggerRender","GUTTER_SIZE_FACTOR","INITIAL_SIZES","MIN_SIZES","DEFAULT_SOUTH_PANE_HEIGHT_PERCENT","Styles","div","theme","colors","grayscale","light2","gridUnit","showSplite","ExploreChartPanel","formData","chartAlert","gutterMargin","gutterHeight","ref","chartPanelRef","observerRef","resizeObserverRef","width","chartPanelWidth","height","chartPanelHeight","splitSizes","setSplitSizes","DATAPANEL_CLOSED_BY_DEFAULT","chart_split_sizes","setShowSplit","is_datapanel_open","showDatasetModal","setShowDatasetModal","metaDataRegistry","useLegacyApi","get","vizTypeNeedsDataset","type","Table","showAlertBanner","chartStatus","queriesResponse","length","updateQueryContext","fetchChartData","query_context","queryContext","resultFormat","resultType","setDataMask","put","endpoint","slice_id","headers","body","JSON","stringify","query_context_generation","onDragEnd","sizes","refreshCachedQuery","setForceQuery","postChartFormData","id","undefined","updateQueryFormData","onCollapseChange","isOpen","renderChart","Math","floor","annotationData","chartStackTrace","latestQueryFormData","setControlValue","triggerQuery","panelBody","chartUpdateStartTime","chartUpdateEndTime","row_limit","standaloneChartBody","queryFormData","setQueryFormData","elementStyle","dimension","elementSize","gutterSize","standaloneClass","bodyClasses","document","className","split"],"sources":["/Users/zhaorui/src/incubator-superset-internal/superset-frontend/src/explore/components/ExploreChartPanel/index.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport Split from 'react-split';\nimport {\n  css,\n  DatasourceType,\n  ensureIsArray,\n  isFeatureEnabled,\n  FeatureFlag,\n  getChartMetadataRegistry,\n  styled,\n  SupersetClient,\n  t,\n  useTheme,\n} from '@superset-ui/core';\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\nimport ChartContainer from 'src/components/Chart/ChartContainer';\nimport {\n  getItem,\n  setItem,\n  LocalStorageKeys,\n} from 'src/utils/localStorageHelpers';\nimport Alert from 'src/components/Alert';\nimport { SaveDatasetModal } from 'src/SqlLab/components/SaveDatasetModal';\nimport { getDatasourceAsSaveableDataset } from 'src/utils/datasourceUtils';\nimport { buildV1ChartDataPayload } from 'src/explore/exploreUtils';\nimport { getChartRequiredFieldsMissingMessage } from 'src/utils/getChartRequiredFieldsMissingMessage';\nimport { DataTablesPane } from '../DataTablesPane';\nimport { ChartPills } from '../ChartPills';\nimport { ExploreAlert } from '../ExploreAlert';\nimport useResizeDetectorByObserver from './useResizeDetectorByObserver';\n\nconst propTypes = {\n  actions: PropTypes.object.isRequired,\n  onQuery: PropTypes.func,\n  can_overwrite: PropTypes.bool.isRequired,\n  can_download: PropTypes.bool.isRequired,\n  datasource: PropTypes.object,\n  dashboardId: PropTypes.number,\n  column_formats: PropTypes.object,\n  containerId: PropTypes.string.isRequired,\n  isStarred: PropTypes.bool.isRequired,\n  slice: PropTypes.object,\n  sliceName: PropTypes.string,\n  table_name: PropTypes.string,\n  vizType: PropTypes.string.isRequired,\n  form_data: PropTypes.object,\n  ownState: PropTypes.object,\n  standalone: PropTypes.bool,\n  force: PropTypes.bool,\n  timeout: PropTypes.number,\n  chartIsStale: PropTypes.bool,\n  chart: chartPropShape,\n  errorMessage: PropTypes.node,\n  triggerRender: PropTypes.bool,\n};\n\nconst GUTTER_SIZE_FACTOR = 1.25;\n\nconst INITIAL_SIZES = [100, 0];\nconst MIN_SIZES = [300, 65];\nconst DEFAULT_SOUTH_PANE_HEIGHT_PERCENT = 40;\n\nconst Styles = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  align-content: stretch;\n  overflow: auto;\n  box-shadow: none;\n  height: 100%;\n\n  & > div {\n    height: 100%;\n  }\n\n  .gutter {\n    border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-bottom: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    width: ${({ theme }) => theme.gridUnit * 9}px;\n    margin: ${({ theme }) => theme.gridUnit * GUTTER_SIZE_FACTOR}px auto;\n  }\n\n  .gutter.gutter-vertical {\n    display: ${({ showSplite }) => (showSplite ? 'block' : 'none')};\n    cursor: row-resize;\n  }\n\n  .ant-collapse {\n    .ant-tabs {\n      height: 100%;\n      .ant-tabs-nav {\n        padding-left: ${({ theme }) => theme.gridUnit * 5}px;\n        margin: 0;\n      }\n      .ant-tabs-content-holder {\n        overflow: hidden;\n        .ant-tabs-content {\n          height: 100%;\n        }\n      }\n    }\n  }\n`;\n\nconst ExploreChartPanel = ({\n  chart,\n  slice,\n  vizType,\n  ownState,\n  triggerRender,\n  force,\n  datasource,\n  errorMessage,\n  form_data: formData,\n  onQuery,\n  actions,\n  timeout,\n  standalone,\n  chartIsStale,\n  chartAlert,\n}) => {\n  const theme = useTheme();\n  const gutterMargin = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const gutterHeight = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const {\n    ref: chartPanelRef,\n    observerRef: resizeObserverRef,\n    width: chartPanelWidth,\n    height: chartPanelHeight,\n  } = useResizeDetectorByObserver();\n  const [splitSizes, setSplitSizes] = useState(\n    isFeatureEnabled(FeatureFlag.DATAPANEL_CLOSED_BY_DEFAULT)\n      ? INITIAL_SIZES\n      : getItem(LocalStorageKeys.chart_split_sizes, INITIAL_SIZES),\n  );\n  const [showSplite, setShowSplit] = useState(\n    isFeatureEnabled(FeatureFlag.DATAPANEL_CLOSED_BY_DEFAULT)\n      ? false\n      : getItem(LocalStorageKeys.is_datapanel_open, false),\n  );\n\n  const [showDatasetModal, setShowDatasetModal] = useState(false);\n\n  const metaDataRegistry = getChartMetadataRegistry();\n  const { useLegacyApi } = metaDataRegistry.get(vizType) ?? {};\n  const vizTypeNeedsDataset =\n    useLegacyApi && datasource.type !== DatasourceType.Table;\n  // added boolean column to below show boolean so that the errors aren't overlapping\n  const showAlertBanner =\n    !chartAlert &&\n    chartIsStale &&\n    !vizTypeNeedsDataset &&\n    chart.chartStatus !== 'failed' &&\n    ensureIsArray(chart.queriesResponse).length > 0;\n\n  const updateQueryContext = useCallback(\n    async function fetchChartData() {\n      if (slice && slice.query_context === null) {\n        const queryContext = buildV1ChartDataPayload({\n          formData: slice.form_data,\n          force,\n          resultFormat: 'json',\n          resultType: 'full',\n          setDataMask: null,\n          ownState: null,\n        });\n\n        await SupersetClient.put({\n          endpoint: `/api/v1/chart/${slice.slice_id}`,\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            query_context: JSON.stringify(queryContext),\n            query_context_generation: true,\n          }),\n        });\n      }\n    },\n    [slice],\n  );\n\n  useEffect(() => {\n    updateQueryContext();\n  }, [updateQueryContext]);\n\n  useEffect(() => {\n    setItem(LocalStorageKeys.chart_split_sizes, splitSizes);\n  }, [splitSizes]);\n\n  const onDragEnd = useCallback(sizes => {\n    setSplitSizes(sizes);\n  }, []);\n\n  const refreshCachedQuery = useCallback(() => {\n    actions.setForceQuery(true);\n    actions.postChartFormData(\n      formData,\n      true,\n      timeout,\n      chart.id,\n      undefined,\n      ownState,\n    );\n    actions.updateQueryFormData(formData, chart.id);\n  }, [actions, chart.id, formData, ownState, timeout]);\n\n  const onCollapseChange = useCallback(isOpen => {\n    let splitSizes;\n    if (!isOpen) {\n      splitSizes = INITIAL_SIZES;\n    } else {\n      splitSizes = [\n        100 - DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\n        DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\n      ];\n    }\n    setSplitSizes(splitSizes);\n    setShowSplit(isOpen);\n  }, []);\n\n  const renderChart = useCallback(\n    () => (\n      <div\n        css={css`\n          min-height: 0;\n          flex: 1;\n          overflow: auto;\n        `}\n        ref={chartPanelRef}\n      >\n        {chartPanelWidth && chartPanelHeight && (\n          <ChartContainer\n            width={Math.floor(chartPanelWidth)}\n            height={chartPanelHeight}\n            ownState={ownState}\n            annotationData={chart.annotationData}\n            chartAlert={chart.chartAlert}\n            chartStackTrace={chart.chartStackTrace}\n            chartId={chart.id}\n            chartStatus={chart.chartStatus}\n            triggerRender={triggerRender}\n            force={force}\n            datasource={datasource}\n            errorMessage={errorMessage}\n            formData={formData}\n            latestQueryFormData={chart.latestQueryFormData}\n            onQuery={onQuery}\n            queriesResponse={chart.queriesResponse}\n            chartIsStale={chartIsStale}\n            setControlValue={actions.setControlValue}\n            timeout={timeout}\n            triggerQuery={chart.triggerQuery}\n            vizType={vizType}\n          />\n        )}\n      </div>\n    ),\n    [\n      actions.setControlValue,\n      chart.annotationData,\n      chart.chartAlert,\n      chart.chartStackTrace,\n      chart.chartStatus,\n      chart.id,\n      chart.latestQueryFormData,\n      chart.queriesResponse,\n      chart.triggerQuery,\n      chartIsStale,\n      chartPanelHeight,\n      chartPanelRef,\n      chartPanelWidth,\n      datasource,\n      errorMessage,\n      force,\n      formData,\n      onQuery,\n      ownState,\n      timeout,\n      triggerRender,\n      vizType,\n    ],\n  );\n\n  const panelBody = useMemo(\n    () => (\n      <div\n        className=\"panel-body\"\n        css={css`\n          display: flex;\n          flex-direction: column;\n        `}\n        ref={resizeObserverRef}\n      >\n        {vizTypeNeedsDataset && (\n          <Alert\n            message={t('Chart type requires a dataset')}\n            type=\"error\"\n            css={theme => css`\n              margin: 0 0 ${theme.gridUnit * 4}px 0;\n            `}\n            description={\n              <>\n                {t(\n                  'This chart type is not supported when using an unsaved query as a chart source. ',\n                )}\n                <span\n                  role=\"button\"\n                  tabIndex={0}\n                  onClick={() => setShowDatasetModal(true)}\n                  css={{ textDecoration: 'underline' }}\n                >\n                  {t('Create a dataset')}\n                </span>\n                {t(' to visualize your data.')}\n              </>\n            }\n          />\n        )}\n        {showAlertBanner && (\n          <ExploreAlert\n            title={\n              errorMessage\n                ? t('Required control values have been removed')\n                : t('Your chart is not up to date')\n            }\n            bodyText={\n              errorMessage ? (\n                getChartRequiredFieldsMissingMessage(false)\n              ) : (\n                <span>\n                  {t(\n                    'You updated the values in the control panel, but the chart was not updated automatically. Run the query by clicking on the \"Update chart\" button or',\n                  )}{' '}\n                  <span role=\"button\" tabIndex={0} onClick={onQuery}>\n                    {t('click here')}\n                  </span>\n                  .\n                </span>\n              )\n            }\n            type=\"warning\"\n            css={theme => css`\n              margin: 0 0 ${theme.gridUnit * 4}px 0;\n            `}\n          />\n        )}\n        <ChartPills\n          queriesResponse={chart.queriesResponse}\n          chartStatus={chart.chartStatus}\n          chartUpdateStartTime={chart.chartUpdateStartTime}\n          chartUpdateEndTime={chart.chartUpdateEndTime}\n          refreshCachedQuery={refreshCachedQuery}\n          rowLimit={formData?.row_limit}\n        />\n        {renderChart()}\n      </div>\n    ),\n    [\n      resizeObserverRef,\n      showAlertBanner,\n      errorMessage,\n      onQuery,\n      chart.queriesResponse,\n      chart.chartStatus,\n      chart.chartUpdateStartTime,\n      chart.chartUpdateEndTime,\n      refreshCachedQuery,\n      formData?.row_limit,\n      renderChart,\n    ],\n  );\n\n  const standaloneChartBody = useMemo(() => renderChart(), [renderChart]);\n\n  const [queryFormData, setQueryFormData] = useState(chart.latestQueryFormData);\n\n  useEffect(() => {\n    // only update when `latestQueryFormData` changes AND `triggerRender`\n    // is false. No update should be done when only `triggerRender` changes,\n    // as this can trigger a query downstream based on incomplete form data.\n    // (`latestQueryFormData` is only updated when a a valid request has been\n    // triggered).\n    if (!triggerRender) {\n      setQueryFormData(chart.latestQueryFormData);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chart.latestQueryFormData]);\n\n  const elementStyle = useCallback(\n    (dimension, elementSize, gutterSize) => ({\n      [dimension]: `calc(${elementSize}% - ${gutterSize + gutterMargin}px)`,\n    }),\n    [gutterMargin],\n  );\n\n  if (standalone) {\n    // dom manipulation hack to get rid of the bootstrap theme's body background\n    const standaloneClass = 'background-transparent';\n    const bodyClasses = document.body.className.split(' ');\n    if (!bodyClasses.includes(standaloneClass)) {\n      document.body.className += ` ${standaloneClass}`;\n    }\n    return (\n      <div id=\"app\" data-test=\"standalone-app\" ref={resizeObserverRef}>\n        {standaloneChartBody}\n      </div>\n    );\n  }\n\n  return (\n    <Styles\n      className=\"panel panel-default chart-container\"\n      showSplite={showSplite}\n    >\n      {vizType === 'filter_box' ? (\n        panelBody\n      ) : (\n        <Split\n          sizes={splitSizes}\n          minSize={MIN_SIZES}\n          direction=\"vertical\"\n          gutterSize={gutterHeight}\n          onDragEnd={onDragEnd}\n          elementStyle={elementStyle}\n          expandToMin\n        >\n          {panelBody}\n          <DataTablesPane\n            ownState={ownState}\n            queryFormData={queryFormData}\n            datasource={datasource}\n            queryForce={force}\n            onCollapseChange={onCollapseChange}\n            chartStatus={chart.chartStatus}\n            errorMessage={errorMessage}\n            actions={actions}\n          />\n        </Split>\n      )}\n      {showDatasetModal && (\n        <SaveDatasetModal\n          visible={showDatasetModal}\n          onHide={() => setShowDatasetModal(false)}\n          buttonTextOnSave={t('Save')}\n          buttonTextOnOverwrite={t('Overwrite')}\n          datasource={getDatasourceAsSaveableDataset(datasource)}\n          openWindow={false}\n          formData={formData}\n        />\n      )}\n    </Styles>\n  );\n};\n\nExploreChartPanel.propTypes = propTypes;\n\nexport default ExploreChartPanel;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}