{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { FormLabel } from 'src/components/Form';\nimport { Input } from 'src/components/Input';\nimport Modal from 'src/components/Modal';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst DuplicateDatasetModal = (_ref) => {let { dataset, onHide, onDuplicate } = _ref;\n  const [show, setShow] = useState(false);\n  const [disableSave, setDisableSave] = useState(false);\n  const [newDuplicateDatasetName, setNewDuplicateDatasetName] = useState('');\n  const onChange = (event) => {var _event$target$value;\n    const targetValue = (_event$target$value = event.target.value) != null ? _event$target$value : '';\n    setNewDuplicateDatasetName(targetValue);\n    setDisableSave(targetValue === '');\n  };\n  const duplicateDataset = () => {\n    onDuplicate(newDuplicateDatasetName);\n  };\n  useEffect(() => {\n    setNewDuplicateDatasetName('');\n    setShow(dataset !== null);\n  }, [dataset]);\n  return ___EmotionJSX(Modal, { show: show, onHide: onHide, title: t('Duplicate dataset'), disablePrimaryButton: disableSave, onHandledPrimaryAction: duplicateDataset, primaryButtonName: t('Duplicate') },\n  ___EmotionJSX(FormLabel, { htmlFor: \"duplicate\" }, t('New dataset name')),\n  ___EmotionJSX(Input, { type: \"text\", id: \"duplicate\", autoComplete: \"off\", value: newDuplicateDatasetName, onChange: onChange, onPressEnter: duplicateDataset }));\n\n};\nexport default DuplicateDatasetModal;","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,CAAT,QAAkB,mBAAlB;AACA,OAAOC,KAAP,IAAmCC,SAAnC,EAA8CC,QAA9C,QAA8D,OAA9D;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,OAAOC,KAAP,MAAkB,sBAAlB,C;AASA,MAAMC,qBAAqB,GAAkD,UAIxE,KAJyE,EAC5EC,OAD4E,EAE5EC,MAF4E,EAG5EC,WAH4E,EAIzE;EACH,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAU,KAAV,CAAhC;EACA,MAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAU,KAAV,CAA9C;EACA,MAAM,CAACY,uBAAD,EAA0BC,0BAA1B,IACJb,QAAQ,CAAS,EAAT,CADV;EAGA,MAAMc,QAAQ,GAAG,CAACC,KAAD,KAA+C;IAC9D,MAAMC,WAAW,0BAAGD,KAAK,CAACE,MAAN,CAAaC,KAAhB,kCAAyB,EAA1C;IACAL,0BAA0B,CAACG,WAAD,CAA1B;IACAL,cAAc,CAACK,WAAW,KAAK,EAAjB,CAAd;EACD,CAJD;EAMA,MAAMG,gBAAgB,GAAG,MAAK;IAC5BZ,WAAW,CAACK,uBAAD,CAAX;EACD,CAFD;EAIAb,SAAS,CAAC,MAAK;IACbc,0BAA0B,CAAC,EAAD,CAA1B;IACAJ,OAAO,CAACJ,OAAO,KAAK,IAAb,CAAP;EACD,CAHQ,EAGN,CAACA,OAAD,CAHM,CAAT;EAKA,OACE,cAAC,KAAD,IACE,IAAI,EAAEG,IADR,EAEE,MAAM,EAAEF,MAFV,EAGE,KAAK,EAAET,CAAC,CAAC,mBAAD,CAHV,EAIE,oBAAoB,EAAEa,WAJxB,EAKE,sBAAsB,EAAES,gBAL1B,EAME,iBAAiB,EAAEtB,CAAC,CAAC,WAAD,CANtB;EAQE,cAAC,SAAD,IAAW,OAAO,EAAC,WAAnB,IAAgCA,CAAC,CAAC,kBAAD,CAAjC,CARF;EASE,cAAC,KAAD,IAEE,IAAI,EAAC,MAFP,EAGE,EAAE,EAAC,WAHL,EAIE,YAAY,EAAC,KAJf,EAKE,KAAK,EAAEe,uBALT,EAME,QAAQ,EAAEE,QANZ,EAOE,YAAY,EAAEK,gBAPhB,GATF,CADF;;AAqBD,CA9CD;AAgDA,eAAef,qBAAf","names":["t","React","useEffect","useState","FormLabel","Input","Modal","DuplicateDatasetModal","dataset","onHide","onDuplicate","show","setShow","disableSave","setDisableSave","newDuplicateDatasetName","setNewDuplicateDatasetName","onChange","event","targetValue","target","value","duplicateDataset"],"sourceRoot":"","sources":["/Users/zhaorui/src/incubator-superset-internal/superset-frontend/src/features/datasets/DuplicateDatasetModal.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\nimport React, { FunctionComponent, useEffect, useState } from 'react';\nimport { FormLabel } from 'src/components/Form';\nimport { Input } from 'src/components/Input';\nimport Modal from 'src/components/Modal';\nimport Dataset from 'src/types/Dataset';\n\ninterface DuplicateDatasetModalProps {\n  dataset: Dataset | null;\n  onHide: () => void;\n  onDuplicate: (newDatasetName: string) => void;\n}\n\nconst DuplicateDatasetModal: FunctionComponent<DuplicateDatasetModalProps> = ({\n  dataset,\n  onHide,\n  onDuplicate,\n}) => {\n  const [show, setShow] = useState<boolean>(false);\n  const [disableSave, setDisableSave] = useState<boolean>(false);\n  const [newDuplicateDatasetName, setNewDuplicateDatasetName] =\n    useState<string>('');\n\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const targetValue = event.target.value ?? '';\n    setNewDuplicateDatasetName(targetValue);\n    setDisableSave(targetValue === '');\n  };\n\n  const duplicateDataset = () => {\n    onDuplicate(newDuplicateDatasetName);\n  };\n\n  useEffect(() => {\n    setNewDuplicateDatasetName('');\n    setShow(dataset !== null);\n  }, [dataset]);\n\n  return (\n    <Modal\n      show={show}\n      onHide={onHide}\n      title={t('Duplicate dataset')}\n      disablePrimaryButton={disableSave}\n      onHandledPrimaryAction={duplicateDataset}\n      primaryButtonName={t('Duplicate')}\n    >\n      <FormLabel htmlFor=\"duplicate\">{t('New dataset name')}</FormLabel>\n      <Input\n        data-test=\"duplicate-modal-input\"\n        type=\"text\"\n        id=\"duplicate\"\n        autoComplete=\"off\"\n        value={newDuplicateDatasetName}\n        onChange={onChange}\n        onPressEnter={duplicateDataset}\n      />\n    </Modal>\n  );\n};\n\nexport default DuplicateDatasetModal;\n"]},"metadata":{},"sourceType":"module"}