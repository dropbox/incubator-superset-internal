{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useCallback } from 'react';\nimport { css, useTheme } from '@superset-ui/core';\nimport { useDispatch } from 'react-redux';\nimport { setDirectPathToChild } from 'src/dashboard/actions/dashboardState';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { updateDataMask } from 'src/dataMask/actions';\nimport CrossFilterTag from './CrossFilterTag';\nimport CrossFilterTitle from './CrossFilterTitle';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst CrossFilter = (props) => {\n  const { filter, orientation, last } = props;\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const handleHighlightFilterSource = useCallback((path) => {\n    if (path) {\n      dispatch(setDirectPathToChild(path));\n    }\n  }, [dispatch]);\n  const handleRemoveCrossFilter = (chartId) => {\n    dispatch(updateDataMask(chartId, {\n      extraFormData: {\n        filters: [] },\n\n      filterState: {\n        value: null,\n        selectedValues: null } }));\n\n\n  };\n  return ___EmotionJSX(\"div\", { key: `${filter.name}${filter.emitterId}`, css: css`\n        ${orientation === FilterBarOrientation.VERTICAL ?\n    `\n            display: block;\n            margin-bottom: ${theme.gridUnit * 4}px;\n          ` :\n    `\n            display: flex;\n          `}\n      ` },\n  ___EmotionJSX(CrossFilterTitle, { title: filter.name, orientation: orientation || FilterBarOrientation.HORIZONTAL, onHighlightFilterSource: () => handleHighlightFilterSource(filter.path) }),\n  (filter.column || filter.value) && ___EmotionJSX(CrossFilterTag, { filter: filter, orientation: orientation, removeCrossFilter: handleRemoveCrossFilter }),\n  last && ___EmotionJSX(\"span\", { \"data-test\": \"cross-filters-divider\", css: css`\n            ${orientation === FilterBarOrientation.HORIZONTAL ?\n    `\n                width: 1px;\n                height: 22px;\n                margin-left: ${theme.gridUnit * 4}px;\n                margin-right: ${theme.gridUnit}px;\n              ` :\n    `\n                width: 100%;\n                height: 1px;\n                display: block;\n                margin-bottom: ${theme.gridUnit * 4}px;\n                margin-top: ${theme.gridUnit * 4}px;\n            `}\n            background: ${theme.colors.grayscale.light2};\n          ` }));\n\n};__signature__(CrossFilter, \"useTheme{theme}\\nuseDispatch{dispatch}\\nuseCallback{handleHighlightFilterSource}\", () => [useTheme, useDispatch]);const _default =\nCrossFilter;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(CrossFilter, \"CrossFilter\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilter.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilter.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAmBA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,SAASC,GAAT,EAAcC,QAAd,QAA8B,mBAA9B;AAEA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,oBAAT,QAAqC,sCAArC;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,SAASC,cAAT,QAA+B,sBAA/B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B,C;AAEA,MAAMC,WAAW,GAAG,CAACC,KAAD,KAIf;EACH,MAAM,EAAEC,MAAF,EAAUC,WAAV,EAAuBC,IAAvB,KAAgCH,KAAtC;EACA,MAAMI,KAAK,GAAGZ,QAAQ,EAAtB;EACA,MAAMa,QAAQ,GAAGZ,WAAW,EAA5B;EAEA,MAAMa,2BAA2B,GAAGhB,WAAW,CAC7C,CAACiB,IAAD,KAAoB;IAClB,IAAIA,IAAJ,EAAU;MACRF,QAAQ,CAACX,oBAAoB,CAACa,IAAD,CAArB,CAAR;IACD;EACF,CAL4C,EAM7C,CAACF,QAAD,CAN6C,CAA/C;EASA,MAAMG,uBAAuB,GAAG,CAACC,OAAD,KAAoB;IAClDJ,QAAQ,CACNT,cAAc,CAACa,OAAD,EAAU;MACtBC,aAAa,EAAE;QACbC,OAAO,EAAE,EADI,EADO;;MAItBC,WAAW,EAAE;QACXC,KAAK,EAAE,IADI;QAEXC,cAAc,EAAE,IAFL,EAJS,EAAV,CADR,CAAR;;;EAWD,CAZD;EAcA,OACE,uBACE,GAAG,EAAE,GAAGb,MAAM,CAACc,IAAI,GAAGd,MAAM,CAACe,SAAS,EADxC,EAEE,GAAG,EAAEzB,GAAG;UACJW,WAAW,KAAKP,oBAAoB,CAACsB,QAArC;IACE;;6BAEiBb,KAAK,CAACc,QAAN,GAAiB,CAAC;WAHrC;IAKE;;WAED;OAVP;EAaE,cAAC,gBAAD,IACE,KAAK,EAAEjB,MAAM,CAACc,IADhB,EAEE,WAAW,EAAEb,WAAW,IAAIP,oBAAoB,CAACwB,UAFnD,EAGE,uBAAuB,EAAE,MAAMb,2BAA2B,CAACL,MAAM,CAACM,IAAR,CAH5D,GAbF;EAkBG,CAACN,MAAM,CAACmB,MAAP,IAAiBnB,MAAM,CAACY,KAAzB,KACC,cAAC,cAAD,IACE,MAAM,EAAEZ,MADV,EAEE,WAAW,EAAEC,WAFf,EAGE,iBAAiB,EAAEM,uBAHrB,GAnBJ;EAyBGL,IAAI,IACH,wBACE,aAAU,uBADZ,EAEE,GAAG,EAAEZ,GAAG;cACJW,WAAW,KAAKP,oBAAoB,CAACwB,UAArC;IACE;;;+BAGef,KAAK,CAACc,QAAN,GAAiB,CAAC;gCACjBd,KAAK,CAACc,QAAQ;eALhC;IAOE;;;;iCAIiBd,KAAK,CAACc,QAAN,GAAiB,CAAC;8BACrBd,KAAK,CAACc,QAAN,GAAiB,CAAC;aACnC;0BACad,KAAK,CAACiB,MAAN,CAAaC,SAAb,CAAuBC,MAAM;WAjB/C,GA1BJ,CADF;;AAkDD,CAlFD,C,cAAMxB,W,6FAMUP,Q,EACGC,W;AA6EJM,W,CAAf,wB,iLApFMA,W","names":["React","useCallback","css","useTheme","useDispatch","setDirectPathToChild","FilterBarOrientation","updateDataMask","CrossFilterTag","CrossFilterTitle","CrossFilter","props","filter","orientation","last","theme","dispatch","handleHighlightFilterSource","path","handleRemoveCrossFilter","chartId","extraFormData","filters","filterState","value","selectedValues","name","emitterId","VERTICAL","gridUnit","HORIZONTAL","column","colors","grayscale","light2"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilter.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useCallback } from 'react';\nimport { css, useTheme } from '@superset-ui/core';\nimport { CrossFilterIndicator } from 'src/dashboard/components/nativeFilters/selectors';\nimport { useDispatch } from 'react-redux';\nimport { setDirectPathToChild } from 'src/dashboard/actions/dashboardState';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { updateDataMask } from 'src/dataMask/actions';\nimport CrossFilterTag from './CrossFilterTag';\nimport CrossFilterTitle from './CrossFilterTitle';\n\nconst CrossFilter = (props: {\n  filter: CrossFilterIndicator;\n  orientation: FilterBarOrientation;\n  last?: boolean;\n}) => {\n  const { filter, orientation, last } = props;\n  const theme = useTheme();\n  const dispatch = useDispatch();\n\n  const handleHighlightFilterSource = useCallback(\n    (path?: string[]) => {\n      if (path) {\n        dispatch(setDirectPathToChild(path));\n      }\n    },\n    [dispatch],\n  );\n\n  const handleRemoveCrossFilter = (chartId: number) => {\n    dispatch(\n      updateDataMask(chartId, {\n        extraFormData: {\n          filters: [],\n        },\n        filterState: {\n          value: null,\n          selectedValues: null,\n        },\n      }),\n    );\n  };\n\n  return (\n    <div\n      key={`${filter.name}${filter.emitterId}`}\n      css={css`\n        ${orientation === FilterBarOrientation.VERTICAL\n          ? `\n            display: block;\n            margin-bottom: ${theme.gridUnit * 4}px;\n          `\n          : `\n            display: flex;\n          `}\n      `}\n    >\n      <CrossFilterTitle\n        title={filter.name}\n        orientation={orientation || FilterBarOrientation.HORIZONTAL}\n        onHighlightFilterSource={() => handleHighlightFilterSource(filter.path)}\n      />\n      {(filter.column || filter.value) && (\n        <CrossFilterTag\n          filter={filter}\n          orientation={orientation}\n          removeCrossFilter={handleRemoveCrossFilter}\n        />\n      )}\n      {last && (\n        <span\n          data-test=\"cross-filters-divider\"\n          css={css`\n            ${orientation === FilterBarOrientation.HORIZONTAL\n              ? `\n                width: 1px;\n                height: 22px;\n                margin-left: ${theme.gridUnit * 4}px;\n                margin-right: ${theme.gridUnit}px;\n              `\n              : `\n                width: 100%;\n                height: 1px;\n                display: block;\n                margin-bottom: ${theme.gridUnit * 4}px;\n                margin-top: ${theme.gridUnit * 4}px;\n            `}\n            background: ${theme.colors.grayscale.light2};\n          `}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default CrossFilter;\n"]},"metadata":{},"sourceType":"module"}