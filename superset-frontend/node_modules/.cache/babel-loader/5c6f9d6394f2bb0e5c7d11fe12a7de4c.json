{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { SketchPicker } from 'react-color';\nimport { getCategoricalSchemeRegistry, styled } from '@superset-ui/core';\nimport Popover from 'src/components/Popover';\nimport ControlHeader from '../ControlHeader';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  onChange: PropTypes.func,\n  value: PropTypes.object };\n\n\nconst defaultProps = {\n  onChange: () => {} };\n\n\nconst swatchCommon = {\n  position: 'absolute',\n  width: '50px',\n  height: '20px',\n  top: '0px',\n  left: '0px',\n  right: '0px',\n  bottom: '0px' };\n\n\nconst StyledSwatch = styled.div`\n  ${(_ref) => {let { theme } = _ref;return `\n      width: 50px;\n      height: 20px;\n      position: relative;\n      padding: ${theme.gridUnit}px;\n      borderRadius: ${theme.borderRadius}px;\n      display: inline-block;\n      cursor: pointer;\n    `;}}\n`;\n\nconst styles = {\n  color: {\n    ...swatchCommon,\n    borderRadius: '2px' },\n\n  checkerboard: {\n    ...swatchCommon,\n    background:\n    'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==\") left center' } };\n\n\nexport default class ColorPickerControl extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(col) {\n    this.props.onChange(col.rgb);\n  }\n\n  renderPopover() {\n    const presetColors = getCategoricalSchemeRegistry().\n    get().\n    colors.filter((s, i) => i < 7);\n    return (\n      ___EmotionJSX(\"div\", { id: \"filter-popover\", className: \"color-popover\" },\n      ___EmotionJSX(SketchPicker, {\n        color: this.props.value,\n        onChange: this.onChange,\n        presetColors: presetColors })));\n\n\n\n  }\n\n  render() {\n    const c = this.props.value || { r: 0, g: 0, b: 0, a: 0 };\n    const colStyle = {\n      ...styles.color,\n      background: `rgba(${c.r}, ${c.g}, ${c.b}, ${c.a})` };\n\n    return (\n      ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(ControlHeader, this.props),\n      ___EmotionJSX(Popover, {\n        trigger: \"click\",\n        placement: \"right\",\n        content: this.renderPopover() },\n\n      ___EmotionJSX(StyledSwatch, null,\n      ___EmotionJSX(\"div\", { style: styles.checkerboard }),\n      ___EmotionJSX(\"div\", { style: colStyle })))));\n\n\n\n\n  }}\n\n\nColorPickerControl.propTypes = propTypes;\nColorPickerControl.defaultProps = defaultProps;","map":{"version":3,"names":["React","PropTypes","SketchPicker","getCategoricalSchemeRegistry","styled","Popover","ControlHeader","propTypes","onChange","func","value","object","defaultProps","swatchCommon","position","width","height","top","left","right","bottom","StyledSwatch","div","theme","gridUnit","borderRadius","styles","color","checkerboard","background","ColorPickerControl","Component","constructor","props","bind","col","rgb","renderPopover","presetColors","get","colors","filter","s","i","render","c","r","g","b","a","colStyle"],"sources":["/Users/zhaorui/src/incubator-superset-internal/superset-frontend/src/explore/components/controls/ColorPickerControl.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { SketchPicker } from 'react-color';\nimport { getCategoricalSchemeRegistry, styled } from '@superset-ui/core';\nimport Popover from 'src/components/Popover';\nimport ControlHeader from '../ControlHeader';\n\nconst propTypes = {\n  onChange: PropTypes.func,\n  value: PropTypes.object,\n};\n\nconst defaultProps = {\n  onChange: () => {},\n};\n\nconst swatchCommon = {\n  position: 'absolute',\n  width: '50px',\n  height: '20px',\n  top: '0px',\n  left: '0px',\n  right: '0px',\n  bottom: '0px',\n};\n\nconst StyledSwatch = styled.div`\n  ${({ theme }) => `\n      width: 50px;\n      height: 20px;\n      position: relative;\n      padding: ${theme.gridUnit}px;\n      borderRadius: ${theme.borderRadius}px;\n      display: inline-block;\n      cursor: pointer;\n    `}\n`;\n\nconst styles = {\n  color: {\n    ...swatchCommon,\n    borderRadius: '2px',\n  },\n  checkerboard: {\n    ...swatchCommon,\n    background:\n      'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==\") left center',\n  },\n};\nexport default class ColorPickerControl extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(col) {\n    this.props.onChange(col.rgb);\n  }\n\n  renderPopover() {\n    const presetColors = getCategoricalSchemeRegistry()\n      .get()\n      .colors.filter((s, i) => i < 7);\n    return (\n      <div id=\"filter-popover\" className=\"color-popover\">\n        <SketchPicker\n          color={this.props.value}\n          onChange={this.onChange}\n          presetColors={presetColors}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const c = this.props.value || { r: 0, g: 0, b: 0, a: 0 };\n    const colStyle = {\n      ...styles.color,\n      background: `rgba(${c.r}, ${c.g}, ${c.b}, ${c.a})`,\n    };\n    return (\n      <div>\n        <ControlHeader {...this.props} />\n        <Popover\n          trigger=\"click\"\n          placement=\"right\"\n          content={this.renderPopover()}\n        >\n          <StyledSwatch>\n            <div style={styles.checkerboard} />\n            <div style={colStyle} />\n          </StyledSwatch>\n        </Popover>\n      </div>\n    );\n  }\n}\n\nColorPickerControl.propTypes = propTypes;\nColorPickerControl.defaultProps = defaultProps;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}