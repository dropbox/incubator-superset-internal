{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n// We can codegen the enum definition based on a list of supported flags that we\n// check into source control. We're hardcoding the supported flags for now.\nexport var FeatureFlag;\n(function (FeatureFlag) {\n  // PLEASE KEEP THE LIST SORTED ALPHABETICALLY\n  FeatureFlag[\"ALERTS_ATTACH_REPORTS\"] = \"ALERTS_ATTACH_REPORTS\";\n  FeatureFlag[\"ALERT_REPORTS\"] = \"ALERT_REPORTS\";\n  FeatureFlag[\"ALLOW_FULL_CSV_EXPORT\"] = \"ALLOW_FULL_CSV_EXPORT\";\n  FeatureFlag[\"CLIENT_CACHE\"] = \"CLIENT_CACHE\";\n  FeatureFlag[\"DASHBOARD_CROSS_FILTERS\"] = \"DASHBOARD_CROSS_FILTERS\";\n  FeatureFlag[\"DASHBOARD_FILTERS_EXPERIMENTAL\"] = \"DASHBOARD_FILTERS_EXPERIMENTAL\";\n  FeatureFlag[\"CONFIRM_DASHBOARD_DIFF\"] = \"CONFIRM_DASHBOARD_DIFF\";\n  FeatureFlag[\"DASHBOARD_NATIVE_FILTERS\"] = \"DASHBOARD_NATIVE_FILTERS\";\n  FeatureFlag[\"DASHBOARD_NATIVE_FILTERS_SET\"] = \"DASHBOARD_NATIVE_FILTERS_SET\";\n  FeatureFlag[\"DASHBOARD_VIRTUALIZATION\"] = \"DASHBOARD_VIRTUALIZATION\";\n  FeatureFlag[\"DASHBOARD_RBAC\"] = \"DASHBOARD_RBAC\";\n  FeatureFlag[\"DATAPANEL_CLOSED_BY_DEFAULT\"] = \"DATAPANEL_CLOSED_BY_DEFAULT\";\n  FeatureFlag[\"DISABLE_DATASET_SOURCE_EDIT\"] = \"DISABLE_DATASET_SOURCE_EDIT\";\n  FeatureFlag[\"DISABLE_LEGACY_DATASOURCE_EDITOR\"] = \"DISABLE_LEGACY_DATASOURCE_EDITOR\";\n  FeatureFlag[\"DRILL_TO_DETAIL\"] = \"DRILL_TO_DETAIL\";\n  FeatureFlag[\"DRILL_BY\"] = \"DRILL_BY\";\n  FeatureFlag[\"DYNAMIC_PLUGINS\"] = \"DYNAMIC_PLUGINS\";\n  FeatureFlag[\"EMBEDDABLE_CHARTS\"] = \"EMBEDDABLE_CHARTS\";\n  FeatureFlag[\"EMBEDDED_SUPERSET\"] = \"EMBEDDED_SUPERSET\";\n  FeatureFlag[\"ENABLE_ADVANCED_DATA_TYPES\"] = \"ENABLE_ADVANCED_DATA_TYPES\";\n  FeatureFlag[\"ENABLE_EXPLORE_DRAG_AND_DROP\"] = \"ENABLE_EXPLORE_DRAG_AND_DROP\";\n  FeatureFlag[\"ENABLE_JAVASCRIPT_CONTROLS\"] = \"ENABLE_JAVASCRIPT_CONTROLS\";\n  FeatureFlag[\"ENABLE_TEMPLATE_PROCESSING\"] = \"ENABLE_TEMPLATE_PROCESSING\";\n  FeatureFlag[\"ENABLE_TEMPLATE_REMOVE_FILTERS\"] = \"ENABLE_TEMPLATE_REMOVE_FILTERS\";\n  FeatureFlag[\"ESCAPE_MARKDOWN_HTML\"] = \"ESCAPE_MARKDOWN_HTML\";\n  FeatureFlag[\"ESTIMATE_QUERY_COST\"] = \"ESTIMATE_QUERY_COST\";\n  FeatureFlag[\"GENERIC_CHART_AXES\"] = \"GENERIC_CHART_AXES\";\n  FeatureFlag[\"GLOBAL_ASYNC_QUERIES\"] = \"GLOBAL_ASYNC_QUERIES\";\n  FeatureFlag[\"HORIZONTAL_FILTER_BAR\"] = \"HORIZONTAL_FILTER_BAR\";\n  FeatureFlag[\"LISTVIEWS_DEFAULT_CARD_VIEW\"] = \"LISTVIEWS_DEFAULT_CARD_VIEW\";\n  FeatureFlag[\"SCHEDULED_QUERIES\"] = \"SCHEDULED_QUERIES\";\n  FeatureFlag[\"SHARE_QUERIES_VIA_KV_STORE\"] = \"SHARE_QUERIES_VIA_KV_STORE\";\n  FeatureFlag[\"SQLLAB_BACKEND_PERSISTENCE\"] = \"SQLLAB_BACKEND_PERSISTENCE\";\n  FeatureFlag[\"SQL_VALIDATORS_BY_ENGINE\"] = \"SQL_VALIDATORS_BY_ENGINE\";\n  FeatureFlag[\"THUMBNAILS\"] = \"THUMBNAILS\";\n  FeatureFlag[\"USE_ANALAGOUS_COLORS\"] = \"USE_ANALAGOUS_COLORS\";\n  FeatureFlag[\"TAGGING_SYSTEM\"] = \"TAGGING_SYSTEM\";\n  FeatureFlag[\"VERSIONED_EXPORT\"] = \"VERSIONED_EXPORT\";\n  FeatureFlag[\"SSH_TUNNELING\"] = \"SSH_TUNNELING\";\n  FeatureFlag[\"AVOID_COLORS_COLLISION\"] = \"AVOID_COLORS_COLLISION\";\n})(FeatureFlag || (FeatureFlag = {}));\nexport function isFeatureEnabled(feature) {\n  try {\n    return !!window.featureFlags[feature];\n  }\n  catch (error) {\n    console.error(`Failed to query feature flag ${feature}`);\n  }\n  return false;\n}","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA,WAAYA,WAAZ;AAAA,WAAYA,WAAZ,EAAuB;EACrB;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;EACAA;AACD,CA1CD,EAAYA,WAAW,KAAXA,WAAW,MAAvB;AAmEA,OAAM,SAAUC,gBAAV,CAA2BC,OAA3B,EAA+C;EACnD,IAAI;IACF,OAAO,CAAC,CAACC,MAAM,CAACC,YAAP,CAAoBF,OAApB,CAAT;EACD;EAAC,OAAOG,KAAP,EAAc;IACdC,OAAO,CAACD,KAAR,CAAc,gCAAgCH,OAAO,EAArD;EACD;EACD,OAAO,KAAP;AACD","names":["FeatureFlag","isFeatureEnabled","feature","window","featureFlags","error","console"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/packages/superset-ui-core/src/utils/featureFlags.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n// We can codegen the enum definition based on a list of supported flags that we\n// check into source control. We're hardcoding the supported flags for now.\nexport enum FeatureFlag {\n  // PLEASE KEEP THE LIST SORTED ALPHABETICALLY\n  ALERTS_ATTACH_REPORTS = 'ALERTS_ATTACH_REPORTS',\n  ALERT_REPORTS = 'ALERT_REPORTS',\n  ALLOW_FULL_CSV_EXPORT = 'ALLOW_FULL_CSV_EXPORT',\n  CLIENT_CACHE = 'CLIENT_CACHE',\n  DASHBOARD_CROSS_FILTERS = 'DASHBOARD_CROSS_FILTERS',\n  DASHBOARD_FILTERS_EXPERIMENTAL = 'DASHBOARD_FILTERS_EXPERIMENTAL',\n  CONFIRM_DASHBOARD_DIFF = 'CONFIRM_DASHBOARD_DIFF',\n  DASHBOARD_NATIVE_FILTERS = 'DASHBOARD_NATIVE_FILTERS',\n  DASHBOARD_NATIVE_FILTERS_SET = 'DASHBOARD_NATIVE_FILTERS_SET',\n  DASHBOARD_VIRTUALIZATION = 'DASHBOARD_VIRTUALIZATION',\n  DASHBOARD_RBAC = 'DASHBOARD_RBAC',\n  DATAPANEL_CLOSED_BY_DEFAULT = 'DATAPANEL_CLOSED_BY_DEFAULT',\n  DISABLE_DATASET_SOURCE_EDIT = 'DISABLE_DATASET_SOURCE_EDIT',\n  DISABLE_LEGACY_DATASOURCE_EDITOR = 'DISABLE_LEGACY_DATASOURCE_EDITOR',\n  DRILL_TO_DETAIL = 'DRILL_TO_DETAIL',\n  DRILL_BY = 'DRILL_BY',\n  DYNAMIC_PLUGINS = 'DYNAMIC_PLUGINS',\n  EMBEDDABLE_CHARTS = 'EMBEDDABLE_CHARTS',\n  EMBEDDED_SUPERSET = 'EMBEDDED_SUPERSET',\n  ENABLE_ADVANCED_DATA_TYPES = 'ENABLE_ADVANCED_DATA_TYPES',\n  ENABLE_EXPLORE_DRAG_AND_DROP = 'ENABLE_EXPLORE_DRAG_AND_DROP',\n  ENABLE_JAVASCRIPT_CONTROLS = 'ENABLE_JAVASCRIPT_CONTROLS',\n  ENABLE_TEMPLATE_PROCESSING = 'ENABLE_TEMPLATE_PROCESSING',\n  ENABLE_TEMPLATE_REMOVE_FILTERS = 'ENABLE_TEMPLATE_REMOVE_FILTERS',\n  ESCAPE_MARKDOWN_HTML = 'ESCAPE_MARKDOWN_HTML',\n  ESTIMATE_QUERY_COST = 'ESTIMATE_QUERY_COST',\n  GENERIC_CHART_AXES = 'GENERIC_CHART_AXES',\n  GLOBAL_ASYNC_QUERIES = 'GLOBAL_ASYNC_QUERIES',\n  HORIZONTAL_FILTER_BAR = 'HORIZONTAL_FILTER_BAR',\n  LISTVIEWS_DEFAULT_CARD_VIEW = 'LISTVIEWS_DEFAULT_CARD_VIEW',\n  SCHEDULED_QUERIES = 'SCHEDULED_QUERIES',\n  SHARE_QUERIES_VIA_KV_STORE = 'SHARE_QUERIES_VIA_KV_STORE',\n  SQLLAB_BACKEND_PERSISTENCE = 'SQLLAB_BACKEND_PERSISTENCE',\n  SQL_VALIDATORS_BY_ENGINE = 'SQL_VALIDATORS_BY_ENGINE',\n  THUMBNAILS = 'THUMBNAILS',\n  USE_ANALAGOUS_COLORS = 'USE_ANALAGOUS_COLORS',\n  TAGGING_SYSTEM = 'TAGGING_SYSTEM',\n  VERSIONED_EXPORT = 'VERSIONED_EXPORT',\n  SSH_TUNNELING = 'SSH_TUNNELING',\n  AVOID_COLORS_COLLISION = 'AVOID_COLORS_COLLISION',\n}\nexport type ScheduleQueriesProps = {\n  JSONSCHEMA: {\n    [key: string]: string;\n  };\n  UISCHEMA: {\n    [key: string]: string;\n  };\n  VALIDATION: {\n    [key: string]: string;\n  };\n};\nexport type FeatureFlagMap = {\n  [key in Exclude<FeatureFlag, FeatureFlag.SCHEDULED_QUERIES>]?: boolean;\n} & {\n  SCHEDULED_QUERIES?: ScheduleQueriesProps;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\ndeclare global {\n  interface Window {\n    featureFlags: FeatureFlagMap;\n  }\n}\n\nexport function isFeatureEnabled(feature: FeatureFlag): boolean {\n  try {\n    return !!window.featureFlags[feature];\n  } catch (error) {\n    console.error(`Failed to query feature flag ${feature}`);\n  }\n  return false;\n}\n"]},"metadata":{},"sourceType":"module"}