{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ArcLayer } from 'deck.gl';\nimport React from 'react';\nimport { t } from '@superset-ui/core';\nimport { commonLayerProps } from '../common';\nimport { createCategoricalDeckGLComponent } from '../../factory';\nimport TooltipRow from '../../TooltipRow';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nfunction getPoints(data) {\n  const points = [];\n  data.forEach((d) => {\n    points.push(d.sourcePosition);\n    points.push(d.targetPosition);\n  });\n\n  return points;\n}\n\nfunction setTooltipContent(formData) {\n  return (o) =>\n  ___EmotionJSX(\"div\", { className: \"deckgl-tooltip\" },\n  ___EmotionJSX(TooltipRow, {\n    label: t('Start (Longitude, Latitude): '),\n    value: `${o.object.sourcePosition[0]}, ${o.object.sourcePosition[1]}` }),\n\n  ___EmotionJSX(TooltipRow, {\n    label: t('End (Longitude, Latitude): '),\n    value: `${o.object.targetPosition[0]}, ${o.object.targetPosition[1]}` }),\n\n  formData.dimension &&\n  ___EmotionJSX(TooltipRow, {\n    label: `${formData.dimension}: `,\n    value: `${o.object.cat_color}` }));\n\n\n\n\n}\n\nexport function getLayer(fd, payload, onAddFilter, setTooltip) {\n  const data = payload.data.features;\n  const sc = fd.color_picker;\n  const tc = fd.target_color_picker;\n\n  return new ArcLayer({\n    data,\n    getSourceColor: (d) =>\n    d.sourceColor || d.color || [sc.r, sc.g, sc.b, 255 * sc.a],\n    getTargetColor: (d) =>\n    d.targetColor || d.color || [tc.r, tc.g, tc.b, 255 * tc.a],\n    id: `path-layer-${fd.slice_id}`,\n    strokeWidth: fd.stroke_width ? fd.stroke_width : 3,\n    ...commonLayerProps(fd, setTooltip, setTooltipContent(fd)) });\n\n}const _default =\n\ncreateCategoricalDeckGLComponent(getLayer, getPoints);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(getPoints, \"getPoints\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/src/layers/Arc/Arc.jsx\");reactHotLoader.register(setTooltipContent, \"setTooltipContent\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/src/layers/Arc/Arc.jsx\");reactHotLoader.register(getLayer, \"getLayer\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/src/layers/Arc/Arc.jsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/src/layers/Arc/Arc.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["ArcLayer","React","t","commonLayerProps","createCategoricalDeckGLComponent","TooltipRow","getPoints","data","points","forEach","d","push","sourcePosition","targetPosition","setTooltipContent","formData","o","object","dimension","cat_color","getLayer","fd","payload","onAddFilter","setTooltip","features","sc","color_picker","tc","target_color_picker","getSourceColor","sourceColor","color","r","g","b","a","getTargetColor","targetColor","id","slice_id","strokeWidth","stroke_width"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/src/layers/Arc/Arc.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ArcLayer } from 'deck.gl';\nimport React from 'react';\nimport { t } from '@superset-ui/core';\nimport { commonLayerProps } from '../common';\nimport { createCategoricalDeckGLComponent } from '../../factory';\nimport TooltipRow from '../../TooltipRow';\n\nfunction getPoints(data) {\n  const points = [];\n  data.forEach(d => {\n    points.push(d.sourcePosition);\n    points.push(d.targetPosition);\n  });\n\n  return points;\n}\n\nfunction setTooltipContent(formData) {\n  return o => (\n    <div className=\"deckgl-tooltip\">\n      <TooltipRow\n        label={t('Start (Longitude, Latitude): ')}\n        value={`${o.object.sourcePosition[0]}, ${o.object.sourcePosition[1]}`}\n      />\n      <TooltipRow\n        label={t('End (Longitude, Latitude): ')}\n        value={`${o.object.targetPosition[0]}, ${o.object.targetPosition[1]}`}\n      />\n      {formData.dimension && (\n        <TooltipRow\n          label={`${formData.dimension}: `}\n          value={`${o.object.cat_color}`}\n        />\n      )}\n    </div>\n  );\n}\n\nexport function getLayer(fd, payload, onAddFilter, setTooltip) {\n  const data = payload.data.features;\n  const sc = fd.color_picker;\n  const tc = fd.target_color_picker;\n\n  return new ArcLayer({\n    data,\n    getSourceColor: d =>\n      d.sourceColor || d.color || [sc.r, sc.g, sc.b, 255 * sc.a],\n    getTargetColor: d =>\n      d.targetColor || d.color || [tc.r, tc.g, tc.b, 255 * tc.a],\n    id: `path-layer-${fd.slice_id}`,\n    strokeWidth: fd.stroke_width ? fd.stroke_width : 3,\n    ...commonLayerProps(fd, setTooltip, setTooltipContent(fd)),\n  });\n}\n\nexport default createCategoricalDeckGLComponent(getLayer, getPoints);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}