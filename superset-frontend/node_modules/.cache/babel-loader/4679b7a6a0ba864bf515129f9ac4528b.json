{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { forwardRef } from 'react';\nimport { components as defaultComponents } from 'react-select';\nimport WindowedMenuList from './WindowedMenuList';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst { MenuList: DefaultMenuList } = defaultComponents;\nexport const DEFAULT_WINDOW_THRESHOLD = 100;\nexport function MenuList(_ref) {let { children, ...props } = _ref;\n  const { windowThreshold = DEFAULT_WINDOW_THRESHOLD } = props.selectProps;\n  if (Array.isArray(children) && children.length > windowThreshold) {\n    return ___EmotionJSX(WindowedMenuList, props,\n    children);\n\n  }\n  return ___EmotionJSX(DefaultMenuList, props, children);\n}\n/**\n * Add \"windowThreshold\" option to a react-select component, turn the options\n * list into a virtualized list when appropriate.\n *\n * @param SelectComponent the React component to render Select\n */\nexport default function windowed(SelectComponent) {\n  const WindowedSelect = /*#__PURE__*/forwardRef((props, ref) => {\n    const { components: components_ = {}, ...restProps } = props;\n    const components = { ...components_, MenuList };\n    return ___EmotionJSX(SelectComponent, _extends({ components: components, ref: ref }, restProps));\n  });\n  return WindowedSelect;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DefaultMenuList, \"DefaultMenuList\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/DeprecatedSelect/WindowedSelect/windowed.tsx\");reactHotLoader.register(DEFAULT_WINDOW_THRESHOLD, \"DEFAULT_WINDOW_THRESHOLD\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/DeprecatedSelect/WindowedSelect/windowed.tsx\");reactHotLoader.register(MenuList, \"MenuList\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/DeprecatedSelect/WindowedSelect/windowed.tsx\");reactHotLoader.register(windowed, \"windowed\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/DeprecatedSelect/WindowedSelect/windowed.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"mappings":"sWAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,IAIEC,UAJF,QAKO,OALP;AAMA,SAIEC,UAAU,IAAIC,iBAJhB,QAKO,cALP;AAMA,OAAOC,gBAAP,MAAwD,oBAAxD,C;AAEA,MAAM,EAAEC,QAAQ,EAAEC,eAAZ,KAAgCH,iBAAtC;AAEA,OAAO,MAAMI,wBAAwB,GAAG,GAAjC;AAUP,OAAM,SAAUF,QAAV,OAKL,KAL2D,EAC1DG,QAD0D,EAE1D,GAAGC,KAFuD,EAK3D;EACC,MAAM,EAAEC,eAAe,GAAGH,wBAApB,KAAiDE,KAAK,CAACE,WAA7D;EACA,IAAIC,KAAK,CAACC,OAAN,CAAcL,QAAd,KAA2BA,QAAQ,CAACM,MAAT,GAAkBJ,eAAjD,EAAkE;IAChE,OACE,cAAC,gBAAD,EAAsBD,KAAtB;IACGD,QADH,CADF;;EAKD;EACD,OAAO,cAAC,eAAD,EAAqBC,KAArB,EAA6BD,QAA7B,CAAP;AACD;AAED;;;;;;AAMA,eAAc,SAAUO,QAAV,CACZC,eADY,EAC2C;EAEvD,MAAMC,cAAc,gBAAGhB,UAAU,CAC/B,CACEQ,KADF,EAEES,GAFF,KAGI;IACF,MAAM,EAAEhB,UAAU,EAAEiB,WAAW,GAAG,EAA5B,EAAgC,GAAGC,SAAnC,KAAiDX,KAAvD;IACA,MAAMP,UAAU,GAAG,EAAE,GAAGiB,WAAL,EAAkBd,QAAlB,EAAnB;IACA,OACE,cAAC,eAAD,aAAiB,UAAU,EAAEH,UAA7B,EAAyC,GAAG,EAAEgB,GAA9C,IAAuDE,SAAvD,EADF;EAGD,CAV8B,CAAjC;EAYA,OAAOH,cAAP;AACD,C,iLAnDiBX,e,6KAELC,wB,sLAUGF,Q,sKAuBQU,Q","names":["React","forwardRef","components","defaultComponents","WindowedMenuList","MenuList","DefaultMenuList","DEFAULT_WINDOW_THRESHOLD","children","props","windowThreshold","selectProps","Array","isArray","length","windowed","SelectComponent","WindowedSelect","ref","components_","restProps"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/DeprecatedSelect/WindowedSelect/windowed.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  ComponentType,\n  FunctionComponent,\n  ReactElement,\n  forwardRef,\n} from 'react';\nimport Select, {\n  Props as SelectProps,\n  OptionTypeBase,\n  MenuListComponentProps,\n  components as defaultComponents,\n} from 'react-select';\nimport WindowedMenuList, { WindowedMenuListProps } from './WindowedMenuList';\n\nconst { MenuList: DefaultMenuList } = defaultComponents;\n\nexport const DEFAULT_WINDOW_THRESHOLD = 100;\n\nexport type WindowedSelectProps<OptionType extends OptionTypeBase> =\n  SelectProps<OptionType> & {\n    windowThreshold?: number;\n  } & WindowedMenuListProps['selectProps'];\n\nexport type WindowedSelectComponentType<OptionType extends OptionTypeBase> =\n  FunctionComponent<WindowedSelectProps<OptionType>>;\n\nexport function MenuList<OptionType extends OptionTypeBase>({\n  children,\n  ...props\n}: MenuListComponentProps<OptionType> & {\n  selectProps: WindowedSelectProps<OptionType>;\n}) {\n  const { windowThreshold = DEFAULT_WINDOW_THRESHOLD } = props.selectProps;\n  if (Array.isArray(children) && children.length > windowThreshold) {\n    return (\n      <WindowedMenuList {...props}>\n        {children as ReactElement[]}\n      </WindowedMenuList>\n    );\n  }\n  return <DefaultMenuList {...props}>{children}</DefaultMenuList>;\n}\n\n/**\n * Add \"windowThreshold\" option to a react-select component, turn the options\n * list into a virtualized list when appropriate.\n *\n * @param SelectComponent the React component to render Select\n */\nexport default function windowed<OptionType extends OptionTypeBase>(\n  SelectComponent: ComponentType<SelectProps<OptionType>>,\n): WindowedSelectComponentType<OptionType> {\n  const WindowedSelect = forwardRef(\n    (\n      props: WindowedSelectProps<OptionType>,\n      ref: React.RefObject<Select<OptionType>>,\n    ) => {\n      const { components: components_ = {}, ...restProps } = props;\n      const components = { ...components_, MenuList };\n      return (\n        <SelectComponent components={components} ref={ref} {...restProps} />\n      );\n    },\n  );\n  return WindowedSelect;\n}\n"]},"metadata":{},"sourceType":"module"}