{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {\nensureIsArray,\nFeatureFlag,\nlogging,\nstyled,\nt } from\n'@superset-ui/core';\nimport { isFeatureEnabled } from 'src/featureFlags';\nimport { PLACEHOLDER_DATASOURCE } from 'src/dashboard/constants';\nimport Loading from 'src/components/Loading';\nimport { EmptyStateBig } from 'src/components/EmptyState';\nimport ErrorBoundary from 'src/components/ErrorBoundary';\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from 'src/logger/LogUtils';\nimport { URL_PARAMS } from 'src/constants';\nimport { getUrlParam } from 'src/utils/urlUtils';\nimport { isCurrentUserBot } from 'src/utils/isBot';\nimport { ChartSource } from 'src/types/ChartSource';\nimport { ResourceStatus } from 'src/hooks/apiResources/apiResources';\nimport ChartRenderer from './ChartRenderer';\nimport { ChartErrorMessage } from './ChartErrorMessage';\nimport { getChartRequiredFieldsMissingMessage } from '../../utils/getChartRequiredFieldsMissingMessage';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  annotationData: PropTypes.object,\n  actions: PropTypes.object,\n  chartId: PropTypes.number.isRequired,\n  datasource: PropTypes.object,\n  // current chart is included by dashboard\n  dashboardId: PropTypes.number,\n  // original selected values for FilterBox viz\n  // so that FilterBox can pre-populate selected values\n  // only affect UI control\n  initialValues: PropTypes.object,\n  // formData contains chart's own filter parameter\n  // and merged with extra filter that current dashboard applying\n  formData: PropTypes.object.isRequired,\n  labelColors: PropTypes.object,\n  sharedLabelColors: PropTypes.object,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  setControlValue: PropTypes.func,\n  timeout: PropTypes.number,\n  vizType: PropTypes.string.isRequired,\n  triggerRender: PropTypes.bool,\n  force: PropTypes.bool,\n  isFiltersInitialized: PropTypes.bool,\n  // state\n  chartAlert: PropTypes.string,\n  chartStatus: PropTypes.string,\n  chartStackTrace: PropTypes.string,\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\n  triggerQuery: PropTypes.bool,\n  chartIsStale: PropTypes.bool,\n  errorMessage: PropTypes.node,\n  // dashboard callbacks\n  addFilter: PropTypes.func,\n  onQuery: PropTypes.func,\n  onFilterMenuOpen: PropTypes.func,\n  onFilterMenuClose: PropTypes.func,\n  ownState: PropTypes.object,\n  postTransformProps: PropTypes.func,\n  datasetsStatus: PropTypes.oneOf(['loading', 'error', 'complete']),\n  isInView: PropTypes.bool,\n  emitCrossFilters: PropTypes.bool };\n\n\nconst BLANK = {};\nconst NONEXISTENT_DATASET = t(\n'The dataset associated with this chart no longer exists');\n\n\nconst defaultProps = {\n  addFilter: () => BLANK,\n  onFilterMenuOpen: () => BLANK,\n  onFilterMenuClose: () => BLANK,\n  initialValues: BLANK,\n  setControlValue() {},\n  triggerRender: false,\n  dashboardId: null,\n  chartStackTrace: null,\n  force: false,\n  isInView: true };\n\n\nconst Styles = styled.div`\n  min-height: ${(p) => p.height}px;\n  position: relative;\n\n  .chart-tooltip {\n    opacity: 0.75;\n    font-size: ${(_ref) => {let { theme } = _ref;return theme.typography.sizes.s;}}px;\n  }\n\n  .slice_container {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    height: ${(p) => p.height}px;\n\n    .pivot_table tbody tr {\n      font-feature-settings: 'tnum' 1;\n    }\n\n    .alert {\n      margin: ${(_ref2) => {let { theme } = _ref2;return theme.gridUnit * 2;}}px;\n    }\n  }\n`;\n\nconst MonospaceDiv = styled.div`\n  font-family: ${(_ref3) => {let { theme } = _ref3;return theme.typography.families.monospace;}};\n  word-break: break-word;\n  overflow-x: auto;\n  white-space: pre-wrap;\n`;\n\nclass Chart extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleRenderContainerFailure =\n    this.handleRenderContainerFailure.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.triggerQuery) {\n      this.runQuery();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.triggerQuery) {\n      this.runQuery();\n    }\n  }\n\n  runQuery() {\n    if (this.props.chartId > 0 && isFeatureEnabled(FeatureFlag.CLIENT_CACHE)) {\n      // Load saved chart with a GET request\n      this.props.actions.getSavedChart(\n      this.props.formData,\n      this.props.force || getUrlParam(URL_PARAMS.force), // allow override via url params force=true\n      this.props.timeout,\n      this.props.chartId,\n      this.props.dashboardId,\n      this.props.ownState);\n\n    } else {\n      // Create chart with POST request\n      this.props.actions.postChartFormData(\n      this.props.formData,\n      this.props.force || getUrlParam(URL_PARAMS.force), // allow override via url params force=true\n      this.props.timeout,\n      this.props.chartId,\n      this.props.dashboardId,\n      this.props.ownState);\n\n    }\n  }\n\n  handleRenderContainerFailure(error, info) {\n    const { actions, chartId } = this.props;\n    logging.warn(error);\n    actions.chartRenderingFailed(\n    error.toString(),\n    chartId,\n    info ? info.componentStack : null);\n\n\n    actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\n      slice_id: chartId,\n      has_err: true,\n      error_details: error.toString(),\n      start_offset: this.renderStartTime,\n      ts: new Date().getTime(),\n      duration: Logger.getTimestamp() - this.renderStartTime });\n\n  }\n\n  renderErrorMessage(queryResponse) {var _queryResponse$errors;\n    const {\n      chartId,\n      chartAlert,\n      chartStackTrace,\n      datasource,\n      dashboardId,\n      height,\n      datasetsStatus } =\n    this.props;\n    const error = queryResponse == null ? void 0 : (_queryResponse$errors = queryResponse.errors) == null ? void 0 : _queryResponse$errors[0];\n    const message = chartAlert || (queryResponse == null ? void 0 : queryResponse.message);\n\n    // if datasource is still loading, don't render JS errors\n    if (\n    chartAlert !== undefined &&\n    chartAlert !== NONEXISTENT_DATASET &&\n    datasource === PLACEHOLDER_DATASOURCE &&\n    datasetsStatus !== ResourceStatus.ERROR)\n    {\n      return (\n        ___EmotionJSX(Styles, {\n          key: chartId,\n          \"data-ui-anchor\": \"chart\",\n          className: \"chart-container\",\n          \"data-test\": \"chart-container\",\n          height: height },\n\n        ___EmotionJSX(Loading, null)));\n\n\n    }\n\n    return (\n      ___EmotionJSX(ChartErrorMessage, {\n        key: chartId,\n        chartId: chartId,\n        error: error,\n        subtitle: ___EmotionJSX(MonospaceDiv, null, message),\n        copyText: message,\n        link: queryResponse ? queryResponse.link : null,\n        source: dashboardId ? ChartSource.Dashboard : ChartSource.Explore,\n        stackTrace: chartStackTrace }));\n\n\n  }\n\n  render() {\n    const {\n      height,\n      chartAlert,\n      chartStatus,\n      errorMessage,\n      chartIsStale,\n      queriesResponse = [],\n      width } =\n    this.props;\n\n    const isLoading = chartStatus === 'loading';\n    this.renderContainerStartTime = Logger.getTimestamp();\n    if (chartStatus === 'failed') {\n      return queriesResponse.map((item) => this.renderErrorMessage(item));\n    }\n\n    if (errorMessage && ensureIsArray(queriesResponse).length === 0) {\n      return (\n        ___EmotionJSX(EmptyStateBig, {\n          title: t('Add required control values to preview chart'),\n          description: getChartRequiredFieldsMissingMessage(true),\n          image: \"chart.svg\" }));\n\n\n    }\n\n    if (\n    !isLoading &&\n    !chartAlert &&\n    !errorMessage &&\n    chartIsStale &&\n    ensureIsArray(queriesResponse).length === 0)\n    {\n      return (\n        ___EmotionJSX(EmptyStateBig, {\n          title: t('Your chart is ready to go!'),\n          description:\n          ___EmotionJSX(\"span\", null,\n          t(\n          'Click on \"Create chart\" button in the control panel on the left to preview a visualization or'),\n          ' ',\n          ___EmotionJSX(\"span\", { role: \"button\", tabIndex: 0, onClick: this.props.onQuery },\n          t('click here')), \".\"),\n\n\n\n\n          image: \"chart.svg\" }));\n\n\n    }\n\n    return (\n      ___EmotionJSX(ErrorBoundary, {\n        onError: this.handleRenderContainerFailure,\n        showMessage: false },\n\n      ___EmotionJSX(Styles, {\n        \"data-ui-anchor\": \"chart\",\n        className: \"chart-container\",\n        \"data-test\": \"chart-container\",\n        height: height,\n        width: width },\n\n      ___EmotionJSX(\"div\", { className: \"slice_container\", \"data-test\": \"slice-container\" },\n      this.props.isInView ||\n      !isFeatureEnabled(FeatureFlag.DASHBOARD_VIRTUALIZATION) ||\n      isCurrentUserBot() ?\n      ___EmotionJSX(ChartRenderer, _extends({},\n      this.props, {\n        source: this.props.dashboardId ? 'dashboard' : 'explore',\n        \"data-test\": this.props.vizType })) :\n\n\n      ___EmotionJSX(Loading, null)),\n\n\n      isLoading && ___EmotionJSX(Loading, null))));\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nChart.propTypes = propTypes;\nChart.defaultProps = defaultProps;const _default =\n\nChart;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/Chart.jsx\");reactHotLoader.register(BLANK, \"BLANK\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/Chart.jsx\");reactHotLoader.register(NONEXISTENT_DATASET, \"NONEXISTENT_DATASET\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/Chart.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/Chart.jsx\");reactHotLoader.register(Styles, \"Styles\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/Chart.jsx\");reactHotLoader.register(MonospaceDiv, \"MonospaceDiv\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/Chart.jsx\");reactHotLoader.register(Chart, \"Chart\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/Chart.jsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/Chart.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["PropTypes","React","ensureIsArray","FeatureFlag","logging","styled","t","isFeatureEnabled","PLACEHOLDER_DATASOURCE","Loading","EmptyStateBig","ErrorBoundary","Logger","LOG_ACTIONS_RENDER_CHART","URL_PARAMS","getUrlParam","isCurrentUserBot","ChartSource","ResourceStatus","ChartRenderer","ChartErrorMessage","getChartRequiredFieldsMissingMessage","propTypes","annotationData","object","actions","chartId","number","isRequired","datasource","dashboardId","initialValues","formData","labelColors","sharedLabelColors","width","height","setControlValue","func","timeout","vizType","string","triggerRender","bool","force","isFiltersInitialized","chartAlert","chartStatus","chartStackTrace","queriesResponse","arrayOf","triggerQuery","chartIsStale","errorMessage","node","addFilter","onQuery","onFilterMenuOpen","onFilterMenuClose","ownState","postTransformProps","datasetsStatus","oneOf","isInView","emitCrossFilters","BLANK","NONEXISTENT_DATASET","defaultProps","Styles","div","p","theme","typography","sizes","s","gridUnit","MonospaceDiv","families","monospace","Chart","PureComponent","constructor","props","handleRenderContainerFailure","bind","componentDidMount","runQuery","componentDidUpdate","CLIENT_CACHE","getSavedChart","postChartFormData","error","info","warn","chartRenderingFailed","toString","componentStack","logEvent","slice_id","has_err","error_details","start_offset","renderStartTime","ts","Date","getTime","duration","getTimestamp","renderErrorMessage","queryResponse","errors","message","undefined","ERROR","link","Dashboard","Explore","render","isLoading","renderContainerStartTime","map","item","length","DASHBOARD_VIRTUALIZATION"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Chart/Chart.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  ensureIsArray,\n  FeatureFlag,\n  logging,\n  styled,\n  t,\n} from '@superset-ui/core';\nimport { isFeatureEnabled } from 'src/featureFlags';\nimport { PLACEHOLDER_DATASOURCE } from 'src/dashboard/constants';\nimport Loading from 'src/components/Loading';\nimport { EmptyStateBig } from 'src/components/EmptyState';\nimport ErrorBoundary from 'src/components/ErrorBoundary';\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from 'src/logger/LogUtils';\nimport { URL_PARAMS } from 'src/constants';\nimport { getUrlParam } from 'src/utils/urlUtils';\nimport { isCurrentUserBot } from 'src/utils/isBot';\nimport { ChartSource } from 'src/types/ChartSource';\nimport { ResourceStatus } from 'src/hooks/apiResources/apiResources';\nimport ChartRenderer from './ChartRenderer';\nimport { ChartErrorMessage } from './ChartErrorMessage';\nimport { getChartRequiredFieldsMissingMessage } from '../../utils/getChartRequiredFieldsMissingMessage';\n\nconst propTypes = {\n  annotationData: PropTypes.object,\n  actions: PropTypes.object,\n  chartId: PropTypes.number.isRequired,\n  datasource: PropTypes.object,\n  // current chart is included by dashboard\n  dashboardId: PropTypes.number,\n  // original selected values for FilterBox viz\n  // so that FilterBox can pre-populate selected values\n  // only affect UI control\n  initialValues: PropTypes.object,\n  // formData contains chart's own filter parameter\n  // and merged with extra filter that current dashboard applying\n  formData: PropTypes.object.isRequired,\n  labelColors: PropTypes.object,\n  sharedLabelColors: PropTypes.object,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  setControlValue: PropTypes.func,\n  timeout: PropTypes.number,\n  vizType: PropTypes.string.isRequired,\n  triggerRender: PropTypes.bool,\n  force: PropTypes.bool,\n  isFiltersInitialized: PropTypes.bool,\n  // state\n  chartAlert: PropTypes.string,\n  chartStatus: PropTypes.string,\n  chartStackTrace: PropTypes.string,\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\n  triggerQuery: PropTypes.bool,\n  chartIsStale: PropTypes.bool,\n  errorMessage: PropTypes.node,\n  // dashboard callbacks\n  addFilter: PropTypes.func,\n  onQuery: PropTypes.func,\n  onFilterMenuOpen: PropTypes.func,\n  onFilterMenuClose: PropTypes.func,\n  ownState: PropTypes.object,\n  postTransformProps: PropTypes.func,\n  datasetsStatus: PropTypes.oneOf(['loading', 'error', 'complete']),\n  isInView: PropTypes.bool,\n  emitCrossFilters: PropTypes.bool,\n};\n\nconst BLANK = {};\nconst NONEXISTENT_DATASET = t(\n  'The dataset associated with this chart no longer exists',\n);\n\nconst defaultProps = {\n  addFilter: () => BLANK,\n  onFilterMenuOpen: () => BLANK,\n  onFilterMenuClose: () => BLANK,\n  initialValues: BLANK,\n  setControlValue() {},\n  triggerRender: false,\n  dashboardId: null,\n  chartStackTrace: null,\n  force: false,\n  isInView: true,\n};\n\nconst Styles = styled.div`\n  min-height: ${p => p.height}px;\n  position: relative;\n\n  .chart-tooltip {\n    opacity: 0.75;\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  }\n\n  .slice_container {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    height: ${p => p.height}px;\n\n    .pivot_table tbody tr {\n      font-feature-settings: 'tnum' 1;\n    }\n\n    .alert {\n      margin: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n`;\n\nconst MonospaceDiv = styled.div`\n  font-family: ${({ theme }) => theme.typography.families.monospace};\n  word-break: break-word;\n  overflow-x: auto;\n  white-space: pre-wrap;\n`;\n\nclass Chart extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleRenderContainerFailure =\n      this.handleRenderContainerFailure.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.triggerQuery) {\n      this.runQuery();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.triggerQuery) {\n      this.runQuery();\n    }\n  }\n\n  runQuery() {\n    if (this.props.chartId > 0 && isFeatureEnabled(FeatureFlag.CLIENT_CACHE)) {\n      // Load saved chart with a GET request\n      this.props.actions.getSavedChart(\n        this.props.formData,\n        this.props.force || getUrlParam(URL_PARAMS.force), // allow override via url params force=true\n        this.props.timeout,\n        this.props.chartId,\n        this.props.dashboardId,\n        this.props.ownState,\n      );\n    } else {\n      // Create chart with POST request\n      this.props.actions.postChartFormData(\n        this.props.formData,\n        this.props.force || getUrlParam(URL_PARAMS.force), // allow override via url params force=true\n        this.props.timeout,\n        this.props.chartId,\n        this.props.dashboardId,\n        this.props.ownState,\n      );\n    }\n  }\n\n  handleRenderContainerFailure(error, info) {\n    const { actions, chartId } = this.props;\n    logging.warn(error);\n    actions.chartRenderingFailed(\n      error.toString(),\n      chartId,\n      info ? info.componentStack : null,\n    );\n\n    actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\n      slice_id: chartId,\n      has_err: true,\n      error_details: error.toString(),\n      start_offset: this.renderStartTime,\n      ts: new Date().getTime(),\n      duration: Logger.getTimestamp() - this.renderStartTime,\n    });\n  }\n\n  renderErrorMessage(queryResponse) {\n    const {\n      chartId,\n      chartAlert,\n      chartStackTrace,\n      datasource,\n      dashboardId,\n      height,\n      datasetsStatus,\n    } = this.props;\n    const error = queryResponse?.errors?.[0];\n    const message = chartAlert || queryResponse?.message;\n\n    // if datasource is still loading, don't render JS errors\n    if (\n      chartAlert !== undefined &&\n      chartAlert !== NONEXISTENT_DATASET &&\n      datasource === PLACEHOLDER_DATASOURCE &&\n      datasetsStatus !== ResourceStatus.ERROR\n    ) {\n      return (\n        <Styles\n          key={chartId}\n          data-ui-anchor=\"chart\"\n          className=\"chart-container\"\n          data-test=\"chart-container\"\n          height={height}\n        >\n          <Loading />\n        </Styles>\n      );\n    }\n\n    return (\n      <ChartErrorMessage\n        key={chartId}\n        chartId={chartId}\n        error={error}\n        subtitle={<MonospaceDiv>{message}</MonospaceDiv>}\n        copyText={message}\n        link={queryResponse ? queryResponse.link : null}\n        source={dashboardId ? ChartSource.Dashboard : ChartSource.Explore}\n        stackTrace={chartStackTrace}\n      />\n    );\n  }\n\n  render() {\n    const {\n      height,\n      chartAlert,\n      chartStatus,\n      errorMessage,\n      chartIsStale,\n      queriesResponse = [],\n      width,\n    } = this.props;\n\n    const isLoading = chartStatus === 'loading';\n    this.renderContainerStartTime = Logger.getTimestamp();\n    if (chartStatus === 'failed') {\n      return queriesResponse.map(item => this.renderErrorMessage(item));\n    }\n\n    if (errorMessage && ensureIsArray(queriesResponse).length === 0) {\n      return (\n        <EmptyStateBig\n          title={t('Add required control values to preview chart')}\n          description={getChartRequiredFieldsMissingMessage(true)}\n          image=\"chart.svg\"\n        />\n      );\n    }\n\n    if (\n      !isLoading &&\n      !chartAlert &&\n      !errorMessage &&\n      chartIsStale &&\n      ensureIsArray(queriesResponse).length === 0\n    ) {\n      return (\n        <EmptyStateBig\n          title={t('Your chart is ready to go!')}\n          description={\n            <span>\n              {t(\n                'Click on \"Create chart\" button in the control panel on the left to preview a visualization or',\n              )}{' '}\n              <span role=\"button\" tabIndex={0} onClick={this.props.onQuery}>\n                {t('click here')}\n              </span>\n              .\n            </span>\n          }\n          image=\"chart.svg\"\n        />\n      );\n    }\n\n    return (\n      <ErrorBoundary\n        onError={this.handleRenderContainerFailure}\n        showMessage={false}\n      >\n        <Styles\n          data-ui-anchor=\"chart\"\n          className=\"chart-container\"\n          data-test=\"chart-container\"\n          height={height}\n          width={width}\n        >\n          <div className=\"slice_container\" data-test=\"slice-container\">\n            {this.props.isInView ||\n            !isFeatureEnabled(FeatureFlag.DASHBOARD_VIRTUALIZATION) ||\n            isCurrentUserBot() ? (\n              <ChartRenderer\n                {...this.props}\n                source={this.props.dashboardId ? 'dashboard' : 'explore'}\n                data-test={this.props.vizType}\n              />\n            ) : (\n              <Loading />\n            )}\n          </div>\n          {isLoading && <Loading />}\n        </Styles>\n      </ErrorBoundary>\n    );\n  }\n}\n\nChart.propTypes = propTypes;\nChart.defaultProps = defaultProps;\n\nexport default Chart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}