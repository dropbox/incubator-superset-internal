{"ast":null,"code":"/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport default function makeSingleton(BaseClass) {for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {args[_key - 1] = arguments[_key];}\n  let singleton;\n  return function getInstance() {\n    if (!singleton) {\n      singleton = new BaseClass(...args);\n    }\n    return singleton;\n  };\n}","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;;;;AAuBA,eAAc,SAAUA,aAAV,CACZC,SADY,EAEC,mCAAVC,IAAU,uEAAVA,IAAU;EAEb,IAAIC,SAAJ;EAEA,OAAO,SAASC,WAAT,GAAoB;IACzB,IAAI,CAACD,SAAL,EAAgB;MACdA,SAAS,GAAG,IAAIF,SAAJ,CAAc,GAAGC,IAAjB,CAAZ;IACD;IAED,OAAOC,SAAP;EACD,CAND;AAOD","names":["makeSingleton","BaseClass","args","singleton","getInstance"],"sourceRoot":"","sources":["/Users/zhaorui/src/incubator-superset-internal/superset-frontend/packages/superset-ui-core/src/utils/makeSingleton.ts"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\ninterface ClassInterface<T, Args extends unknown[]> {\n  new (...args: Args): T;\n}\n\nexport default function makeSingleton<T, Args extends unknown[]>(\n  BaseClass: ClassInterface<T, Args>,\n  ...args: Args\n): () => T {\n  let singleton: T;\n\n  return function getInstance() {\n    if (!singleton) {\n      singleton = new BaseClass(...args);\n    }\n\n    return singleton;\n  };\n}\n"]},"metadata":{},"sourceType":"module"}