{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FeatureFlag, t, useTheme } from '@superset-ui/core';\nimport { CardStyles } from 'src/views/CRUD/utils';\nimport { isFeatureEnabled } from 'src/featureFlags';\nimport { AntdDropdown } from 'src/components';\nimport { Menu } from 'src/components/Menu';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport ListViewCard from 'src/components/ListViewCard';\nimport Icons from 'src/components/Icons';\nimport { deleteTags } from 'src/features/tags/tags';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nfunction TagCard(_ref) {let { tag, hasPerm, bulkSelectEnabled, tagFilter, refreshData, userId, addDangerToast, addSuccessToast, showThumbnails } = _ref;\n  const canDelete = hasPerm('can_write');\n  const handleTagDelete = (tag) => {\n    deleteTags([tag], addSuccessToast, addDangerToast);\n    refreshData();\n  };\n  const theme = useTheme();\n  const menu = ___EmotionJSX(Menu, null,\n  canDelete && ___EmotionJSX(Menu.Item, null,\n  ___EmotionJSX(ConfirmStatusChange, { title: t('Please confirm'), description: ___EmotionJSX(React.Fragment, null,\n    t('Are you sure you want to delete'), \" \", ___EmotionJSX(\"b\", null, tag.name), \"?\"),\n    onConfirm: () => handleTagDelete(tag) },\n  (confirmDelete) => ___EmotionJSX(\"div\", { role: \"button\", tabIndex: 0, className: \"action-button\", onClick: confirmDelete, \"data-test\": \"dashboard-card-option-delete-button\" },\n  ___EmotionJSX(Icons.Trash, { iconSize: \"l\" }), \" \", t('Delete')))));\n\n\n\n\n  return ___EmotionJSX(CardStyles, null,\n  ___EmotionJSX(ListViewCard, { title: tag.name, cover: !isFeatureEnabled(FeatureFlag.THUMBNAILS) || !showThumbnails ? ___EmotionJSX(React.Fragment, null) : null, url: undefined, linkComponent: Link, imgFallbackURL: \"/static/assets/images/dashboard-card-fallback.svg\", description: t('Modified %s', tag.changed_on_delta_humanized), actions: ___EmotionJSX(ListViewCard.Actions, { onClick: (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      } },\n    ___EmotionJSX(AntdDropdown, { overlay: menu },\n    ___EmotionJSX(Icons.MoreVert, { iconColor: theme.colors.grayscale.base }))) }));\n\n\n\n}__signature__(TagCard, \"useTheme{theme}\", () => [useTheme]);const _default =\nTagCard;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(TagCard, \"TagCard\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/tags/TagCard.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/tags/TagCard.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,WAAT,EAAsBC,CAAtB,EAAyBC,QAAzB,QAAyC,mBAAzC;AACA,SAASC,UAAT,QAA2B,sBAA3B;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,IAAT,QAAqB,qBAArB;AACA,OAAOC,mBAAP,MAAgC,oCAAhC;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AAEA,SAASC,UAAT,QAA2B,wBAA3B,C;AAeA,SAASC,OAAT,OAUe,KAVE,EACfC,GADe,EAEfC,OAFe,EAGfC,iBAHe,EAIfC,SAJe,EAKfC,WALe,EAMfC,MANe,EAOfC,cAPe,EAQfC,eARe,EASfC,cATe,EAUF;EACb,MAAMC,SAAS,GAAGR,OAAO,CAAC,WAAD,CAAzB;EAEA,MAAMS,eAAe,GAAG,CAACV,GAAD,KAAa;IACnCF,UAAU,CAAC,CAACE,GAAD,CAAD,EAAQO,eAAR,EAAyBD,cAAzB,CAAV;IACAF,WAAW;EACZ,CAHD;EAKA,MAAMO,KAAK,GAAGrB,QAAQ,EAAtB;EACA,MAAMsB,IAAI,GACR,cAAC,IAAD;EACGH,SAAS,IACR,cAAC,IAAD,CAAM,IAAN;EACE,cAAC,mBAAD,IACE,KAAK,EAAEpB,CAAC,CAAC,gBAAD,CADV,EAEE,WAAW,EACT;IACGA,CAAC,CAAC,iCAAD,CADJ,OACyC,yBAAIW,GAAG,CAACa,IAAR,CADzC,MAHJ;IAOE,SAAS,EAAE,MAAMH,eAAe,CAACV,GAAD,CAPlC;EASG,cAAa,KACZ,uBACE,IAAI,EAAC,QADP,EAEE,QAAQ,EAAE,CAFZ,EAGE,SAAS,EAAC,eAHZ,EAIE,OAAO,EAAEc,aAJX,EAKE,aAAU,qCALZ;EAOE,cAAC,KAAD,CAAO,KAAP,IAAa,QAAQ,EAAC,GAAtB,GAPF,OAOgCzB,CAAC,CAAC,QAAD,CAPjC,CAVJ,CADF,CAFJ,CADF;;;;;EA6BA,OACE,cAAC,UAAD;EACE,cAAC,YAAD,IACE,KAAK,EAAEW,GAAG,CAACa,IADb,EAEE,KAAK,EACH,CAACrB,gBAAgB,CAACJ,WAAW,CAAC2B,UAAb,CAAjB,IAA6C,CAACP,cAA9C,GACE,mCADF,GAEI,IALR,EAOE,GAAG,EAAEQ,SAPP,EAQE,aAAa,EAAE7B,IARjB,EASE,cAAc,EAAC,mDATjB,EAUE,WAAW,EAAEE,CAAC,CAAC,aAAD,EAAgBW,GAAG,CAACiB,0BAApB,CAVhB,EAWE,OAAO,EACL,cAAC,YAAD,CAAc,OAAd,IACE,OAAO,EAAE,EAAC,KAAG;QACXC,CAAC,CAACC,eAAF;QACAD,CAAC,CAACE,cAAF;MACD,CAJH;IAME,cAAC,YAAD,IAAc,OAAO,EAAER,IAAvB;IACE,cAAC,KAAD,CAAO,QAAP,IAAgB,SAAS,EAAED,KAAK,CAACU,MAAN,CAAaC,SAAb,CAAuBC,IAAlD,GADF,CANF,CAZJ,GADF,CADF;;;;AA4BD,C,cA5EQxB,O,4BAkBOT,Q;AA4DDS,O,CAAf,wB,iLA9ESA,O","names":["React","Link","FeatureFlag","t","useTheme","CardStyles","isFeatureEnabled","AntdDropdown","Menu","ConfirmStatusChange","ListViewCard","Icons","deleteTags","TagCard","tag","hasPerm","bulkSelectEnabled","tagFilter","refreshData","userId","addDangerToast","addSuccessToast","showThumbnails","canDelete","handleTagDelete","theme","menu","name","confirmDelete","THUMBNAILS","undefined","changed_on_delta_humanized","e","stopPropagation","preventDefault","colors","grayscale","base"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/features/tags/TagCard.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FeatureFlag, t, useTheme } from '@superset-ui/core';\nimport { CardStyles } from 'src/views/CRUD/utils';\nimport { isFeatureEnabled } from 'src/featureFlags';\nimport { AntdDropdown } from 'src/components';\nimport { Menu } from 'src/components/Menu';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport ListViewCard from 'src/components/ListViewCard';\nimport Icons from 'src/components/Icons';\nimport { Tag } from 'src/views/CRUD/types';\nimport { deleteTags } from 'src/features/tags/tags';\n\ninterface TagCardProps {\n  tag: Tag;\n  hasPerm: (name: string) => boolean;\n  bulkSelectEnabled: boolean;\n  refreshData: () => void;\n  loading: boolean;\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  tagFilter?: string;\n  userId?: string | number;\n  showThumbnails?: boolean;\n}\n\nfunction TagCard({\n  tag,\n  hasPerm,\n  bulkSelectEnabled,\n  tagFilter,\n  refreshData,\n  userId,\n  addDangerToast,\n  addSuccessToast,\n  showThumbnails,\n}: TagCardProps) {\n  const canDelete = hasPerm('can_write');\n\n  const handleTagDelete = (tag: Tag) => {\n    deleteTags([tag], addSuccessToast, addDangerToast);\n    refreshData();\n  };\n\n  const theme = useTheme();\n  const menu = (\n    <Menu>\n      {canDelete && (\n        <Menu.Item>\n          <ConfirmStatusChange\n            title={t('Please confirm')}\n            description={\n              <>\n                {t('Are you sure you want to delete')} <b>{tag.name}</b>?\n              </>\n            }\n            onConfirm={() => handleTagDelete(tag)}\n          >\n            {confirmDelete => (\n              <div\n                role=\"button\"\n                tabIndex={0}\n                className=\"action-button\"\n                onClick={confirmDelete}\n                data-test=\"dashboard-card-option-delete-button\"\n              >\n                <Icons.Trash iconSize=\"l\" /> {t('Delete')}\n              </div>\n            )}\n          </ConfirmStatusChange>\n        </Menu.Item>\n      )}\n    </Menu>\n  );\n  return (\n    <CardStyles>\n      <ListViewCard\n        title={tag.name}\n        cover={\n          !isFeatureEnabled(FeatureFlag.THUMBNAILS) || !showThumbnails ? (\n            <></>\n          ) : null\n        }\n        url={undefined}\n        linkComponent={Link}\n        imgFallbackURL=\"/static/assets/images/dashboard-card-fallback.svg\"\n        description={t('Modified %s', tag.changed_on_delta_humanized)}\n        actions={\n          <ListViewCard.Actions\n            onClick={e => {\n              e.stopPropagation();\n              e.preventDefault();\n            }}\n          >\n            <AntdDropdown overlay={menu}>\n              <Icons.MoreVert iconColor={theme.colors.grayscale.base} />\n            </AntdDropdown>\n          </ListViewCard.Actions>\n        }\n      />\n    </CardStyles>\n  );\n}\n\nexport default TagCard;\n"]},"metadata":{},"sourceType":"module"}