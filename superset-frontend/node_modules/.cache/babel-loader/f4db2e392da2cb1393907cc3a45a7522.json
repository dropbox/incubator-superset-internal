{"ast":null,"code":"import _isObject from \"lodash/isObject\"; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\n\nimport { t, SupersetClient } from '@superset-ui/core';\nimport Button from 'src/components/Button';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst CLOSE = t('Close');\nconst SAVE_AS_DATASET = t('Save as Dataset');\nconst OPEN_IN_SQL_LAB = t('Open in SQL Lab');\nconst ViewQueryModalFooter = (props) => {\n  const viewInSQLLab = (id, type, sql) => {\n    const payload = {\n      datasourceKey: `${id}__${type}`,\n      sql };\n\n    SupersetClient.postForm('/superset/sqllab/', payload);\n  };\n  const openSQL = () => {\n    const { datasource } = props;\n    if (_isObject(datasource)) {\n      const { id, type, sql } = datasource;\n      viewInSQLLab(id, type, sql);\n    }\n  };\n  return ___EmotionJSX(\"div\", null,\n  ___EmotionJSX(Button, { onClick: () => {\n      props == null ? void 0 : props.closeModal == null ? void 0 : props.closeModal();\n      props == null ? void 0 : props.changeDatasource == null ? void 0 : props.changeDatasource();\n    } },\n  SAVE_AS_DATASET),\n\n  ___EmotionJSX(Button, { onClick: () => openSQL() }, OPEN_IN_SQL_LAB),\n  ___EmotionJSX(Button, { buttonStyle: \"primary\", onClick: () => {\n      props == null ? void 0 : props.closeModal == null ? void 0 : props.closeModal();\n    } },\n  CLOSE));\n\n\n};\nexport default ViewQueryModalFooter;","map":{"version":3,"mappings":"yCAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,CAAT,EAAYC,cAAZ,QAAkC,mBAAlC;AACA,OAAOC,MAAP,MAAmB,uBAAnB,C;AAcA,MAAMC,KAAK,GAAGH,CAAC,CAAC,OAAD,CAAf;AACA,MAAMI,eAAe,GAAGJ,CAAC,CAAC,iBAAD,CAAzB;AACA,MAAMK,eAAe,GAAGL,CAAC,CAAC,iBAAD,CAAzB;AAEA,MAAMM,oBAAoB,GAAwC,CAACC,KAAD,KAI7D;EACH,MAAMC,YAAY,GAAG,CAACC,EAAD,EAAaC,IAAb,EAA2BC,GAA3B,KAA0C;IAC7D,MAAMC,OAAO,GAAG;MACdC,aAAa,EAAE,GAAGJ,EAAE,KAAKC,IAAI,EADf;MAEdC,GAFc,EAAhB;;IAIAV,cAAc,CAACa,QAAf,CAAwB,mBAAxB,EAA6CF,OAA7C;EACD,CAND;EAQA,MAAMG,OAAO,GAAG,MAAK;IACnB,MAAM,EAAEC,UAAF,KAAiBT,KAAvB;IACA,IAAI,UAASS,UAAT,CAAJ,EAA0B;MACxB,MAAM,EAAEP,EAAF,EAAMC,IAAN,EAAYC,GAAZ,KAAoBK,UAA1B;MACAR,YAAY,CAACC,EAAD,EAAKC,IAAL,EAAWC,GAAX,CAAZ;IACD;EACF,CAND;EAOA,OACE;EACE,cAAC,MAAD,IACE,OAAO,EAAE,MAAK;MACZJ,KAAK,QAAL,iBAAK,CAAEU,UAAP,yBAAK,CAAEA,UAAP;MACAV,KAAK,QAAL,iBAAK,CAAEW,gBAAP,yBAAK,CAAEA,gBAAP;IACD,CAJH;EAMGd,eANH,CADF;;EASE,cAAC,MAAD,IAAQ,OAAO,EAAE,MAAMW,OAAO,EAA9B,IAAmCV,eAAnC,CATF;EAUE,cAAC,MAAD,IACE,WAAW,EAAC,SADd,EAEE,OAAO,EAAE,MAAK;MACZE,KAAK,QAAL,iBAAK,CAAEU,UAAP,yBAAK,CAAEA,UAAP;IACD,CAJH;EAMGd,KANH,CAVF,CADF;;;AAqBD,CAzCD;AA2CA,eAAeG,oBAAf","names":["React","t","SupersetClient","Button","CLOSE","SAVE_AS_DATASET","OPEN_IN_SQL_LAB","ViewQueryModalFooter","props","viewInSQLLab","id","type","sql","payload","datasourceKey","postForm","openSQL","datasource","closeModal","changeDatasource"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/explore/components/controls/ViewQueryModalFooter.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { isObject } from 'lodash';\nimport { t, SupersetClient } from '@superset-ui/core';\nimport Button from 'src/components/Button';\n\ninterface SimpleDataSource {\n  id: string;\n  sql: string;\n  type: string;\n}\n\ninterface ViewQueryModalFooterProps {\n  closeModal?: Function;\n  changeDatasource?: Function;\n  datasource?: SimpleDataSource;\n}\n\nconst CLOSE = t('Close');\nconst SAVE_AS_DATASET = t('Save as Dataset');\nconst OPEN_IN_SQL_LAB = t('Open in SQL Lab');\n\nconst ViewQueryModalFooter: React.FC<ViewQueryModalFooterProps> = (props: {\n  closeModal: () => void;\n  changeDatasource: () => void;\n  datasource: SimpleDataSource;\n}) => {\n  const viewInSQLLab = (id: string, type: string, sql: string) => {\n    const payload = {\n      datasourceKey: `${id}__${type}`,\n      sql,\n    };\n    SupersetClient.postForm('/superset/sqllab/', payload);\n  };\n\n  const openSQL = () => {\n    const { datasource } = props;\n    if (isObject(datasource)) {\n      const { id, type, sql } = datasource;\n      viewInSQLLab(id, type, sql);\n    }\n  };\n  return (\n    <div>\n      <Button\n        onClick={() => {\n          props?.closeModal?.();\n          props?.changeDatasource?.();\n        }}\n      >\n        {SAVE_AS_DATASET}\n      </Button>\n      <Button onClick={() => openSQL()}>{OPEN_IN_SQL_LAB}</Button>\n      <Button\n        buttonStyle=\"primary\"\n        onClick={() => {\n          props?.closeModal?.();\n        }}\n      >\n        {CLOSE}\n      </Button>\n    </div>\n  );\n};\n\nexport default ViewQueryModalFooter;\n"]},"metadata":{},"sourceType":"module"}