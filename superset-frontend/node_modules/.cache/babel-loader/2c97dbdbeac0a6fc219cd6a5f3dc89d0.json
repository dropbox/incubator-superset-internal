{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport moment from 'moment';\nimport { t } from '@superset-ui/core';\nimport rison from 'rison';\nimport TableLoader from '../../components/TableLoader';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nexport default function RecentActivity(_ref) {let { user } = _ref;\n  const rowLimit = 50;\n  const mutator = function (data) {\n    return data.result.\n    filter((row) => row.action === 'dashboard' || row.action === 'explore').\n    map((row) => ({\n      name: ___EmotionJSX(\"a\", { href: row.item_url }, row.item_title),\n      type: row.action,\n      time: moment.utc(row.time).fromNow(),\n      _time: row.time }));\n\n  };\n  const params = rison.encode({ page_size: rowLimit });\n  return ___EmotionJSX(\"div\", null,\n  ___EmotionJSX(TableLoader, { className: \"table-condensed\", mutator: mutator, sortable: true, dataEndpoint: `/api/v1/log/recent_activity/${user == null ? void 0 : user.userId}/?q=${params}`, noDataText: t('No Data') }));\n\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(RecentActivity, \"RecentActivity\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/profile/components/RecentActivity.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,CAAT,QAAkB,mBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,WAAP,MAAwB,8BAAxB,C;AAQA,eAAc,SAAUC,cAAV,OAAsD,KAA7B,EAAEC,IAAF,EAA6B;EAClE,MAAMC,QAAQ,GAAG,EAAjB;EACA,MAAMC,OAAO,GAAG,UAAUC,IAAV,EAA8B;IAC5C,OAAOA,IAAI,CAACC,MAAL;IACJC,MADI,CACG,IAAG,KAAIC,GAAG,CAACC,MAAJ,KAAe,WAAf,IAA8BD,GAAG,CAACC,MAAJ,KAAe,SADvD;IAEJC,GAFI,CAEA,IAAG,MAAK;MACXC,IAAI,EAAE,qBAAG,IAAI,EAAEH,GAAG,CAACI,QAAb,IAAwBJ,GAAG,CAACK,UAA5B,CADK;MAEXC,IAAI,EAAEN,GAAG,CAACC,MAFC;MAGXM,IAAI,EAAElB,MAAM,CAACmB,GAAP,CAAWR,GAAG,CAACO,IAAf,EAAqBE,OAArB,EAHK;MAIXC,KAAK,EAAEV,GAAG,CAACO,IAJA,EAAL,CAFH,CAAP;;EAQD,CATD;EAUA,MAAMI,MAAM,GAAGpB,KAAK,CAACqB,MAAN,CAAa,EAAEC,SAAS,EAAElB,QAAb,EAAb,CAAf;EACA,OACE;EACE,cAAC,WAAD,IACE,SAAS,EAAC,iBADZ,EAEE,OAAO,EAAEC,OAFX,EAGE,QAAQ,MAHV,EAIE,YAAY,EAAE,+BAA+BF,IAA/B,oBAA+BA,IAAI,CAAEoB,MAAM,OAAOH,MAAM,EAJxE,EAKE,UAAU,EAAErB,CAAC,CAAC,SAAD,CALf,GADF,CADF;;AAWD,C,iLAxBuBG,c","names":["React","moment","t","rison","TableLoader","RecentActivity","user","rowLimit","mutator","data","result","filter","row","action","map","name","item_url","item_title","type","time","utc","fromNow","_time","params","encode","page_size","userId"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/profile/components/RecentActivity.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport moment from 'moment';\nimport { t } from '@superset-ui/core';\nimport rison from 'rison';\n\nimport TableLoader from '../../components/TableLoader';\nimport { ActivityResult } from '../types';\nimport { BootstrapUser } from '../../types/bootstrapTypes';\n\ninterface RecentActivityProps {\n  user: BootstrapUser;\n}\n\nexport default function RecentActivity({ user }: RecentActivityProps) {\n  const rowLimit = 50;\n  const mutator = function (data: ActivityResult) {\n    return data.result\n      .filter(row => row.action === 'dashboard' || row.action === 'explore')\n      .map(row => ({\n        name: <a href={row.item_url}>{row.item_title}</a>,\n        type: row.action,\n        time: moment.utc(row.time).fromNow(),\n        _time: row.time,\n      }));\n  };\n  const params = rison.encode({ page_size: rowLimit });\n  return (\n    <div>\n      <TableLoader\n        className=\"table-condensed\"\n        mutator={mutator}\n        sortable\n        dataEndpoint={`/api/v1/log/recent_activity/${user?.userId}/?q=${params}`}\n        noDataText={t('No Data')}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}