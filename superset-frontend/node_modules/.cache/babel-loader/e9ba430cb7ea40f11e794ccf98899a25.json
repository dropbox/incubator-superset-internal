{"ast":null,"code":"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { sections } from '@superset-ui/chart-controls';\nimport { t, validateNonEmpty } from '@superset-ui/core';\nimport timeGrainSqlaAnimationOverrides from '../../utilities/controls';\nimport { filterNulls, autozoom, dimension, jsColumns, jsDataMutator, jsTooltip, jsOnclickHref, legendFormat, legendPosition, viewport, spatial, pointRadiusFixed, multiplier, mapboxStyle } from '../../utilities/Shared_DeckGL';\nconst config = {\n  onInit: (controlState) => ({\n    ...controlState,\n    time_grain_sqla: {\n      ...controlState.time_grain_sqla,\n      value: null },\n\n    granularity: {\n      ...controlState.granularity,\n      value: null } }),\n\n\n  controlPanelSections: [\n  sections.legacyRegularTime,\n  {\n    label: t('Query'),\n    expanded: true,\n    controlSetRows: [\n    [spatial, null],\n    ['row_limit', filterNulls],\n    ['adhoc_filters']] },\n\n\n  {\n    label: t('Map'),\n    expanded: true,\n    controlSetRows: [\n    [mapboxStyle, viewport],\n    [autozoom, null]] },\n\n\n  {\n    label: t('Point Size'),\n    controlSetRows: [\n    [pointRadiusFixed],\n    [\n    {\n      name: 'point_unit',\n      config: {\n        type: 'SelectControl',\n        label: t('Point Unit'),\n        default: 'square_m',\n        clearable: false,\n        choices: [\n        ['square_m', t('Square meters')],\n        ['square_km', t('Square kilometers')],\n        ['square_miles', t('Square miles')],\n        ['radius_m', t('Radius in meters')],\n        ['radius_km', t('Radius in kilometers')],\n        ['radius_miles', t('Radius in miles')]],\n\n        description: t('The unit of measure for the specified point radius') } }],\n\n\n\n    [\n    {\n      name: 'min_radius',\n      config: {\n        type: 'TextControl',\n        label: t('Minimum Radius'),\n        isFloat: true,\n        validators: [validateNonEmpty],\n        renderTrigger: true,\n        default: 2,\n        description: t('Minimum radius size of the circle, in pixels. As the zoom level changes, this ' +\n        'insures that the circle respects this minimum radius.') } },\n\n\n    {\n      name: 'max_radius',\n      config: {\n        type: 'TextControl',\n        label: t('Maximum Radius'),\n        isFloat: true,\n        validators: [validateNonEmpty],\n        renderTrigger: true,\n        default: 250,\n        description: t('Maximum radius size of the circle, in pixels. As the zoom level changes, this ' +\n        'insures that the circle respects this maximum radius.') } }],\n\n\n\n    [multiplier, null]] },\n\n\n  {\n    label: t('Point Color'),\n    controlSetRows: [\n    ['color_picker'],\n    [legendPosition],\n    [legendFormat],\n    [\n    {\n      name: dimension.name,\n      config: {\n        ...dimension.config,\n        label: t('Categorical Color'),\n        description: t('Pick a dimension from which categorical colors are defined') } }],\n\n\n\n    ['color_scheme']] },\n\n\n  {\n    label: t('Advanced'),\n    controlSetRows: [\n    [jsColumns],\n    [jsDataMutator],\n    [jsTooltip],\n    [jsOnclickHref]] }],\n\n\n\n  controlOverrides: {\n    size: {\n      validators: [] },\n\n    time_grain_sqla: timeGrainSqlaAnimationOverrides } };\n\n\nexport default config;","map":{"version":3,"mappings":"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","names":["sections","t","validateNonEmpty","timeGrainSqlaAnimationOverrides","filterNulls","autozoom","dimension","jsColumns","jsDataMutator","jsTooltip","jsOnclickHref","legendFormat","legendPosition","viewport","spatial","pointRadiusFixed","multiplier","mapboxStyle","config","onInit","controlState","time_grain_sqla","value","granularity","controlPanelSections","legacyRegularTime","label","expanded","controlSetRows","name","type","default","clearable","choices","description","isFloat","validators","renderTrigger","controlOverrides","size"],"sourceRoot":"","sources":["/Users/zhaorui/src/incubator-superset-internal/superset-frontend/plugins/legacy-preset-chart-deckgl/src/layers/Scatter/controlPanel.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ControlPanelConfig, sections } from '@superset-ui/chart-controls';\nimport { t, validateNonEmpty } from '@superset-ui/core';\nimport timeGrainSqlaAnimationOverrides from '../../utilities/controls';\nimport {\n  filterNulls,\n  autozoom,\n  dimension,\n  jsColumns,\n  jsDataMutator,\n  jsTooltip,\n  jsOnclickHref,\n  legendFormat,\n  legendPosition,\n  viewport,\n  spatial,\n  pointRadiusFixed,\n  multiplier,\n  mapboxStyle,\n} from '../../utilities/Shared_DeckGL';\n\nconst config: ControlPanelConfig = {\n  onInit: controlState => ({\n    ...controlState,\n    time_grain_sqla: {\n      ...controlState.time_grain_sqla,\n      value: null,\n    },\n    granularity: {\n      ...controlState.granularity,\n      value: null,\n    },\n  }),\n  controlPanelSections: [\n    sections.legacyRegularTime,\n    {\n      label: t('Query'),\n      expanded: true,\n      controlSetRows: [\n        [spatial, null],\n        ['row_limit', filterNulls],\n        ['adhoc_filters'],\n      ],\n    },\n    {\n      label: t('Map'),\n      expanded: true,\n      controlSetRows: [\n        [mapboxStyle, viewport],\n        [autozoom, null],\n      ],\n    },\n    {\n      label: t('Point Size'),\n      controlSetRows: [\n        [pointRadiusFixed],\n        [\n          {\n            name: 'point_unit',\n            config: {\n              type: 'SelectControl',\n              label: t('Point Unit'),\n              default: 'square_m',\n              clearable: false,\n              choices: [\n                ['square_m', t('Square meters')],\n                ['square_km', t('Square kilometers')],\n                ['square_miles', t('Square miles')],\n                ['radius_m', t('Radius in meters')],\n                ['radius_km', t('Radius in kilometers')],\n                ['radius_miles', t('Radius in miles')],\n              ],\n              description: t(\n                'The unit of measure for the specified point radius',\n              ),\n            },\n          },\n        ],\n        [\n          {\n            name: 'min_radius',\n            config: {\n              type: 'TextControl',\n              label: t('Minimum Radius'),\n              isFloat: true,\n              validators: [validateNonEmpty],\n              renderTrigger: true,\n              default: 2,\n              description: t(\n                'Minimum radius size of the circle, in pixels. As the zoom level changes, this ' +\n                  'insures that the circle respects this minimum radius.',\n              ),\n            },\n          },\n          {\n            name: 'max_radius',\n            config: {\n              type: 'TextControl',\n              label: t('Maximum Radius'),\n              isFloat: true,\n              validators: [validateNonEmpty],\n              renderTrigger: true,\n              default: 250,\n              description: t(\n                'Maximum radius size of the circle, in pixels. As the zoom level changes, this ' +\n                  'insures that the circle respects this maximum radius.',\n              ),\n            },\n          },\n        ],\n        [multiplier, null],\n      ],\n    },\n    {\n      label: t('Point Color'),\n      controlSetRows: [\n        ['color_picker'],\n        [legendPosition],\n        [legendFormat],\n        [\n          {\n            name: dimension.name,\n            config: {\n              ...dimension.config,\n              label: t('Categorical Color'),\n              description: t(\n                'Pick a dimension from which categorical colors are defined',\n              ),\n            },\n          },\n        ],\n        ['color_scheme'],\n      ],\n    },\n    {\n      label: t('Advanced'),\n      controlSetRows: [\n        [jsColumns],\n        [jsDataMutator],\n        [jsTooltip],\n        [jsOnclickHref],\n      ],\n    },\n  ],\n  controlOverrides: {\n    size: {\n      validators: [],\n    },\n    time_grain_sqla: timeGrainSqlaAnimationOverrides,\n  },\n};\n\nexport default config;\n"]},"metadata":{},"sourceType":"module"}