{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _isNil from \"lodash/isNil\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo, useRef, useState } from 'react';\n\nimport { styled, t } from '@superset-ui/core';\nimport { css } from '@emotion/react';\nimport { AntdModal } from 'src/components';\nimport Button from 'src/components/Button';\nimport { Resizable } from 're-resizable';\nimport Draggable from 'react-draggable';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst MODAL_HEADER_HEIGHT = 55;\nconst MODAL_MIN_CONTENT_HEIGHT = 54;\nconst MODAL_FOOTER_HEIGHT = 65;\nconst RESIZABLE_MIN_HEIGHT = MODAL_HEADER_HEIGHT + MODAL_MIN_CONTENT_HEIGHT;\nconst RESIZABLE_MIN_WIDTH = '380px';\nconst RESIZABLE_MAX_HEIGHT = '100vh';\nconst RESIZABLE_MAX_WIDTH = '100vw';\nconst BaseModal = (props) =>\n// Removes mask animation. Fixed in 4.6.0.\n// https://github.com/ant-design/ant-design/issues/27192\n___EmotionJSX(AntdModal, _extends({}, props, { maskTransitionName: \"\" }));\nexport const StyledModal = styled(BaseModal)`\n  ${(_ref) => {let { theme, responsive, maxWidth } = _ref;return responsive && /*#__PURE__*/\n  css(\"max-width:\",\n  maxWidth != null ? maxWidth : '900px', \";padding-left:\",\n  theme.gridUnit * 3, \"px;padding-right:\",\n  theme.gridUnit * 3, \"px;padding-bottom:0;top:0;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:StyledModal;\"), process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ib2dkYW5reXJ5bGl1ay9jb2RlL29wZW5zb3VyY2Uvc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvTW9kYWwvTW9kYWwudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXVDUSIsImZpbGUiOiIvVXNlcnMvYm9nZGFua3lyeWxpdWsvY29kZS9vcGVuc291cmNlL3N1cGVyc2V0L3N1cGVyc2V0LWZyb250ZW5kL3NyYy9jb21wb25lbnRzL01vZGFsL01vZGFsLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlLCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzTmlsIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHN0eWxlZCwgdCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCB7IEFudGRNb2RhbCB9IGZyb20gJ3NyYy9jb21wb25lbnRzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnc3JjL2NvbXBvbmVudHMvQnV0dG9uJztcbmltcG9ydCB7IFJlc2l6YWJsZSB9IGZyb20gJ3JlLXJlc2l6YWJsZSc7XG5pbXBvcnQgRHJhZ2dhYmxlIGZyb20gJ3JlYWN0LWRyYWdnYWJsZSc7XG5jb25zdCBNT0RBTF9IRUFERVJfSEVJR0hUID0gNTU7XG5jb25zdCBNT0RBTF9NSU5fQ09OVEVOVF9IRUlHSFQgPSA1NDtcbmNvbnN0IE1PREFMX0ZPT1RFUl9IRUlHSFQgPSA2NTtcbmNvbnN0IFJFU0laQUJMRV9NSU5fSEVJR0hUID0gTU9EQUxfSEVBREVSX0hFSUdIVCArIE1PREFMX01JTl9DT05URU5UX0hFSUdIVDtcbmNvbnN0IFJFU0laQUJMRV9NSU5fV0lEVEggPSAnMzgwcHgnO1xuY29uc3QgUkVTSVpBQkxFX01BWF9IRUlHSFQgPSAnMTAwdmgnO1xuY29uc3QgUkVTSVpBQkxFX01BWF9XSURUSCA9ICcxMDB2dyc7XG5jb25zdCBCYXNlTW9kYWwgPSAocHJvcHMpID0+IChcbi8vIFJlbW92ZXMgbWFzayBhbmltYXRpb24uIEZpeGVkIGluIDQuNi4wLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvMjcxOTJcbjxBbnRkTW9kYWwgey4uLnByb3BzfSBtYXNrVHJhbnNpdGlvbk5hbWU9XCJcIi8+KTtcbmV4cG9ydCBjb25zdCBTdHlsZWRNb2RhbCA9IHN0eWxlZChCYXNlTW9kYWwpIGBcbiAgJHsoeyB0aGVtZSwgcmVzcG9uc2l2ZSwgbWF4V2lkdGggfSkgPT4gcmVzcG9uc2l2ZSAmJlxuICAgIGNzcyBgXG4gICAgICBtYXgtd2lkdGg6ICR7bWF4V2lkdGggPz8gJzkwMHB4J307XG4gICAgICBwYWRkaW5nLWxlZnQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiAzfXB4O1xuICAgICAgcGFkZGluZy1yaWdodDogJHt0aGVtZS5ncmlkVW5pdCAqIDN9cHg7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgICAgIHRvcDogMDtcbiAgICBgfVxuXG4gIC5hbnQtbW9kYWwtY29udGVudCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIG1heC1oZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gYGNhbGMoMTAwdmggLSAke3RoZW1lLmdyaWRVbml0ICogOH1weClgfTtcbiAgICBtYXJnaW4tYm90dG9tOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNH1weDtcbiAgICBtYXJnaW4tdG9wOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNH1weDtcbiAgfVxuXG4gIC5hbnQtbW9kYWwtaGVhZGVyIHtcbiAgICBmbGV4OiAwIDAgYXV0bztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQ0fTtcbiAgICBib3JkZXItcmFkaXVzOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmJvcmRlclJhZGl1c31weFxuICAgICAgJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ib3JkZXJSYWRpdXN9cHggMCAwO1xuICAgIHBhZGRpbmctbGVmdDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDR9cHg7XG4gICAgcGFkZGluZy1yaWdodDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDR9cHg7XG5cbiAgICAuYW50LW1vZGFsLXRpdGxlIGg0IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cbiAgfVxuXG4gIC5hbnQtbW9kYWwtY2xvc2UteCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgLmNsb3NlIHtcbiAgICAgIGZsZXg6IDEgMSBhdXRvO1xuICAgICAgbWFyZ2luLWJvdHRvbTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdH1weDtcbiAgICAgIGNvbG9yOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5zZWNvbmRhcnkuZGFyazF9O1xuICAgICAgZm9udC1zaXplOiAzMnB4O1xuICAgICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmxpZ2h0fTtcbiAgICB9XG4gIH1cblxuICAuYW50LW1vZGFsLWJvZHkge1xuICAgIGZsZXg6IDAgMSBhdXRvO1xuICAgIHBhZGRpbmc6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiA0fXB4O1xuICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICR7KHsgcmVzaXphYmxlLCBoZWlnaHQgfSkgPT4gIXJlc2l6YWJsZSAmJiBoZWlnaHQgJiYgYGhlaWdodDogJHtoZWlnaHR9O2B9XG4gIH1cbiAgLmFudC1tb2RhbC1mb290ZXIge1xuICAgIGZsZXg6IDAgMCAxO1xuICAgIGJvcmRlci10b3A6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgLyA0fXB4IHNvbGlkXG4gICAgICAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQyfTtcbiAgICBwYWRkaW5nOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNH1weDtcblxuICAgIC5idG4ge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICB9XG5cbiAgICAuYnRuICsgLmJ0biB7XG4gICAgICBtYXJnaW4tbGVmdDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDJ9cHg7XG4gICAgfVxuICB9XG5cbiAgLy8gc3R5bGluZyBmb3IgVGFicyBjb21wb25lbnRcbiAgLy8gQWFyb24gbm90ZSAyMC0xMS0xOTogdGhpcyBzZWVtcyB0byBiZSBleGNsdXNpdmVseSBoZXJlIGZvciB0aGUgRWRpdCBEYXRhYmFzZSBtb2RhbC5cbiAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgYXMgaXQgaXMgYSBzcGVjaWFsIGNhc2UuXG4gIC5hbnQtdGFicy10b3Age1xuICAgIG1hcmdpbi10b3A6IC0keyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNH1weDtcbiAgfVxuXG4gICYubm8tY29udGVudC1wYWRkaW5nIC5hbnQtbW9kYWwtYm9keSB7XG4gICAgcGFkZGluZzogMDtcbiAgfVxuXG4gICR7KHsgZHJhZ2dhYmxlLCB0aGVtZSB9KSA9PiBkcmFnZ2FibGUgJiZcbiAgICBgXG4gICAgLmFudC1tb2RhbC1oZWFkZXIge1xuICAgICAgcGFkZGluZzogMDtcbiAgICAgIC5kcmFnZ2FibGUtdHJpZ2dlciB7XG4gICAgICAgICAgY3Vyc29yOiBtb3ZlO1xuICAgICAgICAgIHBhZGRpbmc6ICR7dGhlbWUuZ3JpZFVuaXQgKiA0fXB4O1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgfVxuICBgfTtcblxuICAkeyh7IHJlc2l6YWJsZSwgaGlkZUZvb3RlciB9KSA9PiByZXNpemFibGUgJiZcbiAgICBgXG4gICAgLnJlc2l6YWJsZSB7XG4gICAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuXG4gICAgICAucmVzaXphYmxlLXdyYXBwZXIge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgIC5hbnQtbW9kYWwtY29udGVudCB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcblxuICAgICAgICAuYW50LW1vZGFsLWJvZHkge1xuICAgICAgICAgIC8qIDEwMCUgLSBoZWFkZXIgaGVpZ2h0IC0gZm9vdGVyIGhlaWdodCAqL1xuICAgICAgICAgIGhlaWdodDogJHtoaWRlRm9vdGVyXG4gICAgICAgID8gYGNhbGMoMTAwJSAtICR7TU9EQUxfSEVBREVSX0hFSUdIVH1weCk7YFxuICAgICAgICA6IGBjYWxjKDEwMCUgLSAke01PREFMX0hFQURFUl9IRUlHSFR9cHggLSAke01PREFMX0ZPT1RFUl9IRUlHSFR9cHgpO2B9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIGB9XG5gO1xuY29uc3QgZGVmYXVsdFJlc2l6YWJsZUNvbmZpZyA9IChoaWRlRm9vdGVyKSA9PiAoe1xuICAgIG1heEhlaWdodDogUkVTSVpBQkxFX01BWF9IRUlHSFQsXG4gICAgbWF4V2lkdGg6IFJFU0laQUJMRV9NQVhfV0lEVEgsXG4gICAgbWluSGVpZ2h0OiBoaWRlRm9vdGVyXG4gICAgICAgID8gUkVTSVpBQkxFX01JTl9IRUlHSFRcbiAgICAgICAgOiBSRVNJWkFCTEVfTUlOX0hFSUdIVCArIE1PREFMX0ZPT1RFUl9IRUlHSFQsXG4gICAgbWluV2lkdGg6IFJFU0laQUJMRV9NSU5fV0lEVEgsXG4gICAgZW5hYmxlOiB7XG4gICAgICAgIGJvdHRvbTogdHJ1ZSxcbiAgICAgICAgYm90dG9tTGVmdDogZmFsc2UsXG4gICAgICAgIGJvdHRvbVJpZ2h0OiB0cnVlLFxuICAgICAgICBsZWZ0OiBmYWxzZSxcbiAgICAgICAgdG9wOiBmYWxzZSxcbiAgICAgICAgdG9wTGVmdDogZmFsc2UsXG4gICAgICAgIHRvcFJpZ2h0OiBmYWxzZSxcbiAgICAgICAgcmlnaHQ6IHRydWUsXG4gICAgfSxcbn0pO1xuY29uc3QgQ3VzdG9tTW9kYWwgPSAoeyBjaGlsZHJlbiwgZGlzYWJsZVByaW1hcnlCdXR0b24gPSBmYWxzZSwgcHJpbWFyeUJ1dHRvbkxvYWRpbmcgPSBmYWxzZSwgb25IaWRlLCBvbkhhbmRsZWRQcmltYXJ5QWN0aW9uLCBwcmltYXJ5QnV0dG9uTmFtZSA9IHQoJ09LJyksIHByaW1hcnlCdXR0b25UeXBlID0gJ3ByaW1hcnknLCBzaG93LCBuYW1lLCB0aXRsZSwgd2lkdGgsIG1heFdpZHRoLCByZXNwb25zaXZlID0gZmFsc2UsIGNlbnRlcmVkLCBmb290ZXIsIGhpZGVGb290ZXIsIHdyYXBQcm9wcywgZHJhZ2dhYmxlID0gZmFsc2UsIHJlc2l6YWJsZSA9IGZhbHNlLCByZXNpemFibGVDb25maWcgPSBkZWZhdWx0UmVzaXphYmxlQ29uZmlnKGhpZGVGb290ZXIpLCBkcmFnZ2FibGVDb25maWcsIGRlc3Ryb3lPbkNsb3NlLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCBkcmFnZ2FibGVSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW2JvdW5kcywgc2V0Qm91bmRzXSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgW2RyYWdEaXNhYmxlZCwgc2V0RHJhZ0Rpc2FibGVkXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGxldCBGb290ZXJDb21wb25lbnQ7XG4gICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KGZvb3RlcikpIHtcbiAgICAgICAgLy8gSWYgYSBmb290ZXIgY29tcG9uZW50IGlzIHByb3ZpZGVkIGluamVjdCBhIGNsb3NlTW9kYWwgZnVuY3Rpb25cbiAgICAgICAgLy8gc28gdGhlIGZvb3RlciBjYW4gcHJvdmlkZSBhIFwiY2xvc2VcIiBidXR0b24gaWYgZGVzaXJlZFxuICAgICAgICBGb290ZXJDb21wb25lbnQgPSBSZWFjdC5jbG9uZUVsZW1lbnQoZm9vdGVyLCB7IGNsb3NlTW9kYWw6IG9uSGlkZSB9KTtcbiAgICB9XG4gICAgY29uc3QgbW9kYWxGb290ZXIgPSBpc05pbChGb290ZXJDb21wb25lbnQpXG4gICAgICAgID8gW1xuICAgICAgICAgICAgPEJ1dHRvbiBrZXk9XCJiYWNrXCIgb25DbGljaz17b25IaWRlfSBjdGEgZGF0YS10ZXN0PVwibW9kYWwtY2FuY2VsLWJ1dHRvblwiPlxuICAgICAgICAgIHt0KCdDYW5jZWwnKX1cbiAgICAgICAgPC9CdXR0b24+LFxuICAgICAgICAgICAgPEJ1dHRvbiBrZXk9XCJzdWJtaXRcIiBidXR0b25TdHlsZT17cHJpbWFyeUJ1dHRvblR5cGV9IGRpc2FibGVkPXtkaXNhYmxlUHJpbWFyeUJ1dHRvbn0gbG9hZGluZz17cHJpbWFyeUJ1dHRvbkxvYWRpbmd9IG9uQ2xpY2s9e29uSGFuZGxlZFByaW1hcnlBY3Rpb259IGN0YSBkYXRhLXRlc3Q9XCJtb2RhbC1jb25maXJtLWJ1dHRvblwiPlxuICAgICAgICAgIHtwcmltYXJ5QnV0dG9uTmFtZX1cbiAgICAgICAgPC9CdXR0b24+LFxuICAgICAgICBdXG4gICAgICAgIDogRm9vdGVyQ29tcG9uZW50O1xuICAgIGNvbnN0IG1vZGFsV2lkdGggPSB3aWR0aCB8fCAocmVzcG9uc2l2ZSA/ICcxMDB2dycgOiAnNjAwcHgnKTtcbiAgICBjb25zdCBzaG91bGRTaG93TWFzayA9ICEocmVzaXphYmxlIHx8IGRyYWdnYWJsZSk7XG4gICAgY29uc3Qgb25EcmFnU3RhcnQgPSAoXywgdWlEYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCB9ID0gd2luZG93Py5kb2N1bWVudD8uZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBjb25zdCB0YXJnZXRSZWN0ID0gZHJhZ2dhYmxlUmVmPy5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHRhcmdldFJlY3QpIHtcbiAgICAgICAgICAgIHNldEJvdW5kcyh7XG4gICAgICAgICAgICAgICAgbGVmdDogLXRhcmdldFJlY3Q/LmxlZnQgKyB1aURhdGE/LngsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGNsaWVudFdpZHRoIC0gKHRhcmdldFJlY3Q/LnJpZ2h0IC0gdWlEYXRhPy54KSxcbiAgICAgICAgICAgICAgICB0b3A6IC10YXJnZXRSZWN0Py50b3AgKyB1aURhdGE/LnksXG4gICAgICAgICAgICAgICAgYm90dG9tOiBjbGllbnRIZWlnaHQgLSAodGFyZ2V0UmVjdD8uYm90dG9tIC0gdWlEYXRhPy55KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXRSZXNpemFibGVDb25maWcgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlc2l6YWJsZUNvbmZpZykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFJlc2l6YWJsZUNvbmZpZyhoaWRlRm9vdGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzaXphYmxlQ29uZmlnO1xuICAgIH0sIFtoaWRlRm9vdGVyLCByZXNpemFibGVDb25maWddKTtcbiAgICBjb25zdCBNb2RhbFRpdGxlID0gKCkgPT4gZHJhZ2dhYmxlID8gKDxkaXYgY2xhc3NOYW1lPVwiZHJhZ2dhYmxlLXRyaWdnZXJcIiBvbk1vdXNlT3Zlcj17KCkgPT4gZHJhZ0Rpc2FibGVkICYmIHNldERyYWdEaXNhYmxlZChmYWxzZSl9IG9uTW91c2VPdXQ9eygpID0+ICFkcmFnRGlzYWJsZWQgJiYgc2V0RHJhZ0Rpc2FibGVkKHRydWUpfT5cbiAgICAgICAge3RpdGxlfVxuICAgICAgPC9kaXY+KSA6ICg8Pnt0aXRsZX08Lz4pO1xuICAgIHJldHVybiAoPFN0eWxlZE1vZGFsIGNlbnRlcmVkPXshIWNlbnRlcmVkfSBvbk9rPXtvbkhhbmRsZWRQcmltYXJ5QWN0aW9ufSBvbkNhbmNlbD17b25IaWRlfSB3aWR0aD17bW9kYWxXaWR0aH0gbWF4V2lkdGg9e21heFdpZHRofSByZXNwb25zaXZlPXtyZXNwb25zaXZlfSB2aXNpYmxlPXtzaG93fSB0aXRsZT17PE1vZGFsVGl0bGUgLz59IGNsb3NlSWNvbj17PHNwYW4gY2xhc3NOYW1lPVwiY2xvc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICDDl1xuICAgICAgICA8L3NwYW4+fSBmb290ZXI9eyFoaWRlRm9vdGVyID8gbW9kYWxGb290ZXIgOiBudWxsfSBoaWRlRm9vdGVyPXtoaWRlRm9vdGVyfSB3cmFwUHJvcHM9e3sgJ2RhdGEtdGVzdCc6IGAke25hbWUgfHwgdGl0bGV9LW1vZGFsYCwgLi4ud3JhcFByb3BzIH19IG1vZGFsUmVuZGVyPXttb2RhbCA9PiByZXNpemFibGUgfHwgZHJhZ2dhYmxlID8gKDxEcmFnZ2FibGUgZGlzYWJsZWQ9eyFkcmFnZ2FibGUgfHwgZHJhZ0Rpc2FibGVkfSBib3VuZHM9e2JvdW5kc30gb25TdGFydD17KGV2ZW50LCB1aURhdGEpID0+IG9uRHJhZ1N0YXJ0KGV2ZW50LCB1aURhdGEpfSB7Li4uZHJhZ2dhYmxlQ29uZmlnfT5cbiAgICAgICAgICAgIHtyZXNpemFibGUgPyAoPFJlc2l6YWJsZSBjbGFzc05hbWU9XCJyZXNpemFibGVcIiB7Li4uZ2V0UmVzaXphYmxlQ29uZmlnfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc2l6YWJsZS13cmFwcGVyXCIgcmVmPXtkcmFnZ2FibGVSZWZ9PlxuICAgICAgICAgICAgICAgICAge21vZGFsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L1Jlc2l6YWJsZT4pIDogKDxkaXYgcmVmPXtkcmFnZ2FibGVSZWZ9Pnttb2RhbH08L2Rpdj4pfVxuICAgICAgICAgIDwvRHJhZ2dhYmxlPikgOiAobW9kYWwpfSBtYXNrPXtzaG91bGRTaG93TWFza30gZHJhZ2dhYmxlPXtkcmFnZ2FibGV9IHJlc2l6YWJsZT17cmVzaXphYmxlfSBkZXN0cm95T25DbG9zZT17ZGVzdHJveU9uQ2xvc2V9IHsuLi5yZXN0fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1N0eWxlZE1vZGFsPik7XG59O1xuQ3VzdG9tTW9kYWwuZGlzcGxheU5hbWUgPSAnTW9kYWwnO1xuLy8gQW50IERlc2lnbiA0IGRvZXMgbm90IGFsbG93IG92ZXJyaWRpbmcgTW9kYWwncyBidXR0b25zIHdoZW5cbi8vIHVzaW5nIG9uZSBvZiB0aGUgcHJlLWRlZmluZWQgZnVuY3Rpb25zLiBBbnQgRGVzaWduIDUgTW9kYWwgaW50cm9kdWNlZFxuLy8gdGhlIGZvb3RlciBwcm9wZXJ0eSB0aGF0IHdpbGwgYWxsb3cgdGhhdC4gTWVhbndoaWxlLCB3ZSdyZSByZXBsaWNhdGluZ1xuLy8gQnV0dG9uIHN0eWxlIHVzaW5nIGdsb2JhbCBDU1MgaW4gc3JjL0dsb2JhbFN0eWxlcy50c3guXG4vLyBUT0RPOiBSZXBsYWNlIHRoaXMgbG9naWMgd2hlbiBvbiBBbnQgRGVzaWduIDUuXG5jb25zdCBidXR0b25Qcm9wcyA9IHtcbiAgICBva0J1dHRvblByb3BzOiB7IGNsYXNzTmFtZTogJ21vZGFsLWZ1bmN0aW9ucy1vay1idXR0b24nIH0sXG4gICAgY2FuY2VsQnV0dG9uUHJvcHM6IHsgY2xhc3NOYW1lOiAnbW9kYWwtZnVuY3Rpb25zLWNhbmNlbC1idXR0b24nIH0sXG59O1xuLy8gVE9ETzogaW4gYW5vdGhlciBQUiwgcmVuYW1lIHRoaXMgdG8gQ29tcGF0YWJpbGl0eU1vZGFsXG4vLyBhbmQgZGVtb3RlIGl0IGFzIHRoZSBkZWZhdWx0IGV4cG9ydC5cbi8vIFdlIHNob3VsZCBzdGFydCB1c2luZyBBbnREIGNvbXBvbmVudCBpbnRlcmZhY2VzIGdvaW5nIGZvcndhcmQuXG5jb25zdCBNb2RhbCA9IE9iamVjdC5hc3NpZ24oQ3VzdG9tTW9kYWwsIHtcbiAgICBlcnJvcjogKGNvbmZpZykgPT4gQW50ZE1vZGFsLmVycm9yKHsgLi4uY29uZmlnLCAuLi5idXR0b25Qcm9wcyB9KSxcbiAgICB3YXJuaW5nOiAoY29uZmlnKSA9PiBBbnRkTW9kYWwud2FybmluZyh7IC4uLmNvbmZpZywgLi4uYnV0dG9uUHJvcHMgfSksXG4gICAgY29uZmlybTogKGNvbmZpZykgPT4gQW50ZE1vZGFsLmNvbmZpcm0oeyAuLi5jb25maWcsIC4uLmJ1dHRvblByb3BzIH0pLFxuICAgIHVzZU1vZGFsOiBBbnRkTW9kYWwudXNlTW9kYWwsXG59KTtcbmV4cG9ydCBkZWZhdWx0IE1vZGFsO1xuIl19 */\");}\n\n\n}\n\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    max-height: ${(_ref2) => {let { theme } = _ref2;return `calc(100vh - ${theme.gridUnit * 8}px)`;}};\n    margin-bottom: ${(_ref3) => {let { theme } = _ref3;return theme.gridUnit * 4;}}px;\n    margin-top: ${(_ref4) => {let { theme } = _ref4;return theme.gridUnit * 4;}}px;\n  }\n\n  .ant-modal-header {\n    flex: 0 0 auto;\n    background-color: ${(_ref5) => {let { theme } = _ref5;return theme.colors.grayscale.light4;}};\n    border-radius: ${(_ref6) => {let { theme } = _ref6;return theme.borderRadius;}}px\n      ${(_ref7) => {let { theme } = _ref7;return theme.borderRadius;}}px 0 0;\n    padding-left: ${(_ref8) => {let { theme } = _ref8;return theme.gridUnit * 4;}}px;\n    padding-right: ${(_ref9) => {let { theme } = _ref9;return theme.gridUnit * 4;}}px;\n\n    .ant-modal-title h4 {\n      display: flex;\n      margin: 0;\n      align-items: center;\n    }\n  }\n\n  .ant-modal-close-x {\n    display: flex;\n    align-items: center;\n\n    .close {\n      flex: 1 1 auto;\n      margin-bottom: ${(_ref10) => {let { theme } = _ref10;return theme.gridUnit;}}px;\n      color: ${(_ref11) => {let { theme } = _ref11;return theme.colors.secondary.dark1;}};\n      font-size: 32px;\n      font-weight: ${(_ref12) => {let { theme } = _ref12;return theme.typography.weights.light;}};\n    }\n  }\n\n  .ant-modal-body {\n    flex: 0 1 auto;\n    padding: ${(_ref13) => {let { theme } = _ref13;return theme.gridUnit * 4;}}px;\n    overflow: auto;\n    ${(_ref14) => {let { resizable, height } = _ref14;return !resizable && height && `height: ${height};`;}}\n  }\n  .ant-modal-footer {\n    flex: 0 0 1;\n    border-top: ${(_ref15) => {let { theme } = _ref15;return theme.gridUnit / 4;}}px solid\n      ${(_ref16) => {let { theme } = _ref16;return theme.colors.grayscale.light2;}};\n    padding: ${(_ref17) => {let { theme } = _ref17;return theme.gridUnit * 4;}}px;\n\n    .btn {\n      font-size: 12px;\n      text-transform: uppercase;\n    }\n\n    .btn + .btn {\n      margin-left: ${(_ref18) => {let { theme } = _ref18;return theme.gridUnit * 2;}}px;\n    }\n  }\n\n  // styling for Tabs component\n  // Aaron note 20-11-19: this seems to be exclusively here for the Edit Database modal.\n  // TODO: remove this as it is a special case.\n  .ant-tabs-top {\n    margin-top: -${(_ref19) => {let { theme } = _ref19;return theme.gridUnit * 4;}}px;\n  }\n\n  &.no-content-padding .ant-modal-body {\n    padding: 0;\n  }\n\n  ${(_ref20) => {let { draggable, theme } = _ref20;return draggable &&\n  `\n    .ant-modal-header {\n      padding: 0;\n      .draggable-trigger {\n          cursor: move;\n          padding: ${theme.gridUnit * 4}px;\n          width: 100%;\n        }\n    }\n  `;}};\n\n  ${(_ref21) => {let { resizable, hideFooter } = _ref21;return resizable &&\n  `\n    .resizable {\n      pointer-events: all;\n\n      .resizable-wrapper {\n        height: 100%;\n      }\n\n      .ant-modal-content {\n        height: 100%;\n\n        .ant-modal-body {\n          /* 100% - header height - footer height */\n          height: ${hideFooter ?\n  `calc(100% - ${MODAL_HEADER_HEIGHT}px);` :\n  `calc(100% - ${MODAL_HEADER_HEIGHT}px - ${MODAL_FOOTER_HEIGHT}px);`}\n        }\n      }\n    }\n  `;}}\n`;\nconst defaultResizableConfig = (hideFooter) => ({\n  maxHeight: RESIZABLE_MAX_HEIGHT,\n  maxWidth: RESIZABLE_MAX_WIDTH,\n  minHeight: hideFooter ?\n  RESIZABLE_MIN_HEIGHT :\n  RESIZABLE_MIN_HEIGHT + MODAL_FOOTER_HEIGHT,\n  minWidth: RESIZABLE_MIN_WIDTH,\n  enable: {\n    bottom: true,\n    bottomLeft: false,\n    bottomRight: true,\n    left: false,\n    top: false,\n    topLeft: false,\n    topRight: false,\n    right: true } });\n\n\nconst CustomModal = (_ref22) => {let { children, disablePrimaryButton = false, primaryButtonLoading = false, onHide, onHandledPrimaryAction, primaryButtonName = t('OK'), primaryButtonType = 'primary', show, name, title, width, maxWidth, responsive = false, centered, footer, hideFooter, wrapProps, draggable = false, resizable = false, resizableConfig = defaultResizableConfig(hideFooter), draggableConfig, destroyOnClose, ...rest } = _ref22;\n  const draggableRef = useRef(null);\n  const [bounds, setBounds] = useState();\n  const [dragDisabled, setDragDisabled] = useState(true);\n  let FooterComponent;\n  if ( /*#__PURE__*/React.isValidElement(footer)) {\n    // If a footer component is provided inject a closeModal function\n    // so the footer can provide a \"close\" button if desired\n    FooterComponent = /*#__PURE__*/React.cloneElement(footer, { closeModal: onHide });\n  }\n  const modalFooter = _isNil(FooterComponent) ?\n  [\n  ___EmotionJSX(Button, { key: \"back\", onClick: onHide, cta: true, \"data-test\": \"modal-cancel-button\" },\n  t('Cancel')),\n\n  ___EmotionJSX(Button, { key: \"submit\", buttonStyle: primaryButtonType, disabled: disablePrimaryButton, loading: primaryButtonLoading, onClick: onHandledPrimaryAction, cta: true, \"data-test\": \"modal-confirm-button\" },\n  primaryButtonName)] :\n\n\n  FooterComponent;\n  const modalWidth = width || (responsive ? '100vw' : '600px');\n  const shouldShowMask = !(resizable || draggable);\n  const onDragStart = (_, uiData) => {var _window, _window$document, _draggableRef$current;\n    const { clientWidth, clientHeight } = (_window = window) == null ? void 0 : (_window$document = _window.document) == null ? void 0 : _window$document.documentElement;\n    const targetRect = draggableRef == null ? void 0 : (_draggableRef$current = draggableRef.current) == null ? void 0 : _draggableRef$current.getBoundingClientRect();\n    if (targetRect) {\n      setBounds({\n        left: -(targetRect == null ? void 0 : targetRect.left) + (uiData == null ? void 0 : uiData.x),\n        right: clientWidth - ((targetRect == null ? void 0 : targetRect.right) - (uiData == null ? void 0 : uiData.x)),\n        top: -(targetRect == null ? void 0 : targetRect.top) + (uiData == null ? void 0 : uiData.y),\n        bottom: clientHeight - ((targetRect == null ? void 0 : targetRect.bottom) - (uiData == null ? void 0 : uiData.y)) });\n\n    }\n  };\n  const getResizableConfig = useMemo(() => {\n    if (Object.keys(resizableConfig).length === 0) {\n      return defaultResizableConfig(hideFooter);\n    }\n    return resizableConfig;\n  }, [hideFooter, resizableConfig]);\n  const ModalTitle = () => draggable ? ___EmotionJSX(\"div\", { className: \"draggable-trigger\", onMouseOver: () => dragDisabled && setDragDisabled(false), onMouseOut: () => !dragDisabled && setDragDisabled(true) },\n  title) :\n  ___EmotionJSX(React.Fragment, null, title);\n  return ___EmotionJSX(StyledModal, _extends({ centered: !!centered, onOk: onHandledPrimaryAction, onCancel: onHide, width: modalWidth, maxWidth: maxWidth, responsive: responsive, visible: show, title: ___EmotionJSX(ModalTitle, null), closeIcon: ___EmotionJSX(\"span\", { className: \"close\", \"aria-hidden\": \"true\" }, \"\\xD7\"),\n\n    footer: !hideFooter ? modalFooter : null, hideFooter: hideFooter, wrapProps: { 'data-test': `${name || title}-modal`, ...wrapProps }, modalRender: (modal) => resizable || draggable ? ___EmotionJSX(Draggable, _extends({ disabled: !draggable || dragDisabled, bounds: bounds, onStart: (event, uiData) => onDragStart(event, uiData) }, draggableConfig),\n    resizable ? ___EmotionJSX(Resizable, _extends({ className: \"resizable\" }, getResizableConfig),\n    ___EmotionJSX(\"div\", { className: \"resizable-wrapper\", ref: draggableRef },\n    modal)) :\n\n    ___EmotionJSX(\"div\", { ref: draggableRef }, modal)) :\n    modal, mask: shouldShowMask, draggable: draggable, resizable: resizable, destroyOnClose: destroyOnClose }, rest),\n  children);\n\n};__signature__(CustomModal, \"useRef{draggableRef}\\nuseState{[bounds, setBounds]}\\nuseState{[dragDisabled, setDragDisabled](true)}\\nuseMemo{getResizableConfig}\");\nCustomModal.displayName = 'Modal';\n// Ant Design 4 does not allow overriding Modal's buttons when\n// using one of the pre-defined functions. Ant Design 5 Modal introduced\n// the footer property that will allow that. Meanwhile, we're replicating\n// Button style using global CSS in src/GlobalStyles.tsx.\n// TODO: Replace this logic when on Ant Design 5.\nconst buttonProps = {\n  okButtonProps: { className: 'modal-functions-ok-button' },\n  cancelButtonProps: { className: 'modal-functions-cancel-button' } };\n\n// TODO: in another PR, rename this to CompatabilityModal\n// and demote it as the default export.\n// We should start using AntD component interfaces going forward.\nconst Modal = Object.assign(CustomModal, {\n  error: (config) => AntdModal.error({ ...config, ...buttonProps }),\n  warning: (config) => AntdModal.warning({ ...config, ...buttonProps }),\n  confirm: (config) => AntdModal.confirm({ ...config, ...buttonProps }),\n  useModal: AntdModal.useModal });const _default =\n\nModal;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(MODAL_HEADER_HEIGHT, \"MODAL_HEADER_HEIGHT\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(MODAL_MIN_CONTENT_HEIGHT, \"MODAL_MIN_CONTENT_HEIGHT\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(MODAL_FOOTER_HEIGHT, \"MODAL_FOOTER_HEIGHT\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MIN_HEIGHT, \"RESIZABLE_MIN_HEIGHT\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MIN_WIDTH, \"RESIZABLE_MIN_WIDTH\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MAX_HEIGHT, \"RESIZABLE_MAX_HEIGHT\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MAX_WIDTH, \"RESIZABLE_MAX_WIDTH\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(BaseModal, \"BaseModal\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(StyledModal, \"StyledModal\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(defaultResizableConfig, \"defaultResizableConfig\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(CustomModal, \"CustomModal\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(buttonProps, \"buttonProps\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(Modal, \"Modal\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"mappings":"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","names":["React","useMemo","useRef","useState","styled","t","css","AntdModal","Button","Resizable","Draggable","MODAL_HEADER_HEIGHT","MODAL_MIN_CONTENT_HEIGHT","MODAL_FOOTER_HEIGHT","RESIZABLE_MIN_HEIGHT","RESIZABLE_MIN_WIDTH","RESIZABLE_MAX_HEIGHT","RESIZABLE_MAX_WIDTH","BaseModal","props","StyledModal","theme","responsive","maxWidth","gridUnit","colors","grayscale","light4","borderRadius","secondary","dark1","typography","weights","light","resizable","height","light2","draggable","hideFooter","defaultResizableConfig","maxHeight","minHeight","minWidth","enable","bottom","bottomLeft","bottomRight","left","top","topLeft","topRight","right","CustomModal","children","disablePrimaryButton","primaryButtonLoading","onHide","onHandledPrimaryAction","primaryButtonName","primaryButtonType","show","name","title","width","centered","footer","wrapProps","resizableConfig","draggableConfig","destroyOnClose","rest","draggableRef","bounds","setBounds","dragDisabled","setDragDisabled","FooterComponent","isValidElement","cloneElement","closeModal","modalFooter","modalWidth","shouldShowMask","onDragStart","_","uiData","clientWidth","clientHeight","window","document","documentElement","targetRect","current","getBoundingClientRect","x","y","getResizableConfig","Object","keys","length","ModalTitle","event","modal","displayName","buttonProps","okButtonProps","className","cancelButtonProps","Modal","assign","error","config","warning","confirm","useModal"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/Modal/Modal.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  CSSProperties,\n  ReactNode,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { isNil } from 'lodash';\nimport { ModalFuncProps } from 'antd/lib/modal';\nimport { styled, t } from '@superset-ui/core';\nimport { css } from '@emotion/react';\nimport { AntdModal, AntdModalProps } from 'src/components';\nimport Button from 'src/components/Button';\nimport { Resizable, ResizableProps } from 're-resizable';\nimport Draggable, {\n  DraggableBounds,\n  DraggableData,\n  DraggableEvent,\n  DraggableProps,\n} from 'react-draggable';\n\nexport interface ModalProps {\n  className?: string;\n  children: ReactNode;\n  disablePrimaryButton?: boolean;\n  primaryButtonLoading?: boolean;\n  onHide: () => void;\n  onHandledPrimaryAction?: () => void;\n  primaryButtonName?: string;\n  primaryButtonType?: 'primary' | 'danger';\n  show: boolean;\n  name?: string;\n  title: ReactNode;\n  width?: string;\n  maxWidth?: string;\n  responsive?: boolean;\n  hideFooter?: boolean;\n  centered?: boolean;\n  footer?: ReactNode;\n  wrapProps?: object;\n  height?: string;\n  closable?: boolean;\n  resizable?: boolean;\n  resizableConfig?: ResizableProps;\n  draggable?: boolean;\n  draggableConfig?: DraggableProps;\n  destroyOnClose?: boolean;\n  maskClosable?: boolean;\n  zIndex?: number;\n  bodyStyle?: CSSProperties;\n}\n\ninterface StyledModalProps {\n  maxWidth?: string;\n  responsive?: boolean;\n  height?: string;\n  hideFooter?: boolean;\n  draggable?: boolean;\n  resizable?: boolean;\n}\n\nconst MODAL_HEADER_HEIGHT = 55;\nconst MODAL_MIN_CONTENT_HEIGHT = 54;\nconst MODAL_FOOTER_HEIGHT = 65;\n\nconst RESIZABLE_MIN_HEIGHT = MODAL_HEADER_HEIGHT + MODAL_MIN_CONTENT_HEIGHT;\nconst RESIZABLE_MIN_WIDTH = '380px';\nconst RESIZABLE_MAX_HEIGHT = '100vh';\nconst RESIZABLE_MAX_WIDTH = '100vw';\n\nconst BaseModal = (props: AntdModalProps) => (\n  // Removes mask animation. Fixed in 4.6.0.\n  // https://github.com/ant-design/ant-design/issues/27192\n  <AntdModal {...props} maskTransitionName=\"\" />\n);\n\nexport const StyledModal = styled(BaseModal)<StyledModalProps>`\n  ${({ theme, responsive, maxWidth }) =>\n    responsive &&\n    css`\n      max-width: ${maxWidth ?? '900px'};\n      padding-left: ${theme.gridUnit * 3}px;\n      padding-right: ${theme.gridUnit * 3}px;\n      padding-bottom: 0;\n      top: 0;\n    `}\n\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    max-height: ${({ theme }) => `calc(100vh - ${theme.gridUnit * 8}px)`};\n    margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\n    margin-top: ${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  .ant-modal-header {\n    flex: 0 0 auto;\n    background-color: ${({ theme }) => theme.colors.grayscale.light4};\n    border-radius: ${({ theme }) => theme.borderRadius}px\n      ${({ theme }) => theme.borderRadius}px 0 0;\n    padding-left: ${({ theme }) => theme.gridUnit * 4}px;\n    padding-right: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .ant-modal-title h4 {\n      display: flex;\n      margin: 0;\n      align-items: center;\n    }\n  }\n\n  .ant-modal-close-x {\n    display: flex;\n    align-items: center;\n\n    .close {\n      flex: 1 1 auto;\n      margin-bottom: ${({ theme }) => theme.gridUnit}px;\n      color: ${({ theme }) => theme.colors.secondary.dark1};\n      font-size: 32px;\n      font-weight: ${({ theme }) => theme.typography.weights.light};\n    }\n  }\n\n  .ant-modal-body {\n    flex: 0 1 auto;\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n    overflow: auto;\n    ${({ resizable, height }) => !resizable && height && `height: ${height};`}\n  }\n  .ant-modal-footer {\n    flex: 0 0 1;\n    border-top: ${({ theme }) => theme.gridUnit / 4}px solid\n      ${({ theme }) => theme.colors.grayscale.light2};\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .btn {\n      font-size: 12px;\n      text-transform: uppercase;\n    }\n\n    .btn + .btn {\n      margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n\n  // styling for Tabs component\n  // Aaron note 20-11-19: this seems to be exclusively here for the Edit Database modal.\n  // TODO: remove this as it is a special case.\n  .ant-tabs-top {\n    margin-top: -${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  &.no-content-padding .ant-modal-body {\n    padding: 0;\n  }\n\n  ${({ draggable, theme }) =>\n    draggable &&\n    `\n    .ant-modal-header {\n      padding: 0;\n      .draggable-trigger {\n          cursor: move;\n          padding: ${theme.gridUnit * 4}px;\n          width: 100%;\n        }\n    }\n  `};\n\n  ${({ resizable, hideFooter }) =>\n    resizable &&\n    `\n    .resizable {\n      pointer-events: all;\n\n      .resizable-wrapper {\n        height: 100%;\n      }\n\n      .ant-modal-content {\n        height: 100%;\n\n        .ant-modal-body {\n          /* 100% - header height - footer height */\n          height: ${\n            hideFooter\n              ? `calc(100% - ${MODAL_HEADER_HEIGHT}px);`\n              : `calc(100% - ${MODAL_HEADER_HEIGHT}px - ${MODAL_FOOTER_HEIGHT}px);`\n          }\n        }\n      }\n    }\n  `}\n`;\nconst defaultResizableConfig = (hideFooter: boolean | undefined) => ({\n  maxHeight: RESIZABLE_MAX_HEIGHT,\n  maxWidth: RESIZABLE_MAX_WIDTH,\n  minHeight: hideFooter\n    ? RESIZABLE_MIN_HEIGHT\n    : RESIZABLE_MIN_HEIGHT + MODAL_FOOTER_HEIGHT,\n  minWidth: RESIZABLE_MIN_WIDTH,\n  enable: {\n    bottom: true,\n    bottomLeft: false,\n    bottomRight: true,\n    left: false,\n    top: false,\n    topLeft: false,\n    topRight: false,\n    right: true,\n  },\n});\n\nconst CustomModal = ({\n  children,\n  disablePrimaryButton = false,\n  primaryButtonLoading = false,\n  onHide,\n  onHandledPrimaryAction,\n  primaryButtonName = t('OK'),\n  primaryButtonType = 'primary',\n  show,\n  name,\n  title,\n  width,\n  maxWidth,\n  responsive = false,\n  centered,\n  footer,\n  hideFooter,\n  wrapProps,\n  draggable = false,\n  resizable = false,\n  resizableConfig = defaultResizableConfig(hideFooter),\n  draggableConfig,\n  destroyOnClose,\n  ...rest\n}: ModalProps) => {\n  const draggableRef = useRef<HTMLDivElement>(null);\n  const [bounds, setBounds] = useState<DraggableBounds>();\n  const [dragDisabled, setDragDisabled] = useState<boolean>(true);\n  let FooterComponent;\n  if (React.isValidElement(footer)) {\n    // If a footer component is provided inject a closeModal function\n    // so the footer can provide a \"close\" button if desired\n    FooterComponent = React.cloneElement(footer, { closeModal: onHide });\n  }\n  const modalFooter = isNil(FooterComponent)\n    ? [\n        <Button key=\"back\" onClick={onHide} cta data-test=\"modal-cancel-button\">\n          {t('Cancel')}\n        </Button>,\n        <Button\n          key=\"submit\"\n          buttonStyle={primaryButtonType}\n          disabled={disablePrimaryButton}\n          loading={primaryButtonLoading}\n          onClick={onHandledPrimaryAction}\n          cta\n          data-test=\"modal-confirm-button\"\n        >\n          {primaryButtonName}\n        </Button>,\n      ]\n    : FooterComponent;\n\n  const modalWidth = width || (responsive ? '100vw' : '600px');\n  const shouldShowMask = !(resizable || draggable);\n\n  const onDragStart = (_: DraggableEvent, uiData: DraggableData) => {\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\n    const targetRect = draggableRef?.current?.getBoundingClientRect();\n\n    if (targetRect) {\n      setBounds({\n        left: -targetRect?.left + uiData?.x,\n        right: clientWidth - (targetRect?.right - uiData?.x),\n        top: -targetRect?.top + uiData?.y,\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y),\n      });\n    }\n  };\n\n  const getResizableConfig = useMemo(() => {\n    if (Object.keys(resizableConfig).length === 0) {\n      return defaultResizableConfig(hideFooter);\n    }\n    return resizableConfig;\n  }, [hideFooter, resizableConfig]);\n\n  const ModalTitle = () =>\n    draggable ? (\n      <div\n        className=\"draggable-trigger\"\n        onMouseOver={() => dragDisabled && setDragDisabled(false)}\n        onMouseOut={() => !dragDisabled && setDragDisabled(true)}\n      >\n        {title}\n      </div>\n    ) : (\n      <>{title}</>\n    );\n\n  return (\n    <StyledModal\n      centered={!!centered}\n      onOk={onHandledPrimaryAction}\n      onCancel={onHide}\n      width={modalWidth}\n      maxWidth={maxWidth}\n      responsive={responsive}\n      visible={show}\n      title={<ModalTitle />}\n      closeIcon={\n        <span className=\"close\" aria-hidden=\"true\">\n          ×\n        </span>\n      }\n      footer={!hideFooter ? modalFooter : null}\n      hideFooter={hideFooter}\n      wrapProps={{ 'data-test': `${name || title}-modal`, ...wrapProps }}\n      modalRender={modal =>\n        resizable || draggable ? (\n          <Draggable\n            disabled={!draggable || dragDisabled}\n            bounds={bounds}\n            onStart={(event, uiData) => onDragStart(event, uiData)}\n            {...draggableConfig}\n          >\n            {resizable ? (\n              <Resizable className=\"resizable\" {...getResizableConfig}>\n                <div className=\"resizable-wrapper\" ref={draggableRef}>\n                  {modal}\n                </div>\n              </Resizable>\n            ) : (\n              <div ref={draggableRef}>{modal}</div>\n            )}\n          </Draggable>\n        ) : (\n          modal\n        )\n      }\n      mask={shouldShowMask}\n      draggable={draggable}\n      resizable={resizable}\n      destroyOnClose={destroyOnClose}\n      {...rest}\n    >\n      {children}\n    </StyledModal>\n  );\n};\nCustomModal.displayName = 'Modal';\n\n// Ant Design 4 does not allow overriding Modal's buttons when\n// using one of the pre-defined functions. Ant Design 5 Modal introduced\n// the footer property that will allow that. Meanwhile, we're replicating\n// Button style using global CSS in src/GlobalStyles.tsx.\n// TODO: Replace this logic when on Ant Design 5.\nconst buttonProps = {\n  okButtonProps: { className: 'modal-functions-ok-button' },\n  cancelButtonProps: { className: 'modal-functions-cancel-button' },\n};\n\n// TODO: in another PR, rename this to CompatabilityModal\n// and demote it as the default export.\n// We should start using AntD component interfaces going forward.\nconst Modal = Object.assign(CustomModal, {\n  error: (config: ModalFuncProps) =>\n    AntdModal.error({ ...config, ...buttonProps }),\n  warning: (config: ModalFuncProps) =>\n    AntdModal.warning({ ...config, ...buttonProps }),\n  confirm: (config: ModalFuncProps) =>\n    AntdModal.confirm({ ...config, ...buttonProps }),\n  useModal: AntdModal.useModal,\n});\n\nexport default Modal;\n"]},"metadata":{},"sourceType":"module"}