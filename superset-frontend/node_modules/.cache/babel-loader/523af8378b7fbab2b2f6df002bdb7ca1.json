{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\"; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Popover } from 'antd';\nimport AceEditor from 'react-ace';\nimport { CalculatorOutlined } from '@ant-design/icons';\nimport { css, styled, useTheme, t } from '@superset-ui/core';\nimport 'ace-builds/src-noconflict/mode-sql';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyledCalculatorIcon = styled(CalculatorOutlined)`\n  ${(_ref) => {let { theme } = _ref;return css`\n    color: ${theme.colors.grayscale.base};\n    font-size: ${theme.typography.sizes.s}px;\n    & svg {\n      margin-left: ${theme.gridUnit}px;\n      margin-right: ${theme.gridUnit}px;\n    }\n  `;}}\n`;\nexport const SQLPopover = (props) => {\n  const theme = useTheme();\n  return ___EmotionJSX(Popover, _extends({ content: ___EmotionJSX(AceEditor, { mode: \"sql\", value: props.sqlExpression, editorProps: { $blockScrolling: true }, setOptions: {\n        highlightActiveLine: false,\n        highlightGutterLine: false },\n      minLines: 2, maxLines: 6, readOnly: true, wrapEnabled: true, style: {\n        border: `1px solid ${theme.colors.grayscale.light2}`,\n        background: theme.colors.secondary.light5,\n        maxWidth: theme.gridUnit * 100 } }),\n    placement: \"bottomLeft\", arrowPointAtCenter: true, title: t('SQL expression') }, props),\n  ___EmotionJSX(StyledCalculatorIcon, null));\n\n};","map":{"version":3,"mappings":"+DAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,MAAxB;AAEA,OAAOC,SAAP,MAAsB,WAAtB;AACA,SAASC,kBAAT,QAAmC,mBAAnC;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,QAAtB,EAAgCC,CAAhC,QAAyC,mBAAzC;AACA,OAAO,oCAAP,C;AAEA,MAAMC,oBAAoB,GAAGH,MAAM,CAACF,kBAAD,CAAoB;IACnD,eAAC,EAAEM,KAAF,EAAD,eAAeL,GAAG;aACTK,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,IAAI;iBACvBH,KAAK,CAACI,UAAN,CAAiBC,KAAjB,CAAuBC,CAAC;;qBAEpBN,KAAK,CAACO,QAAQ;sBACbP,KAAK,CAACO,QAAQ;;GALhC,EAOD;CARH;AAWA,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,KAAoD;EAC5E,MAAMT,KAAK,GAAGH,QAAQ,EAAtB;EACA,OACE,cAAC,OAAD,aACE,OAAO,EACL,cAAC,SAAD,IACE,IAAI,EAAC,KADP,EAEE,KAAK,EAAEY,KAAK,CAACC,aAFf,EAGE,WAAW,EAAE,EAAEC,eAAe,EAAE,IAAnB,EAHf,EAIE,UAAU,EAAE;QACVC,mBAAmB,EAAE,KADX;QAEVC,mBAAmB,EAAE,KAFX,EAJd;MAQE,QAAQ,EAAE,CARZ,EASE,QAAQ,EAAE,CATZ,EAUE,QAAQ,MAVV,EAWE,WAAW,MAXb,EAYE,KAAK,EAAE;QACLC,MAAM,EAAE,aAAad,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBa,MAAM,EAD7C;QAELC,UAAU,EAAEhB,KAAK,CAACC,MAAN,CAAagB,SAAb,CAAuBC,MAF9B;QAGLC,QAAQ,EAAEnB,KAAK,CAACO,QAAN,GAAiB,GAHtB,EAZT,GAFJ;IAqBE,SAAS,EAAC,YArBZ,EAsBE,kBAAkB,MAtBpB,EAuBE,KAAK,EAAET,CAAC,CAAC,gBAAD,CAvBV,IAwBMW,KAxBN;EA0BE,cAAC,oBAAD,OA1BF,CADF;;AA8BD,CAhCM","names":["React","Popover","AceEditor","CalculatorOutlined","css","styled","useTheme","t","StyledCalculatorIcon","theme","colors","grayscale","base","typography","sizes","s","gridUnit","SQLPopover","props","sqlExpression","$blockScrolling","highlightActiveLine","highlightGutterLine","border","light2","background","secondary","light5","maxWidth"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/packages/superset-ui-chart-controls/src/components/SQLPopover.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Popover } from 'antd';\nimport type { PopoverProps } from 'antd/lib/popover';\nimport AceEditor from 'react-ace';\nimport { CalculatorOutlined } from '@ant-design/icons';\nimport { css, styled, useTheme, t } from '@superset-ui/core';\nimport 'ace-builds/src-noconflict/mode-sql';\n\nconst StyledCalculatorIcon = styled(CalculatorOutlined)`\n  ${({ theme }) => css`\n    color: ${theme.colors.grayscale.base};\n    font-size: ${theme.typography.sizes.s}px;\n    & svg {\n      margin-left: ${theme.gridUnit}px;\n      margin-right: ${theme.gridUnit}px;\n    }\n  `}\n`;\n\nexport const SQLPopover = (props: PopoverProps & { sqlExpression: string }) => {\n  const theme = useTheme();\n  return (\n    <Popover\n      content={\n        <AceEditor\n          mode=\"sql\"\n          value={props.sqlExpression}\n          editorProps={{ $blockScrolling: true }}\n          setOptions={{\n            highlightActiveLine: false,\n            highlightGutterLine: false,\n          }}\n          minLines={2}\n          maxLines={6}\n          readOnly\n          wrapEnabled\n          style={{\n            border: `1px solid ${theme.colors.grayscale.light2}`,\n            background: theme.colors.secondary.light5,\n            maxWidth: theme.gridUnit * 100,\n          }}\n        />\n      }\n      placement=\"bottomLeft\"\n      arrowPointAtCenter\n      title={t('SQL expression')}\n      {...props}\n    >\n      <StyledCalculatorIcon />\n    </Popover>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}