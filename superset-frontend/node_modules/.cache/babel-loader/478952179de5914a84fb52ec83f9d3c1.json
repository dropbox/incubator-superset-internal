{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { AntdDropdown, Typography } from 'src/components';\nimport { Menu } from 'src/components/Menu';\nimport React from 'react';\nimport { styled, useTheme, t } from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\nimport Button from 'src/components/Button';\nimport { Tooltip } from 'src/components/Tooltip';\nimport FiltersHeader from './FiltersHeader';\nimport { getFilterBarTestId } from '../utils';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst HeaderButton = styled(Button)`\n  padding: 0;\n`;\nconst TitleText = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst IconsBlock = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  & > *,\n  & > button.superset-button {\n    ${(_ref) => {let { theme } = _ref;return `margin-left: ${theme.gridUnit * 2}px`;}};\n  }\n`;\nconst FilterSetUnit = (_ref2) => {var _filterSet$name, _filterSet$dataMask;let { editMode, setFilterSetName, onDelete, onEdit, filterSetName, dataMaskSelected, filterSet, isApplied, onRebuild } = _ref2;\n  const theme = useTheme();\n  const menu = ___EmotionJSX(Menu, null,\n  ___EmotionJSX(Menu.Item, { onClick: onEdit }, t('Edit')),\n  ___EmotionJSX(Menu.Item, { onClick: onRebuild },\n  ___EmotionJSX(Tooltip, { placement: \"right\", title: t('Remove invalid filters') },\n  t('Rebuild'))),\n\n\n  ___EmotionJSX(Menu.Item, { onClick: onDelete, danger: true },\n  t('Delete')));\n\n\n  return ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(TitleText, null,\n  ___EmotionJSX(Typography.Text, { strong: true, editable: {\n      editing: editMode,\n      icon: ___EmotionJSX(\"span\", null),\n      onChange: setFilterSetName } }, (_filterSet$name =\n\n  filterSet == null ? void 0 : filterSet.name) != null ? _filterSet$name : filterSetName),\n\n  ___EmotionJSX(IconsBlock, null,\n  isApplied && ___EmotionJSX(Icons.CheckOutlined, { iconSize: \"m\", iconColor: theme.colors.success.base }),\n  onDelete && ___EmotionJSX(AntdDropdown, { overlay: menu, placement: \"bottomRight\", trigger: ['click'] },\n  ___EmotionJSX(HeaderButton, _extends({ onClick: (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    } }, getFilterBarTestId('filter-set-menu-button'), { buttonStyle: \"link\", buttonSize: \"xsmall\" }),\n  ___EmotionJSX(Icons.EllipsisOutlined, { iconSize: \"m\" }))))),\n\n\n\n\n  ___EmotionJSX(FiltersHeader, { filterSet: filterSet, dataMask: (_filterSet$dataMask = filterSet == null ? void 0 : filterSet.dataMask) != null ? _filterSet$dataMask : dataMaskSelected }));\n\n};__signature__(FilterSetUnit, \"useTheme{theme}\", () => [useTheme]);const _default =\nFilterSetUnit;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(HeaderButton, \"HeaderButton\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");reactHotLoader.register(TitleText, \"TitleText\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");reactHotLoader.register(IconsBlock, \"IconsBlock\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");reactHotLoader.register(FilterSetUnit, \"FilterSetUnit\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"mappings":"sWAAA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,YAAT,EAAuBC,UAAvB,QAAyC,gBAAzC;AACA,SAASC,IAAT,QAAqB,qBAArB;AACA,OAAOC,KAAP,MAA0B,OAA1B;AACA,SAIEC,MAJF,EAKEC,QALF,EAMEC,CANF,QAOO,mBAPP;AAQA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,kBAAT,QAAmC,UAAnC,C;AAEA,MAAMC,YAAY,GAAGR,MAAM,CAACI,MAAD,CAAQ;;CAAnC;AAIA,MAAMK,SAAS,GAAGT,MAAM,CAACU,GAAG;;;;CAA5B;AAMA,MAAMC,UAAU,GAAGX,MAAM,CAACU,GAAG;;;;;;MAMvB,eAAC,EAAEE,KAAF,EAAD,eAAe,gBAAgBA,KAAK,CAACC,QAAN,GAAiB,CAAC,IAAjD,EAAqD;;CAN3D;AAsBA,MAAMC,aAAa,GAA2B,WAUzC,8CAV0C,EAC7CC,QAD6C,EAE7CC,gBAF6C,EAG7CC,QAH6C,EAI7CC,MAJ6C,EAK7CC,aAL6C,EAM7CC,gBAN6C,EAO7CC,SAP6C,EAQ7CC,SAR6C,EAS7CC,SAT6C,EAU1C;EACH,MAAMX,KAAK,GAAGX,QAAQ,EAAtB;EAEA,MAAMuB,IAAI,GACR,cAAC,IAAD;EACE,cAAC,IAAD,CAAM,IAAN,IAAW,OAAO,EAAEN,MAApB,IAA6BhB,CAAC,CAAC,MAAD,CAA9B,CADF;EAEE,cAAC,IAAD,CAAM,IAAN,IAAW,OAAO,EAAEqB,SAApB;EACE,cAAC,OAAD,IAAS,SAAS,EAAC,OAAnB,EAA2B,KAAK,EAAErB,CAAC,CAAC,wBAAD,CAAnC;EACGA,CAAC,CAAC,SAAD,CADJ,CADF,CAFF;;;EAOE,cAAC,IAAD,CAAM,IAAN,IAAW,OAAO,EAAEe,QAApB,EAA8B,MAAM,MAApC;EACGf,CAAC,CAAC,QAAD,CADJ,CAPF,CADF;;;EAcA,OACE;EACE,cAAC,SAAD;EACE,cAAC,UAAD,CAAY,IAAZ,IACE,MAAM,MADR,EAEE,QAAQ,EAAE;MACRuB,OAAO,EAAEV,QADD;MAERW,IAAI,EAAE,2BAFE;MAGRC,QAAQ,EAAEX,gBAHF,EAFZ;;EAQGK,SARH,oBAQGA,SAAS,CAAEO,IARd,8BAQsBT,aARtB,CADF;;EAWE,cAAC,UAAD;EACGG,SAAS,IACR,cAAC,KAAD,CAAO,aAAP,IACE,QAAQ,EAAC,GADX,EAEE,SAAS,EAAEV,KAAK,CAACiB,MAAN,CAAaC,OAAb,CAAqBC,IAFlC,GAFJ;EAOGd,QAAQ,IACP,cAAC,YAAD,IACE,OAAO,EAAEO,IADX,EAEE,SAAS,EAAC,aAFZ,EAGE,OAAO,EAAE,CAAC,OAAD,CAHX;EAKE,cAAC,YAAD,aACE,OAAO,EAAE,EAAC,KAAG;MACXQ,CAAC,CAACC,eAAF;MACAD,CAAC,CAACE,cAAF;IACD,CAJH,IAKM3B,kBAAkB,CAAC,wBAAD,CALxB,IAME,WAAW,EAAC,MANd,EAOE,UAAU,EAAC,QAPb;EASE,cAAC,KAAD,CAAO,gBAAP,IAAwB,QAAQ,EAAC,GAAjC,GATF,CALF,CARJ,CAXF,CADF;;;;;EAwCE,cAAC,aAAD,IACE,SAAS,EAAEc,SADb,EAEE,QAAQ,yBAAEA,SAAF,oBAAEA,SAAS,CAAEc,QAAb,kCAAyBf,gBAFnC,GAxCF,CADF;;AA+CD,CA1ED,C,cAAMN,a,4BAWUb,Q;AAiEDa,a,CAAf,wB,iLA5GMN,Y,4LAIAC,S,yLAMAE,U,0LAsBAG,a","names":["AntdDropdown","Typography","Menu","React","styled","useTheme","t","Icons","Button","Tooltip","FiltersHeader","getFilterBarTestId","HeaderButton","TitleText","div","IconsBlock","theme","gridUnit","FilterSetUnit","editMode","setFilterSetName","onDelete","onEdit","filterSetName","dataMaskSelected","filterSet","isApplied","onRebuild","menu","editing","icon","onChange","name","colors","success","base","e","stopPropagation","preventDefault","dataMask"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { AntdDropdown, Typography } from 'src/components';\nimport { Menu } from 'src/components/Menu';\nimport React, { FC } from 'react';\nimport {\n  DataMaskState,\n  FilterSet,\n  HandlerFunction,\n  styled,\n  useTheme,\n  t,\n} from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\nimport Button from 'src/components/Button';\nimport { Tooltip } from 'src/components/Tooltip';\nimport FiltersHeader from './FiltersHeader';\nimport { getFilterBarTestId } from '../utils';\n\nconst HeaderButton = styled(Button)`\n  padding: 0;\n`;\n\nconst TitleText = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst IconsBlock = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  & > *,\n  & > button.superset-button {\n    ${({ theme }) => `margin-left: ${theme.gridUnit * 2}px`};\n  }\n`;\n\nexport type FilterSetUnitProps = {\n  editMode?: boolean;\n  isApplied?: boolean;\n  filterSet?: FilterSet;\n  filterSetName?: string;\n  dataMaskSelected?: DataMaskState;\n  setFilterSetName?: (name: string) => void;\n  onDelete?: HandlerFunction;\n  onEdit?: HandlerFunction;\n  onRebuild?: HandlerFunction;\n};\n\nconst FilterSetUnit: FC<FilterSetUnitProps> = ({\n  editMode,\n  setFilterSetName,\n  onDelete,\n  onEdit,\n  filterSetName,\n  dataMaskSelected,\n  filterSet,\n  isApplied,\n  onRebuild,\n}) => {\n  const theme = useTheme();\n\n  const menu = (\n    <Menu>\n      <Menu.Item onClick={onEdit}>{t('Edit')}</Menu.Item>\n      <Menu.Item onClick={onRebuild}>\n        <Tooltip placement=\"right\" title={t('Remove invalid filters')}>\n          {t('Rebuild')}\n        </Tooltip>\n      </Menu.Item>\n      <Menu.Item onClick={onDelete} danger>\n        {t('Delete')}\n      </Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <>\n      <TitleText>\n        <Typography.Text\n          strong\n          editable={{\n            editing: editMode,\n            icon: <span />,\n            onChange: setFilterSetName,\n          }}\n        >\n          {filterSet?.name ?? filterSetName}\n        </Typography.Text>\n        <IconsBlock>\n          {isApplied && (\n            <Icons.CheckOutlined\n              iconSize=\"m\"\n              iconColor={theme.colors.success.base}\n            />\n          )}\n          {onDelete && (\n            <AntdDropdown\n              overlay={menu}\n              placement=\"bottomRight\"\n              trigger={['click']}\n            >\n              <HeaderButton\n                onClick={e => {\n                  e.stopPropagation();\n                  e.preventDefault();\n                }}\n                {...getFilterBarTestId('filter-set-menu-button')}\n                buttonStyle=\"link\"\n                buttonSize=\"xsmall\"\n              >\n                <Icons.EllipsisOutlined iconSize=\"m\" />\n              </HeaderButton>\n            </AntdDropdown>\n          )}\n        </IconsBlock>\n      </TitleText>\n      <FiltersHeader\n        filterSet={filterSet}\n        dataMask={filterSet?.dataMask ?? dataMaskSelected}\n      />\n    </>\n  );\n};\n\nexport default FilterSetUnit;\n"]},"metadata":{},"sourceType":"module"}