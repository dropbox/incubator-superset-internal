{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _includesInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/includes\"; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport { css, t, useTheme } from '@superset-ui/core';\nimport { Input } from 'src/components/Input';\nimport Icons from 'src/components/Icons';\nimport { Menu } from 'src/components/Menu';\nimport { Link } from 'react-router-dom';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst WIDTH = 220;\nconst HEIGHT = 300;\nconst SEARCH_THRESHOLD = 10;\nconst DashboardsSubMenu = (_ref) => {let { chartId, dashboards = [], ...menuProps } = _ref;\n  const theme = useTheme();\n  const [dashboardSearch, setDashboardSearch] = useState();\n  const [hoveredItem, setHoveredItem] = useState();\n  const showSearch = dashboards.length > SEARCH_THRESHOLD;\n  const filteredDashboards = dashboards.filter((dashboard) => {var _context;return !dashboardSearch ||\n    _includesInstanceProperty(_context = dashboard.dashboard_title.\n    toLowerCase()).call(_context,\n    dashboardSearch.toLowerCase());});\n  const noResults = dashboards.length === 0;\n  const noResultsFound = dashboardSearch && filteredDashboards.length === 0;\n  const urlQueryString = chartId ? `?focused_chart=${chartId}` : '';\n  return ___EmotionJSX(React.Fragment, null,\n  showSearch && ___EmotionJSX(Input, { allowClear: true, placeholder: t('Search'), prefix: ___EmotionJSX(Icons.Search, { iconSize: \"l\" }), css: css`\n            width: ${WIDTH}px;\n            margin: ${theme.gridUnit * 2}px ${theme.gridUnit * 3}px;\n          `, value: dashboardSearch, onChange: (e) => setDashboardSearch(e.currentTarget.value) }),\n  ___EmotionJSX(\"div\", { css: css`\n          max-height: ${HEIGHT}px;\n          overflow: auto;\n        ` },\n  filteredDashboards.map((dashboard) => ___EmotionJSX(Menu.Item, _extends({ key: String(dashboard.id), onMouseEnter: () => setHoveredItem(dashboard.id), onMouseLeave: () => {\n      if (hoveredItem === dashboard.id) {\n        setHoveredItem(null);\n      }\n    } }, menuProps),\n  ___EmotionJSX(Link, { target: \"_blank\", rel: \"noreferer noopener\", to: `/superset/dashboard/${dashboard.id}${urlQueryString}` },\n  ___EmotionJSX(\"div\", { css: css`\n                  display: flex;\n                  flex-direction: row;\n                  align-items: center;\n                  max-width: ${WIDTH}px;\n                ` },\n  ___EmotionJSX(\"div\", { css: css`\n                    white-space: normal;\n                  ` },\n  dashboard.dashboard_title),\n\n  ___EmotionJSX(Icons.Full, { iconSize: \"l\", iconColor: theme.colors.grayscale.base, css: css`\n                    margin-left: ${theme.gridUnit * 2}px;\n                    visibility: ${hoveredItem === dashboard.id ?\n    'visible' :\n    'hidden'};\n                  ` }))))),\n\n\n\n  noResultsFound && ___EmotionJSX(\"div\", { css: css`\n              margin-left: ${theme.gridUnit * 3}px;\n              margin-bottom: ${theme.gridUnit}px;\n            ` },\n  t('No results found')),\n\n  noResults && ___EmotionJSX(Menu.Item, _extends({ disabled: true, css: css`\n              min-width: ${WIDTH}px;\n            ` }, menuProps),\n  t('None'))));\n\n\n\n};\nexport default DashboardsSubMenu;","map":{"version":3,"mappings":"+JAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,GAAT,EAAcC,CAAd,EAAiBC,QAAjB,QAAiC,mBAAjC;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,SAASC,IAAT,QAAqB,qBAArB;AACA,SAASC,IAAT,QAAqB,kBAArB,C;AAOA,MAAMC,KAAK,GAAG,GAAd;AACA,MAAMC,MAAM,GAAG,GAAf;AACA,MAAMC,gBAAgB,GAAG,EAAzB;AAEA,MAAMC,iBAAiB,GAAG,UAIG,KAJF,EACzBC,OADyB,EAEzBC,UAAU,GAAG,EAFY,EAGzB,GAAGC,SAHsB,EAIE;EAC3B,MAAMC,KAAK,GAAGZ,QAAQ,EAAtB;EACA,MAAM,CAACa,eAAD,EAAkBC,kBAAlB,IAAwCjB,QAAQ,EAAtD;EACA,MAAM,CAACkB,WAAD,EAAcC,cAAd,IAAgCnB,QAAQ,EAA9C;EACA,MAAMoB,UAAU,GAAGP,UAAU,CAACQ,MAAX,GAAoBX,gBAAvC;EACA,MAAMY,kBAAkB,GAAGT,UAAU,CAACU,MAAX,CACzB,UAAS,0BACP,CAACP,eAAD;IACA,8CAAS,CAACQ,eAAV;IACGC,WADH;IAEYT,eAAe,CAACS,WAAhB,EAFZ,CAFO,EADgB,CAA3B;EAOA,MAAMC,SAAS,GAAGb,UAAU,CAACQ,MAAX,KAAsB,CAAxC;EACA,MAAMM,cAAc,GAAGX,eAAe,IAAIM,kBAAkB,CAACD,MAAnB,KAA8B,CAAxE;EACA,MAAMO,cAAc,GAAGhB,OAAO,GAAG,kBAAkBA,OAAO,EAA5B,GAAiC,EAA/D;EACA,OACE;EACGQ,UAAU,IACT,cAAC,KAAD,IACE,UAAU,MADZ,EAEE,WAAW,EAAElB,CAAC,CAAC,QAAD,CAFhB,EAGE,MAAM,EAAE,cAAC,KAAD,CAAO,MAAP,IAAc,QAAQ,EAAC,GAAvB,GAHV,EAIE,GAAG,EAAED,GAAG;qBACGO,KAAK;sBACJO,KAAK,CAACc,QAAN,GAAiB,CAAC,MAAMd,KAAK,CAACc,QAAN,GAAiB,CAAC;WANxD,EAQE,KAAK,EAAEb,eART,EASE,QAAQ,EAAE,EAAC,KAAIC,kBAAkB,CAACa,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CATnC,GAFJ;EAcE,uBACE,GAAG,EAAE/B,GAAG;wBACQQ,MAAM;;SAFxB;EAMGa,kBAAkB,CAACW,GAAnB,CAAuB,UAAS,KAC/B,cAAC,IAAD,CAAM,IAAN,aACE,GAAG,EAAEC,MAAM,CAACC,SAAS,CAACC,EAAX,CADb,EAEE,YAAY,EAAE,MAAMjB,cAAc,CAACgB,SAAS,CAACC,EAAX,CAFpC,EAGE,YAAY,EAAE,MAAK;MACjB,IAAIlB,WAAW,KAAKiB,SAAS,CAACC,EAA9B,EAAkC;QAChCjB,cAAc,CAAC,IAAD,CAAd;MACD;IACF,CAPH,IAQML,SARN;EAUE,cAAC,IAAD,IACE,MAAM,EAAC,QADT,EAEE,GAAG,EAAC,oBAFN,EAGE,EAAE,EAAE,uBAAuBqB,SAAS,CAACC,EAAE,GAAGR,cAAc,EAH1D;EAKE,uBACE,GAAG,EAAE3B,GAAG;;;;+BAIOO,KAAK;iBALtB;EAQE,uBACE,GAAG,EAAEP,GAAG;;mBADV;EAKGkC,SAAS,CAACX,eALb,CARF;;EAeE,cAAC,KAAD,CAAO,IAAP,IACE,QAAQ,EAAC,GADX,EAEE,SAAS,EAAET,KAAK,CAACsB,MAAN,CAAaC,SAAb,CAAuBC,IAFpC,EAGE,GAAG,EAAEtC,GAAG;mCACSc,KAAK,CAACc,QAAN,GAAiB,CAAC;kCACnBX,WAAW,KAAKiB,SAAS,CAACC,EAA1B;IACV,SADU;IAEV,QAAQ;mBAPhB,GAfF,CALF,CAVF,CADD,CANH;;;;EAmDGT,cAAc,IACb,uBACE,GAAG,EAAE1B,GAAG;6BACSc,KAAK,CAACc,QAAN,GAAiB,CAAC;+BAChBd,KAAK,CAACc,QAAQ;aAHnC;EAMG3B,CAAC,CAAC,kBAAD,CANJ,CApDJ;;EA6DGwB,SAAS,IACR,cAAC,IAAD,CAAM,IAAN,aACE,QAAQ,MADV,EAEE,GAAG,EAAEzB,GAAG;2BACOO,KAAK;aAHtB,IAKMM,SALN;EAOGZ,CAAC,CAAC,MAAD,CAPJ,CA9DJ,CAdF,CADF;;;;AA0FD,CA7GD;AA+GA,eAAeS,iBAAf","names":["React","useState","css","t","useTheme","Input","Icons","Menu","Link","WIDTH","HEIGHT","SEARCH_THRESHOLD","DashboardsSubMenu","chartId","dashboards","menuProps","theme","dashboardSearch","setDashboardSearch","hoveredItem","setHoveredItem","showSearch","length","filteredDashboards","filter","dashboard_title","toLowerCase","noResults","noResultsFound","urlQueryString","gridUnit","e","currentTarget","value","map","String","dashboard","id","colors","grayscale","base"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/explore/components/useExploreAdditionalActionsMenu/DashboardsSubMenu.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport { css, t, useTheme } from '@superset-ui/core';\nimport { Input } from 'src/components/Input';\nimport Icons from 'src/components/Icons';\nimport { Menu } from 'src/components/Menu';\nimport { Link } from 'react-router-dom';\n\nexport interface DashboardsSubMenuProps {\n  chartId?: number;\n  dashboards?: { id: number; dashboard_title: string }[];\n}\n\nconst WIDTH = 220;\nconst HEIGHT = 300;\nconst SEARCH_THRESHOLD = 10;\n\nconst DashboardsSubMenu = ({\n  chartId,\n  dashboards = [],\n  ...menuProps\n}: DashboardsSubMenuProps) => {\n  const theme = useTheme();\n  const [dashboardSearch, setDashboardSearch] = useState<string>();\n  const [hoveredItem, setHoveredItem] = useState<number | null>();\n  const showSearch = dashboards.length > SEARCH_THRESHOLD;\n  const filteredDashboards = dashboards.filter(\n    dashboard =>\n      !dashboardSearch ||\n      dashboard.dashboard_title\n        .toLowerCase()\n        .includes(dashboardSearch.toLowerCase()),\n  );\n  const noResults = dashboards.length === 0;\n  const noResultsFound = dashboardSearch && filteredDashboards.length === 0;\n  const urlQueryString = chartId ? `?focused_chart=${chartId}` : '';\n  return (\n    <>\n      {showSearch && (\n        <Input\n          allowClear\n          placeholder={t('Search')}\n          prefix={<Icons.Search iconSize=\"l\" />}\n          css={css`\n            width: ${WIDTH}px;\n            margin: ${theme.gridUnit * 2}px ${theme.gridUnit * 3}px;\n          `}\n          value={dashboardSearch}\n          onChange={e => setDashboardSearch(e.currentTarget.value)}\n        />\n      )}\n      <div\n        css={css`\n          max-height: ${HEIGHT}px;\n          overflow: auto;\n        `}\n      >\n        {filteredDashboards.map(dashboard => (\n          <Menu.Item\n            key={String(dashboard.id)}\n            onMouseEnter={() => setHoveredItem(dashboard.id)}\n            onMouseLeave={() => {\n              if (hoveredItem === dashboard.id) {\n                setHoveredItem(null);\n              }\n            }}\n            {...menuProps}\n          >\n            <Link\n              target=\"_blank\"\n              rel=\"noreferer noopener\"\n              to={`/superset/dashboard/${dashboard.id}${urlQueryString}`}\n            >\n              <div\n                css={css`\n                  display: flex;\n                  flex-direction: row;\n                  align-items: center;\n                  max-width: ${WIDTH}px;\n                `}\n              >\n                <div\n                  css={css`\n                    white-space: normal;\n                  `}\n                >\n                  {dashboard.dashboard_title}\n                </div>\n                <Icons.Full\n                  iconSize=\"l\"\n                  iconColor={theme.colors.grayscale.base}\n                  css={css`\n                    margin-left: ${theme.gridUnit * 2}px;\n                    visibility: ${hoveredItem === dashboard.id\n                      ? 'visible'\n                      : 'hidden'};\n                  `}\n                />\n              </div>\n            </Link>\n          </Menu.Item>\n        ))}\n        {noResultsFound && (\n          <div\n            css={css`\n              margin-left: ${theme.gridUnit * 3}px;\n              margin-bottom: ${theme.gridUnit}px;\n            `}\n          >\n            {t('No results found')}\n          </div>\n        )}\n        {noResults && (\n          <Menu.Item\n            disabled\n            css={css`\n              min-width: ${WIDTH}px;\n            `}\n            {...menuProps}\n          >\n            {t('None')}\n          </Menu.Item>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default DashboardsSubMenu;\n"]},"metadata":{},"sourceType":"module"}