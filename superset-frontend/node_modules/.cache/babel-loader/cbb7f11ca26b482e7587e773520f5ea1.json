{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import { ticks } from \"d3-array\";\nimport { format } from \"d3-format\";\nimport nice from \"./nice.js\";\nimport { copy, transformer } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10 :\n  base === Math.E ? Math.exp :\n  function (x) {return Math.pow(base, x);};\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log :\n  base === 10 && Math.log10 ||\n  base === 2 && Math.log2 || (\n  base = Math.log(base), function (x) {return Math.log(x) / base;});\n}\n\nfunction reflect(f) {\n  return function (x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n  domain = scale.domain,\n  base = 10,\n  logs,\n  pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function (_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function (count) {\n    var d = domain(),\n    u = d[0],\n    v = d[d.length - 1],\n    r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n    j = logs(v),\n    p,\n    k,\n    t,\n    n = count == null ? 10 : +count,\n    z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function (d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function () {\n    return domain(nice(domain(), {\n      floor: function (x) {return pows(Math.floor(logs(x)));},\n      ceil: function (x) {return pows(Math.ceil(logs(x)));} }));\n\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function () {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(transformLog, \"transformLog\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");reactHotLoader.register(transformExp, \"transformExp\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");reactHotLoader.register(transformLogn, \"transformLogn\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");reactHotLoader.register(transformExpn, \"transformExpn\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");reactHotLoader.register(pow10, \"pow10\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");reactHotLoader.register(powp, \"powp\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");reactHotLoader.register(logp, \"logp\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");reactHotLoader.register(reflect, \"reflect\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");reactHotLoader.register(loggish, \"loggish\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");reactHotLoader.register(log, \"log\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["ticks","format","nice","copy","transformer","initRange","transformLog","x","Math","log","transformExp","exp","transformLogn","transformExpn","pow10","isFinite","powp","base","E","pow","logp","log10","log2","reflect","f","loggish","transform","scale","domain","logs","pows","rescale","_","arguments","length","count","d","u","v","r","i","j","p","k","t","n","z","floor","ceil","push","min","map","reverse","tickFormat","specifier","Infinity","max","round","apply"],"sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/node_modules/@encodable/color/node_modules/d3-scale/src/log.js"],"sourcesContent":["import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}