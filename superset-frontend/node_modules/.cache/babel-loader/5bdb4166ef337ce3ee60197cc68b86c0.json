{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useCallback, useEffect } from 'react';\nimport { css, t, styled } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport Icons from 'src/components/Icons';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyledLink = styled.a`\n  ${(_ref) => {let { theme } = _ref;return css`\n    font-size: ${theme.typography.sizes.xl}px;\n    display: flex;\n    padding: 0 0 0 ${theme.gridUnit * 2}px;\n  `;}};\n`;\nconst FaveStar = (_ref2) => {let { itemId, isStarred, showTooltip, saveFaveStar, fetchFaveStar } = _ref2;\n  useEffect(() => {\n    fetchFaveStar == null ? void 0 : fetchFaveStar(itemId);\n  }, [fetchFaveStar, itemId]);\n  const onClick = useCallback((e) => {\n    e.preventDefault();\n    saveFaveStar(itemId, !!isStarred);\n  }, [isStarred, itemId, saveFaveStar]);\n  const content = ___EmotionJSX(StyledLink, { href: \"#\", onClick: onClick, className: \"fave-unfave-icon\", \"data-test\": \"fave-unfave-icon\", role: \"button\" },\n  isStarred ? ___EmotionJSX(Icons.FavoriteSelected, null) : ___EmotionJSX(Icons.FavoriteUnselected, null));\n\n  if (showTooltip) {\n    return ___EmotionJSX(Tooltip, { id: \"fave-unfave-tooltip\", title: t('Click to favorite/unfavorite') },\n    content);\n\n  }\n  return content;\n};__signature__(FaveStar, \"useEffect{}\\nuseCallback{onClick}\");const _default =\nFaveStar;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledLink, \"StyledLink\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/FaveStar/index.tsx\");reactHotLoader.register(FaveStar, \"FaveStar\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/FaveStar/index.tsx\");reactHotLoader.register(_default, \"default\", \"/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/FaveStar/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAmBA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,SAASC,GAAT,EAAcC,CAAd,EAAiBC,MAAjB,QAA+B,mBAA/B;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,OAAOC,KAAP,MAAkB,sBAAlB,C;AAUA,MAAMC,UAAU,GAAGH,MAAM,CAACI,CAAC;IACvB,eAAC,EAAEC,KAAF,EAAD,eAAeP,GAAG;iBACLO,KAAK,CAACC,UAAN,CAAiBC,KAAjB,CAAuBC,EAAE;;qBAErBH,KAAK,CAACI,QAAN,GAAiB,CAAC;GAHnC,EAID;CALH;AAQA,MAAMC,QAAQ,GAAG,WAMG,KANF,EAChBC,MADgB,EAEhBC,SAFgB,EAGhBC,WAHgB,EAIhBC,YAJgB,EAKhBC,aALgB,EAME;EAClBlB,SAAS,CAAC,MAAK;IACbkB,aAAa,QAAb,yBAAa,CAAGJ,MAAH,CAAb;EACD,CAFQ,EAEN,CAACI,aAAD,EAAgBJ,MAAhB,CAFM,CAAT;EAIA,MAAMK,OAAO,GAAGpB,WAAW,CACzB,CAACqB,CAAD,KAAwB;IACtBA,CAAC,CAACC,cAAF;IACAJ,YAAY,CAACH,MAAD,EAAS,CAAC,CAACC,SAAX,CAAZ;EACD,CAJwB,EAKzB,CAACA,SAAD,EAAYD,MAAZ,EAAoBG,YAApB,CALyB,CAA3B;EAQA,MAAMK,OAAO,GACX,cAAC,UAAD,IACE,IAAI,EAAC,GADP,EAEE,OAAO,EAAEH,OAFX,EAGE,SAAS,EAAC,kBAHZ,EAIE,aAAU,kBAJZ,EAKE,IAAI,EAAC,QALP;EAOGJ,SAAS,GAAG,cAAC,KAAD,CAAO,gBAAP,OAAH,GAAgC,cAAC,KAAD,CAAO,kBAAP,OAP5C,CADF;;EAYA,IAAIC,WAAJ,EAAiB;IACf,OACE,cAAC,OAAD,IACE,EAAE,EAAC,qBADL,EAEE,KAAK,EAAEd,CAAC,CAAC,8BAAD,CAFV;IAIGoB,OAJH,CADF;;EAQD;EAED,OAAOA,OAAP;AACD,CA3CD,C,cAAMT,Q;AA4CSA,Q,CAAf,wB,iLApDMP,U,8IAQAO,Q","names":["React","useCallback","useEffect","css","t","styled","Tooltip","Icons","StyledLink","a","theme","typography","sizes","xl","gridUnit","FaveStar","itemId","isStarred","showTooltip","saveFaveStar","fetchFaveStar","onClick","e","preventDefault","content"],"sourceRoot":"","sources":["/Users/bogdankyryliuk/code/opensource/superset/superset-frontend/src/components/FaveStar/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useCallback, useEffect } from 'react';\nimport { css, t, styled } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport Icons from 'src/components/Icons';\n\nexport interface FaveStarProps {\n  itemId: number;\n  isStarred?: boolean;\n  showTooltip?: boolean;\n  saveFaveStar(id: number, isStarred: boolean): any;\n  fetchFaveStar?: (id: number) => void;\n}\n\nconst StyledLink = styled.a`\n  ${({ theme }) => css`\n    font-size: ${theme.typography.sizes.xl}px;\n    display: flex;\n    padding: 0 0 0 ${theme.gridUnit * 2}px;\n  `};\n`;\n\nconst FaveStar = ({\n  itemId,\n  isStarred,\n  showTooltip,\n  saveFaveStar,\n  fetchFaveStar,\n}: FaveStarProps) => {\n  useEffect(() => {\n    fetchFaveStar?.(itemId);\n  }, [fetchFaveStar, itemId]);\n\n  const onClick = useCallback(\n    (e: React.MouseEvent) => {\n      e.preventDefault();\n      saveFaveStar(itemId, !!isStarred);\n    },\n    [isStarred, itemId, saveFaveStar],\n  );\n\n  const content = (\n    <StyledLink\n      href=\"#\"\n      onClick={onClick}\n      className=\"fave-unfave-icon\"\n      data-test=\"fave-unfave-icon\"\n      role=\"button\"\n    >\n      {isStarred ? <Icons.FavoriteSelected /> : <Icons.FavoriteUnselected />}\n    </StyledLink>\n  );\n\n  if (showTooltip) {\n    return (\n      <Tooltip\n        id=\"fave-unfave-tooltip\"\n        title={t('Click to favorite/unfavorite')}\n      >\n        {content}\n      </Tooltip>\n    );\n  }\n\n  return content;\n};\nexport default FaveStar;\n"]},"metadata":{},"sourceType":"module"}