"use strict";

exports.__esModule = true;
exports.default = combineContinuousDomains;

var _Base = require("../typeGuards/Base");

/**
 * Combine two continuous domain and ensure that the output
 * does not go beyond fixedDomain
 * @param bounds
 * @param dataDomain
 */
function combineContinuousDomains(bounds, dataDomain) {
  if (bounds.length > 0 && (0, _Base.isEveryElementDefined)(bounds)) {
    return bounds;
  }

  if (bounds.length === 2 && dataDomain.length === 2 && bounds.filter(_Base.isDefined).length > 0) {
    const [boundMin, boundMax] = bounds;
    const [dataMin, dataMax] = dataDomain;
    let min = dataMin;

    if ((0, _Base.isDefined)(boundMin)) {
      min = boundMin.valueOf() > dataMin.valueOf() ? boundMin : dataMin;
    }

    let max = dataMax;

    if ((0, _Base.isDefined)(boundMax)) {
      max = boundMax.valueOf() < dataMax.valueOf() ? boundMax : dataMax;
    }

    return [min, max];
  }

  return dataDomain;
}