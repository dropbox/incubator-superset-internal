!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=121)}([function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o}));var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t,r){"use strict";r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return s})),r.d(t,"l",(function(){return u})),r.d(t,"m",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"s",(function(){return h})),r.d(t,"r",(function(){return d})),r.d(t,"o",(function(){return p})),r.d(t,"i",(function(){return y})),r.d(t,"p",(function(){return v})),r.d(t,"h",(function(){return b})),r.d(t,"q",(function(){return m})),r.d(t,"b",(function(){return g})),r.d(t,"a",(function(){return w})),r.d(t,"c",(function(){return O})),r.d(t,"d",(function(){return _})),r.d(t,"n",(function(){return T})),r.d(t,"j",(function(){return P})),r.d(t,"k",(function(){return j})),r.d(t,"t",(function(){return S}));var n=r(9);const i=1/Math.PI*180,o=1/180*Math.PI,a={};function s(e={}){for(const t in e)Object(n.a)(t in a),a[t]=e[t];return a}function u(e,{precision:t=a.precision||4}={}){return e=function(e){return Math.round(e/a.EPSILON)*a.EPSILON}(e),"".concat(parseFloat(e.toPrecision(t)))}function c(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function l(e){return e.clone?e.clone():new Array(...e)}function f(e,t,r){if(c(e)){r=r||((n=e).clone?n.clone():new Array(n.length));for(let n=0;n<r.length&&n<e.length;++n)r[n]=t(e[n],n,r);return r}var n;return t(e)}function h(e){return p(e)}function d(e){return y(e)}function p(e,t){return f(e,e=>e*o,t)}function y(e,t){return f(e,e=>e*i,t)}function v(e){return f(e,e=>Math.sin(e))}function b(e){return f(e,e=>Math.cos(e))}function m(e){return f(e,e=>Math.tan(e))}function g(e){return f(e,e=>Math.asin(e))}function w(e){return f(e,e=>Math.acos(e))}function O(e){return f(e,e=>Math.atan(e))}function _(e,t,r){return f(e,e=>Math.max(t,Math.min(r,e)))}function T(e,t,r){return c(e)?e.map((e,n)=>T(e,t[n],r)):r*t+(1-r)*e}function P(e,t,r){const n=a.EPSILON;r&&(a.EPSILON=r);try{if(e===t)return!0;if(c(e)&&c(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!P(e[r],t[r]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{a.EPSILON=n}}function j(e,t){if(e===t)return!0;if(e&&"object"==typeof e&&t&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(e.exactEquals)return e.exactEquals(t)}if(c(e)&&c(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!j(e[r],t[r]))return!1;return!0}return!1}function S(e,t){const r=a.EPSILON;let n;a.EPSILON=e;try{n=t()}finally{a.EPSILON=r}return n}a.EPSILON=1e-12,a.debug=!1,a.precision=4,a.printTypes=!1,a.printDegrees=!1,a.printRowMajor=!0},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s}));var n=r(1);function i(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function o(e,t,r=""){if(n.f.debug&&!function(e,t){if(e.length!==t)return!1;for(let t=0;t<e.length;++t)if(!Number.isFinite(e[t]))return!1;return!0}(e,t))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return e}const a={};function s(e,t){a[e]||(a[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return o.assert}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return a.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return a.isWorker}}),Object.defineProperty(t,"nodeVersion",{enumerable:!0,get:function(){return a.nodeVersion}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return a.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return a.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return a.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return a.document}}),Object.defineProperty(t,"createLoaderWorker",{enumerable:!0,get:function(){return s.createLoaderWorker}}),Object.defineProperty(t,"parseWithWorker",{enumerable:!0,get:function(){return u.parseWithWorker}}),Object.defineProperty(t,"canParseWithWorker",{enumerable:!0,get:function(){return u.canParseWithWorker}}),Object.defineProperty(t,"parseJSON",{enumerable:!0,get:function(){return c.parseJSON}}),Object.defineProperty(t,"toArrayBuffer",{enumerable:!0,get:function(){return l.toArrayBuffer}}),Object.defineProperty(t,"sliceArrayBuffer",{enumerable:!0,get:function(){return l.sliceArrayBuffer}}),Object.defineProperty(t,"concatenateArrayBuffers",{enumerable:!0,get:function(){return l.concatenateArrayBuffers}}),Object.defineProperty(t,"concatenateTypedArrays",{enumerable:!0,get:function(){return l.concatenateTypedArrays}}),Object.defineProperty(t,"compareArrayBuffers",{enumerable:!0,get:function(){return l.compareArrayBuffers}}),Object.defineProperty(t,"padToNBytes",{enumerable:!0,get:function(){return f.padToNBytes}}),Object.defineProperty(t,"copyToArray",{enumerable:!0,get:function(){return f.copyToArray}}),Object.defineProperty(t,"copyArrayBuffer",{enumerable:!0,get:function(){return f.copyArrayBuffer}}),Object.defineProperty(t,"copyPaddedArrayBufferToDataView",{enumerable:!0,get:function(){return h.copyPaddedArrayBufferToDataView}}),Object.defineProperty(t,"copyPaddedStringToDataView",{enumerable:!0,get:function(){return h.copyPaddedStringToDataView}}),Object.defineProperty(t,"padStringToByteAlignment",{enumerable:!0,get:function(){return d.padStringToByteAlignment}}),Object.defineProperty(t,"copyStringToDataView",{enumerable:!0,get:function(){return d.copyStringToDataView}}),Object.defineProperty(t,"copyBinaryToDataView",{enumerable:!0,get:function(){return d.copyBinaryToDataView}}),Object.defineProperty(t,"getFirstCharacters",{enumerable:!0,get:function(){return p.getFirstCharacters}}),Object.defineProperty(t,"getMagicString",{enumerable:!0,get:function(){return p.getMagicString}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return y.makeTextEncoderIterator}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return y.makeTextDecoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return y.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return y.makeNumberedLineIterator}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return v.forEach}}),Object.defineProperty(t,"concatenateArrayBuffersAsync",{enumerable:!0,get:function(){return v.concatenateArrayBuffersAsync}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return g.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return g.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return g.resolvePath}}),Object.defineProperty(t,"_addAliases",{enumerable:!0,get:function(){return g.addAliases}}),Object.defineProperty(t,"isBuffer",{enumerable:!0,get:function(){return O.isBuffer}}),Object.defineProperty(t,"toBuffer",{enumerable:!0,get:function(){return O.toBuffer}}),Object.defineProperty(t,"bufferToArrayBuffer",{enumerable:!0,get:function(){return O.bufferToArrayBuffer}}),Object.defineProperty(t,"JSONLoader",{enumerable:!0,get:function(){return _.JSONLoader}}),t.fs=t.path=void 0;var i,o=r(70),a=r(123),s=r(124),u=r(133),c=r(134),l=r(78),f=r(80),h=r(135),d=r(136),p=r(77),y=r(137),v=r(138),b=(i=r(139))&&i.__esModule?i:{default:i},m=P(r(140));t.path=m;var g=r(141),w=P(r(142));t.fs=w;var O=r(143),_=r(144);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"h",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"m",(function(){return l})),r.d(t,"l",(function(){return f})),r.d(t,"n",(function(){return h})),r.d(t,"i",(function(){return d})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return y})),r.d(t,"a",(function(){return v})),r.d(t,"f",(function(){return m}));var n=r(0);function i(){var e=new n.a(3);return n.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function a(e,t,r){var i=new n.a(3);return i[0]=e,i[1]=t,i[2]=r,i}function s(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function u(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function c(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2];return e[0]=i*u-o*s,e[1]=o*a-n*u,e[2]=n*s-i*a,e}function l(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function f(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function h(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=t[0],u=t[1],c=t[2],l=i*c-o*u,f=o*s-n*c,h=n*u-i*s,d=i*h-o*f,p=o*l-n*h,y=n*f-i*l,v=2*a;return l*=v,f*=v,h*=v,d*=2,p*=2,y*=2,e[0]=s+l+d,e[1]=u+f+p,e[2]=c+h+y,e}function d(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function p(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function y(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function v(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],s=t[2],c=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(o*o+a*a+s*s),l=c&&u(e,t)/c;return Math.acos(Math.min(Math.max(l,-1),1))}var b,m=o;b=i()},function(e,t,r){"use strict";r.r(t),function(e){var n=r(1),i=r(82);r.d(t,"Vector2",(function(){return i.a}));var o=r(23);r.d(t,"Vector3",(function(){return o.a}));var a=r(83);r.d(t,"Vector4",(function(){return a.a}));var s=r(84);r.d(t,"Matrix3",(function(){return s.a}));var u=r(30);r.d(t,"Matrix4",(function(){return u.a}));var c=r(38);r.d(t,"Quaternion",(function(){return c.a})),r.d(t,"config",(function(){return n.f})),r.d(t,"configure",(function(){return n.g})),r.d(t,"formatValue",(function(){return n.l})),r.d(t,"isArray",(function(){return n.m})),r.d(t,"clone",(function(){return n.e})),r.d(t,"equals",(function(){return n.j})),r.d(t,"exactEquals",(function(){return n.k})),r.d(t,"toRadians",(function(){return n.s})),r.d(t,"toDegrees",(function(){return n.r})),r.d(t,"radians",(function(){return n.o})),r.d(t,"degrees",(function(){return n.i})),r.d(t,"sin",(function(){return n.p})),r.d(t,"cos",(function(){return n.h})),r.d(t,"tan",(function(){return n.q})),r.d(t,"asin",(function(){return n.b})),r.d(t,"acos",(function(){return n.a})),r.d(t,"atan",(function(){return n.c})),r.d(t,"clamp",(function(){return n.d})),r.d(t,"lerp",(function(){return n.n})),r.d(t,"withEpsilon",(function(){return n.t}));var l=r(2);r.d(t,"checkNumber",(function(){return l.a}));var f=r(85);r.d(t,"_MathUtils",(function(){return f.a}));var h=r(41);r.d(t,"SphericalCoordinates",(function(){return h.a}));var d=r(42);r.d(t,"Pose",(function(){return d.a}));var p=r(16);r.d(t,"Euler",(function(){return p.a}));var y=r(9);r.d(t,"assert",(function(){return y.a})),r.d(t,"_SphericalCoordinates",(function(){return h.a})),r.d(t,"_Pose",(function(){return d.a})),r.d(t,"_Euler",(function(){return p.a}));const v={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e};(v.global||v.self||v.window).mathgl={config:n.f}}.call(this,r(24))},function(e,t,r){"use strict";r.d(t,"p",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"g",(function(){return s})),r.d(t,"o",(function(){return u})),r.d(t,"n",(function(){return c})),r.d(t,"j",(function(){return l})),r.d(t,"k",(function(){return f})),r.d(t,"l",(function(){return h})),r.d(t,"m",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return v})),r.d(t,"i",(function(){return b})),r.d(t,"h",(function(){return m})),r.d(t,"f",(function(){return g}));var n=r(0);function i(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function o(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],h=t[10],d=t[11],p=t[12],y=t[13],v=t[14],b=t[15],m=r*s-n*a,g=r*u-i*a,w=r*c-o*a,O=n*u-i*s,_=n*c-o*s,T=i*c-o*u,P=l*y-f*p,j=l*v-h*p,S=l*b-d*p,E=f*v-h*y,x=f*b-d*y,k=h*b-d*v,M=m*k-g*x+w*E+O*S-_*j+T*P;return M?(M=1/M,e[0]=(s*k-u*x+c*E)*M,e[1]=(i*x-n*k-o*E)*M,e[2]=(y*T-v*_+b*O)*M,e[3]=(h*_-f*T-d*O)*M,e[4]=(u*S-a*k-c*j)*M,e[5]=(r*k-i*S+o*j)*M,e[6]=(v*w-p*T-b*g)*M,e[7]=(l*T-h*w+d*g)*M,e[8]=(a*x-s*S+c*P)*M,e[9]=(n*S-r*x-o*P)*M,e[10]=(p*_-y*w+b*m)*M,e[11]=(f*w-l*_-d*m)*M,e[12]=(s*j-a*E-u*P)*M,e[13]=(r*E-n*j+i*P)*M,e[14]=(y*g-p*O-v*m)*M,e[15]=(l*O-f*g+h*m)*M,e):null}function a(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],h=e[11],d=e[12],p=e[13],y=e[14],v=e[15];return(t*a-r*o)*(f*v-h*y)-(t*s-n*o)*(l*v-h*p)+(t*u-i*o)*(l*y-f*p)+(r*s-n*a)*(c*v-h*d)-(r*u-i*a)*(c*y-f*d)+(n*u-i*s)*(c*p-l*d)}function s(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],y=t[12],v=t[13],b=t[14],m=t[15],g=r[0],w=r[1],O=r[2],_=r[3];return e[0]=g*n+w*s+O*f+_*y,e[1]=g*i+w*u+O*h+_*v,e[2]=g*o+w*c+O*d+_*b,e[3]=g*a+w*l+O*p+_*m,g=r[4],w=r[5],O=r[6],_=r[7],e[4]=g*n+w*s+O*f+_*y,e[5]=g*i+w*u+O*h+_*v,e[6]=g*o+w*c+O*d+_*b,e[7]=g*a+w*l+O*p+_*m,g=r[8],w=r[9],O=r[10],_=r[11],e[8]=g*n+w*s+O*f+_*y,e[9]=g*i+w*u+O*h+_*v,e[10]=g*o+w*c+O*d+_*b,e[11]=g*a+w*l+O*p+_*m,g=r[12],w=r[13],O=r[14],_=r[15],e[12]=g*n+w*s+O*f+_*y,e[13]=g*i+w*u+O*h+_*v,e[14]=g*o+w*c+O*d+_*b,e[15]=g*a+w*l+O*p+_*m,e}function u(e,t,r){var n,i,o,a,s,u,c,l,f,h,d,p,y=r[0],v=r[1],b=r[2];return t===e?(e[12]=t[0]*y+t[4]*v+t[8]*b+t[12],e[13]=t[1]*y+t[5]*v+t[9]*b+t[13],e[14]=t[2]*y+t[6]*v+t[10]*b+t[14],e[15]=t[3]*y+t[7]*v+t[11]*b+t[15]):(n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=n*y+s*v+f*b+t[12],e[13]=i*y+u*v+h*b+t[13],e[14]=o*y+c*v+d*b+t[14],e[15]=a*y+l*v+p*b+t[15]),e}function c(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(e,t,r,i){var o,a,s,u,c,l,f,h,d,p,y,v,b,m,g,w,O,_,T,P,j,S,E,x,k=i[0],M=i[1],I=i[2],A=Math.hypot(k,M,I);return A<n.b?null:(k*=A=1/A,M*=A,I*=A,o=Math.sin(r),s=1-(a=Math.cos(r)),u=t[0],c=t[1],l=t[2],f=t[3],h=t[4],d=t[5],p=t[6],y=t[7],v=t[8],b=t[9],m=t[10],g=t[11],w=k*k*s+a,O=M*k*s+I*o,_=I*k*s-M*o,T=k*M*s-I*o,P=M*M*s+a,j=I*M*s+k*o,S=k*I*s+M*o,E=M*I*s-k*o,x=I*I*s+a,e[0]=u*w+h*O+v*_,e[1]=c*w+d*O+b*_,e[2]=l*w+p*O+m*_,e[3]=f*w+y*O+g*_,e[4]=u*T+h*P+v*j,e[5]=c*T+d*P+b*j,e[6]=l*T+p*P+m*j,e[7]=f*T+y*P+g*j,e[8]=u*S+h*E+v*x,e[9]=c*S+d*E+b*x,e[10]=l*S+p*E+m*x,e[11]=f*S+y*E+g*x,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function f(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=a*i+l*n,e[6]=s*i+f*n,e[7]=u*i+h*n,e[8]=c*i-o*n,e[9]=l*i-a*n,e[10]=f*i-s*n,e[11]=h*i-u*n,e}function h(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*n,e[1]=a*i-l*n,e[2]=s*i-f*n,e[3]=u*i-h*n,e[8]=o*n+c*i,e[9]=a*n+l*i,e[10]=s*n+f*i,e[11]=u*n+h*i,e}function d(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=a*i+l*n,e[2]=s*i+f*n,e[3]=u*i+h*n,e[4]=c*i-o*n,e[5]=l*i-a*n,e[6]=f*i-s*n,e[7]=h*i-u*n,e}function p(e,t){var r=t[0],n=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,c,l),e}function y(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,c=r*a,l=n*a,f=n*s,h=i*a,d=i*s,p=i*u,y=o*a,v=o*s,b=o*u;return e[0]=1-f-p,e[1]=l+b,e[2]=h-v,e[3]=0,e[4]=l-b,e[5]=1-c-p,e[6]=d+y,e[7]=0,e[8]=h+v,e[9]=d-y,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function v(e,t,r,n,i,o,a){var s=1/(r-t),u=1/(i-n),c=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e}function b(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function m(e,t,r,n,i,o,a){var s=1/(t-r),u=1/(n-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*c,e[15]=1,e}function g(e,t,r,i){var o,a,s,u,c,l,f,h,d,p,y=t[0],v=t[1],b=t[2],m=i[0],g=i[1],w=i[2],O=r[0],_=r[1],T=r[2];return Math.abs(y-O)<n.b&&Math.abs(v-_)<n.b&&Math.abs(b-T)<n.b?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(f=y-O,h=v-_,d=b-T,o=g*(d*=p=1/Math.hypot(f,h,d))-w*(h*=p),a=w*(f*=p)-m*d,s=m*h-g*f,(p=Math.hypot(o,a,s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),u=h*s-d*a,c=d*o-f*s,l=f*a-h*o,(p=Math.hypot(u,c,l))?(u*=p=1/p,c*=p,l*=p):(u=0,c=0,l=0),e[0]=o,e[1]=u,e[2]=f,e[3]=0,e[4]=a,e[5]=c,e[6]=h,e[7]=0,e[8]=s,e[9]=l,e[10]=d,e[11]=0,e[12]=-(o*y+a*v+s*b),e[13]=-(u*y+c*v+l*b),e[14]=-(f*y+h*v+d*b),e[15]=1,e)}},function(e,t,r){"use strict";(function(e,n){r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return l}));const i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document,process:"object"==typeof n&&n},o=i.self||i.window||i.global,a=i.window||i.self||i.global,s=i.global||i.self||i.window,u=i.document||{},c=i.process||{},l=console}).call(this,r(24),r(18))},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"l",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"k",(function(){return c})),r.d(t,"h",(function(){return l})),r.d(t,"m",(function(){return f})),r.d(t,"j",(function(){return h})),r.d(t,"d",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"n",(function(){return y})),r.d(t,"o",(function(){return v})),r.d(t,"f",(function(){return b})),r.d(t,"e",(function(){return m}));var n=r(0);function i(e){var t=new n.a(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,r,i){var o=new n.a(4);return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function l(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.hypot(t,r,n,i)}function f(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function h(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a,e}function d(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function p(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=s+n*(r[3]-s),e}function y(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function v(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2],c=r[3],l=c*n+s*o-u*i,f=c*i+u*n-a*o,h=c*o+a*i-s*n,d=-a*n-s*i-u*o;return e[0]=l*c+d*-a+f*-u-h*-s,e[1]=f*c+d*-s+h*-a-l*-u,e[2]=h*c+d*-u+l*-s-f*-a,e[3]=t[3],e}function b(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function m(e,t){var r=e[0],i=e[1],o=e[2],a=e[3],s=t[0],u=t[1],c=t[2],l=t[3];return Math.abs(r-s)<=n.b*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=n.b*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=n.b*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-l)<=n.b*Math.max(1,Math.abs(a),Math.abs(l))}var g,w;g=new n.a(4),n.a!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0),w=g},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r){const n=t[0],i=t[1],o=r[3]*n+r[7]*i||1;return e[0]=(r[0]*n+r[4]*i)/o,e[1]=(r[1]*n+r[5]*i)/o,e}function i(e,t,r){const n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o||1;return e[0]=(r[0]*n+r[4]*i+r[8]*o)/a,e[1]=(r[1]*n+r[5]*i+r[9]*o)/a,e[2]=(r[2]*n+r[6]*i+r[10]*o)/a,e}function o(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e}function a(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e[3]=t[3],e}function s(e,t,r){const n=t[0],i=t[1],o=t[2];return e[0]=r[0]*n+r[3]*i+r[6]*o,e[1]=r[1]*n+r[4]*i+r[7]*o,e[2]=r[2]*n+r[5]*i+r[8]*o,e[3]=t[3],e}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"i",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"e",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return f})),r.d(t,"c",(function(){return h}));var n=r(0);function i(){var e=new n.a(9);return n.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function o(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function a(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*a-s*c,h=-l*o+s*u,d=c*o-a*u,p=r*f+n*h+i*d;return p?(p=1/p,e[0]=f*p,e[1]=(-l*n+i*c)*p,e[2]=(s*n-i*a)*p,e[3]=h*p,e[4]=(l*r-i*u)*p,e[5]=(-s*r+i*o)*p,e[6]=d*p,e[7]=(-c*r+n*u)*p,e[8]=(a*r-n*o)*p,e):null}function s(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*o-a*u)+r*(-c*i+a*s)+n*(u*i-o*s)}function u(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=r[0],d=r[1],p=r[2],y=r[3],v=r[4],b=r[5],m=r[6],g=r[7],w=r[8];return e[0]=h*n+d*a+p*c,e[1]=h*i+d*s+p*l,e[2]=h*o+d*u+p*f,e[3]=y*n+v*a+b*c,e[4]=y*i+v*s+b*l,e[5]=y*o+v*u+b*f,e[6]=m*n+g*a+w*c,e[7]=m*i+g*s+w*l,e[8]=m*o+g*u+w*f,e}function c(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=h*n+d*a+c,e[7]=h*i+d*s+l,e[8]=h*o+d*u+f,e}function l(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=Math.sin(r),d=Math.cos(r);return e[0]=d*n+h*a,e[1]=d*i+h*s,e[2]=d*o+h*u,e[3]=d*a-h*n,e[4]=d*s-h*i,e[5]=d*u-h*o,e[6]=c,e[7]=l,e[8]=f,e}function f(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function h(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,c=r*a,l=n*a,f=n*s,h=i*a,d=i*s,p=i*u,y=o*a,v=o*s,b=o*u;return e[0]=1-f-p,e[3]=l-b,e[6]=h+v,e[1]=l+b,e[4]=1-c-p,e[7]=d-y,e[2]=h-v,e[5]=d+y,e[8]=1-c-f,e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s}));var n=r(0);function i(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function o(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function a(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function s(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}var u,c;u=new n.a(2),n.a!=Float32Array&&(u[0]=0,u[1]=0),c=u},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isWritableStream=t.isReadableStream=t.isReadableNodeStream=t.isWritableNodeStream=t.isBuffer=t.isReadableDOMStream=t.isWritableDOMStream=t.isBlob=t.isFile=t.isResponse=t.isIterator=t.isAsyncIterable=t.isIterable=t.isPromise=t.isPureObject=t.isObject=void 0;var i=function(e){return"boolean"==typeof e},o=function(e){return"function"==typeof e},a=function(e){return null!==e&&"object"===n(e)};t.isObject=a;t.isPureObject=function(e){return a(e)&&e.constructor==={}.constructor};t.isPromise=function(e){return a(e)&&o(e.then)};t.isIterable=function(e){return e&&"function"==typeof e[Symbol.iterator]};t.isAsyncIterable=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]};t.isIterator=function(e){return e&&o(e.next)};t.isResponse=function(e){return"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json};t.isFile=function(e){return"undefined"!=typeof File&&e instanceof File};t.isBlob=function(e){return"undefined"!=typeof Blob&&e instanceof Blob};var s=function(e){return a(e)&&o(e.abort)&&o(e.getWriter)};t.isWritableDOMStream=s;var u=function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||a(e)&&o(e.tee)&&o(e.cancel)&&o(e.getReader)};t.isReadableDOMStream=u;t.isBuffer=function(e){return e&&"object"===n(e)&&e.isBuffer};var c=function(e){return a(e)&&o(e.end)&&o(e.write)&&i(e.writable)};t.isWritableNodeStream=c;var l=function(e){return a(e)&&o(e.read)&&o(e.pipe)&&i(e.readable)};t.isReadableNodeStream=l;t.isReadableStream=function(e){return u(e)||l(e)};t.isWritableStream=function(e){return s(e)||c(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalLoaderState=d,t.setGlobalOptions=function(e){var t=d(),r=p();t.globalOptions=b(r,e)},t.normalizeOptions=function(e,t,r,n){return r=r||[],r=Array.isArray(r)?r:[r],function(e,t){y(e,null,s.DEFAULT_LOADER_OPTIONS,s.REMOVED_LOADER_OPTIONS,t);var r,n=u(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=e&&e[i.id]||{},a=i.options&&i.options[i.id]||{},c=i.deprecatedOptions&&i.deprecatedOptions[i.id]||{};y(o,i.id,a,c,t)}}catch(e){n.e(e)}finally{n.f()}}(e,r),b(t,e,n)},t.getFetchFunction=function(e,t){var r=p(),n=e||r;if("function"==typeof n.fetch)return n.fetch;if((0,i.isObject)(n.fetch))return function(e){return(0,o.fetchFile)(e,n)};if(null!=t&&t.fetch)return null==t?void 0:t.fetch;return o.fetchFile};var n=r(3),i=r(13),o=r(56),a=r(90),s=r(154);function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){n.global.loaders=n.global.loaders||{};var e=n.global.loaders;return e._state=e._state||{},e._state}var p=function(){var e=d();return e.globalOptions=e.globalOptions||f({},s.DEFAULT_LOADER_OPTIONS),e.globalOptions};function y(e,t,r,n,o){var s=t||"Top level",u=t?"".concat(t,"."):"";for(var c in e){var l=!t&&(0,i.isObject)(e[c]);if(!(c in r)&&!("baseUri"===c&&!t)&&!("workerUrl"===c&&t))if(c in n)a.probeLog.warn("".concat(s," loader option '").concat(u).concat(c,"' no longer supported, use '").concat(n[c],"'"))();else if(!l){var f=v(c,o);a.probeLog.warn("".concat(s," loader option '").concat(u).concat(c,"' not recognized. ").concat(f))()}}}function v(e,t){var r,n=e.toLowerCase(),i="",o=u(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;for(var s in a.options){if(e===s)return"Did you mean '".concat(a.id,".").concat(s,"'?");var c=s.toLowerCase();(n.startsWith(c)||c.startsWith(n))&&(i=i||"Did you mean '".concat(a.id,".").concat(s,"'?"))}}}catch(e){o.e(e)}finally{o.f()}return i}function b(e,t,r){var n=f({},e.options||{});return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(n,r),null===n.log&&(n.log=new a.NullLog),m(n,p()),m(n,t),n}function m(e,t){for(var r in t)if(r in t){var n=t[r];(0,i.isPureObject)(n)&&(0,i.isPureObject)(e[r])?e[r]=f(f({},e[r]),t[r]):e[r]=t[r]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GL",{enumerable:!0,get:function(){return n.GL}}),Object.defineProperty(t,"GL_TYPE",{enumerable:!0,get:function(){return n.GL_TYPE}}),Object.defineProperty(t,"GLType",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"isGeometry",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"makeAttributeIterator",{enumerable:!0,get:function(){return a.makeAttributeIterator}}),Object.defineProperty(t,"makePrimitiveIterator",{enumerable:!0,get:function(){return s.makePrimitiveIterator}}),Object.defineProperty(t,"computeVertexNormals",{enumerable:!0,get:function(){return u.computeVertexNormals}}),Object.defineProperty(t,"encodeRGB565",{enumerable:!0,get:function(){return c.encodeRGB565}}),Object.defineProperty(t,"decodeRGB565",{enumerable:!0,get:function(){return c.decodeRGB565}}),Object.defineProperty(t,"concatTypedArrays",{enumerable:!0,get:function(){return l.concatTypedArrays}}),Object.defineProperty(t,"octEncodeInRange",{enumerable:!0,get:function(){return f.octEncodeInRange}}),Object.defineProperty(t,"octEncode",{enumerable:!0,get:function(){return f.octEncode}}),Object.defineProperty(t,"octEncodeToVector4",{enumerable:!0,get:function(){return f.octEncodeToVector4}}),Object.defineProperty(t,"octDecodeInRange",{enumerable:!0,get:function(){return f.octDecodeInRange}}),Object.defineProperty(t,"octDecode",{enumerable:!0,get:function(){return f.octDecode}}),Object.defineProperty(t,"octDecodeFromVector4",{enumerable:!0,get:function(){return f.octDecodeFromVector4}}),Object.defineProperty(t,"octPackFloat",{enumerable:!0,get:function(){return f.octPackFloat}}),Object.defineProperty(t,"octEncodeFloat",{enumerable:!0,get:function(){return f.octEncodeFloat}}),Object.defineProperty(t,"octDecodeFloat",{enumerable:!0,get:function(){return f.octDecodeFloat}}),Object.defineProperty(t,"octPack",{enumerable:!0,get:function(){return f.octPack}}),Object.defineProperty(t,"octUnpack",{enumerable:!0,get:function(){return f.octUnpack}}),Object.defineProperty(t,"compressTextureCoordinates",{enumerable:!0,get:function(){return f.compressTextureCoordinates}}),Object.defineProperty(t,"decompressTextureCoordinates",{enumerable:!0,get:function(){return f.decompressTextureCoordinates}}),Object.defineProperty(t,"zigZagDeltaDecode",{enumerable:!0,get:function(){return f.zigZagDeltaDecode}});var n=r(34),i=h(r(194)),o=h(r(107)),a=r(195),s=r(108),u=r(196),c=r(198),l=r(199),f=r(200);function h(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(17),i=r(1),o=r(2),a=r(38);class s extends n.a{static get ZYX(){return 0}static get YXZ(){return 1}static get XZY(){return 2}static get ZXY(){return 3}static get YZX(){return 4}static get XYZ(){return 5}static get RollPitchYaw(){return 0}static get DefaultOrder(){return s.ZYX}static get RotationOrders(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}static rotationOrder(e){return s.RotationOrders[e]}get ELEMENTS(){return 4}constructor(e=0,t=0,r=0,n=s.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(e,t,r,n)}fromQuaternion(e){const[t,r,n,i]=e,o=r*r,a=-2*(o+n*n)+1,u=2*(t*r+i*n);let c=-2*(t*n-i*r);const l=2*(r*n+i*t),f=-2*(t*t+o)+1;c=c>1?1:c,c=c<-1?-1:c;const h=Math.atan2(l,f),d=Math.asin(c),p=Math.atan2(u,a);return new s(h,d,p,s.RollPitchYaw)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=Number.isFinite(e[3])||this.order,this.check()}set(e=0,t=0,r=0,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=Number.isFinite(n)?n:this[3],this.check()}validate(){return(e=this[3])>=0&&e<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var e}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}toArray4(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}toVector3(e=[-0,-0,-0]){return e[0]=this[0],e[1]=this[1],e[2]=this[2],e}get x(){return this[0]}set x(e){this[0]=Object(o.a)(e)}get y(){return this[1]}set y(e){this[1]=Object(o.a)(e)}get z(){return this[2]}set z(e){this[2]=Object(o.a)(e)}get alpha(){return this[0]}set alpha(e){this[0]=Object(o.a)(e)}get beta(){return this[1]}set beta(e){this[1]=Object(o.a)(e)}get gamma(){return this[2]}set gamma(e){this[2]=Object(o.a)(e)}get phi(){return this[0]}set phi(e){this[0]=Object(o.a)(e)}get theta(){return this[1]}set theta(e){this[1]=Object(o.a)(e)}get psi(){return this[2]}set psi(e){this[2]=Object(o.a)(e)}get roll(){return this[0]}set roll(e){this[0]=Object(o.a)(e)}get pitch(){return this[1]}set pitch(e){this[1]=Object(o.a)(e)}get yaw(){return this[2]}set yaw(e){this[2]=Object(o.a)(e)}get order(){return this[3]}set order(e){this[3]=function(e){if(e<0&&e>=6)throw new Error("Unknown Euler angle order");return e}(e)}fromVector3(e,t){return this.set(e[0],e[1],e[2],Number.isFinite(t)?t:this[3])}fromArray(e,t=0){return this[0]=e[0+t],this[1]=e[1+t],this[2]=e[2+t],void 0!==e[3]&&(this[3]=e[3]),this.check()}fromRollPitchYaw(e,t,r){return this.set(e,t,r,s.ZYX)}fromRotationMatrix(e,t=s.DefaultOrder){return this._fromRotationMatrix(e,t),this.check()}getRotationMatrix(e){return this._getRotationMatrix(e)}getQuaternion(){const e=new a.a;switch(this[4]){case s.XYZ:return e.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case s.YXZ:return e.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case s.ZXY:return e.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case s.ZYX:return e.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case s.YZX:return e.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case s.XZY:return e.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error("Unknown Euler angle order")}}_fromRotationMatrix(e,t=s.DefaultOrder){const r=e.elements,n=r[0],o=r[4],a=r[8],u=r[1],c=r[5],l=r[9],f=r[2],h=r[6],d=r[10];switch(t=t||this[3]){case s.XYZ:this[1]=Math.asin(Object(i.d)(a,-1,1)),Math.abs(a)<.99999?(this[0]=Math.atan2(-l,d),this[2]=Math.atan2(-o,n)):(this[0]=Math.atan2(h,c),this[2]=0);break;case s.YXZ:this[0]=Math.asin(-Object(i.d)(l,-1,1)),Math.abs(l)<.99999?(this[1]=Math.atan2(a,d),this[2]=Math.atan2(u,c)):(this[1]=Math.atan2(-f,n),this[2]=0);break;case s.ZXY:this[0]=Math.asin(Object(i.d)(h,-1,1)),Math.abs(h)<.99999?(this[1]=Math.atan2(-f,d),this[2]=Math.atan2(-o,c)):(this[1]=0,this[2]=Math.atan2(u,n));break;case s.ZYX:this[1]=Math.asin(-Object(i.d)(f,-1,1)),Math.abs(f)<.99999?(this[0]=Math.atan2(h,d),this[2]=Math.atan2(u,n)):(this[0]=0,this[2]=Math.atan2(-o,c));break;case s.YZX:this[2]=Math.asin(Object(i.d)(u,-1,1)),Math.abs(u)<.99999?(this[0]=Math.atan2(-l,c),this[1]=Math.atan2(-f,n)):(this[0]=0,this[1]=Math.atan2(a,d));break;case s.XZY:this[2]=Math.asin(-Object(i.d)(o,-1,1)),Math.abs(o)<.99999?(this[0]=Math.atan2(h,c),this[1]=Math.atan2(a,n)):(this[0]=Math.atan2(-l,d),this[1]=0);break;default:throw new Error("Unknown Euler angle order")}return this[3]=t,this}_getRotationMatrix(e){const t=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],r=this.x,n=this.y,i=this.z,o=Math.cos(r),a=Math.cos(n),u=Math.cos(i),c=Math.sin(r),l=Math.sin(n),f=Math.sin(i);switch(this[3]){case s.XYZ:{const e=o*u,r=o*f,n=c*u,i=c*f;t[0]=a*u,t[4]=-a*f,t[8]=l,t[1]=r+n*l,t[5]=e-i*l,t[9]=-c*a,t[2]=i-e*l,t[6]=n+r*l,t[10]=o*a;break}case s.YXZ:{const e=a*u,r=a*f,n=l*u,i=l*f;t[0]=e+i*c,t[4]=n*c-r,t[8]=o*l,t[1]=o*f,t[5]=o*u,t[9]=-c,t[2]=r*c-n,t[6]=i+e*c,t[10]=o*a;break}case s.ZXY:{const e=a*u,r=a*f,n=l*u,i=l*f;t[0]=e-i*c,t[4]=-o*f,t[8]=n+r*c,t[1]=r+n*c,t[5]=o*u,t[9]=i-e*c,t[2]=-o*l,t[6]=c,t[10]=o*a;break}case s.ZYX:{const e=o*u,r=o*f,n=c*u,i=c*f;t[0]=a*u,t[4]=n*l-r,t[8]=e*l+i,t[1]=a*f,t[5]=i*l+e,t[9]=r*l-n,t[2]=-l,t[6]=c*a,t[10]=o*a;break}case s.YZX:{const e=o*a,r=o*l,n=c*a,i=c*l;t[0]=a*u,t[4]=i-e*f,t[8]=n*f+r,t[1]=f,t[5]=o*u,t[9]=-c*u,t[2]=-l*u,t[6]=r*f+n,t[10]=e-i*f;break}case s.XZY:{const e=o*a,r=o*l,n=c*a,i=c*l;t[0]=a*u,t[4]=-f,t[8]=l*u,t[1]=e*f+i,t[5]=o*u,t[9]=r*f-n,t[2]=n*f-r,t[6]=c*u,t[10]=i*f+e;break}default:throw new Error("Unknown Euler angle order")}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}toQuaternion(){const e=Math.cos(.5*this.yaw),t=Math.sin(.5*this.yaw),r=Math.cos(.5*this.roll),n=Math.sin(.5*this.roll),i=Math.cos(.5*this.pitch),o=Math.sin(.5*this.pitch),s=e*r*i+t*n*o,u=e*n*i-t*r*o,c=e*r*o+t*n*i,l=t*r*i-e*n*o;return new a.a(u,c,l,s)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1),i=r(9);class o extends(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Array)){get ELEMENTS(){return Object(i.a)(!1),0}clone(){return(new this.constructor).copy(this)}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}fromArray(e,t=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}to(e){return e===this?this:Object(n.m)(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toArray(e=[],t=0){for(let r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(n.f)}formatString(e){let t="";for(let r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+Object(n.l)(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!Object(n.j)(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,r){void 0===r&&(r=t,t=e,e=this);for(let n=0;n<this.ELEMENTS;++n){const i=e[n];this[n]=i+r*(t[n]-i)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}add(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]+=t[e];return this.check()}subtract(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]-=t[e];return this.check()}scale(e){if(Array.isArray(e))return this.multiply(e);for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.scale(1/e)}clampScalar(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}multiplyByScalar(e){return this.scale(e)}get elements(){return this}check(){if(n.f.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}}},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLoaderObject=s,t.normalizeLoader=function(e){var t,r,i;(0,n.assert)(e,"null loader"),(0,n.assert)(s(e),"invalid loader"),Array.isArray(e)&&(i=e[1],e=o(o({},e=e[0]),{},{options:o(o({},e.options),i)}));(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(r=e)&&void 0!==r&&r.parseText)&&(e.text=!0);e.text||(e.binary=!0);return e};var n=r(3);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t;return!!e&&(Array.isArray(e)&&(e=e[0]),Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TILE3D_OPTIMIZATION_HINT=t.MAGIC_ARRAY=t.TILE3D_TYPES=t.TILE3D_TYPE=void 0;var n={COMPOSITE:"cmpt",POINT_CLOUD:"pnts",BATCHED_3D_MODEL:"b3dm",INSTANCED_3D_MODEL:"i3dm",GEOMETRY:"geom",VECTOR:"vect"};t.TILE3D_TYPE=n;var i=Object.keys(n);t.TILE3D_TYPES=i;t.MAGIC_ARRAY={BATCHED_MODEL:[98,51,100,109],INSTANCED_MODEL:[105,51,100,109],POINT_CLOUD:[112,110,116,115],COMPOSITE:[99,109,112,116]};t.TILE3D_OPTIMIZATION_HINT={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r(28);function i(){return!("object"==typeof e&&"[object process]"===String(e)&&!e.browser)||Object(n.a)()}function o(){return i()&&"undefined"!=typeof document}}).call(this,r(18))},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(29),i=r(1),o=r(2),a=r(4),s=r(10);const u=[0,0,0],c={};class l extends n.a{static get ZERO(){return c.ZERO=c.ZERO||Object.freeze(new l(0,0,0,0))}constructor(e=0,t=0,r=0){super(-0,-0,-0),1===arguments.length&&Object(i.m)(e)?this.copy(e):(i.f.debug&&(Object(o.a)(e),Object(o.a)(t),Object(o.a)(r)),this[0]=e,this[1]=t,this[2]=r)}set(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return i.f.debug&&(Object(o.a)(e.x),Object(o.a)(e.y),Object(o.a)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Object(o.a)(e)}angle(e){return a.a(this,e)}cross(e){return a.c(this,this,e),this.check()}rotateX({radians:e,origin:t=u}){return a.i(this,this,t,e),this.check()}rotateY({radians:e,origin:t=u}){return a.j(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=u}){return a.k(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return a.m(this,this,e),this.check()}transformAsVector(e){return Object(s.c)(this,this,e),this.check()}transformByMatrix3(e){return a.l(this,this,e),this.check()}transformByMatrix2(e){return Object(s.b)(this,this,e),this.check()}transformByQuaternion(e){return a.n(this,this,e),this.check()}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBytesFromComponentType=function(e){return i[e]},t.getSizeFromAccessorType=function(e){return n[e]},t.getGLEnumFromSamplerParameter=function(e){return{magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243}[e]},t.EXT_MESHOPT_COMPRESSION=t.KHR_TECHNIQUES_WEBGL=t.KHR_MATERIALS_UNLIT=t.KHR_LIGHTS_PUNCTUAL=t.KHR_DRACO_MESH_COMPRESSION=t.KHR_BINARY_GLTF=void 0;t.KHR_BINARY_GLTF="KHR_binary_glTF";t.KHR_DRACO_MESH_COMPRESSION="KHR_draco_mesh_compression";t.KHR_LIGHTS_PUNCTUAL="KHR_lights_punctual";t.KHR_MATERIALS_UNLIT="KHR_materials_unlit";t.KHR_TECHNIQUES_WEBGL="KHR_techniques_webgl";t.EXT_MESHOPT_COMPRESSION="EXT_meshopt_compression";var n={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},i={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"assert failed: gltf")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(111),i=r(3),o=r(26),a=r(67);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]},y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"gltf",void 0),d(this,"sourceBuffers",void 0),d(this,"byteLength",void 0),this.gltf=t||{json:f({},p),buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}var t,r,u;return t=e,(r=[{key:"json",get:function(){return this.gltf.json}},{key:"getApplicationData",value:function(e){return this.json[e]}},{key:"getExtraData",value:function(e){return(this.json.extras||{})[e]}},{key:"getExtension",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),r=this.json.extensions||{};return t?r[e]||!0:null}},{key:"getRequiredExtension",value:function(e){return this.getRequiredExtensions().find((function(t){return t===e}))?this.getExtension(e):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getObjectExtension",value:function(e,t){return(e.extensions||{})[t]}},{key:"getScene",value:function(e){return this.getObject("scenes",e)}},{key:"getNode",value:function(e){return this.getObject("nodes",e)}},{key:"getSkin",value:function(e){return this.getObject("skins",e)}},{key:"getMesh",value:function(e){return this.getObject("meshes",e)}},{key:"getMaterial",value:function(e){return this.getObject("materials",e)}},{key:"getAccessor",value:function(e){return this.getObject("accessors",e)}},{key:"getTexture",value:function(e){return this.getObject("textures",e)}},{key:"getSampler",value:function(e){return this.getObject("samplers",e)}},{key:"getImage",value:function(e){return this.getObject("images",e)}},{key:"getBufferView",value:function(e){return this.getObject("bufferViews",e)}},{key:"getBuffer",value:function(e){return this.getObject("buffers",e)}},{key:"getObject",value:function(e,t){if("object"===c(t))return t;var r=this.json[e]&&this.json[e][t];if(!r)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return r}},{key:"getTypedArrayForBufferView",value:function(e){var t=(e=this.getBufferView(e)).buffer,r=this.gltf.buffers[t];(0,o.assert)(r);var n=(e.byteOffset||0)+r.byteOffset;return new Uint8Array(r.arrayBuffer,n,e.byteLength)}},{key:"getTypedArrayForAccessor",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data,n=(0,a.getAccessorArrayTypeAndLength)(e,t),i=n.ArrayType,o=n.length;return new i(r,t.byteOffset+e.byteOffset,o)}},{key:"getTypedArrayForImageData",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data,n=t.byteOffset||0;return new Uint8Array(r,n,t.byteLength)}},{key:"addApplicationData",value:function(e,t){return this.json[e]=t,this}},{key:"addExtraData",value:function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}},{key:"addObjectExtension",value:function(e,t,r){return e.extensions=e.extensions||{},e.extensions[t]=r,this.registerUsedExtension(t),this}},{key:"setObjectExtension",value:function(e,t,r){(e.extensions||{})[t]=r}},{key:"removeObjectExtension",value:function(e,t){var r=e.extensions||{},n=r[t];return delete r[t],n}},{key:"addExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.assert)(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}},{key:"addRequiredExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.assert)(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}},{key:"registerUsedExtension",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:"registerRequiredExtension",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:"removeExtension",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:"setDefaultScene",value:function(e){this.json.scene=e}},{key:"addScene",value:function(e){var t=e.nodeIndices;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}},{key:"addNode",value:function(e){var t=e.meshIndex,r=e.matrix;this.json.nodes=this.json.nodes||[];var n={mesh:t};return r&&(n.matrix=r),this.json.nodes.push(n),this.json.nodes.length-1}},{key:"addMesh",value:function(e){var t=e.attributes,r=e.indices,n=e.material,i=e.mode,o=void 0===i?4:i,a={primitives:[{attributes:this._addAttributes(t),mode:o}]};if(r){var s=this._addIndices(r);a.primitives[0].indices=s}return Number.isFinite(n)&&(a.primitives[0].material=n),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}},{key:"addPointCloud",value:function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}},{key:"addImage",value:function(e,t){var r=(0,n.getBinaryImageMetadata)(e),i=t||(null==r?void 0:r.mimeType),o={bufferView:this.addBufferView(e),mimeType:i};return this.json.images=this.json.images||[],this.json.images.push(o),this.json.images.length-1}},{key:"addBufferView",value:function(e){var t=e.byteLength;(0,o.assert)(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var r={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=(0,i.padToNBytes)(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(r),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){var r={bufferView:e,type:(0,a.getAccessorTypeFromSize)(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(r),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},r=this.addBufferView(e),n={min:t.min,max:t.max};n.min&&n.max||(n=this._getAccessorMinMax(e,t.size));var i={size:t.size,componentType:(0,a.getComponentTypeFromArray)(e),count:Math.round(e.length/t.size),min:n.min,max:n.max};return this.addAccessor(r,Object.assign(i,t))}},{key:"addTexture",value:function(e){var t={source:e.imageIndex};return this.json.textures=this.json.textures||[],this.json.textures.push(t),this.json.textures.length-1}},{key:"addMaterial",value:function(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}},{key:"createBinaryChunk",value:function(){var e,t;this.gltf.buffers=[];var r,n=this.byteLength,o=new ArrayBuffer(n),a=new Uint8Array(o),u=0,c=s(this.sourceBuffers||[]);try{for(c.s();!(r=c.n()).done;){var l=r.value;u=(0,i.copyToArray)(l,a,u)}}catch(e){c.e(e)}finally{c.f()}null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=n:this.json.buffers=[{byteLength:n}],this.gltf.binary=o,this.sourceBuffers=[o]}},{key:"_removeStringFromArray",value:function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}}},{key:"_addAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var r in e){var n=e[r],i=this._getGltfAttributeName(r),o=this.addBinaryBuffer(n.value,n);t[i]=o}return t}},{key:"_addIndices",value:function(e){return this.addBinaryBuffer(e,{size:1})}},{key:"_getGltfAttributeName",value:function(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}},{key:"_getAccessorMinMax",value:function(e,t){var r={min:null,max:null};if(e.length<t)return r;r.min=[],r.max=[];var n,i=s(e.subarray(0,t));try{for(i.s();!(n=i.n()).done;){var o=n.value;r.min.push(o),r.max.push(o)}}catch(e){i.e(e)}finally{i.f()}for(var a=t;a<e.length;a+=t)for(var u=0;u<t;u++)r.min[0+u]=Math.min(r.min[0+u],e[a+u]),r.max[0+u]=Math.max(r.max[0+u],e[a+u]);return r}}])&&h(t.prototype,r),u&&h(t,u),e}();t.default=y},function(e,t,r){"use strict";(function(e){function n(t){if("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type)return!0;if(void 0!==e&&"object"==typeof e.versions&&Boolean(e.versions.electron))return!0;const r="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,n=t||r;return!!(n&&n.indexOf("Electron")>=0)}r.d(t,"a",(function(){return n}))}).call(this,r(18))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(17),i=r(2),o=r(9);class a extends n.a{get ELEMENTS(){return Object(o.a)(!1),0}copy(e){return Object(o.a)(!1),this}get x(){return this[0]}set x(e){this[0]=Object(i.a)(e)}get y(){return this[1]}set y(e){this[1]=Object(i.a)(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let r=0;r<this.ELEMENTS;++r){const n=this[r]-e[r];t+=n*n}return Object(i.a)(t)}dot(e){let t=0;for(let r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return Object(i.a)(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]*=t[e];return this.check()}divide(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t[e];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Object(o.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(i.a)(this[e])}setComponent(e,t){return Object(o.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(2),i=r(50),o=r(10),a=r(6),s=r(12),u=r(4),c=r(8);const l=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),h=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),d={};class p extends i.a{static get IDENTITY(){return d.IDENTITY=d.IDENTITY||Object.freeze(new p(l)),d.IDENTITY}static get ZERO(){return d.ZERO=d.ZERO||Object.freeze(new p(f)),d.ZERO}get INDICES(){return h}get ELEMENTS(){return 16}get RANK(){return 4}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,r,n,i,o,a,s,u,c,l,f,h,d,p,y){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=c,this[10]=l,this[11]=f,this[12]=h,this[13]=d,this[14]=p,this[15]=y,this.check()}setRowMajor(e,t,r,n,i,o,a,s,u,c,l,f,h,d,p,y){return this[0]=e,this[1]=i,this[2]=u,this[3]=h,this[4]=t,this[5]=o,this[6]=c,this[7]=d,this[8]=r,this[9]=a,this[10]=l,this[11]=p,this[12]=n,this[13]=s,this[14]=f,this[15]=y,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(l)}fromQuaternion(e){return a.b(this,e),this.check()}frustum({left:e,right:t,bottom:r,top:n,near:i,far:o}){return o===1/0?p._computeInfinitePerspectiveOffCenter(this,e,t,r,n,i):a.c(this,e,t,r,n,i,o),this.check()}static _computeInfinitePerspectiveOffCenter(e,t,r,n,i,o){const a=2*o/(r-t),s=2*o/(i-n),u=(r+t)/(r-t),c=(i+n)/(i-n),l=-2*o;return e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=l,e[15]=0,e}lookAt(e,t,r){return 1===arguments.length&&({eye:e,center:t,up:r}=e),t=t||[0,0,0],r=r||[0,1,0],a.f(this,e,t,r),this.check()}ortho({left:e,right:t,bottom:r,top:n,near:i=.1,far:o=500}){return a.h(this,e,t,r,n,i,o),this.check()}orthographic({fovy:e=45*Math.PI/180,aspect:t=1,focalDistance:r=1,near:n=.1,far:i=500}){if(e>2*Math.PI)throw Error("radians");const o=e/2,a=r*Math.tan(o),s=a*t;return(new p).ortho({left:-s,right:s,bottom:-a,top:a,near:n,far:i})}perspective({fovy:e,fov:t=45*Math.PI/180,aspect:r=1,near:n=.1,far:i=500}={}){if((e=e||t)>2*Math.PI)throw Error("radians");return a.i(this,e,r,n,i),this.check()}determinant(){return a.a(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=null){const r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e=[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=null){const r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*n,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*n,e[7]=this[9]*i,e[8]=this[10]*o,e}transpose(){return a.p(this,this),this.check()}invert(){return a.e(this,this),this.check()}multiplyLeft(e){return a.g(this,e,this),this.check()}multiplyRight(e){return a.g(this,this,e),this.check()}rotateX(e){return a.k(this,this,e),this.check()}rotateY(e){return a.l(this,this,e),this.check()}rotateZ(e){return a.m(this,this,e),this.check()}rotateXYZ([e,t,r]){return this.rotateX(e).rotateY(t).rotateZ(r)}rotateAxis(e,t){return a.j(this,this,e,t),this.check()}scale(e){return Array.isArray(e)?a.n(this,this,e):a.n(this,this,[e,e,e]),this.check()}translate(e){return a.o(this,this,e),this.check()}transform(e,t){return 4===e.length?(t=c.n(t||[-0,-0,-0,-0],e,this),Object(n.b)(t,4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:r}=e;switch(r){case 2:t=s.d(t||[-0,-0],e,this);break;case 3:t=u.m(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(n.b)(t,e.length),t}transformAsVector(e,t){switch(e.length){case 2:t=Object(o.a)(t||[-0,-0],e,this);break;case 3:t=Object(o.c)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(n.b)(t,e.length),t}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,r){return this.identity().translate([e,t,r])}transformPoint(e,t){return Object(n.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}transformVector(e,t){return Object(n.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}transformDirection(e,t){return Object(n.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceUrlAndType=function(e){if((0,n.isResponse)(e)){var t=a(e.url||""),r=e.headers.get("content-type")||"";return{url:t,type:(0,i.parseMIMEType)(r)||(0,i.parseMIMETypeFromURL)(t)}}if((0,n.isBlob)(e))return{url:a(e.name||""),type:e.type||""};if("string"==typeof e)return{url:a(e),type:(0,i.parseMIMETypeFromURL)(e)};return{url:"",type:""}},t.getResourceContentLength=function(e){if((0,n.isResponse)(e))return e.headers["content-length"]||-1;if((0,n.isBlob)(e))return e.size;if("string"==typeof e)return e.length;if(e instanceof ArrayBuffer)return e.byteLength;if(ArrayBuffer.isView(e))return e.byteLength;return-1};var n=r(13),i=r(149),o=/\?.*/;function a(e){return e.replace(o,"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TILE3D_OPTIMIZATION_HINT=t.LOD_METRIC_TYPE=t.TILESET_TYPE=t.TILE_TYPE=t.TILE_REFINEMENT=t.TILE_CONTENT_STATE=void 0;t.TILE_CONTENT_STATE={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5};t.TILE_REFINEMENT={ADD:1,REPLACE:2};t.TILE_TYPE={EMPTY:"empty",SCENEGRAPH:"scenegraph",POINTCLOUD:"pointcloud",MESH:"mesh"};t.TILESET_TYPE={I3S:"I3S",TILES3D:"TILES3D"};t.LOD_METRIC_TYPE={GEOMETRIC_ERROR:"geometricError",MAX_SCREEN_THRESHOLD:"maxScreenThreshold"};t.TILE3D_OPTIMIZATION_HINT={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_PROPS=void 0;var n,i=(n=r(171))&&n.__esModule?n:{default:n},o=r(32);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={loadSiblings:!1,skipLevelOfDetail:!1,maximumScreenSpaceError:2,updateTransforms:!0,onTraversalEnd:function(){},viewportTraversersMap:{},basePath:""};t.DEFAULT_PROPS=h;var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"options",void 0),f(this,"root",void 0),f(this,"requestedTiles",void 0),f(this,"selectedTiles",void 0),f(this,"emptyTiles",void 0),f(this,"_traversalStack",void 0),f(this,"_emptyTraversalStack",void 0),f(this,"_frameNumber",void 0),this.options=c(c({},h),t),this._traversalStack=new i.default,this._emptyTraversalStack=new i.default,this._frameNumber=null,this.root=null,this.selectedTiles={},this.requestedTiles={},this.emptyTiles={}}var t,r,n;return t=e,(r=[{key:"traverse",value:function(e,t,r){this.root=e,this.options=c(c({},this.options),r),this.reset(),this.updateTile(e,t),this._frameNumber=t.frameNumber,this.executeTraversal(e,t)}},{key:"reset",value:function(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}},{key:"executeTraversal",value:function(e,t){var r=this._traversalStack;for(e._selectionDepth=1,r.push(e);r.length>0;){var n=r.pop(),i=!1;this.canTraverse(n,t)&&(this.updateChildTiles(n,t),i=this.updateAndPushChildren(n,t,r,n.hasRenderContent?n._selectionDepth+1:n._selectionDepth));var a=n.parent,s=Boolean(!a||a._shouldRefine),u=!i;n.hasRenderContent?n.refine===o.TILE_REFINEMENT.ADD?(this.loadTile(n,t),this.selectTile(n,t)):n.refine===o.TILE_REFINEMENT.REPLACE&&(this.loadTile(n,t),u&&this.selectTile(n,t)):(this.emptyTiles[n.id]=n,this.loadTile(n,t),u&&this.selectTile(n,t)),this.touchTile(n,t),n._shouldRefine=i&&s}this.options.onTraversalEnd(t)}},{key:"updateChildTiles",value:function(e,t){var r,n=a(e.children);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.updateTile(i,t)}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"updateAndPushChildren",value:function(e,t,r,n){var i=this.options,s=i.loadSiblings,u=i.skipLevelOfDetail,c=e.children;c.sort(this.compareDistanceToCamera.bind(this));var l,f=e.refine===o.TILE_REFINEMENT.REPLACE&&e.hasRenderContent&&!u,h=!1,d=!0,p=a(c);try{for(p.s();!(l=p.n()).done;){var y=l.value;if(y._selectionDepth=n,y.isVisibleAndInRequestVolume?(r.find(y)&&r.delete(y),r.push(y),h=!0):(f||s)&&(this.loadTile(y,t),this.touchTile(y,t)),f){var v=void 0;if(v=!!y._inRequestVolume&&(y.hasRenderContent?y.contentAvailable:this.executeEmptyTraversal(y,t)),!(d=d&&v))return!1}}}catch(e){p.e(e)}finally{p.f()}return h||(d=!1),d}},{key:"updateTile",value:function(e,t){this.updateTileVisibility(e,t)}},{key:"selectTile",value:function(e,t){this.shouldSelectTile(e)&&(e._selectedFrame=t.frameNumber,this.selectedTiles[e.id]=e)}},{key:"loadTile",value:function(e,t){this.shouldLoadTile(e)&&(e._requestedFrame=t.frameNumber,e._priority=e._getPriority(),this.requestedTiles[e.id]=e)}},{key:"touchTile",value:function(e,t){e.tileset._cache.touch(e),e._touchedFrame=t.frameNumber}},{key:"canTraverse",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!e.hasChildren&&(e.hasTilesetContent?!e.contentExpired:!(!n&&!e.isVisibleAndInRequestVolume)&&this.shouldRefine(e,t,r))}},{key:"shouldLoadTile",value:function(e){return e.hasUnloadedContent||e.contentExpired}},{key:"shouldSelectTile",value:function(e){return e.contentAvailable&&!this.options.skipLevelOfDetail}},{key:"shouldRefine",value:function(e,t,r){var n=e._screenSpaceError;return r&&(n=e.getScreenSpaceError(t,!0)),n>this.options.maximumScreenSpaceError}},{key:"updateTileVisibility",value:function(e,t){var r=[];if(this.options.viewportTraversersMap)for(var n in this.options.viewportTraversersMap)this.options.viewportTraversersMap[n]===t.viewport.id&&r.push(n);else r.push(t.viewport.id);e.updateVisibility(t,r)}},{key:"compareDistanceToCamera",value:function(e,t){return e._distanceToCamera-t._distanceToCamera}},{key:"anyChildrenVisible",value:function(e,t){var r,n=!1,i=a(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.updateVisibility(t),n=n||o.isVisibleAndInRequestVolume}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"executeEmptyTraversal",value:function(e,t){var r=!0,n=this._emptyTraversalStack;for(n.push(e);n.length>0&&r;){var i=n.pop();if(this.updateTile(i,t),i.isVisibleAndInRequestVolume||this.loadTile(i,t),this.touchTile(i,t),!i.hasRenderContent&&this.canTraverse(i,t,!1,!0)){var o,s=a(i.children);try{for(s.s();!(o=s.n()).done;){var u=o.value;n.find(u)&&n.delete(u),n.push(u)}}catch(e){s.e(e)}finally{s.f()}}else i.contentAvailable||(r=!1)}return r}}])&&l(t.prototype,r),n&&l(t,n),e}();t.default=d},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.GL=t.GL_TYPE=t.GL_PRIMITIVE_MODE=t.GL_PRIMITIVE=void 0;t.GL_PRIMITIVE={POINTS:0,LINES:1,TRIANGLES:4};var a={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};t.GL_PRIMITIVE_MODE=a;var s={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130};t.GL_TYPE=s;var u=i(i({},a),s);t.GL=u},function(e,t,r){"use strict";r.r(t),r.d(t,"Ellipsoid",(function(){return R})),r.d(t,"isWGS84",(function(){return p}));var n=r(23),i=r(9),o=r(85),a=r(30),s=r(1),u=r(4);const c={radii:[6378137,6378137,6356752.314245179],radiiSquared:[40680631590769,40680631590769,40408299984661.445],oneOverRadii:[1/6378137,1/6378137,1/6356752.314245179],oneOverRadiiSquared:[1/40680631590769,1/40680631590769,1/40408299984661.445],maximumRadius:Math.max(6378137,6378137,6356752.314245179),centerToleranceSquared:.1},l=e=>e,f=new n.a;function h(e,t,r=l){return Object(s.m)(e)?(t[0]=r(e[0]),t[1]=r(e[1]),t[2]=e[2]):"longitude"in e?(t[0]=r(e.longitude),t[1]=r(e.latitude),t[2]=e.height):(t[0]=r(e.x),t[1]=r(e.y),t[2]=e.z),t}function d(e,t,r=l){return Object(s.m)(t)?(t[0]=r(e[0]),t[1]=r(e[1]),t[2]=e[2]):"longitude"in t?(t.longitude=r(e[0]),t.latitude=r(e[1]),t.height=e[2]):(t.x=r(e[0]),t.y=r(e[1]),t.z=e[2]),t}function p(e){if(!e)return!1;f.from(e);const{oneOverRadiiSquared:t,centerToleranceSquared:r}=c,n=e[0]*e[0]*t[0],i=e[1]*e[1]*t[1],o=e[2]*e[2]*t[2];return Math.abs(n+i+o-1)<r}const y=new n.a,v=new n.a,b=new n.a;const m=new n.a,g={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},w={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},O={east:new n.a,north:new n.a,up:new n.a,west:new n.a,south:new n.a,down:new n.a},_=new n.a,T=new n.a,P=new n.a;function j(e,t,r,n,o,a){const u=g[t]&&g[t][r];let c,l,f;Object(i.a)(u&&(!n||n===u));const h=m.copy(o);if(Object(s.j)(h.x,0,1e-14)&&Object(s.j)(h.y,0,1e-14)){const e=Math.sign(h.z);c=_.fromArray(w[t]),"east"!==t&&"west"!==t&&c.scale(e),l=T.fromArray(w[r]),"east"!==r&&"west"!==r&&l.scale(e),f=P.fromArray(w[n]),"east"!==n&&"west"!==n&&f.scale(e)}else{const{up:i,east:o,north:a}=O;o.set(-h.y,h.x,0).normalize(),e.geodeticSurfaceNormal(h,i),a.copy(i).cross(o);const{down:s,west:u,south:d}=O;s.copy(i).scale(-1),u.copy(o).scale(-1),d.copy(a).scale(-1),c=O[t],l=O[r],f=O[n]}return a[0]=c.x,a[1]=c.y,a[2]=c.z,a[3]=0,a[4]=l.x,a[5]=l.y,a[6]=l.z,a[7]=0,a[8]=f.x,a[9]=f.y,a[10]=f.z,a[11]=0,a[12]=h.x,a[13]=h.y,a[14]=h.z,a[15]=1,a}const S=new n.a,E=new n.a,x=new n.a,k=new n.a,M=new n.a,I=new n.a;let A;class R{static get WGS84(){return A=A||new R(6378137,6378137,6356752.314245179),A}constructor(e=0,t=0,r=0){Object(i.a)(e>=0),Object(i.a)(t>=0),Object(i.a)(r>=0),this.radii=new n.a(e,t,r),this.radiiSquared=new n.a(e*e,t*t,r*r),this.radiiToTheFourth=new n.a(e*e*e*e,t*t*t*t,r*r*r*r),this.oneOverRadii=new n.a(0===e?0:1/e,0===t?0:1/t,0===r?0:1/r),this.oneOverRadiiSquared=new n.a(0===e?0:1/(e*e),0===t?0:1/(t*t),0===r?0:1/(r*r)),this.minimumRadius=Math.min(e,t,r),this.maximumRadius=Math.max(e,t,r),this.centerToleranceSquared=o.a.EPSILON1,0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(e){return this===e||Boolean(e&&this.radii.equals(e.radii))}toString(){return this.radii.toString()}cartographicToCartesian(e,t=[0,0,0]){const r=E,n=x,[,,i]=e;this.geodeticSurfaceNormalCartographic(e,r),n.copy(this.radiiSquared).scale(r);const o=Math.sqrt(r.dot(n));return n.scale(1/o),r.scale(i),n.add(r),n.to(t)}cartesianToCartographic(e,t=[0,0,0]){I.from(e);const r=this.scaleToGeodeticSurface(I,k);if(!r)return;const n=this.geodeticSurfaceNormal(r,E),i=M;i.copy(I).subtract(r);const o=Math.atan2(n.y,n.x),a=Math.asin(n.z),c=Math.sign(u.d(i,I))*u.g(i);return d([o,a,c],t,s.f._cartographicRadians?l:s.r)}eastNorthUpToFixedFrame(e,t=new a.a){return j(this,"east","north","up",e,t)}localFrameToFixedFrame(e,t,r,n,i=new a.a){return j(this,e,t,r,n,i)}geocentricSurfaceNormal(e,t=[0,0,0]){return S.from(e).normalize().to(t)}geodeticSurfaceNormalCartographic(e,t=[0,0,0]){const r=function(e,t=f){return h(e,t,s.f._cartographicRadians?l:s.s)}(e),n=r[0],i=r[1],o=Math.cos(i);return S.set(o*Math.cos(n),o*Math.sin(n),Math.sin(i)).normalize(),S.to(t)}geodeticSurfaceNormal(e,t=[0,0,0]){return S.from(e).scale(this.oneOverRadiiSquared).normalize().to(t)}scaleToGeodeticSurface(e,t){return function(e,t,r=new n.a){const{oneOverRadii:i,oneOverRadiiSquared:a,centerToleranceSquared:s}=t;y.from(e);const u=e.x,c=e.y,l=e.z,f=i.x,h=i.y,d=i.z,p=u*u*f*f,m=c*c*h*h,g=l*l*d*d,w=p+m+g,O=Math.sqrt(1/w);if(!Number.isFinite(O))return;const _=v;if(_.copy(e).scale(O),w<s)return _.to(r);const T=a.x,P=a.y,j=a.z,S=b;S.set(_.x*T*2,_.y*P*2,_.z*j*2);let E,x,k,M,I=(1-O)*e.len()/(.5*S.len()),A=0;do{I-=A,E=1/(1+I*T),x=1/(1+I*P),k=1/(1+I*j);const e=E*E,t=x*x,r=k*k;M=p*e+m*t+g*r-1;A=M/(-2*(p*(e*E)*T+m*(t*x)*P+g*(r*k)*j))}while(Math.abs(M)>o.a.EPSILON12);return y.scale([E,x,k]).to(r)}(e,this,t)}scaleToGeocentricSurface(e,t=[0,0,0]){k.from(e);const r=k.x,n=k.y,i=k.z,o=this.oneOverRadiiSquared,a=1/Math.sqrt(r*r*o.x+n*n*o.y+i*i*o.z);return k.multiplyScalar(a).to(t)}transformPositionToScaledSpace(e,t=[0,0,0]){return k.from(e).scale(this.oneOverRadii).to(t)}transformPositionFromScaledSpace(e,t=[0,0,0]){return k.from(e).scale(this.radii).to(t)}getSurfaceNormalIntersectionWithZAxis(e,t=0,r=[0,0,0]){Object(i.a)(Object(s.j)(this.radii.x,this.radii.y,o.a.EPSILON15)),Object(i.a)(this.radii.z>0),k.from(e);const n=k.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(n)>=this.radii.z-t))return k.set(0,0,n).to(r)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"Stats",(function(){return o})),r.d(t,"Stat",(function(){return i})),r.d(t,"_getHiResTimestamp",(function(){return n.a}));var n=r(37);class i{constructor(e,t){this.name=e,this.type=t,this.sampleSize=1,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=Object(n.a)(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(Object(n.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class o{constructor({id:e,stats:t}){this.id=e,this.stats={},this._initializeStats(t),Object.seal(this)}get(e,t="count"){return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(e=>this._getOrCreate(e))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:r}=e;return this.stats[t]||(this.stats[t]=e instanceof i?e:new i(t,r)),this.stats[t]}}},function(e,t,r){"use strict";(function(e){function n(){let t;if("undefined"!=typeof window&&window.performance)t=window.performance.now();else if(void 0!==e&&e.hrtime){const r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,"a",(function(){return n}))}).call(this,r(18))},function(e,t,r){"use strict";r.d(t,"a",(function(){return M}));var n=r(17),i=r(2),o=r(9),a=r(0),s=r(11),u=r(4),c=r(8);function l(){var e=new a.a(4);return a.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function f(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function h(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1],c=r[2],l=r[3];return e[0]=n*l+a*s+i*c-o*u,e[1]=i*l+a*u+o*s-n*c,e[2]=o*l+a*c+n*u-i*s,e[3]=a*l-n*s-i*u-o*c,e}function d(e,t,r,n){var i,o,s,u,c,l=t[0],f=t[1],h=t[2],d=t[3],p=r[0],y=r[1],v=r[2],b=r[3];return(o=l*p+f*y+h*v+d*b)<0&&(o=-o,p=-p,y=-y,v=-v,b=-b),1-o>a.b?(i=Math.acos(o),s=Math.sin(i),u=Math.sin((1-n)*i)/s,c=Math.sin(n*i)/s):(u=1-n,c=n),e[0]=u*l+c*p,e[1]=u*f+c*y,e[2]=u*h+c*v,e[3]=u*d+c*b,e}function p(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*o+a]-t[3*a+o])*r,e[o]=(t[3*o+i]+t[3*i+o])*r,e[a]=(t[3*a+i]+t[3*i+a])*r}return e}c.b,c.g,c.c,c.l;var y,v,b,m,g,w,O=c.a,_=c.k,T=c.d,P=c.i,j=c.h,S=c.m,E=c.j,x=(c.f,c.e,y=u.b(),v=u.e(1,0,0),b=u.e(0,1,0),function(e,t,r){var n=u.d(t,r);return n<-.999999?(u.c(y,v,t),u.f(y)<1e-6&&u.c(y,b,t),u.h(y,y),f(e,y,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(u.c(y,t,r),e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=1+n,E(e,e))});m=l(),g=l(),w=s.a();const k=[0,0,0,1];class M extends n.a{constructor(e=0,t=0,r=0,n=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,r,n)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}fromMatrix3(e){return p(this,e),this.check()}identity(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}fromAxisRotation(e,t){return f(this,e,t),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=Object(i.a)(e)}get y(){return this[1]}set y(e){this[1]=Object(i.a)(e)}get z(){return this[2]}set z(e){this[2]=Object(i.a)(e)}get w(){return this[3]}set w(e){this[3]=Object(i.a)(e)}len(){return j(this)}lengthSquared(){return S(this)}dot(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return T(this,e)}rotationTo(e,t){return x(this,e,t),this.check()}add(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return O(this,this,e),this.check()}calculateW(){var e,t,r,n,i;return e=this,r=(t=this)[0],n=t[1],i=t[2],e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),this.check()}conjugate(){var e,t;return t=this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.check()}invert(){var e,t,r,n,i,o,a,s;return e=this,r=(t=this)[0],n=t[1],i=t[2],o=t[3],s=(a=r*r+n*n+i*i+o*o)?1/a:0,e[0]=-r*s,e[1]=-n*s,e[2]=-i*s,e[3]=o*s,this.check()}lerp(e,t,r){return P(this,e,t,r),this.check()}multiplyRight(e,t){return Object(o.a)(!t),h(this,this,e),this.check()}multiplyLeft(e,t){return Object(o.a)(!t),h(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);e[0]=n*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-n*s}(this,this,e),this.check()}rotateY(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);e[0]=n*u-o*s,e[1]=i*u+a*s,e[2]=o*u+n*s,e[3]=a*u-i*s}(this,this,e),this.check()}rotateZ(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);e[0]=n*u+i*s,e[1]=i*u-n*s,e[2]=o*u+a*s,e[3]=a*u-o*s}(this,this,e),this.check()}scale(e){return _(this,this,e),this.check()}slerp(e,t,r){switch(arguments.length){case 1:({start:e=k,target:t,ratio:r}=arguments[0]);break;case 2:[t,r]=arguments,e=this}return d(this,e,t,r),this.check()}transformVector4(e,t=e){return c.o(t,e,this),Object(i.b)(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e,t){return this.multiplyLeft(e,t)}multiply(e,t){return this.multiplyRight(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return i.assert}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return o.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return o.isWorker}}),Object.defineProperty(t,"WorkerJob",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"WorkerThread",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"WorkerFarm",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"WorkerPool",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"WorkerBody",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"processOnWorker",{enumerable:!0,get:function(){return f.processOnWorker}}),Object.defineProperty(t,"canProcessOnWorker",{enumerable:!0,get:function(){return f.canProcessOnWorker}}),Object.defineProperty(t,"createWorker",{enumerable:!0,get:function(){return h.createWorker}}),Object.defineProperty(t,"getWorkerURL",{enumerable:!0,get:function(){return d.getWorkerURL}}),Object.defineProperty(t,"validateWorkerVersion",{enumerable:!0,get:function(){return p.validateWorkerVersion}}),Object.defineProperty(t,"getTransferList",{enumerable:!0,get:function(){return y.getTransferList}}),Object.defineProperty(t,"getLibraryUrl",{enumerable:!0,get:function(){return v.getLibraryUrl}}),Object.defineProperty(t,"loadLibrary",{enumerable:!0,get:function(){return v.loadLibrary}}),Object.defineProperty(t,"AsyncQueue",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"ChildProcessProxy",{enumerable:!0,get:function(){return m.default}}),t.NullWorker=void 0;var n=r(40),i=r(19),o=r(51),a=g(r(71)),s=g(r(52)),u=g(r(72)),c=g(r(73)),l=g(r(74)),f=r(126),h=r(128),d=r(75),p=r(129),y=r(53),v=r(130),b=g(r(76)),m=g(r(132));function g(e){return e&&e.__esModule?e:{default:e}}var w={id:"null",name:"null",module:"worker-utils",version:n.VERSION,options:{null:{}}};t.NullWorker=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.8"},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1),i=r(23),o=r(4);class a{constructor({phi:e=0,theta:t=0,radius:r=1,bearing:n,pitch:i,altitude:o,radiusScale:a=6371e3}={}){this.phi=e,this.theta=t,this.radius=r||o||1,this.radiusScale=a||1,void 0!==n&&(this.bearing=n),void 0!==i&&(this.pitch=i),this.check()}toString(){return this.formatString(n.f)}formatString({printTypes:e=!1}){const t=n.l;return"".concat(e?"Spherical":"","[rho:").concat(t(this.radius),",theta:").concat(t(this.theta),",phi:").concat(t(this.phi),"]")}equals(e){return Object(n.j)(this.radius,e.radius)&&Object(n.j)(this.theta,e.theta)&&Object(n.j)(this.phi,e.phi)}exactEquals(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}get bearing(){return 180-Object(n.i)(this.phi)}set bearing(e){this.phi=Math.PI-Object(n.o)(e)}get pitch(){return Object(n.i)(this.theta)}set pitch(e){this.theta=Object(n.o)(e)}get longitude(){return Object(n.i)(this.phi)}get latitude(){return Object(n.i)(this.theta)}get lng(){return Object(n.i)(this.phi)}get lat(){return Object(n.i)(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this.check()}clone(){return(new a).copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}fromLngLatZ([e,t,r]){this.radius=1+r/this.radiusScale,this.phi=Object(n.o)(t),this.theta=Object(n.o)(e)}fromVector3(e){return this.radius=o.g(e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(Object(n.d)(e[2]/this.radius,-1,1))),this.check()}toVector3(){return new i.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(30),i=r(23),o=r(16);class a{constructor({x:e=0,y:t=0,z:r=0,roll:n=0,pitch:a=0,yaw:s=0,position:u,orientation:c}={}){Array.isArray(u)&&3===u.length?this.position=new i.a(u):this.position=new i.a(e,t,r),Array.isArray(c)&&4===c.length?this.orientation=new o.a(c,c[3]):this.orientation=new o.a(n,a,s,o.a.RollPitchYaw)}get x(){return this.position.x}set x(e){this.position.x=e}get y(){return this.position.y}set y(e){this.position.y=e}get z(){return this.position.z}set z(e){this.position.z=e}get roll(){return this.orientation.roll}set roll(e){this.orientation.roll=e}get pitch(){return this.orientation.pitch}set pitch(e){this.orientation.pitch=e}get yaw(){return this.orientation.yaw}set yaw(e){this.orientation.yaw=e}getPosition(){return this.position}getOrientation(){return this.orientation}equals(e){return!!e&&(this.position.equals(e.position)&&this.orientation.equals(e.orientation))}exactEquals(e){return!!e&&(this.position.exactEquals(e.position)&&this.orientation.exactEquals(e.orientation))}getTransformationMatrix(){const e=Math.sin(this.roll),t=Math.sin(this.pitch),r=Math.sin(this.yaw),i=Math.cos(this.roll),o=Math.cos(this.pitch),a=Math.cos(this.yaw);return(new n.a).setRowMajor(a*o,-r*i+a*t*e,r*e+a*t*i,this.x,r*o,a*i+r*t*e,-a*e+r*t*i,this.y,-t,o*e,o*i,this.z,0,0,0,1)}getTransformationMatrixFromPose(e){return(new n.a).multiplyRight(this.getTransformationMatrix()).multiplyRight(e.getTransformationMatrix().invert())}getTransformationMatrixToPose(e){return(new n.a).multiplyRight(e.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectLoader=function(e){return g.apply(this,arguments)},t.selectLoaderSync=w;var n=r(3),i=r(20),o=r(31),a=r(91),s=r(13);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function d(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){v(o,n,i,a,s,"next",e)}function s(e){v(o,n,i,a,s,"throw",e)}a(void 0)}))}}var m=/\.([^.]+)$/;function g(){return(g=b(regeneratorRuntime.mark((function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:[],n=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,_(t)){e.next=5;break}return e.abrupt("return",null);case 5:if(!(o=w(t,r,c(c({},n),{},{nothrow:!0}),i))){e.next=8;break}return e.abrupt("return",o);case 8:if(!(0,s.isBlob)(t)){e.next=13;break}return e.next=11,t.slice(0,10).arrayBuffer();case 11:t=e.sent,o=w(t,r,n,i);case 13:if(o||null!=n&&n.nothrow){e.next=15;break}throw new Error(T(t));case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!_(e))return null;if(t&&!Array.isArray(t))return(0,i.normalizeLoader)(t);var o,s=[];(t&&(s=s.concat(t)),null!=r&&r.ignoreRegisteredLoaders)||(o=s).push.apply(o,d((0,a.getRegisteredLoaders)()));P(s);var u=O(e,s,r,n);if(!(u||null!=r&&r.nothrow))throw new Error(T(e));return u}function O(e,t,r,n){var i=(0,o.getResourceUrlAndType)(e),a=i.url,s=i.type,u=a||(null==n?void 0:n.url),c=null;return null!=r&&r.mimeType&&(c=j(t,null==r?void 0:r.mimeType)),c=(c=(c=(c=c||function(e,t){var r=t&&m.exec(t),n=r&&r[1];return n?function(e,t){t=t.toLowerCase();var r,n=h(e);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,a=h(o.extensions);try{for(a.s();!(i=a.n()).done;){if(i.value.toLowerCase()===t)return o}}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}return null}(e,n):null}(t,u))||j(t,s))||function(e,t){if(!t)return null;var r,n=h(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("string"==typeof t){if(S(t,i))return i}else if(ArrayBuffer.isView(t)){if(E(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(E(t,0,i))return i}}}catch(e){n.e(e)}finally{n.f()}return null}(t,e))||j(t,null==r?void 0:r.fallbackMimeType)}function _(e){return!(e instanceof Response&&204===e.status)}function T(e){var t=(0,o.getResourceUrlAndType)(e),r=t.url,n=t.type,i="No valid loader found";return e&&(i+=' data: "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return x(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return x(e,r,t)}return""}(e),'", contentType: "').concat(n,'"')),r&&(i+=" url: ".concat(r)),i}function P(e){var t,r=h(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;(0,i.normalizeLoader)(n)}}catch(e){r.e(e)}finally{r.f()}}function j(e,t){var r,n=h(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(e){n.e(e)}finally{n.f()}return null}function S(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some((function(t){return e.startsWith(t)}))}function E(e,t,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some((function(i){return function(e,t,r,i){if(i instanceof ArrayBuffer)return(0,n.compareArrayBuffers)(i,e,i.byteLength);switch(f(i)){case"function":return i(e,r);case"string":var o=x(e,t,i.length);return i===o;default:return!1}}(e,t,r,i)}))}function x(e,t,r){if(e.byteLength<t+r)return"";for(var n=new DataView(e),i="",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(15);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.json=t,this.buffer=r,this.featuresLength=0,this._cachedTypedArrays={}}var t,r,o;return t=e,(r=[{key:"getExtension",value:function(e){return this.json.extensions&&this.json.extensions[e]}},{key:"hasProperty",value:function(e){return Boolean(this.json[e])}},{key:"getGlobalProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.GL.UNSIGNED_INT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.json[e];return i&&Number.isFinite(i.byteOffset)?this._getTypedArrayFromBinary(e,t,r,1,i.byteOffset):i}},{key:"getPropertyArray",value:function(e,t,r){var i=this.json[e];return i&&Number.isFinite(i.byteOffset)?("componentType"in i&&(t=n.GLType.fromName(i.componentType)),this._getTypedArrayFromBinary(e,t,r,this.featuresLength,i.byteOffset)):this._getTypedArrayFromArray(e,t,i)}},{key:"getProperty",value:function(e,t,r,n,i){var o=this.json[e];if(!o)return o;var a=this.getPropertyArray(e,t,r);if(1===r)return a[n];for(var s=0;s<r;++s)i[s]=a[r*n+s];return i}},{key:"_getTypedArrayFromBinary",value:function(e,t,r,i,o){var a=this._cachedTypedArrays,s=a[e];return s||(s=n.GLType.createTypedArray(t,this.buffer.buffer,this.buffer.byteOffset+o,i*r),a[e]=s),s}},{key:"_getTypedArrayFromArray",value:function(e,t,r){var i=this._cachedTypedArrays,o=i[e];return o||(o=n.GLType.createTypedArray(t,r),i[e]=o),o}}])&&i(t.prototype,r),o&&i(t,o),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse3DTileHeaderSync=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new DataView(t);if(e.magic=n.getUint32(r,!0),r+=4,e.version=n.getUint32(r,!0),r+=4,e.byteLength=n.getUint32(r,!0),r+=4,1!==e.version)throw new Error("3D Tile Version ".concat(e.version," not supported"));return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.8"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){var t=a(e);if(!t)throw new Error("Not an image");return t}function o(e){switch(i(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("getImageData");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function a(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"===n(e)&&e.data&&e.width&&e.height?"data":null}Object.defineProperty(t,"__esModule",{value:!0}),t.isImage=function(e){return Boolean(a(e))},t.deleteImage=function(e){switch(i(e)){case"imagebitmap":e.close()}},t.getImageType=i,t.getImageSize=function(e){return o(e)},t.getImageData=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode3DTileHeader=function(e,t,r){if(!t)return r+12;var i=e.magic,o=e.version,a=void 0===o?1:o,s=e.byteLength,u=void 0===s?12:s;return(0,n.assert)(Array.isArray(i)&&Number.isFinite(a)&&Number.isFinite(u)),t.setUint8(r+0,i[0]),t.setUint8(r+1,i[1]),t.setUint8(r+2,i[2]),t.setUint8(r+3,i[3]),t.setUint32(r+4,a,!0),t.setUint32(r+8,u,!0),r+=12},t.encode3DTileByteLength=function(e,t,r){if(!e)return;e.setUint32(t+8,r,!0)};var n=r(3)},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(17),i=r(2),o=r(1),a=r(9);class s extends n.a{get ELEMENTS(){return Object(a.a)(!1),0}get RANK(){return Object(a.a)(!1),0}toString(){let e="[";if(o.f.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,r){return this[t*this.RANK+e]=Object(i.a)(r),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let e=0;e<this.RANK;++e)t[e]=this[r+e];return t}setColumn(e,t){const r=e*this.RANK;for(let e=0;e<this.RANK;++e)this[r+e]=t[e];return this}}},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isMobile=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=i.self||i.window||i.global||{};t.self=o;var a=i.window||i.self||i.global||{};t.window=a;var s=i.global||i.self||i.window||{};t.global=s;var u=i.document||{};t.document=u;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var l="function"==typeof importScripts;t.isWorker=l;var f="undefined"!=typeof window&&void 0!==window.orientation;t.isMobile=f;var h=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),d=h&&parseFloat(h[1])||0;t.nodeVersion=d}).call(this,r(24),r(18))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(19),i=r(125),o=r(53);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(){},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"name",void 0),s(this,"source",void 0),s(this,"url",void 0),s(this,"terminated",!1),s(this,"worker",void 0),s(this,"onMessage",void 0),s(this,"onError",void 0),s(this,"_loadableURL","");var r=t.name,i=t.source,o=t.url;(0,n.assert)(i||o),this.name=r,this.source=i,this.url=o,this.onMessage=u,this.onError=function(e){return console.log(e)},this.worker=this._createBrowserWorker()}var t,r,c;return t=e,c=[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}],(r=[{key:"destroy",value:function(){this.onMessage=u,this.onError=u,this.worker.terminate(),this.terminated=!0}},{key:"isRunning",get:function(){return Boolean(this.onMessage)}},{key:"postMessage",value:function(e,t){t=t||(0,o.getTransferList)(e),this.worker.postMessage(e,t)}},{key:"_getErrorFromErrorEvent",value:function(e){var t="Failed to load ";return t+="worker ".concat(this.name,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}},{key:"_createBrowserWorker",value:function(){var e=this;this._loadableURL=(0,i.getLoadableWorkerURL)({source:this.source,url:this.url});var t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e._getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(e){return console.error(e)},t}}])&&a(t.prototype,r),c&&a(t,c),e}();t.default=c},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferList=function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0,a=o||new Set;if(t){if(i(t))a.add(t);else if(i(t.buffer))a.add(t.buffer);else if(ArrayBuffer.isView(t));else if(r&&"object"===n(t))for(var s in t)e(t[s],r,a)}else;return void 0===o?Array.from(a):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(5),o=r(68),a=r(55),s=r(32),u=r(96),c=r(169),l=r(97),f=r(170),h=(n=r(33))&&n.__esModule?n:{default:n};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=new i.Vector3;var w=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";v(this,e),m(this,"tileset",void 0),m(this,"header",void 0),m(this,"id",void 0),m(this,"url",void 0),m(this,"parent",void 0),m(this,"refine",void 0),m(this,"type",void 0),m(this,"contentUrl",void 0),m(this,"lodMetricType",void 0),m(this,"lodMetricValue",void 0),m(this,"boundingVolume",void 0),m(this,"content",void 0),m(this,"contentState",void 0),m(this,"gpuMemoryUsageInBytes",void 0),m(this,"children",void 0),m(this,"depth",void 0),m(this,"viewportIds",void 0),m(this,"transform",void 0),m(this,"userData",void 0),m(this,"computedTransform",void 0),m(this,"hasEmptyContent",void 0),m(this,"hasTilesetContent",void 0),m(this,"traverser",void 0),m(this,"_cacheNode",void 0),m(this,"_frameNumber",void 0),m(this,"_lodJudge",void 0),m(this,"_expireDate",void 0),m(this,"_expiredContent",void 0),m(this,"_shouldRefine",void 0),m(this,"_distanceToCamera",void 0),m(this,"_centerZDepth",void 0),m(this,"_screenSpaceError",void 0),m(this,"_visibilityPlaneMask",void 0),m(this,"_visible",void 0),m(this,"_inRequestVolume",void 0),m(this,"_stackLength",void 0),m(this,"_selectionDepth",void 0),m(this,"_touchedFrame",void 0),m(this,"_visitedFrame",void 0),m(this,"_selectedFrame",void 0),m(this,"_requestedFrame",void 0),m(this,"_priority",void 0),m(this,"_contentBoundingVolume",void 0),m(this,"_viewerRequestVolume",void 0),m(this,"_initialTransform",void 0),this.header=r,this.tileset=t,this.id=o||r.id,this.url=r.url,this.parent=n,this.refine=this._getRefine(r.refine),this.type=r.type,this.contentUrl=r.contentUrl,this.lodMetricType="geometricError",this.lodMetricValue=0,this.boundingVolume=null,this.content=null,this.contentState=s.TILE_CONTENT_STATE.UNLOADED,this.gpuMemoryUsageInBytes=0,this.children=[],this.hasEmptyContent=!1,this.hasTilesetContent=!1,this.depth=0,this.viewportIds=[],this.userData={},this._priority=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._screenSpaceError=0,this._cacheNode=null,this._frameNumber=null,this._cacheNode=null,this.traverser=new h.default({}),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._initialTransform=new i.Matrix4,this.transform=new i.Matrix4,this._initializeLodMetric(r),this._initializeTransforms(r),this._initializeBoundingVolumes(r),this._initializeContent(r),this._initializeRenderingState(r),this._lodJudge=null,this._expireDate=null,this._expiredContent=null,Object.seal(this)}var t,r,n,d,w;return t=e,(r=[{key:"destroy",value:function(){this.header=null}},{key:"isDestroyed",value:function(){return null===this.header}},{key:"selected",get:function(){return this._selectedFrame===this.tileset._frameNumber}},{key:"isVisible",get:function(){return this._visible}},{key:"isVisibleAndInRequestVolume",get:function(){return this._visible&&this._inRequestVolume}},{key:"hasRenderContent",get:function(){return!this.hasEmptyContent&&!this.hasTilesetContent}},{key:"hasChildren",get:function(){return this.children.length>0||this.header.children&&this.header.children.length>0}},{key:"contentReady",get:function(){return this.contentState===s.TILE_CONTENT_STATE.READY||this.hasEmptyContent}},{key:"contentAvailable",get:function(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}},{key:"hasUnloadedContent",get:function(){return this.hasRenderContent&&this.contentUnloaded}},{key:"contentUnloaded",get:function(){return this.contentState===s.TILE_CONTENT_STATE.UNLOADED}},{key:"contentExpired",get:function(){return this.contentState===s.TILE_CONTENT_STATE.EXPIRED}},{key:"contentFailed",get:function(){return this.contentState===s.TILE_CONTENT_STATE.FAILED}},{key:"getScreenSpaceError",value:function(e,t){switch(this.tileset.type){case s.TILESET_TYPE.I3S:return(0,l.getI3ScreenSize)(this,e);case s.TILESET_TYPE.TILES3D:return(0,c.getTiles3DScreenSpaceError)(this,e,t);default:throw new Error("Unsupported tileset type")}}},{key:"_getPriority",value:function(){var e=this.tileset._traverser,t=e.options.skipLevelOfDetail,r=this.refine===s.TILE_REFINEMENT.ADD||t;if(r&&!this.isVisible&&void 0!==this._visible)return-1;if(this.tileset._frameNumber-this._touchedFrame>=1)return-1;if(this.contentState===s.TILE_CONTENT_STATE.UNLOADED)return-1;var n=this.parent,i=!n||r&&0!==this._screenSpaceError&&!n.hasTilesetContent?this._screenSpaceError:n._screenSpaceError,o=e.root?e.root._screenSpaceError:0;return Math.max(o-i,0)}},{key:"loadContent",value:(d=regeneratorRuntime.mark((function e(){var t,r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasEmptyContent){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.content){e.next=4;break}return e.abrupt("return",!0);case 4:return this.contentExpired&&(this._expireDate=null),this.contentState=s.TILE_CONTENT_STATE.LOADING,e.next=9,this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority.bind(this));case 9:if(t=e.sent){e.next=13;break}return this.contentState=s.TILE_CONTENT_STATE.UNLOADED,e.abrupt("return",!1);case 13:return e.prev=13,r=this.tileset.getTileUrl(this.contentUrl),n=this.tileset.loader,i=p(p({},this.tileset.loadOptions),{},m({},n.id,p(p({},this.tileset.loadOptions[n.id]),{},{isTileset:"json"===this.type},this._getLoaderSpecificOptions(n.id)))),e.next=19,(0,a.load)(r,n,i);case 19:if(this.content=e.sent,!this.tileset.options.contentLoader){e.next=23;break}return e.next=23,this.tileset.options.contentLoader(this);case 23:return this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this),this.contentState=s.TILE_CONTENT_STATE.READY,this._onContentLoaded(),e.abrupt("return",!0);case 29:throw e.prev=29,e.t0=e.catch(13),this.contentState=s.TILE_CONTENT_STATE.FAILED,e.t0;case 33:return e.prev=33,t.done(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[13,29,33,36]])})),w=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=d.apply(e,t);function o(e){y(i,r,n,o,a,"next",e)}function a(e){y(i,r,n,o,a,"throw",e)}o(void 0)}))},function(){return w.apply(this,arguments)})},{key:"unloadContent",value:function(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.header.content&&this.header.content.destroy&&this.header.content.destroy(),this.header.content=null,this.contentState=s.TILE_CONTENT_STATE.UNLOADED,!0}},{key:"updateVisibility",value:function(e,t){if(this._frameNumber!==e.frameNumber){var r=this.parent,n=r?r._visibilityPlaneMask:o.CullingVolume.MASK_INDETERMINATE;if(this.tileset._traverser.options.updateTransforms){var i=r?r.computedTransform:this.tileset.modelMatrix;this._updateTransform(i)}this._distanceToCamera=this.distanceToTile(e),this._screenSpaceError=this.getScreenSpaceError(e,!1),this._visibilityPlaneMask=this.visibility(e,n),this._visible=this._visibilityPlaneMask!==o.CullingVolume.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(e),this._frameNumber=e.frameNumber,this.viewportIds=t}}},{key:"visibility",value:function(e,t){var r=e.cullingVolume,n=this.boundingVolume;return r.computeVisibilityWithPlaneMask(n,t)}},{key:"contentVisibility",value:function(){return!0}},{key:"distanceToTile",value:function(e){var t=this.boundingVolume;return Math.sqrt(Math.max(t.distanceSquaredTo(e.camera.position),0))}},{key:"cameraSpaceZDepth",value:function(e){var t=e.camera,r=this.boundingVolume;return g.subVectors(r.center,t.position),t.direction.dot(g)}},{key:"insideViewerRequestVolume",value:function(e){var t=this._viewerRequestVolume;return!t||t.distanceSquaredTo(e.camera.position)<=0}},{key:"updateExpiration",value:function(){if(null!=this._expireDate&&this.contentReady&&!this.hasEmptyContent){var e=Date.now();Date.lessThan(this._expireDate,e)&&(this.contentState=s.TILE_CONTENT_STATE.EXPIRED,this._expiredContent=this.content)}}},{key:"extras",get:function(){return this.header.extras}},{key:"_initializeLodMetric",value:function(e){"lodMetricType"in e?this.lodMetricType=e.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in e?this.lodMetricValue=e.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}},{key:"_initializeTransforms",value:function(e){this.transform=e.transform?new i.Matrix4(e.transform):new i.Matrix4;var t=this.parent,r=this.tileset,n=t&&t.computedTransform?t.computedTransform.clone():r.modelMatrix.clone();this.computedTransform=new i.Matrix4(n).multiplyRight(this.transform);var o=t&&t._initialTransform?t._initialTransform.clone():new i.Matrix4;this._initialTransform=new i.Matrix4(o).multiplyRight(this.transform)}},{key:"_initializeBoundingVolumes",value:function(e){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(e)}},{key:"_initializeContent",value:function(e){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=s.TILE_CONTENT_STATE.UNLOADED,this.hasTilesetContent=!1,e.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}},{key:"_initializeRenderingState",value:function(e){this.depth=e.level||(this.parent?this.parent.depth+1:0),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=o.CullingVolume.MASK_INDETERMINATE,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}},{key:"_getRefine",value:function(e){return e||this.parent&&this.parent.refine||s.TILE_REFINEMENT.REPLACE}},{key:"_isTileset",value:function(){return-1!==this.contentUrl.indexOf(".json")}},{key:"_onContentLoaded",value:function(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset._traverser.disableSkipLevelOfDetail=!0}this._isTileset()&&(this.hasTilesetContent=!0)}},{key:"_updateBoundingVolume",value:function(e){this.boundingVolume=(0,u.createBoundingVolume)(e.boundingVolume,this.computedTransform,this.boundingVolume);var t=e.content;t&&(t.boundingVolume&&(this._contentBoundingVolume=(0,u.createBoundingVolume)(t.boundingVolume,this.computedTransform,this._contentBoundingVolume)),e.viewerRequestVolume&&(this._viewerRequestVolume=(0,u.createBoundingVolume)(e.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}},{key:"_updateTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Matrix4,t=e.clone().multiplyRight(this.transform),r=!t.equals(this.computedTransform);r&&(this.computedTransform=t,this._updateBoundingVolume(this.header))}},{key:"_getLoaderSpecificOptions",value:function(e){switch(e){case"i3s":return p(p({},this.tileset.options.i3s),{},{tile:this.header,tileset:this.tileset.tileset,isTileHeader:!1});case"3d-tiles":case"cesium-ion":default:return(0,f.get3dTilesOptions)(this.tileset.tileset)}}}])&&b(t.prototype,r),n&&b(t,n),e}();t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return n.fetchFile}}),Object.defineProperty(t,"readArrayBuffer",{enumerable:!0,get:function(){return i.readArrayBuffer}}),Object.defineProperty(t,"readFileSync",{enumerable:!0,get:function(){return o.readFileSync}}),Object.defineProperty(t,"writeFile",{enumerable:!0,get:function(){return a.writeFile}}),Object.defineProperty(t,"writeFileSync",{enumerable:!0,get:function(){return a.writeFileSync}}),Object.defineProperty(t,"setLoaderOptions",{enumerable:!0,get:function(){return s.setLoaderOptions}}),Object.defineProperty(t,"registerLoaders",{enumerable:!0,get:function(){return u.registerLoaders}}),Object.defineProperty(t,"_unregisterLoaders",{enumerable:!0,get:function(){return u._unregisterLoaders}}),Object.defineProperty(t,"selectLoader",{enumerable:!0,get:function(){return c.selectLoader}}),Object.defineProperty(t,"selectLoaderSync",{enumerable:!0,get:function(){return c.selectLoaderSync}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.parse}}),Object.defineProperty(t,"parseSync",{enumerable:!0,get:function(){return f.parseSync}}),Object.defineProperty(t,"parseInBatches",{enumerable:!0,get:function(){return h.parseInBatches}}),Object.defineProperty(t,"load",{enumerable:!0,get:function(){return d.load}}),Object.defineProperty(t,"loadInBatches",{enumerable:!0,get:function(){return p.loadInBatches}}),Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return y.encode}}),Object.defineProperty(t,"encodeSync",{enumerable:!0,get:function(){return y.encodeSync}}),Object.defineProperty(t,"encodeInBatches",{enumerable:!0,get:function(){return y.encodeInBatches}}),Object.defineProperty(t,"encodeText",{enumerable:!0,get:function(){return y.encodeText}}),Object.defineProperty(t,"encodeURLtoURL",{enumerable:!0,get:function(){return y.encodeURLtoURL}}),Object.defineProperty(t,"save",{enumerable:!0,get:function(){return v.save}}),Object.defineProperty(t,"saveSync",{enumerable:!0,get:function(){return v.saveSync}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return b.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return b.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return b.resolvePath}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return b.RequestScheduler}}),Object.defineProperty(t,"JSONLoader",{enumerable:!0,get:function(){return b.JSONLoader}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return b.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return b.isWorker}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return b.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return b.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return b.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return b.document}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return b.assert}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return b.forEach}}),Object.defineProperty(t,"concatenateArrayBuffersAsync",{enumerable:!0,get:function(){return b.concatenateArrayBuffersAsync}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return b.makeTextDecoderIterator}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return b.makeTextEncoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return b.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return b.makeNumberedLineIterator}}),Object.defineProperty(t,"makeIterator",{enumerable:!0,get:function(){return m.makeIterator}}),Object.defineProperty(t,"makeStream",{enumerable:!0,get:function(){return g.makeStream}}),Object.defineProperty(t,"makeDOMStream",{enumerable:!0,get:function(){return w.makeDOMStream}}),Object.defineProperty(t,"makeNodeStream",{enumerable:!0,get:function(){return O.makeNodeStream}}),Object.defineProperty(t,"NullWorkerLoader",{enumerable:!0,get:function(){return _.NullWorkerLoader}}),Object.defineProperty(t,"NullLoader",{enumerable:!0,get:function(){return _.NullLoader}}),Object.defineProperty(t,"_fetchProgress",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"_BrowserFileSystem",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"isPureObject",{enumerable:!0,get:function(){return j.isPureObject}}),Object.defineProperty(t,"isPromise",{enumerable:!0,get:function(){return j.isPromise}}),Object.defineProperty(t,"isIterable",{enumerable:!0,get:function(){return j.isIterable}}),Object.defineProperty(t,"isAsyncIterable",{enumerable:!0,get:function(){return j.isAsyncIterable}}),Object.defineProperty(t,"isIterator",{enumerable:!0,get:function(){return j.isIterator}}),Object.defineProperty(t,"isResponse",{enumerable:!0,get:function(){return j.isResponse}}),Object.defineProperty(t,"isReadableStream",{enumerable:!0,get:function(){return j.isReadableStream}}),Object.defineProperty(t,"isWritableStream",{enumerable:!0,get:function(){return j.isWritableStream}});var n=r(56),i=r(150),o=r(151),a=r(57),s=r(152),u=r(91),c=r(43),l=r(58),f=r(159),h=r(93),d=r(160),p=r(161),y=r(94),v=r(162),b=r(3),m=r(92),g=r(163),w=r(95),O=r(165),_=r(166),T=S(r(167)),P=S(r(168)),j=r(13);function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFile=function(e,t){return s.apply(this,arguments)};var n=r(3),i=r(89);function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}function s(){return(s=a(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=7;break}return t=(0,n.resolvePath)(t),o=r,null!=r&&r.fetch&&"function"!=typeof(null==r?void 0:r.fetch)&&(o=r.fetch),e.next=6,fetch(t,o);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,(0,i.makeResponse)(t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeFile=function(e,t,r){return a.apply(this,arguments)},t.writeFileSync=function(e,t,r){e=(0,n.resolvePath)(e),n.isBrowser||n.fs.writeFileSync(e,(0,n.toBuffer)(t),{flag:"w"});(0,n.assert)(!1)};var n=r(3);function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,n.resolvePath)(t),n.isBrowser){e.next=4;break}return e.next=4,n.fs.writeFile(t,(0,n.toBuffer)(r),{flag:"w"});case 4:(0,n.assert)(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=p;var n=r(39),i=r(3),o=r(20),a=r(14),s=r(59),u=r(60),c=r(31),l=r(43);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t,r,n){return y.apply(this,arguments)}function y(){return(y=d(regeneratorRuntime.mark((function e(t,r,i,s){var h,d,y,b,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.assert)(!s||"object"===f(s)),!r||Array.isArray(r)||(0,o.isLoaderObject)(r)||(s=void 0,i=r,r=void 0),e.next=4,t;case 4:return t=e.sent,i=i||{},h=(0,c.getResourceUrlAndType)(t),d=h.url,y=r,b=(0,u.getLoadersFromContext)(y,s),e.next=11,(0,l.selectLoader)(t,b,i);case 11:if(m=e.sent){e.next=14;break}return e.abrupt("return",null);case 14:return i=(0,a.normalizeOptions)(i,m,b,d),s=(0,u.getLoaderContext)({url:d,parse:p,loaders:b},i,s),e.next=18,v(m,t,i,s);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,r,n){return b.apply(this,arguments)}function b(){return(b=d(regeneratorRuntime.mark((function e(t,r,o,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.validateWorkerVersion)(t),e.next=3,(0,s.getArrayBufferOrStringFromData)(r,t,o);case 3:if(r=e.sent,!t.parseTextSync||"string"!=typeof r){e.next=7;break}return o.dataType="text",e.abrupt("return",t.parseTextSync(r,o,a,t));case 7:if(!(0,i.canParseWithWorker)(t,o)){e.next=11;break}return e.next=10,(0,i.parseWithWorker)(t,r,o,a,p);case 10:return e.abrupt("return",e.sent);case 11:if(!t.parseText||"string"!=typeof r){e.next=15;break}return e.next=14,t.parseText(r,o,a,t);case 14:return e.abrupt("return",e.sent);case 15:if(!t.parse){e.next=19;break}return e.next=18,t.parse(r,o,a,t);case 18:return e.abrupt("return",e.sent);case 19:throw(0,n.assert)(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrayBufferOrStringFromDataSync=l,t.getArrayBufferOrStringFromData=function(e,t,r){return f.apply(this,arguments)},t.getAsyncIterableFromData=function(e,t){return h.apply(this,arguments)},t.getReadableStream=function(e){return d.apply(this,arguments)};var n=r(3),i=r(13),o=r(92),a=r(89);function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}var c="Cannot convert supplied data type";function l(e,t,r){if(t.text&&"string"==typeof e)return e;if((0,i.isBuffer)(e)&&(e=e.buffer),e instanceof ArrayBuffer){var n=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var o=e.buffer,a=e.byteLength||e.length;return 0===e.byteOffset&&a===o.byteLength||(o=o.slice(e.byteOffset,e.byteOffset+a)),o}throw new Error(c)}function f(){return(f=u(regeneratorRuntime.mark((function e(t,r,s){var u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!u){e.next=3;break}return e.abrupt("return",l(t,r));case 3:if(!(0,i.isBlob)(t)){e.next=7;break}return e.next=6,(0,a.makeResponse)(t);case 6:t=e.sent;case 7:if(!(0,i.isResponse)(t)){e.next=21;break}return f=t,e.next=11,(0,a.checkResponse)(f);case 11:if(!r.binary){e.next=17;break}return e.next=14,f.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,f.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if((0,i.isReadableStream)(t)&&(t=(0,o.makeIterator)(t,s)),!(0,i.isIterable)(t)&&!(0,i.isAsyncIterable)(t)){e.next=24;break}return e.abrupt("return",(0,n.concatenateArrayBuffersAsync)(t));case 24:throw new Error(c);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=u(regeneratorRuntime.mark((function e(t,r){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.isIterator)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,i.isResponse)(t)){e.next=10;break}return n=t,e.next=6,(0,a.checkResponse)(n);case 6:return e.next=8,n.body;case 8:return s=e.sent,e.abrupt("return",(0,o.makeIterator)(s,r));case 10:if(!(0,i.isBlob)(t)&&!(0,i.isReadableStream)(t)){e.next=12;break}return e.abrupt("return",(0,o.makeIterator)(t,r));case 12:if(!(0,i.isAsyncIterable)(t)){e.next=14;break}return e.abrupt("return",t[Symbol.asyncIterator]());case 14:return e.abrupt("return",p(t));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=u(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.isReadableStream)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,i.isResponse)(t)){e.next=4;break}return e.abrupt("return",t.body);case 4:return e.next=6,(0,a.makeResponse)(t);case 6:return r=e.sent,e.abrupt("return",r.body);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){if(ArrayBuffer.isView(e))return regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.buffer;case 2:case"end":return t.stop()}}),t)}))();if(e instanceof ArrayBuffer)return regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:case"end":return t.stop()}}),t)}))();if((0,i.isIterator)(e))return e;if((0,i.isIterable)(e))return e[Symbol.iterator]();throw new Error(c)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoaderContext=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r)return r;var i=s({fetch:(0,n.getFetchFunction)(t,e)},e);Array.isArray(i.loaders)||(i.loaders=null);return i},t.getLoadersFromContext=function(e,t){if(!t&&e&&!Array.isArray(e))return e;var r;e&&(r=Array.isArray(e)?e:[e]);if(t&&t.loaders){var n=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[].concat(i(r),i(n)):n}return r&&r.length?r:null};var n=r(14);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Schema",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(t,"DataType",{enumerable:!0,get:function(){return o.DataType}}),Object.defineProperty(t,"Null",{enumerable:!0,get:function(){return o.Null}}),Object.defineProperty(t,"Bool",{enumerable:!0,get:function(){return o.Bool}}),Object.defineProperty(t,"Int",{enumerable:!0,get:function(){return o.Int}}),Object.defineProperty(t,"Int8",{enumerable:!0,get:function(){return o.Int8}}),Object.defineProperty(t,"Int16",{enumerable:!0,get:function(){return o.Int16}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return o.Int32}}),Object.defineProperty(t,"Int64",{enumerable:!0,get:function(){return o.Int64}}),Object.defineProperty(t,"Uint8",{enumerable:!0,get:function(){return o.Uint8}}),Object.defineProperty(t,"Uint16",{enumerable:!0,get:function(){return o.Uint16}}),Object.defineProperty(t,"Uint32",{enumerable:!0,get:function(){return o.Uint32}}),Object.defineProperty(t,"Uint64",{enumerable:!0,get:function(){return o.Uint64}}),Object.defineProperty(t,"Float",{enumerable:!0,get:function(){return o.Float}}),Object.defineProperty(t,"Float16",{enumerable:!0,get:function(){return o.Float16}}),Object.defineProperty(t,"Float32",{enumerable:!0,get:function(){return o.Float32}}),Object.defineProperty(t,"Float64",{enumerable:!0,get:function(){return o.Float64}}),Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return o.Binary}}),Object.defineProperty(t,"Utf8",{enumerable:!0,get:function(){return o.Utf8}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return o.Date}}),Object.defineProperty(t,"DateDay",{enumerable:!0,get:function(){return o.DateDay}}),Object.defineProperty(t,"DateMillisecond",{enumerable:!0,get:function(){return o.DateMillisecond}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return o.Time}}),Object.defineProperty(t,"TimeSecond",{enumerable:!0,get:function(){return o.TimeSecond}}),Object.defineProperty(t,"TimeMillisecond",{enumerable:!0,get:function(){return o.TimeMillisecond}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return o.Timestamp}}),Object.defineProperty(t,"TimestampSecond",{enumerable:!0,get:function(){return o.TimestampSecond}}),Object.defineProperty(t,"TimestampMillisecond",{enumerable:!0,get:function(){return o.TimestampMillisecond}}),Object.defineProperty(t,"TimestampMicrosecond",{enumerable:!0,get:function(){return o.TimestampMicrosecond}}),Object.defineProperty(t,"TimestampNanosecond",{enumerable:!0,get:function(){return o.TimestampNanosecond}}),Object.defineProperty(t,"Interval",{enumerable:!0,get:function(){return o.Interval}}),Object.defineProperty(t,"IntervalDayTime",{enumerable:!0,get:function(){return o.IntervalDayTime}}),Object.defineProperty(t,"IntervalYearMonth",{enumerable:!0,get:function(){return o.IntervalYearMonth}}),Object.defineProperty(t,"FixedSizeList",{enumerable:!0,get:function(){return o.FixedSizeList}});var n=a(r(182)),i=a(r(184)),o=r(185);function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("math.gl assertion failed. ".concat(t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(3),i=r(201),o=r(202);function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return null!=e}var f=function(e,t){return e},h={HIERARCHY:!0,extensions:!0,extras:!0},d=function(){function e(t,r,i){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(var c in u(this,e),(0,n.assert)(i>=0),this.json=t||{},this.binary=r,this.featureCount=i,this._extensions=(null===(a=this.json)||void 0===a?void 0:a.extensions)||{},this._properties={},this.json)h[c]||(this._properties[c]=this.json[c]);this._binaryProperties=this._initializeBinaryProperties(),s["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=(0,o.initializeHierarchy)(this,this.json,this.binary))}var t,r,s;return t=e,(r=[{key:"getExtension",value:function(e){return this.json&&this.json.extensions&&this.json.extensions[e]}},{key:"memorySizeInBytes",value:function(){return 0}},{key:"isClass",value:function(e,t){return this._checkBatchId(e),(0,n.assert)("string"==typeof t,t),!!this._hierarchy&&l((0,o.traverseHierarchy)(this._hierarchy,e,(function(e,r){var n=e.classIds[r];return e.classes[n].name===t})))}},{key:"isExactClass",value:function(e,t){return(0,n.assert)("string"==typeof t,t),this.getExactClassName(e)===t}},{key:"getExactClassName",value:function(e){if(this._checkBatchId(e),this._hierarchy){var t=this._hierarchy.classIds[e];return this._hierarchy.classes[t].name}}},{key:"hasProperty",value:function(e,t){return this._checkBatchId(e),(0,n.assert)("string"==typeof t,t),l(this._properties[t])||this._hasPropertyInHierarchy(e,t)}},{key:"getPropertyNames",value:function(e,t){var r;this._checkBatchId(e),(t=l(t)?t:[]).length=0;var n=Object.keys(this._properties);return(r=t).push.apply(r,a(n)),this._hierarchy&&this._getPropertyNamesInHierarchy(e,t),t}},{key:"getProperty",value:function(e,t){if(this._checkBatchId(e),(0,n.assert)("string"==typeof t,t),this._binaryProperties){var r=this._binaryProperties[t];if(l(r))return this._getBinaryProperty(r,e)}var i=this._properties[t];if(l(i))return f(i[e]);if(this._hierarchy){var o=this._getHierarchyProperty(e,t);if(l(o))return o}}},{key:"setProperty",value:function(e,t,r){var i=this.featureCount;if(this._checkBatchId(e),(0,n.assert)("string"==typeof t,t),this._binaryProperties){var o=this._binaryProperties[t];if(o)return void this._setBinaryProperty(o,e,r)}if(!this._hierarchy||!this._setHierarchyProperty(this,e,t,r)){var a=this._properties[t];l(a)||(this._properties[t]=new Array(i),a=this._properties[t]),a[e]=f(r)}}},{key:"_checkBatchId",value:function(e){if(!(e>=0&&e<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}},{key:"_getBinaryProperty",value:function(e,t){return e.unpack(e.typedArray,t)}},{key:"_setBinaryProperty",value:function(e,t,r){e.pack(r,e.typedArray,t)}},{key:"_initializeBinaryProperties",value:function(){var e=null;for(var t in this._properties){var r=this._properties[t],n=this._initializeBinaryProperty(t,r);n&&((e=e||{})[t]=n)}return e}},{key:"_initializeBinaryProperty",value:function(e,t){if("byteOffset"in t){var r=t;(0,n.assert)(this.binary,"Property ".concat(e," requires a batch table binary.")),(0,n.assert)(r.type,"Property ".concat(e," requires a type."));var o=(0,i.createTypedArrayFromAccessor)(r,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:o.values,componentCount:o.size,unpack:o.unpacker,pack:o.packer}}return null}},{key:"_hasPropertyInHierarchy",value:function(e,t){if(!this._hierarchy)return!1;var r=(0,o.traverseHierarchy)(this._hierarchy,e,(function(e,r){var n=e.classIds[r];return l(e.classes[n].instances[t])}));return l(r)}},{key:"_getPropertyNamesInHierarchy",value:function(e,t){(0,o.traverseHierarchy)(this._hierarchy,e,(function(e,r){var n=e.classIds[r],i=e.classes[n].instances;for(var o in i)i.hasOwnProperty(o)&&-1===t.indexOf(o)&&t.push(o)}))}},{key:"_getHierarchyProperty",value:function(e,t){var r=this;return(0,o.traverseHierarchy)(this._hierarchy,e,(function(e,n){var i=e.classIds[n],o=e.classes[i],a=e.classIndexes[n],s=o.instances[t];return l(s)?l(s.typedArray)?r._getBinaryProperty(s,a):f(s[a]):null}))}},{key:"_setHierarchyProperty",value:function(e,t,r,i){var a=this,s=(0,o.traverseHierarchy)(this._hierarchy,t,(function(e,o){var s=e.classIds[o],u=e.classes[s],c=e.classIndexes[o],h=u.instances[r];return!!l(h)&&((0,n.assert)(o===t,'Inherited property "'.concat(r,'" is read-only.')),l(h.typedArray)?a._setBinaryProperty(h,c,i):h[c]=f(i),!0)}));return l(s)}}])&&c(t.prototype,r),s&&c(t,s),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse3DTileTablesHeaderSync=function(e,t,r){var n,i=new DataView(t);e.header=e.header||{};var o=i.getUint32(r,!0);r+=4;var a=i.getUint32(r,!0);r+=4;var s=i.getUint32(r,!0);r+=4;var u=i.getUint32(r,!0);r+=4,s>=570425344?(r-=8,n=o,s=a,u=0,o=0,a=0,console.warn("b3dm tile in legacy format.")):u>=570425344&&(r-=4,n=s,s=o,u=a,o=0,a=0,console.warn("b3dm tile in legacy format."));return e.header.featureTableJsonByteLength=o,e.header.featureTableBinaryByteLength=a,e.header.batchTableJsonByteLength=s,e.header.batchTableBinaryByteLength=u,e.header.batchLength=n,r},t.parse3DTileTablesSync=function(e,t,r,i){return r=function(e,t,r,i){var o=e.header,a=o.featureTableJsonByteLength,s=o.featureTableBinaryByteLength,u=o.batchLength;if(e.featureTableJson={BATCH_LENGTH:u||0},a>0){var c=(0,n.getStringFromArrayBuffer)(t,r,a);e.featureTableJson=JSON.parse(c)}return r+=a,e.featureTableBinary=new Uint8Array(t,r,s),r+=s}(e,t,r),r=function(e,t,r,i){var o=e.header,a=o.batchTableJsonByteLength,s=o.batchTableBinaryByteLength;if(a>0){var u=(0,n.getStringFromArrayBuffer)(t,r,a);e.batchTableJson=JSON.parse(u),r+=a,s>0&&(e.batchTableBinary=new Uint8Array(t,r,s),e.batchTableBinary=new Uint8Array(e.batchTableBinary),r+=s)}return r}(e,t,r)};var n=r(99)},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=i.self||i.window||i.global;t.self=o;var a=i.window||i.self||i.global;t.window=a;var s=i.global||i.self||i.window;t.global=s;var u=i.document||{};t.document=u;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var l="function"==typeof importScripts;t.isWorker=l;var f=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),h=f&&parseFloat(f[1])||0;t.nodeVersion=h}).call(this,r(24),r(18))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBinaryImageMetadata=function(e){var t=i(e);return function(e){var t=i(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,!1)))return null;return{mimeType:"image/png",width:t.getUint32(16,!1),height:t.getUint32(20,!1)}}(t)||function(e){var t=i(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,!1)&&255===t.getUint8(2)))return null;var r=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}(),n=r.tableMarkers,o=r.sofMarkers,a=2;for(;a+9<t.byteLength;){var s=t.getUint16(a,!1);if(o.has(s))return{mimeType:"image/jpeg",height:t.getUint16(a+5,!1),width:t.getUint16(a+7,!1)};if(!n.has(s))return null;a+=2,a+=t.getUint16(a,!1)}return null}(t)||function(e){var t=i(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,!1)))return null;return{mimeType:"image/gif",width:t.getUint16(6,!0),height:t.getUint16(8,!0)}}(t)||n(t)},t.getBmpMetadata=n;function n(e){var t=i(e);return t.byteLength>=14&&16973===t.getUint16(0,!1)&&t.getUint32(2,!0)===t.byteLength?{mimeType:"image/bmp",width:t.getUint32(18,!0),height:t.getUint32(22,!0)}:null}function i(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccessorTypeFromSize=function(e){return i[e-1]||i[0]},t.getComponentTypeFromArray=function(e){var t=a.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t},t.getAccessorArrayTypeAndLength=function(e,t){var r=c[e.componentType],i=s[e.type],o=u[e.componentType],a=e.count*i,l=e.count*i*o;return(0,n.assert)(l>=0&&l<=t.byteLength),{ArrayType:r,length:a,byteLength:l}};var n=r(26),i=["SCALAR","VEC2","VEC3","VEC4"],o=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],a=new Map(o),s={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},u={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},c={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}},function(e,t,r){"use strict";r.r(t),r.d(t,"INTERSECTION",(function(){return n})),r.d(t,"AxisAlignedBoundingBox",(function(){return s})),r.d(t,"BoundingSphere",(function(){return f})),r.d(t,"OrientedBoundingBox",(function(){return M})),r.d(t,"CullingVolume",(function(){return U})),r.d(t,"Plane",(function(){return D})),r.d(t,"_PerspectiveOffCenterFrustum",(function(){return H})),r.d(t,"_PerspectiveFrustum",(function(){return Z})),r.d(t,"makeBoundingSphereFromPoints",(function(){return ue})),r.d(t,"makeAxisAlignedBoundingBoxFromPoints",(function(){return xe})),r.d(t,"makeOrientedBoundingBoxFromPoints",(function(){return Ee})),r.d(t,"computeEigenDecomposition",(function(){return ye})),r.d(t,"Intersect",(function(){return n})),r.d(t,"INTERSECT",(function(){return n}));const n=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});var i=r(23);const o=new i.a,a=new i.a;class s{constructor(e=[0,0,0],t=[0,0,0],r=null){r=r||o.copy(e).add(t).scale(.5),this.center=new i.a(r),this.halfDiagonal=new i.a(t).subtract(this.center),this.minimum=new i.a(e),this.maximum=new i.a(t)}clone(){return new s(this.minimum,this.maximum,this.center)}equals(e){return this===e||Boolean(e)&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}transform(e){return this.center.transformAsPoint(e),this.halfDiagonal.transform(e),this.minimum.transform(e),this.maximum.transform(e),this}intersectPlane(e){const{halfDiagonal:t}=this,r=a.from(e.normal),i=t.x*Math.abs(r.x)+t.y*Math.abs(r.y)+t.z*Math.abs(r.z),o=this.center.dot(r)+e.distance;return o-i>0?n.INSIDE:o+i<0?n.OUTSIDE:n.INTERSECTING}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}distanceSquaredTo(e){const t=o.from(e).subtract(this.center),{halfDiagonal:r}=this;let n,i=0;return n=Math.abs(t.x)-r.x,n>0&&(i+=n*n),n=Math.abs(t.y)-r.y,n>0&&(i+=n*n),n=Math.abs(t.z)-r.z,n>0&&(i+=n*n),i}}var u=r(6);const c=new i.a,l=new i.a;class f{constructor(e=[0,0,0],t=0){this.radius=-0,this.center=new i.a,this.fromCenterRadius(e,t)}fromCenterRadius(e,t){return this.center.from(e),this.radius=t,this}fromCornerPoints(e,t){return t=c.from(t),this.center=(new i.a).from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}equals(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.radius===e.radius}clone(){return new f(this.center,this.radius)}union(e){const t=this.center,r=this.radius,n=e.center,i=e.radius,o=c.copy(n).subtract(t),a=o.magnitude();if(r>=a+i)return this.clone();if(i>=a+r)return e.clone();const s=.5*(r+a+i);return l.copy(o).scale((-r+s)/a).add(t),this.center.copy(l),this.radius=s,this}expand(e){const t=(e=c.from(e)).subtract(this.center).magnitude();return t>this.radius&&(this.radius=t),this}transform(e){this.center.transform(e);const t=u.d(c,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}distanceSquaredTo(e){return(e=c.from(e)).subtract(this.center).lengthSquared()-this.radius*this.radius}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}intersectPlane(e){const t=this.center,r=this.radius,i=e.normal.dot(t)+e.distance;return i<-r?n.OUTSIDE:i<r?n.INTERSECTING:n.INSIDE}}var h=r(84),d=r(38);const p=new i.a,y=new i.a,v=new i.a,b=new i.a,m=new i.a,g=new i.a,w=new i.a,O=0,_=1,T=2,P=3,j=4,S=5,E=6,x=7,k=8;class M{constructor(e=[0,0,0],t=[0,0,0,0,0,0,0,0,0]){this.center=(new i.a).from(e),this.halfAxes=new h.a(t)}get halfSize(){const e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new i.a(e).len(),new i.a(t).len(),new i.a(r).len()]}get quaternion(){const e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),n=new i.a(e).normalize(),o=new i.a(t).normalize(),a=new i.a(r).normalize();return(new d.a).fromMatrix3(new h.a([...n,...o,...a]))}fromCenterHalfSizeQuaternion(e,t,r){const n=new d.a(r),o=(new h.a).fromQuaternion(n);return o[0]=o[0]*t[0],o[1]=o[1]*t[0],o[2]=o[2]*t[0],o[3]=o[3]*t[1],o[4]=o[4]*t[1],o[5]=o[5]*t[1],o[6]=o[6]*t[2],o[7]=o[7]*t[2],o[8]=o[8]*t[2],this.center=(new i.a).from(e),this.halfAxes=o,this}clone(){return new M(this.center,this.halfAxes)}equals(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}getBoundingSphere(e=new f){const t=this.halfAxes,r=t.getColumn(0,v),n=t.getColumn(1,b),i=t.getColumn(2,m),o=p.copy(r).add(n).add(i);return e.center.copy(this.center),e.radius=o.magnitude(),e}intersectPlane(e){const t=this.center,r=e.normal,i=this.halfAxes,o=r.x,a=r.y,s=r.z,u=Math.abs(o*i[O]+a*i[_]+s*i[T])+Math.abs(o*i[P]+a*i[j]+s*i[S])+Math.abs(o*i[E]+a*i[x]+s*i[k]),c=r.dot(t)+e.distance;return c<=-u?n.OUTSIDE:c>=u?n.INSIDE:n.INTERSECTING}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}distanceSquaredTo(e){const t=y.from(e).subtract(this.center),r=this.halfAxes,n=r.getColumn(0,v),i=r.getColumn(1,b),o=r.getColumn(2,m),a=n.magnitude(),s=i.magnitude(),u=o.magnitude();n.normalize(),i.normalize(),o.normalize();let c,l=0;return c=Math.abs(t.dot(n))-a,c>0&&(l+=c*c),c=Math.abs(t.dot(i))-s,c>0&&(l+=c*c),c=Math.abs(t.dot(o))-u,c>0&&(l+=c*c),l}computePlaneDistances(e,t,r=[-0,-0]){let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const o=this.center,a=this.halfAxes,s=a.getColumn(0,v),u=a.getColumn(1,b),c=a.getColumn(2,m),l=g.copy(s).add(u).add(c).add(o),f=w.copy(l).subtract(e);let h=t.dot(f);return n=Math.min(h,n),i=Math.max(h,i),l.copy(o).add(s).add(u).subtract(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),l.copy(o).add(s).subtract(u).add(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),l.copy(o).add(s).subtract(u).subtract(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),o.copy(l).subtract(s).add(u).add(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),o.copy(l).subtract(s).add(u).subtract(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),o.copy(l).subtract(s).subtract(u).add(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),o.copy(l).subtract(s).subtract(u).subtract(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),r[0]=n,r[1]=i,r}transform(e){this.center.transformAsPoint(e);const t=this.halfAxes.getColumn(0,v);t.transformAsPoint(e);const r=this.halfAxes.getColumn(1,b);r.transformAsPoint(e);const n=this.halfAxes.getColumn(2,m);return n.transformAsPoint(e),this.halfAxes=new h.a([...t,...r,...n]),this}getTransform(){throw new Error("not implemented")}}var I=r(9),A=r(1);const R=new i.a,L=new i.a;class D{constructor(e=[0,0,1],t=0){this.normal=new i.a,this.distance=-0,this.fromNormalDistance(e,t)}fromNormalDistance(e,t){return Object(I.a)(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}fromPointNormal(e,t){e=R.from(e),this.normal.from(t).normalize();const r=-this.normal.dot(e);return this.distance=r,this}fromCoefficients(e,t,r,n){return this.normal.set(e,t,r),Object(I.a)(Object(A.j)(this.normal.len(),1)),this.distance=n,this}clone(e){return new D(this.normal,this.distance)}equals(e){return Object(A.j)(this.distance,e.distance)&&Object(A.j)(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const t=L.copy(this.normal).transformAsVector(e).normalize(),r=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(r,t)}projectPointOntoPlane(e,t=[0,0,0]){e=R.from(e);const r=this.getPointDistance(e),n=L.copy(this.normal).scale(r);return e.subtract(n).to(t)}}const N=[new i.a([1,0,0]),new i.a([0,1,0]),new i.a([0,0,1])],C=new i.a,B=new i.a;new D(new i.a(1,0,0),0);class U{static get MASK_OUTSIDE(){return 4294967295}static get MASK_INSIDE(){return 0}static get MASK_INDETERMINATE(){return 2147483647}constructor(e=[]){this.planes=e,Object(I.a)(this.planes.every(e=>e instanceof D))}fromBoundingSphere(e){this.planes.length=2*N.length;const t=e.center,r=e.radius;let n=0;for(const e of N){let i=this.planes[n],o=this.planes[n+1];i||(i=this.planes[n]=new D),o||(o=this.planes[n+1]=new D);const a=C.copy(e).scale(-r).add(t);e.dot(a);i.fromPointNormal(a,e);const s=C.copy(e).scale(r).add(t),u=B.copy(e).negate();u.dot(s);o.fromPointNormal(s,u),n+=2}return this}computeVisibility(e){Object(I.a)(e);let t=n.INSIDE;for(const r of this.planes){switch(e.intersectPlane(r)){case n.OUTSIDE:return n.OUTSIDE;case n.INTERSECTING:t=n.INTERSECTING}}return t}computeVisibilityWithPlaneMask(e,t){if(Object(I.a)(e,"boundingVolume is required."),Object(I.a)(Number.isFinite(t),"parentPlaneMask is required."),t===U.MASK_OUTSIDE||t===U.MASK_INSIDE)return t;let r=U.MASK_INSIDE;const i=this.planes;for(let o=0;o<this.planes.length;++o){const a=o<31?1<<o:0;if(o<31&&0==(t&a))continue;const s=i[o],u=e.intersectPlane(s);if(u===n.OUTSIDE)return U.MASK_OUTSIDE;u===n.INTERSECTING&&(r|=a)}return r}}var F=r(30);const V=new i.a,G=new i.a,z=new i.a,q=new i.a,W=new i.a;class H{constructor(e={}){e={near:1,far:5e8,...e},this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=e.near,this._near=this.near,this.far=e.far,this._far=this.far,this._cullingVolume=new U([new D,new D,new D,new D,new D,new D]),this._perspectiveMatrix=new F.a,this._infinitePerspective=new F.a}clone(){return new H({right:this.right,left:this.left,top:this.top,bottom:this.bottom,near:this.near,far:this.far})}equals(e){return e&&e instanceof H&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far}get projectionMatrix(){return Y(this),this._perspectiveMatrix}get infiniteProjectionMatrix(){return Y(this),this._infinitePerspective}computeCullingVolume(e,t,r){Object(I.a)(e,"position is required."),Object(I.a)(t,"direction is required."),Object(I.a)(r,"up is required.");const n=this._cullingVolume.planes;r=V.copy(r).normalize();const o=G.copy(t).cross(r).normalize(),a=z.copy(t).multiplyByScalar(this.near).add(e),s=q.copy(t).multiplyByScalar(this.far).add(e);let u=W;return u.copy(o).multiplyByScalar(this.left).add(a).subtract(e).cross(r),n[0].fromPointNormal(e,u),u.copy(o).multiplyByScalar(this.right).add(a).subtract(e).cross(r).negate(),n[1].fromPointNormal(e,u),u.copy(r).multiplyByScalar(this.bottom).add(a).subtract(e).cross(o).negate(),n[2].fromPointNormal(e,u),u.copy(r).multiplyByScalar(this.top).add(a).subtract(e).cross(o),n[3].fromPointNormal(e,u),u=(new i.a).copy(t),n[4].fromPointNormal(a,u),u.negate(),n[5].fromPointNormal(s,u),this._cullingVolume}getPixelDimensions(e,t,r,n){Y(this),Object(I.a)(Number.isFinite(e)&&Number.isFinite(t)),Object(I.a)(e>0),Object(I.a)(t>0),Object(I.a)(r>0),Object(I.a)(n);const i=1/this.near;let o=this.top*i;const a=2*r*o/t;o=this.right*i;const s=2*r*o/e;return n.x=s,n.y=a,n}}function Y(e){Object(I.a)(Number.isFinite(e.right)&&Number.isFinite(e.left)&&Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.near)&&Number.isFinite(e.far));const{top:t,bottom:r,right:n,left:i,near:o,far:a}=e;t===e._top&&r===e._bottom&&i===e._left&&n===e._right&&o===e._near&&a===e._far||(Object(I.a)(e.near>0&&e.near<e.far,"near must be greater than zero and less than far."),e._left=i,e._right=n,e._top=t,e._bottom=r,e._near=o,e._far=a,e._perspectiveMatrix=(new F.a).frustum({left:i,right:n,bottom:r,top:t,near:o,far:a}),e._infinitePerspective=(new F.a).frustum({left:i,right:n,bottom:r,top:t,near:o,far:1/0}))}class Z{constructor(e={}){e={near:1,far:5e8,xOffset:0,yOffset:0,...e},this._offCenterFrustum=new H,this.fov=e.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=e.near,this._near=this.near,this.far=e.far,this._far=this.far,this.xOffset=e.xOffset,this._xOffset=this.xOffset,this.yOffset=e.yOffset,this._yOffset=this.yOffset}clone(){return new Z({aspectRatio:this.aspectRatio,fov:this.fov,near:this.near,far:this.far})}equals(e){return null!=e&&e instanceof Z&&(Q(this),Q(e),this.fov===e.fov&&this.aspectRatio===e.aspectRatio&&this.near===e.near&&this.far===e.far&&this._offCenterFrustum.equals(e._offCenterFrustum))}get projectionMatrix(){return Q(this),this._offCenterFrustum.projectionMatrix}get infiniteProjectionMatrix(){return Q(this),this._offCenterFrustum.infiniteProjectionMatrix}get fovy(){return Q(this),this._fovy}get sseDenominator(){return Q(this),this._sseDenominator}computeCullingVolume(e,t,r){return Q(this),this._offCenterFrustum.computeCullingVolume(e,t,r)}getPixelDimensions(e,t,r,n){return Q(this),this._offCenterFrustum.getPixelDimensions(e,t,r,n)}}function Q(e){Object(I.a)(Number.isFinite(e.fov)&&Number.isFinite(e.aspectRatio)&&Number.isFinite(e.near)&&Number.isFinite(e.far));const t=e._offCenterFrustum;e.fov===e._fov&&e.aspectRatio===e._aspectRatio&&e.near===e._near&&e.far===e._far&&e.xOffset===e._xOffset&&e.yOffset===e._yOffset||(Object(I.a)(e.fov>=0&&e.fov<Math.PI),Object(I.a)(e.aspectRatio>0),Object(I.a)(e.near>=0&&e.near<e.far),e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset)}const X=new i.a,K=new i.a,J=new i.a,$=new i.a,ee=new i.a,te=new i.a,re=new i.a,ne=new i.a,ie=new i.a,oe=new i.a,ae=new i.a,se=new i.a;Math.PI;function ue(e,t=new f){if(!e||0===e.length)return t.fromCenterRadius([0,0,0],0);const r=re.copy(e[0]),n=X.copy(r),i=K.copy(r),o=J.copy(r),a=$.copy(r),s=ee.copy(r),u=te.copy(r);for(const t of e){r.copy(t);const e=r.x,c=r.y,l=r.z;e<n.x&&r.copy(n),e>a.x&&r.copy(a),c<i.y&&r.copy(i),c>s.y&&r.copy(s),l<o.z&&r.copy(o),l>u.z&&r.copy(u)}const c=ne.copy(a).subtract(n).magnitudeSquared(),l=ne.copy(s).subtract(i).magnitudeSquared(),h=ne.copy(u).subtract(o).magnitudeSquared();let d=n,p=a,y=c;l>y&&(y=l,d=i,p=s),h>y&&(y=h,d=o,p=u);const v=ie;v.x=.5*(d.x+p.x),v.y=.5*(d.y+p.y),v.z=.5*(d.z+p.z);let b=ne.copy(p).subtract(v).magnitudeSquared(),m=Math.sqrt(b);const g=oe;g.x=n.x,g.y=i.y,g.z=o.z;const w=ae;w.x=a.x,w.y=s.y,w.z=u.z;const O=se.copy(g).add(w).multiplyByScalar(.5);let _=0;for(const t of e){r.copy(t);const e=ne.copy(r).subtract(O).magnitude();e>_&&(_=e);const n=ne.copy(r).subtract(v).magnitudeSquared();if(n>b){const e=Math.sqrt(n);m=.5*(m+e),b=m*m;const t=e-m;v.x=(m*v.x+t*r.x)/e,v.y=(m*v.y+t*r.y)/e,v.z=(m*v.z+t*r.z)/e}}return m<_?(v.to(t.center),t.radius=m):(O.to(t.center),t.radius=_),t}var ce=r(85);const le=new h.a,fe=new h.a,he=new h.a,de=new h.a,pe=new h.a;function ye(e,t={}){const r=ce.a.EPSILON20;let n=0,i=0;const o=fe,a=he;o.identity(),a.copy(e);const s=r*function(e){let t=0;for(let r=0;r<9;++r){const n=e[r];t+=n*n}return Math.sqrt(t)}(a);for(;i<10&&me(a)>s;)ge(a,de),pe.copy(de).transpose(),a.multiplyRight(de),a.multiplyLeft(pe),o.multiplyRight(de),++n>2&&(++i,n=0);return t.unitary=o.toTarget(t.unitary),t.diagonal=a.toTarget(t.diagonal),t}const ve=[1,0,0],be=[2,2,1];function me(e){let t=0;for(let r=0;r<3;++r){const n=e[le.getElementIndex(be[r],ve[r])];t+=2*n*n}return Math.sqrt(t)}function ge(e,t){const r=ce.a.EPSILON15;let n=0,i=1;for(let t=0;t<3;++t){const r=Math.abs(e[le.getElementIndex(be[t],ve[t])]);r>n&&(i=t,n=r)}const o=ve[i],a=be[i];let s=1,u=0;if(Math.abs(e[le.getElementIndex(a,o)])>r){const t=(e[le.getElementIndex(a,a)]-e[le.getElementIndex(o,o)])/2/e[le.getElementIndex(a,o)];let r;r=t<0?-1/(-t+Math.sqrt(1+t*t)):1/(t+Math.sqrt(1+t*t)),s=1/Math.sqrt(1+r*r),u=r*s}return h.a.IDENTITY.to(t),t[le.getElementIndex(o,o)]=t[le.getElementIndex(a,a)]=s,t[le.getElementIndex(a,o)]=u,t[le.getElementIndex(o,a)]=-u,t}const we=new i.a,Oe=new i.a,_e=new i.a,Te=new i.a,Pe=new i.a,je=new h.a,Se={diagonal:new h.a,unitary:new h.a};function Ee(e,t=new M){if(!e||0===e.length)return t.halfAxes=new h.a([0,0,0,0,0,0,0,0,0]),t.center=new i.a,t;const r=e.length,n=new i.a(0,0,0);for(const t of e)n.add(t);const o=1/r;n.multiplyByScalar(o);let a=0,s=0,u=0,c=0,l=0,f=0;for(const t of e){const e=we.copy(t).subtract(n);a+=e.x*e.x,s+=e.x*e.y,u+=e.x*e.z,c+=e.y*e.y,l+=e.y*e.z,f+=e.z*e.z}a*=o,s*=o,u*=o,c*=o,l*=o,f*=o;const d=je;d[0]=a,d[1]=s,d[2]=u,d[3]=s,d[4]=c,d[5]=l,d[6]=u,d[7]=l,d[8]=f;const{unitary:p}=ye(d,Se),y=t.halfAxes.copy(p);let v=y.getColumn(0,_e),b=y.getColumn(1,Te),m=y.getColumn(2,Pe),g=-Number.MAX_VALUE,w=-Number.MAX_VALUE,O=-Number.MAX_VALUE,_=Number.MAX_VALUE,T=Number.MAX_VALUE,P=Number.MAX_VALUE;for(const t of e)g=Math.max(t.dot(v),g),w=Math.max(t.dot(b),w),O=Math.max(t.dot(m),O),_=Math.min(t.dot(v),_),T=Math.min(t.dot(b),T),P=Math.min(t.dot(m),P);v=v.multiplyByScalar(.5*(_+g)),b=b.multiplyByScalar(.5*(T+w)),m=m.multiplyByScalar(.5*(P+O)),t.center.copy(v).add(b).add(m);const j=Oe.set(g-_,w-T,O-P).multiplyByScalar(.5),S=new h.a([j[0],0,0,0,j[1],0,0,0,j[2]]);return t.halfAxes.multiplyRight(S),t}function xe(e,t=new s){if(!e||0===e.length)return t.minimum.set(0,0,0),t.maximum.set(0,0,0),t.center.set(0,0,0),t.halfDiagonal.set(0,0,0),t;let r=e[0][0],n=e[0][1],i=e[0][2],o=e[0][0],a=e[0][1],u=e[0][2];for(const t of e){const e=t[0],s=t[1],c=t[2];r=Math.min(e,r),o=Math.max(e,o),n=Math.min(s,n),a=Math.max(s,a),i=Math.min(c,i),u=Math.max(c,u)}return t.minimum.set(r,n,i),t.maximum.set(o,a,u),t.center.copy(t.minimum).add(t.maximum).scale(.5),t.halfDiagonal.copy(t.maximum).subtract(t.center),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tiles3DLoader=void 0;var n=r(3),i=r(81),o=r(98),a=r(175),s=r(235);function u(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}var l={id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:o.VERSION,extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:function(e,t,r){return v.apply(this,arguments)},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}};function f(e){return n.path.dirname(e.url)}function h(e,t,r){return d.apply(this,arguments)}function d(){return(d=c(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={content:{featureIds:null}},0,e.next=4,(0,a.parse3DTile)(t,0,r,n,i.content);case 4:return e.abrupt("return",i.content);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,r){return y.apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark((function e(t,r,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=JSON.parse((new TextDecoder).decode(t))).loader=r.loader||l,o.url=n.url,o.basePath=f(o),o.root=(0,s.normalizeTileHeaders)(o),o.type=i.TILESET_TYPE.TILES3D,o.lodMetricType=i.LOD_METRIC_TYPE.GEOMETRIC_ERROR,o.lodMetricValue=o.root.lodMetricValue,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r["3d-tiles"]||{},!("auto"===i.isTileset?n.url&&-1!==n.url.indexOf(".json"):i.isTileset)){e.next=8;break}return e.next=5,p(t,r,n);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,h(t,r,n);case 10:t=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.Tiles3DLoader=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(19);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"name",void 0),o(this,"workerThread",void 0),o(this,"isRunning",void 0),o(this,"result",void 0),o(this,"_resolve",void 0),o(this,"_reject",void 0),this.name=t,this.workerThread=r,this.isRunning=!0,this._resolve=function(){},this._reject=function(){},this.result=new Promise((function(e,t){n._resolve=e,n._reject=t}))}var t,r,a;return t=e,(r=[{key:"postMessage",value:function(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}},{key:"done",value:function(e){(0,n.assert)(this.isRunning),this.isRunning=!1,this._resolve(e)}},{key:"error",value:function(e){(0,n.assert)(this.isRunning),this.isRunning=!1,this._reject(e)}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(73)),i=o(r(52));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"props",void 0),f(this,"workerPools",new Map),this.props=c({},h),this.setProps(t),this.workerPools=new Map}var t,r,o;return t=e,o=[{key:"isSupported",value:function(){return i.default.isSupported()}},{key:"getWorkerFarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e._workerFarm=e._workerFarm||new e({}),e._workerFarm.setProps(t),e._workerFarm}}],(r=[{key:"destroy",value:function(){var e,t=a(this.workerPools.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}}},{key:"setProps",value:function(e){this.props=c(c({},this.props),e);var t,r=a(this.workerPools.values());try{for(r.s();!(t=r.n()).done;)t.value.setProps(this._getWorkerPoolProps())}catch(e){r.e(e)}finally{r.f()}}},{key:"getWorkerPool",value:function(e){var t=e.name,r=e.source,i=e.url,o=this.workerPools.get(t);return o||((o=new n.default({name:t,source:r,url:i})).setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}},{key:"_getWorkerPoolProps",value:function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}])&&l(t.prototype,r),o&&l(t,o),e}();t.default=d,f(d,"_workerFarm",void 0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(51),i=a(r(52)),o=a(r(71));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"name","unnamed"),h(this,"source",void 0),h(this,"url",void 0),h(this,"maxConcurrency",1),h(this,"maxMobileConcurrency",1),h(this,"onDebug",(function(){})),h(this,"reuseWorkers",!0),h(this,"props",{}),h(this,"jobQueue",[]),h(this,"idleQueue",[]),h(this,"count",0),h(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}var t,r,a,s,c;return t=e,(r=[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"setProps",value:function(e){this.props=l(l({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}},{key:"startJob",value:(c=u(regeneratorRuntime.mark((function e(t){var r,n,i,o=this,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:function(e,t,r){return e.done(r)},n=a.length>2&&void 0!==a[2]?a[2]:function(e,t){return e.error(t)},i=new Promise((function(e){return o.jobQueue.push({name:t,onMessage:r,onError:n,onStart:e}),o})),this._startQueuedJob(),e.next=6,i;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"_startQueuedJob",value:(s=u(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:if(!(r=this.jobQueue.shift())){e.next=18;break}return this.onDebug({message:"Starting job",name:r.name,workerThread:t,backlog:this.jobQueue.length}),n=new o.default(r.name,t),t.onMessage=function(e){return r.onMessage(n,e.type,e.payload)},t.onError=function(e){return r.onError(n,e)},r.onStart(n),e.prev=12,e.next=15,n.result;case 15:return e.prev=15,this.returnWorkerToQueue(t),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[12,,15,18]])}))),function(){return s.apply(this,arguments)})},{key:"returnWorkerToQueue",value:function(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new i.default({name:e,source:this.source,url:this.url})}return null}},{key:"_getMaxConcurrency",value:function(){return n.isMobile?this.maxMobileConcurrency:this.maxConcurrency}}])&&f(t.prototype,r),a&&f(t,a),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(53);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=new Map,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,a=[{key:"onmessage",set:function(e){self.onmessage=function(t){if(s(t)){var r=t.data,n=r.type,i=r.payload;e(n,i)}}}},{key:"addEventListener",value:function(e){var t=o.get(e);t||(t=function(t){if(s(t)){var r=t.data,n=r.type,i=r.payload;e(n,i)}}),self.addEventListener("message",t)}},{key:"removeEventListener",value:function(e){var t=o.get(e);o.delete(e),self.removeEventListener("message",t)}},{key:"postMessage",value:function(e,t){if(self){var r={source:"loaders.gl",type:e,payload:t},i=(0,n.getTransferList)(t);self.postMessage(r,i)}}}],(r=null)&&i(t.prototype,r),a&&i(t,a),e}();function s(e){var t=e.type,r=e.data;return"message"===t&&r&&"string"==typeof r.source&&r.source.startsWith("loaders.gl")}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkerName=function(e){var t="3.0.8"!==e.version?" (worker-utils@".concat("3.0.8",")"):"";return"".concat(e.name,"@").concat(e.version).concat(t)},t.getWorkerURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t[e.id]||{},i="".concat(e.id,"-worker.js"),o=r.workerUrl;"test"===t._workerType&&(o="modules/".concat(e.module,"/dist/").concat(i));if(!o){var a=e.version;"latest"===a&&(a="latest");var s=a?"@".concat(a):"";o="https://unpkg.com/@loaders.gl/".concat(e.module).concat(s,"/dist/").concat(i)}return(0,n.assert)(o),o};var n=r(19);r(40)},function(e,t,r){"use strict";var n;function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=Symbol.asyncIterator;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_values",void 0),o(this,"_settlers",void 0),o(this,"_closed",void 0),this._values=[],this._settlers=[],this._closed=!1}var t,r,a;return t=e,(r=[{key:n,value:function(){return this}},{key:"push",value:function(e){return this.enqueue(e)}},{key:"enqueue",value:function(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var t=this._settlers.shift();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.push(e)}},{key:"close",value:function(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0}},{key:"next",value:function(){var e=this;if(this._values.length>0){var t=this._values.shift();return t instanceof Error?Promise.reject(t):Promise.resolve({done:!1,value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((function(t,r){e._settlers.push({resolve:t,reject:r})}))}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";function n(e,t,r){if(e.byteLength<=t+r)return"";for(var n=new DataView(e),i="",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getFirstCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return n(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return n(e,r,t)}return""},t.getMagicString=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayBuffer=function(e){n.toArrayBuffer&&(e=n.toArrayBuffer(e));if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"===s(e)&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")},t.compareArrayBuffers=function(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;for(var n=new Uint8Array(e),i=new Uint8Array(t),o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0},t.concatenateArrayBuffers=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),a=i.reduce((function(e,t){return e+t.byteLength}),0),s=new Uint8Array(a),u=0,c=o(i);try{for(c.s();!(n=c.n()).done;){var l=n.value;s.set(l,u),u+=l.byteLength}}catch(e){c.e(e)}finally{c.f()}return s.buffer},t.concatenateTypedArrays=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t,i=n&&n.length>1&&n[0].constructor||null;if(!i)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');for(var o=n.reduce((function(e,t){return e+t.length}),0),a=new i(o),s=0,u=0,c=n;u<c.length;u++){var l=c[u];a.set(l,s),s+=l.length}return a},t.sliceArrayBuffer=function(e,t,r){var n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(r(79));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padToNBytes=i,t.copyArrayBuffer=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=new Uint8Array(e,r,n),o=new Uint8Array(t);return i.set(o),e},t.copyToArray=function(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var o=e.byteOffset,a=e.byteLength;n=new Uint8Array(e.buffer||e.arrayBuffer,o,a)}return t.set(n,r),r+i(n.byteLength,4)};var n=r(70);function i(e,t){return(0,n.assert)(e>=0),(0,n.assert)(t>0),e+(t-1)&~(t-1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Tileset3D",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Tile3D",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"TilesetTraverser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TilesetCache",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"createBoundingVolume",{enumerable:!0,get:function(){return s.createBoundingVolume}}),Object.defineProperty(t,"calculateTransformProps",{enumerable:!0,get:function(){return u.calculateTransformProps}}),Object.defineProperty(t,"getFrameState",{enumerable:!0,get:function(){return c.getFrameState}}),Object.defineProperty(t,"TILE_CONTENT_STATE",{enumerable:!0,get:function(){return l.TILE_CONTENT_STATE}}),Object.defineProperty(t,"TILE_REFINEMENT",{enumerable:!0,get:function(){return l.TILE_REFINEMENT}}),Object.defineProperty(t,"TILE_TYPE",{enumerable:!0,get:function(){return l.TILE_TYPE}}),Object.defineProperty(t,"TILESET_TYPE",{enumerable:!0,get:function(){return l.TILESET_TYPE}}),Object.defineProperty(t,"LOD_METRIC_TYPE",{enumerable:!0,get:function(){return l.LOD_METRIC_TYPE}});var n=f(r(145)),i=f(r(54)),o=f(r(33)),a=f(r(86)),s=r(96),u=r(87),c=r(88),l=r(32);function f(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(29),i=r(1),o=r(2),a=r(12),s=r(10);class u extends n.a{constructor(e=0,t=0){super(2),Object(i.m)(e)&&1===arguments.length?this.copy(e):(i.f.debug&&(Object(o.a)(e),Object(o.a)(t)),this[0]=e,this[1]=t)}set(e,t){return this[0]=e,this[1]=t,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this.check()}fromObject(e){return i.f.debug&&(Object(o.a)(e.x),Object(o.a)(e.y)),this[0]=e.x,this[1]=e.y,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return a.d(this,this,e),this.check()}transformAsVector(e){return Object(s.a)(this,this,e),this.check()}transformByMatrix3(e){return a.c(this,this,e),this.check()}transformByMatrix2x3(e){return a.b(this,this,e),this.check()}transformByMatrix2(e){return a.a(this,this,e),this.check()}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(29),i=r(1),o=r(2),a=r(4),s=r(10);const u={};class c extends n.a{static get ZERO(){return u.ZERO=u.ZERO||Object.freeze(new c(0,0,0,0))}constructor(e=0,t=0,r=0,n=0){super(-0,-0,-0,-0),Object(i.m)(e)&&1===arguments.length?this.copy(e):(i.f.debug&&(Object(o.a)(e),Object(o.a)(t),Object(o.a)(r),Object(o.a)(n)),this[0]=e,this[1]=t,this[2]=r,this[3]=n)}set(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return i.f.debug&&(Object(o.a)(e.x),Object(o.a)(e.y),Object(o.a)(e.z),Object(o.a)(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=Object(o.a)(e)}get w(){return this[3]}set w(e){this[3]=Object(o.a)(e)}transform(e){return a.m(this,this,e),this.check()}transformByMatrix3(e){return Object(s.e)(this,this,e),this.check()}transformByMatrix2(e){return Object(s.d)(this,this,e),this.check()}transformByQuaternion(e){return a.n(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(50),i=r(2),o=r(10),a=r(11),s=r(12),u=r(4);const c=Object.freeze([1,0,0,0,1,0,0,0,1]),l=Object.freeze([0,0,0,0,0,0,0,0,0]),f=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),h={};class d extends n.a{static get IDENTITY(){return h.IDENTITY=h.IDENTITY||Object.freeze(new d(c)),h.IDENTITY}static get ZERO(){return h.ZERO=h.ZERO||Object.freeze(new d(l)),h.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return f}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}set(e,t,r,n,i,o,a,s,u){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this.check()}setRowMajor(e,t,r,n,i,o,a,s,u){return this[0]=e,this[1]=n,this[2]=a,this[3]=t,this[4]=i,this[5]=s,this[6]=r,this[7]=o,this[8]=u,this.check()}determinant(){return a.b(this)}identity(){return this.copy(c)}fromQuaternion(e){return a.c(this,e),this.check()}transpose(){return a.i(this,this),this.check()}invert(){return a.d(this,this),this.check()}multiplyLeft(e){return a.e(this,e,this),this.check()}multiplyRight(e){return a.e(this,this,e),this.check()}rotate(e){return a.f(this,this,e),this.check()}scale(e){return Array.isArray(e)?a.g(this,this,e):a.g(this,this,[e,e,e]),this.check()}translate(e){return a.h(this,this,e),this.check()}transform(e,t){switch(e.length){case 2:t=s.c(t||[-0,-0],e,this);break;case 3:t=u.l(t||[-0,-0,-0],e,this);break;case 4:t=Object(o.e)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(i.b)(t,e.length),t}transformVector(e,t){return Object(i.c)("Matrix3.transformVector"),this.transform(e,t)}transformVector2(e,t){return Object(i.c)("Matrix3.transformVector"),this.transform(e,t)}transformVector3(e,t){return Object(i.c)("Matrix3.transformVector"),this.transform(e,t)}}},function(e,t,r){"use strict";t.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(146))&&n.__esModule?n:{default:n};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return null!=e}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_list",void 0),a(this,"_sentinel",void 0),a(this,"_trimTiles",void 0),this._list=new i.default,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}var t,r,n;return t=e,(r=[{key:"reset",value:function(){this._list.splice(this._list.tail,this._sentinel)}},{key:"touch",value:function(e){var t=e._cacheNode;s(t)&&this._list.splice(this._sentinel,t)}},{key:"add",value:function(e,t,r){s(t._cacheNode)||(t._cacheNode=this._list.add(t),r&&r(e,t))}},{key:"unloadTile",value:function(e,t,r){var n=t._cacheNode;s(n)&&(this._list.remove(n),t._cacheNode=void 0,r&&r(e,t))}},{key:"unloadTiles",value:function(e,t){var r=this._trimTiles;this._trimTiles=!1;for(var n=this._list,i=1024*e.maximumMemoryUsage*1024,o=this._sentinel,a=n.head;a!==o&&(e.gpuMemoryUsageInBytes>i||r);){var s=a.item;a=a.next,this.unloadTile(e,s,t)}}},{key:"trim",value:function(){this._trimTiles=!0}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTransformProps=function(e,t){(0,o.assert)(e),(0,o.assert)(t);var r=t.rtcCenter,a=t.gltfUpAxis,s=e.computedTransform,u=e.boundingVolume.center,c=new i.Matrix4(s);r&&c.translate(r);switch(a){case"Z":break;case"Y":var l=(new i.Matrix4).rotateX(Math.PI/2);c=c.multiplyRight(l);break;case"X":var f=(new i.Matrix4).rotateY(-Math.PI/2);c=c.multiplyRight(f)}t.isQuantized&&c.translate(t.quantizedVolumeOffset).scale(t.quantizedVolumeScale);var h=new i.Vector3(u);t.cartesianModelMatrix=c,t.cartesianOrigin=h;var d=n.Ellipsoid.WGS84.cartesianToCartographic(h,new i.Vector3),p=n.Ellipsoid.WGS84.eastNorthUpToFixedFrame(h).invert();t.cartographicModelMatrix=p.multiplyRight(c),t.cartographicOrigin=d,t.modelMatrix=t.cartographicModelMatrix};var n=r(35),i=r(5),o=r(3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFrameState=function(e,t){var r=e.cameraDirection,i=e.cameraUp,c=e.height,l=e.distanceScales.metersPerUnit,f=[e.longitude,e.latitude,0],h=o.Ellipsoid.WGS84.cartographicToCartesian(f,new n.Vector3),d=o.Ellipsoid.WGS84.eastNorthUpToFixedFrame(h),p=e.unprojectPosition(e.cameraPosition),y=o.Ellipsoid.WGS84.cartographicToCartesian(p,new n.Vector3),v=new n.Vector3(d.transformAsVector(new n.Vector3(r).scale(l))).normalize(),b=new n.Vector3(d.transformAsVector(new n.Vector3(i).scale(l))).normalize();return function(e,t){var r=e.getFrustumPlanes(),i=0;for(var c in r){var l=r[c],f=l.normal.dot(e.center);s.copy(l.normal).scale(l.distance-f).add(e.center);var h=e.unprojectPosition(s),d=o.Ellipsoid.WGS84.cartographicToCartesian(h,new n.Vector3);u.planes[i++].fromPointNormal(d,a.copy(t).subtract(d))}}(e,h),{camera:{position:y,direction:v,up:b},viewport:e,height:c,cullingVolume:u,frameNumber:t,sseDenominator:1.15}};var n=r(5),i=r(68),o=r(35),a=new n.Vector3,s=new n.Vector3,u=new i.CullingVolume([new i.Plane,new i.Plane,new i.Plane,new i.Plane,new i.Plane,new i.Plane])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeResponse=function(e){return s.apply(this,arguments)},t.checkResponse=function(e){return u.apply(this,arguments)},t.checkResponseSync=function(e){if(!e.ok){var t="".concat(e.status," ").concat(e.statusText);throw t=t.length>60?"".concat(t.slice(60),"..."):t,new Error(t)}};var n=r(13),i=r(31);function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}function s(){return(s=a(regeneratorRuntime.mark((function e(t){var r,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,n.isResponse)(t)){e.next=2;break}return e.abrupt("return",t);case 2:return r={},(o=(0,i.getResourceContentLength)(t))>=0&&(r["content-length"]=String(o)),a=(0,i.getResourceUrlAndType)(t),s=a.url,(u=a.type)&&(r["content-type"]=u),e.next=9,f(t);case 9:return(c=e.sent)&&(r["x-first-bytes"]=c),"string"==typeof t&&(t=(new TextEncoder).encode(t)),l=new Response(t,{headers:r}),Object.defineProperty(l,"url",{value:s}),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=a(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,c(t);case 3:throw r=e.sent,new Error(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return l.apply(this,arguments)}function l(){return(l=a(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,n=t.headers.get("Content-Type"),i=t.statusText,!n.includes("application/json")){e.next=11;break}return e.t0=i,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,i=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:r=(r+=i).length>60?"".concat(r.slice(60),"..."):r,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=a(regeneratorRuntime.mark((function e(t){var r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=5,"string"!=typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,r)));case 3:if(!(t instanceof Blob)){e.next=8;break}return n=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){var r;return e(null==t||null===(r=t.target)||void 0===r?void 0:r.result)},t.readAsDataURL(n)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return i=t.slice(0,r),o=d(i),e.abrupt("return","data:base64,".concat(o));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){for(var t="",r=new Uint8Array(e),n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLog=t.NullLog=t.probeLog=void 0;var a=new(r(243).Log)({id:"loaders.gl"});t.probeLog=a;var s=function(){function e(){n(this,e)}return o(e,[{key:"log",value:function(){return function(){}}},{key:"info",value:function(){return function(){}}},{key:"warn",value:function(){return function(){}}},{key:"error",value:function(){return function(){}}}]),e}();t.NullLog=s;var u=function(){function e(){var t,r,i;n(this,e),i=void 0,(r="console")in(t=this)?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,this.console=console}return o(e,[{key:"log",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.log).bind.apply(e,[this.console].concat(r))}},{key:"info",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.info).bind.apply(e,[this.console].concat(r))}},{key:"warn",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.warn).bind.apply(e,[this.console].concat(r))}},{key:"error",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.error).bind.apply(e,[this.console].concat(r))}}]),e}();t.ConsoleLog=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerLoaders=function(e){var t,r=a(),i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}(e=Array.isArray(e)?e:[e]);try{var s=function(){var e=t.value,i=(0,n.normalizeLoader)(e);r.find((function(e){return i===e}))||r.unshift(i)};for(i.s();!(t=i.n()).done;)s()}catch(e){i.e(e)}finally{i.f()}},t.getRegisteredLoaders=function(){return a()},t._unregisterLoaders=function(){(0,i.getGlobalLoaderState)().loaderRegistry=[]};var n=r(20),i=r(14);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=function(){var e=(0,i.getGlobalLoaderState)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeIterator=function(e,t){if("string"==typeof e)return(0,n.makeStringIterator)(e,t);if(e instanceof ArrayBuffer)return(0,i.makeArrayBufferIterator)(e,t);if((0,s.isBlob)(e))return(0,o.makeBlobIterator)(e,t);if((0,s.isReadableStream)(e))return(0,a.makeStreamIterator)(e,t);if((0,s.isResponse)(e)){var r=e;return(0,a.makeStreamIterator)(r.body,t)}throw new Error("makeIterator")};var n=r(155),i=r(156),o=r(157),a=r(158),s=r(13)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInBatches=T;var n=r(3),i=r(20),o=r(14),a=r(60),s=r(59),u=r(31),c=r(43),l=r(58);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){y(o,n,i,a,s,"next",e)}function s(e){y(o,n,i,a,s,"throw",e)}a(void 0)}))}}function b(e){return function(){return new m(e.apply(this,arguments))}}function m(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,s=a instanceof w;Promise.resolve(s?a.wrapped:a).then((function(e){s?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function g(e){return new w(e)}function w(e){this.wrapped=e}function O(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function _(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise((function(t){t(e[r](i))})),{done:!1,value:t(i)}}return r["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):i("return",e)}),r}function T(e,t,r,n){return P.apply(this,arguments)}function P(){return(P=v(regeneratorRuntime.mark((function e(t,r,s,f){var h,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.assert)(!f||"object"===p(f)),Array.isArray(r)||(0,i.isLoaderObject)(r)||(f=void 0,s=r,r=void 0),e.next=4,t;case 4:return t=e.sent,s=s||{},h=(0,u.getResourceUrlAndType)(t),d=h.url,e.next=9,(0,c.selectLoader)(t,r,s);case 9:if(y=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return s=(0,o.normalizeOptions)(s,y,r,d),f=(0,a.getLoaderContext)({url:d,parseInBatches:T,parse:l.parse,loaders:r},s,f),e.next=16,j(y,t,s,f);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,r,n){var i,o,a,s;return regeneratorRuntime.async((function(u){for(;;)switch(u.prev=u.next){case 0:return s=function(){return(s=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return e.delegateYield(_(O(t),g),"t0",3);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e){return s.apply(this,arguments)},u.next=4,regeneratorRuntime.awrap(S(e,t,r,n));case 4:if(i=u.sent,r.metadata){u.next=7;break}return u.abrupt("return",i);case 7:return o={batchType:"metadata",metadata:{_loader:e,_context:n},data:[],bytesUsed:0},u.abrupt("return",a(i));case 9:case"end":return u.stop()}}),null,null,null,Promise)}function S(e,t,r,n){return E.apply(this,arguments)}function E(){return(E=v(regeneratorRuntime.mark((function e(t,r,i,o){var a,u,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(){return(f=b(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g((0,n.concatenateArrayBuffersAsync)(u));case 2:return r=e.sent,e.next=5,g((0,l.parse)(r,t,h(h({},i),{},{mimeType:t.mimeTypes[0]}),o));case 5:return a=e.sent,s={mimeType:t.mimeTypes[0],shape:Array.isArray(a)?"row-table":"unknown",batchType:"data",data:a,length:Array.isArray(a)?a.length:1},e.next=9,s;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return f.apply(this,arguments)},e.next=4,(0,s.getAsyncIterableFromData)(r,i);case 4:return a=e.sent,e.next=7,x(a,(null==i?void 0:i.transforms)||[]);case 7:if(u=e.sent,!t.parseInBatches){e.next=10;break}return e.abrupt("return",t.parseInBatches(u,i,o));case 10:return e.abrupt("return",c());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return(k=v(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>1&&void 0!==l[1]?l[1]:[],n=t,i=!0,o=!1,e.prev=4,s=O(r);case 6:return e.next=8,s.next();case 8:return u=e.sent,i=u.done,e.next=12,u.value;case 12:if(c=e.sent,i){e.next=19;break}n=c(n);case 16:i=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),o=!0,a=e.t0;case 25:if(e.prev=25,e.prev=26,i||null==s.return){e.next=30;break}return e.next=30,s.return();case 30:if(e.prev=30,!o){e.next=33;break}throw a;case 33:return e.finish(30);case 34:return e.finish(25);case 35:return e.abrupt("return",n);case 36:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}m.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},m.prototype.next=function(e){return this._invoke("next",e)},m.prototype.throw=function(e){return this._invoke("throw",e)},m.prototype.return=function(e){return this._invoke("return",e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=c,t.encodeSync=function(e,t,r){if(t.encodeSync)return t.encodeSync(e,r);throw new Error("Writer could not synchronously encode data")},t.encodeText=function(e,t,r){return f.apply(this,arguments)},t.encodeInBatches=h,t.encodeURLtoURL=d;var n=r(3),i=r(57),o=r(56);function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function c(e,t,r){return l.apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(t,r,a){var s,c,l,f,p,v,b,m,g,w,O,_,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.encode){e.next=4;break}return e.next=3,r.encode(t,a);case 3:return e.abrupt("return",e.sent);case 4:if(!r.encodeSync){e.next=6;break}return e.abrupt("return",r.encodeSync(t,a));case 6:if(!r.encodeText){e.next=12;break}return e.t0=new TextEncoder,e.next=10,r.encodeText(t,a);case 10:return e.t1=e.sent,e.abrupt("return",e.t0.encode.call(e.t0,e.t1));case 12:if(!r.encodeInBatches){e.next=49;break}s=h(t,r,a),c=[],l=!0,f=!1,e.prev=17,v=u(s);case 19:return e.next=21,v.next();case 21:return b=e.sent,l=b.done,e.next=25,b.value;case 25:if(m=e.sent,l){e.next=32;break}g=m,c.push(g);case 29:l=!0,e.next=19;break;case 32:e.next=38;break;case 34:e.prev=34,e.t2=e.catch(17),f=!0,p=e.t2;case 38:if(e.prev=38,e.prev=39,l||null==v.return){e.next=43;break}return e.next=43,v.return();case 43:if(e.prev=43,!f){e.next=46;break}throw p;case 46:return e.finish(43);case 47:return e.finish(38);case 48:return e.abrupt("return",n.concatenateArrayBuffers.apply(void 0,c));case 49:if(n.isBrowser||!r.encodeURLtoURL){e.next=61;break}return w=y("input"),e.next=53,(0,i.writeFile)(w,t);case 53:return O=y("output"),e.next=56,d(w,O,r,a);case 56:return _=e.sent,e.next=59,(0,o.fetchFile)(_);case 59:return T=e.sent,e.abrupt("return",T.arrayBuffer());case 61:throw new Error("Writer could not encode data");case 62:case"end":return e.stop()}}),e,null,[[17,34,38,48],[39,,43,47]])})))).apply(this,arguments)}function f(){return(f=s(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.text||!r.encodeText){e.next=4;break}return e.next=3,r.encodeText(t,n);case 3:return e.abrupt("return",e.sent);case 4:if(!r.text||!r.encode&&!r.encodeInBatches){e.next=9;break}return e.next=7,c(t,r,n);case 7:return i=e.sent,e.abrupt("return",(new TextDecoder).decode(i));case 9:throw new Error("Writer could not encode data as text");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r){if(t.encodeInBatches){var n=function(e){return[{table:e,start:0,end:e.length}]}(e);return t.encodeInBatches(n,r)}throw new Error("Writer could not encode data in batches")}function d(e,t,r,n){return p.apply(this,arguments)}function p(){return(p=s(regeneratorRuntime.mark((function e(t,r,i,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,n.resolvePath)(t),r=(0,n.resolvePath)(r),!n.isBrowser&&i.encodeURLtoURL){e.next=4;break}throw new Error;case 4:return e.next=6,i.encodeURLtoURL(t,r,o);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return"/tmp/".concat(e)}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeDOMStream=function(e,t){var r=e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]();return new ReadableStream({type:"bytes",pull:function(e){return a(regeneratorRuntime.mark((function t(){var n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.next();case 3:n=t.sent,i=n.done,o=n.value,i?e.close():e.enqueue(new Uint8Array(o)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},cancel:function(){return a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==r||null===(t=r.return)||void 0===t?void 0:t.call(r);case 2:case"end":return e.stop()}}),e)})))()}},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({highWaterMark:Math.pow(2,24)},t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBoundingVolume=function(e,t,r){if((0,a.assert)(e,"3D Tile: boundingVolume must be defined"),e.box)return function(e,t,r){var o=new n.Vector3(e[0],e[1],e[2]);t.transform(o,o);var a=[];if(10===e.length){var u=e.slice(3,6),c=new n.Quaternion;c.fromArray(e,6);var f=new n.Vector3([1,0,0]),h=new n.Vector3([0,1,0]),d=new n.Vector3([0,0,1]);f.transformByQuaternion(c),f.scale(u[0]),h.transformByQuaternion(c),h.scale(u[1]),d.transformByQuaternion(c),d.scale(u[2]),a=[].concat(s(f.toArray()),s(h.toArray()),s(d.toArray()))}else a=[].concat(s(e.slice(3,6)),s(e.slice(6,9)),s(e.slice(9,12)));var p=t.transformAsVector(a.slice(0,3)),y=t.transformAsVector(a.slice(3,6)),v=t.transformAsVector(a.slice(6,9)),b=new n.Matrix3([p[0],p[1],p[2],y[0],y[1],y[2],v[0],v[1],v[2]]);if(l(r))return r.center=o,r.halfAxes=b,r;return new i.OrientedBoundingBox(o,b)}(e.box,t,r);if(e.region){var c=(P=e.region,j=6,function(e){if(Array.isArray(e))return e}(P)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(P,j)||u(P,j)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=c[0],y=c[1],v=c[2],b=c[3],m=c[4],g=c[5],w=o.Ellipsoid.WGS84.cartographicToCartesian([(0,n.degrees)(f),(0,n.degrees)(b),m],h),O=o.Ellipsoid.WGS84.cartographicToCartesian([(0,n.degrees)(v),(0,n.degrees)(y),g],d),_=(new n.Vector3).addVectors(w,O).multiplyScalar(.5),T=(new n.Vector3).subVectors(w,O).len()/2;return p([_[0],_[1],_[2],T],new n.Matrix4)}var P,j;if(e.sphere)return p(e.sphere,t,r);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")};var n=r(5),i=r(68),o=r(35),a=r(3);function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return null!=e}var f=new n.Vector3,h=new n.Vector3,d=new n.Vector3;function p(e,t,r){var o=new n.Vector3(e[0],e[1],e[2]);t.transform(o,o);var a=t.getScale(f),s=Math.max(Math.max(a[0],a[1]),a[2]),u=e[3]*s;return l(r)?(r.center=o,r.radius=u,r):new i.BoundingSphere(o,u)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lodJudge=function(e,t){var r=t.viewport,n=r.metersPerPixel,i=e.header.mbs[1],o=e.header.mbs[0],s=e.header.mbs[2],l=e.header.mbs[3],f=r.height,h=r.width,d=r.latitude,p=r.longitude,y=[p,d],v=[o,i,s],b=[p,i],m=[o,d],g=Math.sqrt(f*f+h*h)*n[0],w=u(y,v),O=.5*f+l/6378137,_=.5*h+l/6378137;if(w>g+l/6378137)return"OUT";if(u(y,b)>O)return"OUT";if(u(y,m)>_)return"OUT";if(0===e.lodMetricValue)return"DIG";var T=c(e,t);if((T*=a)<.5)return"OUT";if(!e.header.children||T<=e.lodMetricValue)return"DRAW";if(e.header.children)return"DIG";return"OUT"},t.getI3ScreenSize=c;var n=r(5);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=Math.PI/2;function s(e){var t=i(e,3),r=t[0],o=t[1],a=t[2],s=(0,n.toRadians)(r),u=(0,n.toRadians)(o),c=1+a/6378137,l=c*Math.cos(u);return[r=l*Math.cos(s),o=l*Math.sin(s),a=c*Math.sin(u)]}function u(e,t){var r=i(e,3),n=r[0],o=r[1],a=r[2],u=void 0===a?0:a,c=i(t,3),l=c[0],f=c[1],h=c[2],d=s([l,f,void 0===h?0:h]),p=s([n,o,u]),y=p[0]-d[0],v=p[1]-d[1],b=p[2]-d[2];return y*y+v*v+b*b}function c(e,t){var r=t.viewport,n=e.header.mbs[1],i=[e.header.mbs[0],n,e.header.mbs[2]],o=e.header.mbs[3]/6378137,a=u(r.unprojectPosition(r.cameraPosition),i)-o*o;return a<=0?170141175e30:function(e){return e.viewport.projectionMatrix[5]}(t)*o/Math.sqrt(a)*300}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.8"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStringFromArrayBuffer=function(e,t,r){(0,n.assert)(e instanceof ArrayBuffer);var i=new TextDecoder("utf8"),o=new Uint8Array(e,t,r);return i.decode(o)},t.getStringFromTypedArray=function(e){return(0,n.assert)(ArrayBuffer.isView(e)),new TextDecoder("utf8").decode(e)},t.getMagicString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new DataView(e);return"".concat(String.fromCharCode(r.getUint8(t+0))).concat(String.fromCharCode(r.getUint8(t+1))).concat(String.fromCharCode(r.getUint8(t+2))).concat(String.fromCharCode(r.getUint8(t+3)))};var n=r(3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DracoWorkerLoader",{enumerable:!0,get:function(){return i.DracoLoader}}),Object.defineProperty(t,"DracoWriter",{enumerable:!0,get:function(){return s.DracoWriter}}),t._TypecheckDracoLoader=t.DracoLoader=void 0;var n,i=r(177),o=(n=r(178))&&n.__esModule?n:{default:n},a=r(106),s=r(192);function u(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=f(f({},i.DracoLoader),{},{parse:function(e,t){return p.apply(this,arguments)}});function p(){return(p=c(regeneratorRuntime.mark((function e(t,r){var n,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.loadDracoDecoderModule)(r);case 2:return n=e.sent,i=n.draco,s=new o.default(i),e.prev=5,e.abrupt("return",s.parseSync(t,null==r?void 0:r.draco));case 7:return e.prev=7,s.destroy(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[5,,7,10]])})))).apply(this,arguments)}t.DracoLoader=d;var y=d;t._TypecheckDracoLoader=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.8"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TableBatchBuilder",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"RowTableBatchAggregator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ColumnarTableBatchAggregator",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"convertToObjectRow",{enumerable:!0,get:function(){return a.convertToObjectRow}}),Object.defineProperty(t,"convertToArrayRow",{enumerable:!0,get:function(){return a.convertToArrayRow}}),Object.defineProperty(t,"getMeshSize",{enumerable:!0,get:function(){return s.getMeshSize}}),Object.defineProperty(t,"getMeshBoundingBox",{enumerable:!0,get:function(){return s.getMeshBoundingBox}}),Object.defineProperty(t,"Schema",{enumerable:!0,get:function(){return u.Schema}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return u.Field}}),Object.defineProperty(t,"DataType",{enumerable:!0,get:function(){return u.DataType}}),Object.defineProperty(t,"Null",{enumerable:!0,get:function(){return u.Null}}),Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return u.Binary}}),Object.defineProperty(t,"Bool",{enumerable:!0,get:function(){return u.Bool}}),Object.defineProperty(t,"Int",{enumerable:!0,get:function(){return u.Int}}),Object.defineProperty(t,"Int8",{enumerable:!0,get:function(){return u.Int8}}),Object.defineProperty(t,"Int16",{enumerable:!0,get:function(){return u.Int16}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return u.Int32}}),Object.defineProperty(t,"Int64",{enumerable:!0,get:function(){return u.Int64}}),Object.defineProperty(t,"Uint8",{enumerable:!0,get:function(){return u.Uint8}}),Object.defineProperty(t,"Uint16",{enumerable:!0,get:function(){return u.Uint16}}),Object.defineProperty(t,"Uint32",{enumerable:!0,get:function(){return u.Uint32}}),Object.defineProperty(t,"Uint64",{enumerable:!0,get:function(){return u.Uint64}}),Object.defineProperty(t,"Float",{enumerable:!0,get:function(){return u.Float}}),Object.defineProperty(t,"Float16",{enumerable:!0,get:function(){return u.Float16}}),Object.defineProperty(t,"Float32",{enumerable:!0,get:function(){return u.Float32}}),Object.defineProperty(t,"Float64",{enumerable:!0,get:function(){return u.Float64}}),Object.defineProperty(t,"Utf8",{enumerable:!0,get:function(){return u.Utf8}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return u.Date}}),Object.defineProperty(t,"DateDay",{enumerable:!0,get:function(){return u.DateDay}}),Object.defineProperty(t,"DateMillisecond",{enumerable:!0,get:function(){return u.DateMillisecond}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return u.Time}}),Object.defineProperty(t,"TimeMillisecond",{enumerable:!0,get:function(){return u.TimeMillisecond}}),Object.defineProperty(t,"TimeSecond",{enumerable:!0,get:function(){return u.TimeSecond}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return u.Timestamp}}),Object.defineProperty(t,"TimestampSecond",{enumerable:!0,get:function(){return u.TimestampSecond}}),Object.defineProperty(t,"TimestampMillisecond",{enumerable:!0,get:function(){return u.TimestampMillisecond}}),Object.defineProperty(t,"TimestampMicrosecond",{enumerable:!0,get:function(){return u.TimestampMicrosecond}}),Object.defineProperty(t,"TimestampNanosecond",{enumerable:!0,get:function(){return u.TimestampNanosecond}}),Object.defineProperty(t,"Interval",{enumerable:!0,get:function(){return u.Interval}}),Object.defineProperty(t,"IntervalDayTime",{enumerable:!0,get:function(){return u.IntervalDayTime}}),Object.defineProperty(t,"IntervalYearMonth",{enumerable:!0,get:function(){return u.IntervalYearMonth}}),Object.defineProperty(t,"FixedSizeList",{enumerable:!0,get:function(){return u.FixedSizeList}}),Object.defineProperty(t,"deduceTableSchema",{enumerable:!0,get:function(){return c.deduceTableSchema}}),Object.defineProperty(t,"getTypeInfo",{enumerable:!0,get:function(){return l.getTypeInfo}}),Object.defineProperty(t,"getArrowTypeFromTypedArray",{enumerable:!0,get:function(){return f.getArrowTypeFromTypedArray}}),Object.defineProperty(t,"AsyncQueue",{enumerable:!0,get:function(){return h.default}});var n=d(r(179)),i=d(r(103)),o=d(r(105)),a=r(104),s=r(181),u=r(61),c=r(187),l=r(188),f=r(189),h=d(r(190));function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(104);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"schema",void 0),o(this,"options",void 0),o(this,"length",0),o(this,"objectRows",null),o(this,"arrayRows",null),o(this,"cursor",0),o(this,"_headers",[]),this.options=r,this.schema=t,!Array.isArray(t))for(var n in this._headers=[],t)this._headers[t[n].index]=t[n].name}var t,r,a;return t=e,(r=[{key:"rowCount",value:function(){return this.length}},{key:"addArrayRow",value:function(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"object-row-table":var r=(0,n.convertToObjectRow)(e,this._headers);this.addObjectRow(r,t);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=e,this.length++}}},{key:"addObjectRow",value:function(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"array-row-table":var r=(0,n.convertToArrayRow)(e,this._headers);this.addArrayRow(r,t);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=e,this.length++}}},{key:"getBatch",value:function(){var e=this.arrayRows||this.objectRows;return e?(e=e.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToObjectRow=function(e,t){if(!e)throw new Error("null row");if(!t)throw new Error("no headers");for(var r={},n=0;n<t.length;n++)r[t[n]]=e[n];return r},t.convertToArrayRow=function(e,t){if(!e)throw new Error("null row");if(!t)throw new Error("no headers");for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=e[t[n]];return r}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"schema",void 0),a(this,"length",0),a(this,"allocated",0),a(this,"columns",{}),this.schema=t,this._reallocateColumns()}var t,r,i;return t=e,(r=[{key:"rowCount",value:function(){return this.length}},{key:"addArrayRow",value:function(e){this._reallocateColumns();var t=0;for(var r in this.columns)this.columns[r][this.length]=e[t++];this.length++}},{key:"addObjectRow",value:function(e){for(var t in this._reallocateColumns(),e)this.columns[t][this.length]=e[t];this.length++}},{key:"getBatch",value:function(){this._pruneColumns();var e=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(var t in this.schema){var r=this.schema[t];e[r.name]=this.columns[r.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:e,schema:this.schema,length:this.length}}},{key:"_reallocateColumns",value:function(){if(!(this.length<this.allocated))for(var e in this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={},this.schema){var t=this.schema[e],r=t.type||Float32Array,n=this.columns[t.index];if(n&&ArrayBuffer.isView(n)){var i=new r(this.allocated);i.set(n),this.columns[t.index]=i}else n?(n.length=this.allocated,this.columns[t.index]=n):this.columns[t.index]=new r(this.allocated)}}},{key:"_pruneColumns",value:function(){for(var e=0,t=Object.entries(this.columns);e<t.length;e++){var r=n(t[e],2),i=r[0],o=r[1];this.columns[i]=o.slice(0,this.length)}}}])&&o(t.prototype,r),i&&o(t,i),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDracoDecoderModule=function(e){return b.apply(this,arguments)},t.loadDracoEncoderModule=function(e){return m.apply(this,arguments)};var n=r(39);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}var f,h,d="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.js"),p="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_wasm_wrapper.js"),y="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.wasm"),v="https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");function b(){return(b=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.modules||{},f=r.draco3d?f||r.draco3d.createDecoderModule({}).then((function(e){return{draco:e}})):f||g(t),e.next=4,f;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.modules||{},h=r.draco3d?h||r.draco3d.createEncoderModule({}).then((function(e){return{draco:e}})):h||_(t),e.next=4,h;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return w.apply(this,arguments)}function w(){return(w=l(regeneratorRuntime.mark((function e(t){var r,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.draco&&t.draco.decoderType,e.next="js"===e.t0?3:(e.t0,7);break;case 3:return e.next=5,(0,n.loadLibrary)(d,"draco",t);case 5:return r=e.sent,e.abrupt("break",21);case 7:return e.t1=Promise,e.next=10,(0,n.loadLibrary)(p,"draco",t);case 10:return e.t2=e.sent,e.next=13,(0,n.loadLibrary)(y,"draco",t);case 13:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.next=17,e.t1.all.call(e.t1,e.t4);case 17:a=e.sent,s=i(a,2),r=s[0],o=s[1];case 21:return r=r||globalThis.DracoDecoderModule,e.next=24,O(r,o);case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){var r={};return t&&(r.wasmBinary=t),new Promise((function(t){e(s(s({},r),{},{onModuleLoaded:function(e){return t({draco:e})}}))}))}function _(e){return T.apply(this,arguments)}function T(){return(T=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.loadLibrary)(v,"draco",t);case 2:return r=(r=e.sent)||globalThis.DracoEncoderModule,e.abrupt("return",new Promise((function(e){r({onModuleLoaded:function(t){return e({draco:t})}})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"object"===n(e)&&e.mode&&e.attributes&&"object"===n(e.attributes)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePrimitiveIterator=s;var n=r(34),i=r(109),o=r(3),a=regeneratorRuntime.mark(s);function s(e){var t,r,s,u,c,l,f=arguments;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=f.length>1&&void 0!==f[1]?f[1]:{},r=f.length>2?f[2]:void 0,s=f.length>3&&void 0!==f[3]?f[3]:0,u=f.length>4?f[4]:void 0,e&&(e=e.values||e.value||e),void 0===u&&(u=e?e.length:s),c={attributes:t,type:(0,i.getPrimitiveModeType)(r),i1:0,i2:0,i3:0},l=s;case 8:if(!(l<u)){a.next=47;break}a.t0=r,a.next=a.t0===n.GL.POINTS?12:a.t0===n.GL.LINES?15:a.t0===n.GL.LINE_STRIP?19:a.t0===n.GL.LINE_LOOP?23:a.t0===n.GL.TRIANGLES?27:a.t0===n.GL.TRIANGLE_STRIP?32:a.t0===n.GL.TRIANGLE_FAN?36:41;break;case 12:return c.i1=l,l+=1,a.abrupt("break",42);case 15:return c.i1=l,c.i2=l+1,l+=2,a.abrupt("break",42);case 19:case 23:return c.i1=l,c.i2=l+1,l+=1,a.abrupt("break",42);case 27:return c.i1=l,c.i2=l+1,c.i3=l+2,l+=3,a.abrupt("break",42);case 32:return c.i1=l,c.i2=l+1,l+=1,a.abrupt("break",42);case 36:return c.i1=1,c.i2=l,c.i3=l+1,l+=1,a.abrupt("break",42);case 41:(0,o.assert)(!1);case 42:return e&&"i1"in c&&(c.i1=e[c.i1],c.i2=e[c.i2],c.i3=e[c.i3]),a.next=45,c;case 45:a.next=8;break;case 47:case"end":return a.stop()}}),a)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrimitiveModeType=function(e){switch(e){case n.GL.POINTS:return n.GL.POINTS;case n.GL.LINES:case n.GL.LINE_STRIP:case n.GL.LINE_LOOP:return n.GL.LINES;case n.GL.TRIANGLES:case n.GL.TRIANGLE_STRIP:case n.GL.TRIANGLE_FAN:return n.GL.TRIANGLES;default:throw new Error("Unknown primitive mode")}},t.isPrimitiveModeExpandable=function(e){switch(e){case n.GL.LINE_STRIP:case n.GL.LINE_LOOP:case n.GL.TRIANGLE_STRIP:case n.GL.TRIANGLE_FAN:return!0;default:return!1}},t.getPrimitiveModeExpandedLength=function(e,t){switch(e){case n.GL.POINTS:case n.GL.LINES:case n.GL.LINE_STRIP:return t;case n.GL.LINE_LOOP:return t+1;case n.GL.TRIANGLES:return t;case n.GL.TRIANGLE_STRIP:case n.GL.TRIANGLE_FAN:return 3*(t-2);default:throw new Error("Unknown length")}};var n=r(34)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse3DTileGLTFViewSync=function(e,t,r,n){e.rotateYtoZ=!0;var o=e.byteOffset+e.byteLength-r;if(0===o)throw new Error("glTF byte length must be greater than 0.");e.gltfUpAxis=n["3d-tiles"]&&n["3d-tiles"].assetGltfUpAxis?n["3d-tiles"].assetGltfUpAxis:"Y",e.gltfArrayBuffer=(0,i.sliceArrayBuffer)(t,r,o),e.gltfByteOffset=0,e.gltfByteLength=o,r%4==0||console.warn("".concat(e.type,": embedded glb is not aligned to a 4-byte boundary."));return e.byteOffset+e.byteLength},t.extractGLTF=function(e,t,r,n){return u.apply(this,arguments)},t.GLTF_FORMAT=void 0;var n=r(207),i=r(3);function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}var s={URI:0,EMBEDDED:1};function u(){return(u=a(regeneratorRuntime.mark((function e(t,r,i,o){var a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i["3d-tiles"]||{},c(t,r,i),!a.loadGLTF){e.next=16;break}if(s=o.parse,u=o.fetch,!t.gltfUrl){e.next=9;break}return e.next=7,u(t.gltfUrl,i);case 7:t.gltfArrayBuffer=e.sent,t.gltfByteOffset=0;case 9:if(!t.gltfArrayBuffer){e.next=16;break}return e.next=12,s(t.gltfArrayBuffer,n.GLTFLoader,i,o);case 12:t.gltf=e.sent,delete t.gltfArrayBuffer,delete t.gltfByteOffset,delete t.gltfByteLength;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t,r){switch(t){case s.URI:var n=new Uint8Array(e.gltfArrayBuffer,e.gltfByteOffset),i=(new TextDecoder).decode(n);e.gltfUrl=i.replace(/[\s\0]+$/,""),delete e.gltfArrayBuffer,delete e.gltfByteOffset,delete e.gltfByteLength;break;case s.EMBEDDED:break;default:throw new Error("b3dm: Illegal glTF format field")}}t.GLTF_FORMAT=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageLoader",{enumerable:!0,get:function(){return n.ImageLoader}}),Object.defineProperty(t,"ImageWriter",{enumerable:!0,get:function(){return i.ImageWriter}}),Object.defineProperty(t,"getBinaryImageMetadata",{enumerable:!0,get:function(){return o.getBinaryImageMetadata}}),Object.defineProperty(t,"isImageTypeSupported",{enumerable:!0,get:function(){return a.isImageTypeSupported}}),Object.defineProperty(t,"getDefaultImageType",{enumerable:!0,get:function(){return a.getDefaultImageType}}),Object.defineProperty(t,"isImage",{enumerable:!0,get:function(){return s.isImage}}),Object.defineProperty(t,"getImageType",{enumerable:!0,get:function(){return s.getImageType}}),Object.defineProperty(t,"getImageSize",{enumerable:!0,get:function(){return s.getImageSize}}),Object.defineProperty(t,"getImageData",{enumerable:!0,get:function(){return s.getImageData}}),Object.defineProperty(t,"loadImage",{enumerable:!0,get:function(){return u.loadImage}});var n=r(210),i=r(213),o=r(66),a=r(114),s=r(48),u=r(215)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.8"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return h.apply(this,arguments)};var n=r(47),i=r(114),o=r(48),a=c(r(115)),s=c(r(211)),u=c(r(212));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}function h(){return(h=f(regeneratorRuntime.mark((function e(t,r,i){var c,l,f,h,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=(r=r||{}).image||{},l=c.type||"auto",f=(i||{}).url,h=d(l),e.t0=h,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,(0,s.default)(t,r,f);case 10:return p=e.sent,e.abrupt("break",21);case 12:return e.next=14,(0,a.default)(t,r,f);case 14:return p=e.sent,e.abrupt("break",21);case 16:return e.next=18,(0,u.default)(t,r);case 18:return p=e.sent,e.abrupt("break",21);case 20:(0,n.assert)(!1);case 21:return"data"===l&&(p=(0,o.getImageData)(p)),e.abrupt("return",p);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){switch(e){case"auto":case"data":return(0,i.getDefaultImageType)();default:return(0,i.isImageTypeSupported)(e),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isImageTypeSupported=function(e){switch(e){case"auto":return a||o||u;case"imagebitmap":return a;case"image":return o;case"data":return u;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}},t.getDefaultImageType=function(){if(a)return"imagebitmap";if(o)return"image";if(u)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")};var n=r(65),i=n.global._parseImageNode,o="undefined"!=typeof Image,a="undefined"!=typeof ImageBitmap,s=Boolean(i),u=!!n.isBrowser||s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return a.apply(this,arguments)},t.loadToImage=s;var n=r(116);function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i){var o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,n.getBlobOrSVGDataUrl)(t,i),a=self.URL||self.webkitURL,u="string"!=typeof o&&a.createObjectURL(o),e.prev=3,e.next=6,s(u||o,r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,u&&a.revokeObjectURL(u),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function s(e,t){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new Image).src=t,!(r.image&&r.image.decode&&n.decode)){e.next=6;break}return e.next=5,n.decode();case 5:return e.abrupt("return",n);case 6:return e.next=8,new Promise((function(e,r){try{n.onload=function(){return e(n)},n.onerror=function(e){return r(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(e){r(e)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSVG=o,t.getBlobOrSVGDataUrl=function(e,t){if(o(t)){var r=(new TextDecoder).decode(e);return"data:image/svg+xml;base64,".concat(btoa(r))}return a(e,t)},t.getBlob=a;var n=/^data:image\/svg\+xml/,i=/\.svg((\?|#).*)?$/;function o(e){return e&&(n.test(e)||i.test(e))}function a(e,t){if(o(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postProcessGLTF=function(e,t){return(new v).postProcess(e,t)};var n,i=r(26),o=r(67);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},h={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},d={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},p={magFilter:d.TEXTURE_MAG_FILTER,minFilter:d.TEXTURE_MIN_FILTER,wrapS:d.TEXTURE_WRAP_S,wrapT:d.TEXTURE_WRAP_T},y=(l(n={},d.TEXTURE_MAG_FILTER,d.LINEAR),l(n,d.TEXTURE_MIN_FILTER,d.NEAREST_MIPMAP_LINEAR),l(n,d.TEXTURE_WRAP_S,d.REPEAT),l(n,d.TEXTURE_WRAP_,d.REPEAT),n);var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"postProcess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.json,n=e.buffers,o=void 0===n?[]:n,a=e.images,s=void 0===a?[]:a,u=e.baseUri,c=void 0===u?"":u;return(0,i.assert)(r),this.baseUri=c,this.json=r,this.buffers=o,this.images=s,this._resolveTree(this.json,t),this.json}},{key:"_resolveTree",value:function(e){var t=this;e.bufferViews&&(e.bufferViews=e.bufferViews.map((function(e,r){return t._resolveBufferView(e,r)}))),e.images&&(e.images=e.images.map((function(e,r){return t._resolveImage(e,r)}))),e.samplers&&(e.samplers=e.samplers.map((function(e,r){return t._resolveSampler(e,r)}))),e.textures&&(e.textures=e.textures.map((function(e,r){return t._resolveTexture(e,r)}))),e.accessors&&(e.accessors=e.accessors.map((function(e,r){return t._resolveAccessor(e,r)}))),e.materials&&(e.materials=e.materials.map((function(e,r){return t._resolveMaterial(e,r)}))),e.meshes&&(e.meshes=e.meshes.map((function(e,r){return t._resolveMesh(e,r)}))),e.nodes&&(e.nodes=e.nodes.map((function(e,r){return t._resolveNode(e,r)}))),e.skins&&(e.skins=e.skins.map((function(e,r){return t._resolveSkin(e,r)}))),e.scenes&&(e.scenes=e.scenes.map((function(e,r){return t._resolveScene(e,r)}))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===u(t))return t;var r=this.json[e]&&this.json[e][t];return r||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),r}},{key:"_resolveScene",value:function(e,t){var r=this;return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((function(e){return r.getNode(e)})),e}},{key:"_resolveNode",value:function(e,t){var r=this;return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((function(e){return r.getNode(e)}))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce((function(e,t){var n=r.getMesh(t);return e.id=n.id,e.primitives=e.primitives.concat(n.primitives),e}),{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}},{key:"_resolveSkin",value:function(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}},{key:"_resolveMesh",value:function(e,t){var r=this;return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((function(e){var t=(e=s({},e)).attributes;for(var n in e.attributes={},t)e.attributes[n]=r.getAccessor(t[n]);return void 0!==e.indices&&(e.indices=r.getAccessor(e.indices)),void 0!==e.material&&(e.material=r.getMaterial(e.material)),e}))),e}},{key:"_resolveMaterial",value:function(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture=s({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=s({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=s({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness=s({},e.pbrMetallicRoughness);var r=e.pbrMetallicRoughness;r.baseColorTexture&&(r.baseColorTexture=s({},r.baseColorTexture),r.baseColorTexture.texture=this.getTexture(r.baseColorTexture.index)),r.metallicRoughnessTexture&&(r.metallicRoughnessTexture=s({},r.metallicRoughnessTexture),r.metallicRoughnessTexture.texture=this.getTexture(r.metallicRoughnessTexture.index))}return e}},{key:"_resolveAccessor",value:function(e,t){var r,n;if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(r=e.componentType,h[r]),e.components=(n=e.type,f[n]),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){var i=e.bufferView.buffer,a=(0,o.getAccessorArrayTypeAndLength)(e,e.bufferView),s=a.ArrayType,u=a.byteLength,c=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+i.byteOffset,l=i.arrayBuffer.slice(c,c+u);e.value=new s(l)}return e}},{key:"_resolveTexture",value:function(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):y,e.source=this.getImage(e.source),e}},{key:"_resolveSampler",value:function(e,t){for(var r in e.id=e.id||"sampler-".concat(t),e.parameters={},e){var n=this._enumSamplerParameter(r);void 0!==n&&(e.parameters[n]=e[r])}return e}},{key:"_enumSamplerParameter",value:function(e){return p[e]}},{key:"_resolveImage",value:function(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var r=this.images[t];return r&&(e.image=r),e}},{key:"_resolveBufferView",value:function(e,t){e.id=e.id||"bufferView-".concat(t);var r=e.buffer;e.buffer=this.buffers[r];var n=this.buffers[r].arrayBuffer,i=this.buffers[r].byteOffset||0;return"byteOffset"in e&&(i+=e.byteOffset),e.data=new Uint8Array(n,i,e.byteLength),e}},{key:"_resolveCamera",value:function(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}])&&c(t.prototype,r),n&&c(t,n),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGLB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new DataView(e),i=r.magic,o=void 0===i?1735152710:i,a=n.getUint32(t,!1);return a===o||1735152710===a},t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new DataView(t),s=i(n,r+0),u=n.getUint32(r+4,!0),c=n.getUint32(r+8,!0);switch(Object.assign(e,{header:{byteOffset:r,byteLength:c,hasBinChunk:!1},type:s,version:u,json:{},binChunks:[]}),r+=12,e.version){case 1:return o(e,n,r);case 2:return a(e,n,r,{});default:throw new Error("Invalid GLB version ".concat(e.version,". Only supports v1 and v2."))}};var n=r(3);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function o(e,t,r){(0,n.assert)(e.header.byteLength>20);var i=t.getUint32(r+0,!0),o=t.getUint32(r+4,!0);return r+=8,(0,n.assert)(0===o),s(e,t,r,i),r+=i,r+=u(e,t,r,e.header.byteLength)}function a(e,t,r,i){return(0,n.assert)(e.header.byteLength>20),function(e,t,r,i){for(;r+8<=e.header.byteLength;){var o=t.getUint32(r+0,!0),a=t.getUint32(r+4,!0);switch(r+=8,a){case 1313821514:s(e,t,r,o);break;case 5130562:u(e,t,r,o);break;case 0:i.strict||s(e,t,r,o);break;case 1:i.strict||u(e,t,r,o)}r+=(0,n.padToNBytes)(o,4)}}(e,t,r,i),r+e.header.byteLength}function s(e,t,r,i){var o=new Uint8Array(t.buffer,r,i),a=new TextDecoder("utf8").decode(o);return e.json=JSON.parse(a),(0,n.padToNBytes)(i,4)}function u(e,t,r,i){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:r,byteLength:i,arrayBuffer:t.buffer}),(0,n.padToNBytes)(i,4)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.magic,o=void 0===i?1179937895:i,a=e.version,s=void 0===a?2:a,u=e.json,c=void 0===u?{}:u,l=e.binary,f=r;t&&(t.setUint32(r+0,o,!0),t.setUint32(r+4,s,!0),t.setUint32(r+8,0,!0));var h=r+8,d=r+=12;t&&(t.setUint32(r+0,0,!0),t.setUint32(r+4,1313821514,!0));r+=8;var p=JSON.stringify(c);if(r=(0,n.copyPaddedStringToDataView)(t,r,p,4),t){var y=r-d-8;t.setUint32(d+0,y,!0)}if(l){var v=r;if(t&&(t.setUint32(r+0,0,!0),t.setUint32(r+4,5130562,!0)),r+=8,r=(0,n.copyPaddedArrayBufferToDataView)(t,r,l,4),t){var b=r-v-8;t.setUint32(v+0,b,!0)}}if(t){var m=r-f;t.setUint32(h,m,!0)}return r};var n=r(3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIonTilesetMetadata=function(e,t){return d.apply(this,arguments)},t.getIonAssets=p,t.getIonAssetMetadata=v;var n=r(55),i=r(3);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,s,"next",e)}function s(e){l(o,n,i,a,s,"throw",e)}a(void 0)}))}}var h="https://api.cesium.com/v1/assets";function d(){return(d=f(regeneratorRuntime.mark((function e(t,r){var n,o,a,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=6;break}return e.next=3,p(t);case 3:n=e.sent,o=u(n.items);try{for(o.s();!(a=o.n()).done;)"3DTILES"===(s=a.value).type&&(r=s.id)}catch(e){o.e(e)}finally{o.f()}case 6:return e.next=8,v(t,r);case 8:return c=e.sent,l=c.type,f=c.url,(0,i.assert)("3DTILES"===l&&f),c.headers={Authorization:"Bearer ".concat(c.accessToken)},e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return y.apply(this,arguments)}function y(){return(y=f(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,i.assert)(t),h,r={Authorization:"Bearer ".concat(t)},e.next=5,(0,n.fetchFile)("https://api.cesium.com/v1/assets",{fetch:{headers:r}});case 5:if((o=e.sent).ok){e.next=8;break}throw new Error(o.statusText);case 8:return e.next=10,o.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return b.apply(this,arguments)}function b(){return(b=f(regeneratorRuntime.mark((function e(t,r){var o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,i.assert)(t,r),o={Authorization:"Bearer ".concat(t)},s="".concat(h,"/").concat(r),e.next=5,(0,n.fetchFile)("".concat(s),{fetch:{headers:o}});case 5:if((u=e.sent).ok){e.next=8;break}throw new Error(u.statusText);case 8:return e.next=10,u.json();case 10:return c=e.sent,e.next=13,(0,n.fetchFile)("".concat(s,"/endpoint"),{fetch:{headers:o}});case 13:if((u=e.sent).ok){e.next=16;break}throw new Error(u.statusText);case 16:return e.next=18,u.json();case 18:return l=e.sent,c=a(a({},c),l),e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";(function(t){var n=r(122),i="undefined"==typeof window?t:window;i.loaders=i.loaders||{},e.exports=Object.assign(i.loaders,n)}).call(this,r(24))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Tiles3DLoader",{enumerable:!0,get:function(){return n.Tiles3DLoader}}),Object.defineProperty(t,"CesiumIonLoader",{enumerable:!0,get:function(){return i.CesiumIonLoader}}),Object.defineProperty(t,"Tile3DWriter",{enumerable:!0,get:function(){return o.Tile3DWriter}}),Object.defineProperty(t,"Tile3DFeatureTable",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Tile3DBatchTable",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"TILE3D_TYPE",{enumerable:!0,get:function(){return u.TILE3D_TYPE}}),Object.defineProperty(t,"_getIonTilesetMetadata",{enumerable:!0,get:function(){return c.getIonTilesetMetadata}});var n=r(69),i=r(236),o=r(237),a=l(r(44)),s=l(r(63)),u=r(21),c=r(120);function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=i.self||i.window||i.global||{};t.self=o;var a=i.window||i.self||i.global||{};t.window=a;var s=i.global||i.self||i.window||{};t.global=s;var u=i.document||{};t.document=u;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var l="function"==typeof importScripts;t.isWorker=l;var f=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),h=f&&parseFloat(f[1])||0;t.nodeVersion=h}).call(this,r(24),r(18))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLoaderWorker=function(e){if("undefined"==typeof self)return;n.WorkerBody.onmessage=function(){var t=u(regeneratorRuntime.mark((function t(r,i){var o,a,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r,t.next="process"===t.t0?3:16;break;case 3:return t.prev=3,o=i.input,a=i.options,s=void 0===a?{}:a,t.next=7,f({loader:e,arrayBuffer:o,options:s,context:{parse:l}});case 7:u=t.sent,n.WorkerBody.postMessage("done",{result:u}),t.next=15;break;case 11:t.prev=11,t.t1=t.catch(3),c=t.t1 instanceof Error?t.t1.message:"",n.WorkerBody.postMessage("error",{error:c});case 15:return t.abrupt("break",16);case 16:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,r){return t.apply(this,arguments)}}()};var n=r(39);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}var c=0;function l(e,t){return new Promise((function(r,i){var o=c++;n.WorkerBody.addEventListener((function e(t,a){if(a.id===o)switch(t){case"done":n.WorkerBody.removeEventListener(e),r(a.result);break;case"error":n.WorkerBody.removeEventListener(e),i(a.error)}}));var a={id:o,input:e,options:t};n.WorkerBody.postMessage("process",a)}))}function f(e){return h.apply(this,arguments)}function h(){return(h=u(regeneratorRuntime.mark((function e(t){var r,n,i,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.loader,n=t.arrayBuffer,i=t.options,a=t.context,!r.parseSync&&!r.parse){e.next=6;break}s=n,u=r.parseSync||r.parse,e.next=13;break;case 6:if(!r.parseTextSync){e.next=12;break}c=new TextDecoder,s=c.decode(n),u=r.parseTextSync,e.next=13;break;case 12:throw new Error("Could not load data with ".concat(r.name," loader"));case 13:return i=o(o({},i),{},{modules:r&&r.options&&r.options.modules||{},worker:!1}),e.next=16,u(s,o({},i),a,r);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoadableWorkerURL=function(e){(0,n.assert)(e.source&&!e.url||!e.source&&e.url);var t=i.get(e.source||e.url);t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return o((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),i.set(e.url,t)),e.source&&(t=o(e.source),i.set(e.source,t)));return(0,n.assert)(t),t};var n=r(19),i=new Map;function o(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canProcessOnWorker=function(e,t){if(!i.default.isSupported())return!1;return e.worker&&(null==t?void 0:t.worker)},t.processOnWorker=function(e,t){return c.apply(this,arguments)};var n,i=(n=r(72))&&n.__esModule?n:{default:n},o=r(127),a=r(75);function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}function c(){return(c=u(regeneratorRuntime.mark((function e(t,r){var n,s,u,c,f,h,d,p,y,v,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>2&&void 0!==b[2]?b[2]:{},s=b.length>3&&void 0!==b[3]?b[3]:{},u=(0,a.getWorkerName)(t),c=(0,a.getWorkerURL)(t,n),f=i.default.getWorkerFarm(n),h=f.getWorkerPool({name:u,url:c}),d=n.jobName||t.name,e.next=9,h.startJob(d,l.bind(null,s));case 9:return p=e.sent,y=(0,o.removeNontransferableOptions)(n),p.postMessage("process",{input:r,options:y}),e.next=14,p.result;case 14:return v=e.sent,e.abrupt("return",v.result);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,r,n){return f.apply(this,arguments)}function f(){return(f=u(regeneratorRuntime.mark((function e(t,r,n,i){var o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:23;break;case 3:return r.done(i),e.abrupt("break",24);case 5:return r.error(i.error),e.abrupt("break",24);case 7:if(o=i.id,a=i.input,s=i.options,e.prev=8,t.process){e.next=12;break}return r.postMessage("error",{id:o,error:"Worker not set up to process on main thread"}),e.abrupt("return");case 12:return e.next=14,t.process(a,s);case 14:u=e.sent,r.postMessage("done",{id:o,result:u}),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",r.postMessage("error",{id:o,error:c});case 22:return e.abrupt("break",24);case 23:console.warn("process-on-worker: unknown message ".concat(n));case 24:case"end":return e.stop()}}),e,null,[[8,18]])})))).apply(this,arguments)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeNontransferableOptions=function(e){return JSON.parse((t=e,r=new Set,JSON.stringify(t,(function(e,t){if("object"===n(t)&&null!==t){if(r.has(t))try{return JSON.parse(JSON.stringify(t))}catch(e){return}r.add(t)}return t}))));var t,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWorker=function(e,t){if("undefined"==typeof self)return;var r={process:f};i.default.onmessage=function(){var o,l=(o=regeneratorRuntime.mark((function o(a,l){var f,h,d,p,y,v,b,m,g,w;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0,o.t0=a,o.next="process"===o.t0?4:"process-in-batches"===o.t0?11:"input-batch"===o.t0?51:"input-done"===o.t0?53:55;break;case 4:if(e){o.next=6;break}throw new Error("Worker does not support atomic processing");case 6:return o.next=8,e(l.input,l.options||{},r);case 8:return f=o.sent,i.default.postMessage("done",{result:f}),o.abrupt("break",55);case 11:if(t){o.next=13;break}throw new Error("Worker does not support batched processing");case 13:u=new n.default,c=l.options||{},h=t(u,c,null==r?void 0:r.processInBatches),d=!0,p=!1,o.prev=18,v=s(h);case 20:return o.next=22,v.next();case 22:return b=o.sent,d=b.done,o.next=26,b.value;case 26:if(m=o.sent,d){o.next=33;break}g=m,i.default.postMessage("output-batch",{result:g});case 30:d=!0,o.next=20;break;case 33:o.next=39;break;case 35:o.prev=35,o.t1=o.catch(18),p=!0,y=o.t1;case 39:if(o.prev=39,o.prev=40,d||null==v.return){o.next=44;break}return o.next=44,v.return();case 44:if(o.prev=44,!p){o.next=47;break}throw y;case 47:return o.finish(44);case 48:return o.finish(39);case 49:return i.default.postMessage("done",{}),o.abrupt("break",55);case 51:return u.push(l.input),o.abrupt("break",55);case 53:return u.close(),o.abrupt("break",55);case 55:o.next=61;break;case 57:o.prev=57,o.t2=o.catch(0),w=o.t2 instanceof Error?o.t2.message:"",i.default.postMessage("error",{error:w});case 61:case"end":return o.stop()}}),o,null,[[0,57],[18,35,39,49],[40,,44,48]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function s(e){a(i,r,n,s,u,"next",e)}function u(e){a(i,r,n,s,u,"throw",e)}s(void 0)}))});return function(e,t){return l.apply(this,arguments)}}()};var n=o(r(76)),i=o(r(74));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var u,c,l=0;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){var o=l++;i.default.addEventListener((function e(t,a){if(a.id===o)switch(t){case"done":i.default.removeEventListener(e),r(a.result);break;case"error":i.default.removeEventListener(e),n(a.error)}}));var a={id:o,input:e,options:t};i.default.postMessage("process",a)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateWorkerVersion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.VERSION;(0,n.assert)(e,"no worker provided");var r=e.version;if(!t||!r)return!1;return!0};var n=r(19),i=r(40)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadLibrary=function(e){return f.apply(this,arguments)},t.getLibraryUrl=h;var i=r(51),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,r&&r.set(e,i);return i}(r(131)),a=r(19);r(40);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}var l={};function f(){return(f=c(regeneratorRuntime.mark((function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]?i[2]:{},r&&(t=h(t,r,n)),l[t]=l[t]||d(t),e.next=6,l[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r){if(e.startsWith("http"))return e;var n=r.modules||{};return n[e]?n[e]:i.isBrowser?r.CDN?((0,a.assert)(r.CDN.startsWith("http")),"".concat(r.CDN,"/").concat(t,"@").concat("3.0.8","/dist/libs/").concat(e)):i.isWorker?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function d(e){return p.apply(this,arguments)}function p(){return(p=c(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(i.isBrowser){e.next=14;break}if(e.t0=o.requireFromFile,!e.t0){e.next=13;break}return e.next=12,o.requireFromFile(t);case 12:e.t0=e.sent;case 13:return e.abrupt("return",e.t0);case 14:if(!i.isWorker){e.next=16;break}return e.abrupt("return",importScripts(t));case 16:return e.next=18,fetch(t);case 18:return n=e.sent,e.next=21,n.text();case 21:return a=e.sent,e.abrupt("return",y(a,t));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){if(!i.isBrowser)return o.requireFromString&&o.requireFromString(e,t);if(i.isWorker)return eval.call(i.global,e),null;var r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(t){r.text=e}return document.body.appendChild(r),null}},function(e,t){},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canParseWithWorker=function(e,t){if(!n.WorkerFarm.isSupported())return!1;return e.worker&&(null==t?void 0:t.worker)},t.parseWithWorker=function(e,t,r,n,i){return a.apply(this,arguments)};var n=r(39);function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i,o,a){var u,c,l,f,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.id,c=(0,n.getWorkerURL)(t,i),l=n.WorkerFarm.getWorkerFarm(i),f=l.getWorkerPool({name:u,url:c}),i=JSON.parse(JSON.stringify(i)),e.next=7,f.startJob("process-on-worker",s.bind(null,a));case 7:return(h=e.sent).postMessage("process",{input:r,options:i}),e.next=11,h.result;case 11:return d=e.sent,e.next=14,d.result;case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t,r,n){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t,r,n,i){var o,a,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:20;break;case 3:return r.done(i),e.abrupt("break",21);case 5:return r.error(i.error),e.abrupt("break",21);case 7:return o=i.id,a=i.input,s=i.options,e.prev=8,e.next=11,t(a,s);case 11:u=e.sent,r.postMessage("done",{id:o,result:u}),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",r.postMessage("error",{id:o,error:c});case 19:return e.abrupt("break",21);case 20:console.warn("parse-with-worker unknown message ".concat(n));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=function(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat((0,n.getFirstCharacters)(e),'"'))}};var n=r(77)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPaddedArrayBufferToDataView=i,t.copyPaddedStringToDataView=function(e,t,r,n){var o=(new TextEncoder).encode(r);return t=i(e,t,o,n)};var n=r(80);function i(e,t,r,i){var o=(0,n.padToNBytes)(r.byteLength,i),a=o-r.byteLength;if(e){var s=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),u=new Uint8Array(r);s.set(u);for(var c=0;c<a;++c)e.setUint8(t+r.byteLength+c,32)}return t+=o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padStringToByteAlignment=function(e,t){for(var r=e.length,n=Math.ceil(r/t)*t-r,i="",o=0;o<n;++o)i+=" ";return e+i},t.copyStringToDataView=function(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r.charCodeAt(i));return t+n},t.copyBinaryToDataView=function(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r[i]);return t+n}},function(e,t,r){"use strict";function n(e){return new a(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,r;function n(t,r){try{var o=e[t](r),s=o.value,u=s instanceof a;Promise.resolve(u?s.wrapped:s).then((function(e){u?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}function s(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function u(){return(u=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,u,c,l,f,h,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>1&&void 0!==d[1]?d[1]:{},i=new TextDecoder(void 0,r),o=!0,a=!1,e.prev=4,c=s(t);case 6:return e.next=8,n(c.next());case 8:return l=e.sent,o=l.done,e.next=12,n(l.value);case 12:if(f=e.sent,o){e.next=20;break}return h=f,e.next=17,"string"==typeof h?h:i.decode(h,{stream:!0});case 17:o=!0,e.next=6;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),a=!0,u=e.t0;case 26:if(e.prev=26,e.prev=27,o||null==c.return){e.next=31;break}return e.next=31,n(c.return());case 31:if(e.prev=31,!a){e.next=34;break}throw u;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[4,22,26,36],[27,,31,35]])})))).apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new TextEncoder,i=!0,o=!1,e.prev=3,u=s(t);case 5:return e.next=7,n(u.next());case 7:return c=e.sent,i=c.done,e.next=11,n(c.value);case 11:if(l=e.sent,i){e.next=19;break}return f=l,e.next=16,"string"==typeof f?r.encode(f):f;case 16:i=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),o=!0,a=e.t0;case 25:if(e.prev=25,e.prev=26,i||null==u.return){e.next=30;break}return e.next=30,n(u.return());case 30:if(e.prev=30,!o){e.next=33;break}throw a;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,u,c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",i=!0,o=!1,e.prev=3,u=s(t);case 5:return e.next=7,n(u.next());case 7:return c=e.sent,i=c.done,e.next=11,n(c.value);case 11:if(l=e.sent,i){e.next=26;break}r+=l,f=void 0;case 16:if(!((f=r.indexOf("\n"))>=0)){e.next=23;break}return h=r.slice(0,f+1),r=r.slice(f+1),e.next=21,h;case 21:e.next=16;break;case 23:i=!0,e.next=5;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),o=!0,a=e.t0;case 32:if(e.prev=32,e.prev=33,i||null==u.return){e.next=37;break}return e.next=37,n(u.return());case 37:if(e.prev=37,!o){e.next=40;break}throw a;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!(r.length>0)){e.next=45;break}return e.next=45,r;case 45:case"end":return e.stop()}}),e,null,[[3,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,i=!0,o=!1,e.prev=3,u=s(t);case 5:return e.next=7,n(u.next());case 7:return c=e.sent,i=c.done,e.next=11,n(c.value);case 11:if(l=e.sent,i){e.next=20;break}return f=l,e.next=16,{counter:r,line:f};case 16:r++;case 17:i=!0,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),o=!0,a=e.t0;case 26:if(e.prev=26,e.prev=27,i||null==u.return){e.next=31;break}return e.next=31,n(u.return());case 31:if(e.prev=31,!o){e.next=34;break}throw a;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35]])})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.makeTextDecoderIterator=function(e){return u.apply(this,arguments)},t.makeTextEncoderIterator=function(e){return c.apply(this,arguments)},t.makeLineIterator=function(e){return l.apply(this,arguments)},t.makeNumberedLineIterator=function(e){return f.apply(this,arguments)},o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t){return s.apply(this,arguments)},t.concatenateArrayBuffersAsync=function(e){return u.apply(this,arguments)},t.concatenateStringsAsync=function(e){return c.apply(this,arguments)};var n=r(78);function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))}}function a(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function s(){return(s=o(regeneratorRuntime.mark((function e(t,r){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.next();case 3:if(n=e.sent,i=n.done,o=n.value,!i){e.next=9;break}return t.return(),e.abrupt("return");case 9:if(!r(o)){e.next=12;break}return e.abrupt("return");case 12:e.next=0;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t){var r,i,o,s,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=!0,o=!1,e.prev=3,u=a(t);case 5:return e.next=7,u.next();case 7:return c=e.sent,i=c.done,e.next=11,c.value;case 11:if(l=e.sent,i){e.next=18;break}f=l,r.push(f);case 15:i=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),o=!0,s=e.t0;case 24:if(e.prev=24,e.prev=25,i||null==u.return){e.next=29;break}return e.next=29,u.return();case 29:if(e.prev=29,!o){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",n.concatenateArrayBuffers.apply(void 0,r));case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function e(t){var r,n,i,o,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!0,i=!1,e.prev=3,s=a(t);case 5:return e.next=7,s.next();case 7:return u=e.sent,n=u.done,e.next=11,u.value;case 11:if(c=e.sent,n){e.next=18;break}l=c,r.push(l);case 15:n=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),i=!0,o=e.t0;case 24:if(e.prev=24,e.prev=25,n||null==s.return){e.next=29;break}return e.next=29,s.return();case 29:if(e.prev=29,!i){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",r.join(""));case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(36);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={id:"request-scheduler",throttleRequests:!0,maxRequests:6},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),u(this,"props",void 0),u(this,"stats",void 0),u(this,"activeRequestCount",0),u(this,"requestQueue",[]),u(this,"requestMap",new Map),u(this,"deferredUpdate",null),this.props=o(o({},c),t),this.stats=new n.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}var t,r,i;return t=e,(r=[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var r={handle:e,priority:0,getPriority:t},n=new Promise((function(e){return r.resolve=e,r}));return this.requestQueue.push(r),this.requestMap.set(e,n),this._issueNewRequests(),n}},{key:"_issueRequest",value:function(e){var t=this,r=e.handle,n=e.resolve,i=!1,o=function(){i||(i=!0,t.requestMap.delete(r),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,n?n({done:o}):Promise.resolve({done:o})}},{key:"_issueNewRequests",value:function(){var e=this;this.deferredUpdate||(this.deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this.deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t){var r=this.requestQueue.shift();r&&this._issueRequest(r)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0&&(e.resolve(null),1))}}])&&s(t.prototype,r),i&&s(t,i),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dirname=function(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""},t.join=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="/";return(t=t.map((function(e,r){return r&&(e=e.replace(new RegExp("^".concat(n)),"")),r!==t.length-1&&(e=e.replace(new RegExp("".concat(n,"$")),"")),e}))).join(n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPathPrefix=function(e){n=e},t.getPathPrefix=function(){return n},t.addAliases=function(e){Object.assign(i,e)},t.resolvePath=function(e){for(var t in i)if(e.startsWith(t)){var r=i[t];e=e.replace(t,r)}e.startsWith("http://")||e.startsWith("https://")||(e="".concat(n).concat(e));return e};var n="",i={}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBuffer=function(e){return e&&"object"===o(e)&&e.isBuffer},t.toBuffer=function(e){return n.toBuffer?n.toBuffer(e):e},t.bufferToArrayBuffer=function(e){if(n.toArrayBuffer)return n.toArrayBuffer(e);return e};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=e[s]}n.default=e,r&&r.set(e,n);return n}(r(79));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0}),t._typecheckJSONLoader=t.JSONLoader=void 0;var i,o,a={name:"JSON",id:"json",module:"json",version:"3.0.8",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:s,parse:(i=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s((new TextDecoder).decode(t)));case 1:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=i.apply(e,t);function s(e){n(a,r,o,s,u,"next",e)}function u(e){n(a,r,o,s,u,"throw",e)}s(void 0)}))},function(e){return o.apply(this,arguments)}),options:{}};function s(e){return JSON.parse(e)}t.JSONLoader=a;var u=a;t._typecheckJSONLoader=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(5),i=r(35),o=r(36),a=r(3),s=v(r(86)),u=r(87),c=r(88),l=r(148),f=v(r(54)),h=v(r(172)),d=v(r(33)),p=v(r(173)),y=r(32);function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P={description:"",ellipsoid:i.Ellipsoid.WGS84,modelMatrix:new n.Matrix4,throttleRequests:!0,maxRequests:64,maximumMemoryUsage:32,onTileLoad:function(){},onTileUnload:function(){},onTileError:function(){},onTraversalComplete:function(e){return e},contentLoader:void 0,viewDistanceScale:1,maximumScreenSpaceError:8,loadTiles:!0,updateTransforms:!0,viewportTraversersMap:null,loadOptions:{fetch:{}},attributions:[],basePath:"",i3s:{}},j=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"options",void 0),T(this,"loadOptions",void 0),T(this,"type",void 0),T(this,"tileset",void 0),T(this,"loader",void 0),T(this,"url",void 0),T(this,"basePath",void 0),T(this,"modelMatrix",void 0),T(this,"ellipsoid",void 0),T(this,"lodMetricType",void 0),T(this,"lodMetricValue",void 0),T(this,"refine",void 0),T(this,"root",void 0),T(this,"roots",void 0),T(this,"asset",void 0),T(this,"description",void 0),T(this,"properties",void 0),T(this,"extras",void 0),T(this,"attributions",void 0),T(this,"credits",void 0),T(this,"stats",void 0),T(this,"traverseCounter",void 0),T(this,"geometricError",void 0),T(this,"selectedTiles",void 0),T(this,"cartographicCenter",void 0),T(this,"cartesianCenter",void 0),T(this,"zoom",void 0),T(this,"boundingVolume",void 0),T(this,"gpuMemoryUsageInBytes",void 0),T(this,"dynamicScreenSpaceErrorComputedDensity",void 0),T(this,"_traverser",void 0),T(this,"_cache",void 0),T(this,"_requestScheduler",void 0),T(this,"_frameNumber",void 0),T(this,"_queryParamsString",void 0),T(this,"_queryParams",void 0),T(this,"_extensionsUsed",void 0),T(this,"_tiles",void 0),T(this,"_pendingCount",void 0),T(this,"lastUpdatedVieports",void 0),T(this,"_requestedTiles",void 0),T(this,"_emptyTiles",void 0),T(this,"frameStateData",void 0),T(this,"maximumMemoryUsage",void 0),(0,a.assert)(t),this.options=O(O({},P),r),this.tileset=t,this.loader=t.loader,this.type=t.type,this.url=t.url,this.basePath=t.basePath||a.path.dirname(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=t.lodMetricType,this.lodMetricValue=t.lodMetricValue,this.refine=t.root.refine,this.loadOptions=this.options.loadOptions||{},this.root=null,this.roots={},this.cartographicCenter=null,this.cartesianCenter=null,this.zoom=1,this.boundingVolume=null,this.traverseCounter=0,this.geometricError=0,this._traverser=this._initializeTraverser(),this._cache=new s.default,this._requestScheduler=new a.RequestScheduler({throttleRequests:this.options.throttleRequests,maxRequests:this.options.maxRequests}),this._frameNumber=0,this._pendingCount=0,this._tiles={},this.selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this.frameStateData={},this.lastUpdatedVieports=null,this._queryParams={},this._queryParamsString="",this.maximumMemoryUsage=this.options.maximumMemoryUsage||32,this.gpuMemoryUsageInBytes=0,this.stats=new o.Stats({id:this.url}),this._initializeStats(),this._extensionsUsed=void 0,this.dynamicScreenSpaceErrorComputedDensity=0,this.extras=null,this.asset={},this.credits={},this.description=this.options.description||"",this._initializeTileSet(t)}var t,r,v,g,w;return t=e,(r=[{key:"destroy",value:function(){this._destroy()}},{key:"isLoaded",value:function(){return 0===this._pendingCount&&0!==this._frameNumber}},{key:"tiles",get:function(){return Object.values(this._tiles)}},{key:"frameNumber",get:function(){return this._frameNumber}},{key:"queryParams",get:function(){return this._queryParamsString||(this._queryParamsString=function(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t.push("".concat(i,"=").concat(e[i]))}switch(t.length){case 0:return"";case 1:return"?".concat(t[0]);default:return"?".concat(t.join("&"))}}(this._queryParams)),this._queryParamsString}},{key:"setProps",value:function(e){this.options=O(O({},this.options),e)}},{key:"setOptions",value:function(e){this.options=O(O({},this.options),e)}},{key:"getTileUrl",value:function(e){return e.startsWith("data:")?e:"".concat(e).concat(this.queryParams)}},{key:"hasExtension",value:function(e){return Boolean(this._extensionsUsed&&this._extensionsUsed.indexOf(e)>-1)}},{key:"update",value:function(e){if((!("loadTiles"in this.options)||this.options.loadTiles)&&!(this.traverseCounter>0)){!e&&this.lastUpdatedVieports?e=this.lastUpdatedVieports:this.lastUpdatedVieports=e,e instanceof Array||(e=[e]),this._cache.reset(),this._frameNumber++,this.traverseCounter=e.length;var t,r=[],n=m(e);try{for(n.s();!(t=n.n()).done;){var i=t.value.id;this._needTraverse(i)?r.push(i):this.traverseCounter--}}catch(e){n.e(e)}finally{n.f()}var o,a=m(e);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=s.id;if(this.roots[u]||(this.roots[u]=this._initializeTileHeaders(this.tileset,null)),r.includes(u)){var l=(0,c.getFrameState)(s,this._frameNumber);this._traverser.traverse(this.roots[u],l,this.options)}}}catch(e){a.e(e)}finally{a.f()}}}},{key:"_needTraverse",value:function(e){var t=e;return this.options.viewportTraversersMap&&(t=this.options.viewportTraversersMap[e]),t===e}},{key:"_onTraversalEnd",value:function(e){var t=e.viewport.id;this.frameStateData[t]||(this.frameStateData[t]={selectedTiles:[],_requestedTiles:[],_emptyTiles:[]});var r=this.frameStateData[t],n=Object.values(this._traverser.selectedTiles);r.selectedTiles=n,r._requestedTiles=Object.values(this._traverser.requestedTiles),r._emptyTiles=Object.values(this._traverser.emptyTiles),this.traverseCounter--,this.traverseCounter>0||this._updateTiles()}},{key:"_updateTiles",value:function(){for(var e in this.selectedTiles=[],this._requestedTiles=[],this._emptyTiles=[],this.frameStateData){var t=this.frameStateData[e];this.selectedTiles=this.selectedTiles.concat(t.selectedTiles),this._requestedTiles=this._requestedTiles.concat(t._requestedTiles),this._emptyTiles=this._emptyTiles.concat(t._emptyTiles)}this.selectedTiles=this.options.onTraversalComplete(this.selectedTiles);var r,n=m(this.selectedTiles);try{for(n.s();!(r=n.n()).done;){var i=r.value;this._tiles[i.id]=i}}catch(e){n.e(e)}finally{n.f()}this._loadTiles(),this._unloadTiles(),this._updateStats()}},{key:"_tilesChanged",value:function(e,t){if(e.length!==t.length)return!0;var r=new Set(e.map((function(e){return e.id}))),n=new Set(t.map((function(e){return e.id}))),i=e.filter((function(e){return!n.has(e.id)})).length>0;return i=i||t.filter((function(e){return!r.has(e.id)})).length>0}},{key:"_loadTiles",value:function(){var e,t=m(this._requestedTiles);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.contentUnloaded&&this._loadTile(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"_unloadTiles",value:function(){this._cache.unloadTiles(this,(function(e,t){return e._unloadTile(t)}))}},{key:"_updateStats",value:function(){var e,t=0,r=0,n=m(this.selectedTiles);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.contentAvailable&&i.content&&(t++,i.content.pointCount&&(r+=i.content.pointCount))}}catch(e){n.e(e)}finally{n.f()}this.stats.get("Tiles In View").count=this.selectedTiles.length,this.stats.get("Tiles To Render").count=t,this.stats.get("Points").count=r}},{key:"_initializeTileSet",value:function(e){this.root=this._initializeTileHeaders(e,null),this.type===y.TILESET_TYPE.TILES3D&&this._initializeCesiumTileset(e),this.type===y.TILESET_TYPE.I3S&&this._initializeI3STileset(),this._calculateViewProps()}},{key:"_calculateViewProps",value:function(){var e=this.root;(0,a.assert)(e);var t=e.boundingVolume.center;if(!t)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new n.Vector3,void(this.zoom=1);this.cartographicCenter=i.Ellipsoid.WGS84.cartesianToCartographic(t,new n.Vector3),this.cartesianCenter=t,this.zoom=(0,l.getZoomFromBoundingVolume)(e.boundingVolume)}},{key:"_initializeStats",value:function(){this.stats.get("Tiles In Tileset(s)"),this.stats.get("Tiles Loading"),this.stats.get("Tiles In Memory"),this.stats.get("Tiles In View"),this.stats.get("Tiles To Render"),this.stats.get("Tiles Loaded"),this.stats.get("Tiles Unloaded"),this.stats.get("Failed Tile Loads"),this.stats.get("Points","memory"),this.stats.get("Tile Memory Use","memory")}},{key:"_initializeTileHeaders",value:function(e,t){var r=new f.default(this,e.root,t);if(t&&(t.children.push(r),r.depth=t.depth+1),this.type===y.TILESET_TYPE.TILES3D){var n=[];for(n.push(r);n.length>0;){var i=n.pop();this.stats.get("Tiles In Tileset(s)").incrementCount();var o,a=m(i.header.children||[]);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=new f.default(this,s,i);i.children.push(u),u.depth=i.depth+1,n.push(u)}}catch(e){a.e(e)}finally{a.f()}}}return r}},{key:"_initializeTraverser",value:function(){var e;switch(this.type){case y.TILESET_TYPE.TILES3D:e=h.default;break;case y.TILESET_TYPE.I3S:e=p.default;break;default:e=d.default}return new e({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}},{key:"_destroyTileHeaders",value:function(e){this._destroySubtree(e)}},{key:"_loadTile",value:(g=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._onStartTileLoading(),e.next=4,t.loadContent();case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onTileLoadError(t,e.t0);case 10:return e.prev=10,this._onEndTileLoading(),this._onTileLoad(t,r),e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[0,7,10,14]])})),w=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=g.apply(e,t);function o(e){b(i,r,n,o,a,"next",e)}function a(e){b(i,r,n,o,a,"throw",e)}o(void 0)}))},function(e){return w.apply(this,arguments)})},{key:"_onTileLoadError",value:function(e,t){this.stats.get("Failed Tile Loads").incrementCount();var r=t.message||t.toString(),n=e.url;console.error("A 3D tile failed to load: ".concat(e.url," ").concat(r)),this.options.onTileError(e,r,n)}},{key:"_onTileLoad",value:function(e,t){t&&(e&&e.content&&(0,u.calculateTransformProps)(e,e.content),this._addTileToCache(e),this.options.onTileLoad(e))}},{key:"_onStartTileLoading",value:function(){this._pendingCount++,this.stats.get("Tiles Loading").incrementCount()}},{key:"_onEndTileLoading",value:function(){this._pendingCount--,this.stats.get("Tiles Loading").decrementCount()}},{key:"_addTileToCache",value:function(e){this._cache.add(this,e,(function(t){return t._updateCacheStats(e)}))}},{key:"_updateCacheStats",value:function(e){this.stats.get("Tiles Loaded").incrementCount(),this.stats.get("Tiles In Memory").incrementCount(),this.gpuMemoryUsageInBytes+=e.content.byteLength||0,this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes}},{key:"_unloadTile",value:function(e){this.gpuMemoryUsageInBytes-=e.content&&e.content.byteLength||0,this.stats.get("Tiles In Memory").decrementCount(),this.stats.get("Tiles Unloaded").incrementCount(),this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(e),e.unloadContent()}},{key:"_destroy",value:function(){var e=[];for(this.root&&e.push(this.root);e.length>0;){var t,r=e.pop(),n=m(r.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push(i)}}catch(e){n.e(e)}finally{n.f()}this._destroyTile(r)}this.root=null}},{key:"_destroySubtree",value:function(e){var t=e,r=[];for(r.push(t);r.length>0;){var n,i=m((e=r.pop()).children);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o)}}catch(e){i.e(e)}finally{i.f()}e!==t&&this._destroyTile(e)}t.children=[]}},{key:"_destroyTile",value:function(e){this._cache.unloadTile(this,e),this._unloadTile(e),e.destroy()}},{key:"_initializeCesiumTileset",value:function(e){if(this.asset=e.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description||"",this.properties=e.properties,this.geometricError=e.geometricError,this._extensionsUsed=e.extensionsUsed,this.extras=e.extras}},{key:"_initializeI3STileset",value:function(){this.loadOptions.i3s&&"token"in this.loadOptions.i3s&&(this._queryParams.token=this.loadOptions.i3s.token)}}])&&_(t.prototype,r),v&&_(t,v),e}();t.default=j},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(147))&&n.__esModule?n:{default:n};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this._length=0}var t,r,n;return t=e,(r=[{key:"length",get:function(){return this._length}},{key:"add",value:function(e){var t=new i.default(e,this.tail,null);return this.tail?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),++this._length,t}},{key:"remove",value:function(e){e&&(e.previous&&e.next?(e.previous.next=e.next,e.next.previous=e.previous):e.previous?(e.previous.next=null,this.tail=e.previous):e.next?(e.next.previous=null,this.head=e.next):(this.head=null,this.tail=null),e.next=null,e.previous=null,--this._length)}},{key:"splice",value:function(e,t){e!==t&&(this.remove(t),this._insert(e,t))}},{key:"_insert",value:function(e,t){var r=e.next;e.next=t,this.tail===e?this.tail=t:r.previous=t,t.next=r,t.previous=e,++this._length}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=t,this.previous=r,this.next=n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getZoomFromBoundingVolume=function(e){var t=e.halfAxes,r=e.radius,n=e.width,o=e.height;if(t){var a=function(e){e.getColumn(0,i);var t=e.getColumn(1),r=e.getColumn(2);return i.add(t).add(r).len()}(t);return Math.log2(6356752.314245179/a)}if(r)return Math.log2(6356752.314245179/r);if(o&&n){var s=Math.log2(6378137/n),u=Math.log2(6378137/o);return(s+u)/2}return 1};var n=r(5),i=new n.Vector3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMIMEType=function(e){var t=i.exec(e);if(t)return t[1];return e},t.parseMIMETypeFromURL=function(e){var t=n.exec(e);if(t)return t[1];return""};var n=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,i=/^([-\w.]+\/[-\w.+]+)/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readArrayBuffer=function(e,t,r){return a.apply(this,arguments)},t.readBlob=s;var n=r(3);function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("number"!=typeof t){e.next=4;break}return e.next=3,n.fs._readToArrayBuffer(t,r,i);case 3:return e.abrupt("return",e.sent);case 4:return t instanceof Blob||(t=new Blob([t])),o=t.slice(r,r+i),e.next=8,s(o);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var n=new FileReader;n.onload=function(t){var r;return e(null==t||null===(r=t.target)||void 0===r?void 0:r.result)},n.onerror=function(e){return r(e)},n.readAsArrayBuffer(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFileSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=(0,n.resolvePath)(e),!n.isBrowser){var r=n.fs.readFileSync(e,t);return"string"!=typeof r?(0,n.toArrayBuffer)(r):r}t.nothrow||(0,n.assert)(!1);return null};var n=r(3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLoaderOptions=function(e){(0,n.setGlobalOptions)(e)};var n=r(14)},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REMOVED_LOADER_OPTIONS=t.DEFAULT_LOADER_OPTIONS=void 0;var n={fetch:null,mimeType:void 0,nothrow:!1,log:new(r(90).ConsoleLog),CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]};t.DEFAULT_LOADER_OPTIONS=n;t.REMOVED_LOADER_OPTIONS={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStringIterator=i;var n=regeneratorRuntime.mark(i);function i(e,t){var r,i,o,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(null==t?void 0:t.chunkSize)||262144,i=0,o=new TextEncoder;case 3:if(!(i<e.length)){n.next=11;break}return a=Math.min(e.length-i,r),s=e.slice(i,i+a),i+=a,n.next=9,o.encode(s);case 9:n.next=3;break;case 11:case"end":return n.stop()}}),n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeArrayBufferIterator=i;var n=regeneratorRuntime.mark(i);function i(e){var t,r,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:{},r=t.chunkSize,i=void 0===r?262144:r,o=0;case 3:if(!(o<e.byteLength)){n.next=14;break}return a=Math.min(e.byteLength-o,i),s=new ArrayBuffer(a),u=new Uint8Array(e,o,a),new Uint8Array(s).set(u),o+=a,n.next=12,s;case 12:n.next=3;break;case 14:case"end":return n.stop()}}),n)}},function(e,t,r){"use strict";function n(e){return new a(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,r;function n(t,r){try{var o=e[t](r),s=o.value,u=s instanceof a;Promise.resolve(u?s.wrapped:s).then((function(e){u?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}Object.defineProperty(t,"__esModule",{value:!0}),t.makeBlobIterator=function(e,t){return s.apply(this,arguments)},o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};function s(){return(s=i(regeneratorRuntime.mark((function e(t,r){var i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(null==r?void 0:r.chunkSize)||1048576,o=0;case 2:if(!(o<t.size)){e.next=12;break}return a=o+i,e.next=6,n(t.slice(o,a).arrayBuffer());case 6:return s=e.sent,o=a,e.next=10,s;case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStreamIterator=function(e,t){return n.isBrowser?function(e,t){return c.apply(this,arguments)}(e,t):function(e,t){return l.apply(this,arguments)}(e,t)};var n=r(3);function i(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function o(e){return new u(e)}function a(e){return function(){return new s(e.apply(this,arguments))}}function s(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,s=a instanceof u;Promise.resolve(s?a.wrapped:a).then((function(e){s?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function u(e){this.wrapped=e}function c(){return(c=a(regeneratorRuntime.mark((function e(t,r){var i,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.getReader(),e.prev=1;case 2:return s=a||i.read(),null!=r&&r._streamReadAhead&&(a=i.read()),e.next=7,o(s);case 7:if(u=e.sent,c=u.done,l=u.value,!c){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,(0,n.toArrayBuffer)(l);case 14:e.next=2;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),i.releaseLock();case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}function l(){return(l=a(regeneratorRuntime.mark((function e(t,r){var a,s,u,c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,s=!1,e.prev=2,c=i(t);case 4:return e.next=6,o(c.next());case 6:return l=e.sent,a=l.done,e.next=10,o(l.value);case 10:if(f=e.sent,a){e.next=18;break}return h=f,e.next=15,(0,n.toArrayBuffer)(h);case 15:a=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),s=!0,u=e.t0;case 24:if(e.prev=24,e.prev=25,a||null==c.return){e.next=29;break}return e.next=29,o(c.return());case 29:if(e.prev=29,!s){e.next=32;break}throw u;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])})))).apply(this,arguments)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSync=function e(t,r,f,h){(0,n.assert)(!h||"object"===l(h)),Array.isArray(r)||(0,o.isLoaderObject)(r)||(h=void 0,f=r,r=void 0);f=f||{};var d=r,p=(0,u.getLoadersFromContext)(d,h),y=(0,i.selectLoaderSync)(t,p,f);if(!y)return null;f=(0,a.normalizeOptions)(f,y,p);var v=(0,c.getResourceUrlAndType)(t).url;return h=(0,u.getLoaderContext)({url:v,parseSync:e,parse:function(){throw new Error("parseSync called parse")},loaders:r},f),function(e,t,r,n){if(t=(0,s.getArrayBufferOrStringFromDataSync)(t,e,r),e.parseTextSync&&"string"==typeof t)return e.parseTextSync(t,r);if(e.parseSync&&t instanceof ArrayBuffer)return e.parseSync(t,r,n);throw new Error("".concat(e.name," loader: 'parseSync' not supported by this loader, use 'parse' instead. ").concat(n.url||""))}(y,t,f,h)};var n=r(3),i=r(43),o=r(20),a=r(14),s=r(59),u=r(60),c=r(31);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load=function(e,t,r,n){return c.apply(this,arguments)};var n=r(13),i=r(20),o=r(14),a=r(58);function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}function c(){return(c=u(regeneratorRuntime.mark((function e(t,r,s,u){var c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)||(0,i.isLoaderObject)(r)||(void 0,s=r,r=void 0),c=(0,o.getFetchFunction)(s),l=t,"string"!=typeof t){e.next=7;break}return e.next=6,c(t);case 6:l=e.sent;case 7:if(!(0,n.isBlob)(t)){e.next=11;break}return e.next=10,c(t);case 10:l=e.sent;case 11:return e.next=13,(0,a.parse)(l,r,s);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadInBatches=function(e,t,r,o){Array.isArray(t)||(0,n.isLoaderObject)(t)||(void 0,r=t,t=null);var a=(0,i.getFetchFunction)(r||{});if(!Array.isArray(e))return u(e,t,r,a);return e.map((function(e){return u(e,t,r,a)}))};var n=r(20),i=r(14),o=r(93);function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function u(e,t,r,n){return c.apply(this,arguments)}function c(){return(c=s(regeneratorRuntime.mark((function e(t,r,n,i){var a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=8;break}return a=t,e.next=4,i(a);case 4:return s=e.sent,e.next=7,(0,o.parseInBatches)(s,r,n);case 7:return e.abrupt("return",e.sent);case 8:return e.next=10,(0,o.parseInBatches)(t,r,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.save=function(e,t,r,n){return s.apply(this,arguments)},t.saveSync=function(e,t,r,o){var a=(0,n.encodeSync)(e,r,o);return(0,i.writeFileSync)(t,a)};var n=r(94),i=r(57);function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}function s(){return(s=a(regeneratorRuntime.mark((function e(t,r,o,a){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.encode)(t,o,a);case 2:return s=e.sent,e.next=5,(0,i.writeFile)(r,s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStream=function(e,t){return n.isBrowser?(0,i.makeDOMStream)(e,t):(0,o.makeNodeStream)(e,t)};var n=r(3),i=r(95),o=r(164)},function(e,t){},function(e,t){},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return new a(e)}function o(e){var t,r;function n(t,r){try{var o=e[t](r),s=o.value,u=s instanceof a;Promise.resolve(u?s.wrapped:s).then((function(e){u?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}function s(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NullLoader=t.NullWorkerLoader=void 0,o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};var u={name:"Null loader",id:"null",module:"core",version:"3.0.8",worker:!0,mimeTypes:["application/x.empty"],extensions:["null"],tests:[function(){return!1}],options:{null:{}}};t.NullWorkerLoader=u;var c,l,f,h={name:"Null loader",id:"null",module:"core",version:"3.0.8",mimeTypes:["application/x.empty"],extensions:["null"],parse:(l=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})),f=function(){var e=this,t=arguments;return new Promise((function(r,i){var o=l.apply(e,t);function a(e){n(o,r,i,a,s,"next",e)}function s(e){n(o,r,i,a,s,"throw",e)}a(void 0)}))},function(e){return f.apply(this,arguments)}),parseSync:function(e){return e},parseInBatches:(c=function(e){return function(){return new o(e.apply(this,arguments))}}(regeneratorRuntime.mark((function e(t){var r,n,o,a,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,n=!1,e.prev=2,a=s(t);case 4:return e.next=6,i(a.next());case 6:return u=e.sent,r=u.done,e.next=10,i(u.value);case 10:if(c=e.sent,r){e.next=18;break}return l=c,e.next=15,l;case 15:r=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),n=!0,o=e.t0;case 24:if(e.prev=24,e.prev=25,r||null==a.return){e.next=29;break}return e.next=29,i(a.return());case 29:if(e.prev=29,!n){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])}))),function(e){return c.apply(this,arguments)}),tests:[function(){return!1}],options:{null:{}}};t.NullLoader=h},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(){return(o=i(regeneratorRuntime.mark((function e(t,r){var n,o,s,u,c,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>2&&void 0!==f[2]?f[2]:function(){},o=f.length>3&&void 0!==f[3]?f[3]:function(){},e.next=4,t;case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",t);case 7:if(s=t.body){e.next=10;break}return e.abrupt("return",t);case 10:if(u=t.headers.get("content-length")||0,c=u&&parseInt(u),u>0){e.next=14;break}return e.abrupt("return",t);case 14:if("undefined"!=typeof ReadableStream&&s.getReader){e.next=16;break}return e.abrupt("return",t);case 16:return l=new ReadableStream({start:function(e){return i(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.getReader(),t.next=3,a(e,i,0,c,r,n,o);case 3:case"end":return t.stop()}}),t)})))()}}),e.abrupt("return",new Response(l));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e,t,r,n,i,o,a){return s.apply(this,arguments)}function s(){return(s=i(regeneratorRuntime.mark((function e(t,r,n,i,o,s,u){var c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.read();case 3:if(c=e.sent,l=c.done,f=c.value,!l){e.next=10;break}return s(),t.close(),e.abrupt("return");case 10:return n+=f.byteLength,h=Math.round(n/i*100),o(h,{loadedBytes:n,totalBytes:i}),t.enqueue(f),e.next=16,a(t,r,n,i,o,s,u);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.error(e.t0),u(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return o.apply(this,arguments)}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_fetch",void 0),a(this,"files",{}),a(this,"lowerCaseFiles",{}),a(this,"usedFiles",{}),this._fetch=(null==r?void 0:r.fetch)||fetch;for(var n=0;n<t.length;++n){var i=t[n];this.files[i.name]=i,this.lowerCaseFiles[i.name.toLowerCase()]=i,this.usedFiles[i.name]=!1}this.fetch=this.fetch.bind(this)}var t,r,n,s,u,c,l,f,h,d;return t=e,(r=[{key:"fetch",value:(d=i(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.includes("://")){e.next=2;break}return e.abrupt("return",this._fetch(t,r));case 2:if(n=this.files[t]){e.next=5;break}return e.abrupt("return",new Response(t,{status:400,statusText:"NOT FOUND"}));case 5:if(i=new Headers(null==r?void 0:r.headers),o=i.get("Range"),!(a=o&&/bytes=($1)-($2)/.exec(o))){e.next=17;break}return s=parseInt(a[1]),u=parseInt(a[2]),e.next=13,n.slice(s,u).arrayBuffer();case 13:return c=e.sent,l=new Response(c),Object.defineProperty(l,"url",{value:t}),e.abrupt("return",l);case 17:return f=new Response(n),Object.defineProperty(f,"url",{value:t}),e.abrupt("return",f);case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"readdir",value:(h=i(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in r=[],this.files)r.push(n);return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"stat",value:(f=i(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.files[t]){e.next=3;break}throw new Error(t);case 3:return e.abrupt("return",{size:n.size});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"unlink",value:(l=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.files[t],delete this.lowerCaseFiles[t],this.usedFiles[t]=!0;case 3:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"open",value:(c=i(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.files[t]);case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"read",value:(u=i(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>2&&void 0!==s[2]&&s[2],n=s.length>3&&void 0!==s[3]?s[3]:r.byteLength,s.length>4&&void 0!==s[4]&&s[4],i=t,o=0,e.next=7,i.slice(o,o+n).arrayBuffer();case 7:return a=e.sent,e.abrupt("return",{bytesRead:n,buffer:a});case 9:case"end":return e.stop()}}),e)}))),function(e,t){return u.apply(this,arguments)})},{key:"close",value:(s=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"_getFile",value:function(e,t){var r=this.files[e]||this.lowerCaseFiles[e];return r&&t&&(this.usedFiles[e]=!0),r}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDynamicScreenSpaceError=function(e,t){var r,l,f,h,d,p=t.camera,y=t.mapProjection,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=v.dynamicScreenSpaceErrorHeightFalloff,m=void 0===b?.25:b,g=v.dynamicScreenSpaceErrorDensity,w=void 0===g?.00278:g,O=e.contentBoundingVolume;if(O instanceof TileBoundingRegion)r=Cartesian3.normalize(p.positionWC,i),l=p.directionWC,f=p.positionCartographic.height,h=O.minimumHeight,d=O.maximumHeight;else{var _=n.Matrix4.inverseTransformation(e.computedTransform,a),T=y.ellipsoid,P=O.boundingVolume,j=n.Matrix4.multiplyByPoint(_,P.center,s);if(Cartesian3.magnitude(j)>T.minimumRadius){var S=Cartographic.fromCartesian(j,T,o);r=Cartesian3.normalize(p.positionWC,i),l=p.directionWC,f=p.positionCartographic.height,h=0,d=2*S.height}else{var E=n.Matrix4.multiplyByPoint(_,p.positionWC,u);if(r=Cartesian3.UNIT_Z,l=n.Matrix4.multiplyByPointAsVector(_,p.directionWC,c),l=Cartesian3.normalize(l,l),f=E.z,O instanceof TileOrientedBoundingBox){var x=e._header.boundingVolume.box[11];h=j.z-x,d=j.z+x}else if(O instanceof TileBoundingSphere){var k=P.radius;h=j.z-k,d=j.z+k}}}var M=m,I=h+(d-h)*M,A=d,R=(0,n.clamp)((f-I)/(A-I),0,1),L=Math.abs(Cartesian3.dot(l,r)),D=1-L;return w*(D*=1-R)},t.fog=l,t.getDynamicScreenSpaceError=f,t.getTiles3DScreenSpaceError=function(e,t,r){var n=e.tileset,i=e.parent&&e.parent.lodMetricValue||e.lodMetricValue,o=r?i:e.lodMetricValue;if(0===o)return 0;var a=Math.max(e._distanceToCamera,1e-7),s=t.height,u=t.sseDenominator,c=n.options.viewDistanceScale,l=o*s*(c||1)/(a*u);return l-=f(n,a)};var n=r(5),i=new n.Vector3,o=new n.Vector3,a=new n.Matrix4,s=new n.Vector3,u=new n.Vector3,c=new n.Vector3;function l(e,t){var r=e*t;return 1-Math.exp(-r*r)}function f(e,t){if(e.dynamicScreenSpaceError&&e.dynamicScreenSpaceErrorComputedDensity){var r=e.dynamicScreenSpaceErrorComputedDensity,n=e.dynamicScreenSpaceErrorFactor;return l(t,r)*n}return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get3dTilesOptions=function(e){return{assetGltfUpAxis:e.asset&&e.asset.gltfUpAxis||"Y"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i(this,e),this._array=new Array(t),this._map=new Map,this._length=t}var t,r,a;return t=e,(r=[{key:"length",get:function(){return this._length},set:function(e){this._length=e,e>this._array.length&&(this._array.length=e)}},{key:"values",get:function(){return this._array}},{key:"get",value:function(e){return(0,n.assert)(e<this._array.length),this._array[e]}},{key:"set",value:function(e,t){(0,n.assert)(e>=0),e>=this.length&&(this.length=e+1),this._map.has(this._array[e])&&this._map.delete(this._array[e]),this._array[e]=t,this._map.set(t,e)}},{key:"delete",value:function(e){var t=this._map.get(e);t>=0&&(this._array.splice(t,1),this._map.delete(e),this.length--)}},{key:"peek",value:function(){return this._array[this._length-1]}},{key:"push",value:function(e){if(!this._map.has(e)){var t=this.length++;this._array[t]=e,this._map.set(e,t)}}},{key:"pop",value:function(){var e=this._array[--this.length];return this._map.delete(e),e}},{key:"reserve",value:function(e){(0,n.assert)(e>=0),e>this._array.length&&(this._array.length=e)}},{key:"resize",value:function(e){(0,n.assert)(e>=0),this.length=e}},{key:"trim",value:function(e){null==e&&(e=this.length),this._array.length=e}},{key:"reset",value:function(){this._array=[],this._map=new Map,this._length=0}},{key:"find",value:function(e){return this._map.has(e)}}])&&o(t.prototype,r),a&&o(t,a),e}();t.default=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=r(32);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,r,n,i=l(f);function f(){return a(this,f),i.apply(this,arguments)}return t=f,(r=[{key:"compareDistanceToCamera",value:function(e,t){return 0===t._distanceToCamera&&0===e._distanceToCamera?t._centerZDepth-e._centerZDepth:t._distanceToCamera-e._distanceToCamera}},{key:"updateTileVisibility",value:function(e,t){if(u(h(f.prototype),"updateTileVisibility",this).call(this,e,t),e.isVisibleAndInRequestVolume){var r=e.children.length>0;if(e.hasTilesetContent&&r){var n=e.children[0];return this.updateTileVisibility(n,t),void(e._visible=n._visible)}if(this.meetsScreenSpaceErrorEarly(e,t))e._visible=!1;else{var i=e.refine===o.TILE_REFINEMENT.REPLACE,a=e._optimChildrenWithinParent===o.TILE3D_OPTIMIZATION_HINT.USE_OPTIMIZATION;i&&a&&r&&!this.anyChildrenVisible(e,t)&&(e._visible=!1)}}}},{key:"meetsScreenSpaceErrorEarly",value:function(e,t){var r=e.parent;return!(!r||r.hasTilesetContent||r.refine!==o.TILE_REFINEMENT.ADD||this.shouldRefine(e,t,!0))}}])&&s(t.prototype,r),n&&s(t,n),f}(((i=r(33))&&i.__esModule?i:{default:i}).default);t.default=d},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(55),o=c(r(33)),a=r(97),s=c(r(54)),u=c(r(174));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(p,e);var t,r,n,o,c,l=b(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),O(g(t=l.call(this,e)),"_tileManager",void 0),t._tileManager=new u.default,t}return t=p,(r=[{key:"shouldRefine",value:function(e,t){return e._lodJudge=(0,a.lodJudge)(e,t),"DIG"===e._lodJudge}},{key:"updateChildTiles",value:function(e,t){var r,n=this,i=e.header.children||[],o=e.children,a=e.tileset,s=d(i);try{var u=function(){var i=r.value,s="".concat(i.id,"-").concat(t.viewport.id),u=o&&o.find((function(e){return e.id===s}));if(u)u&&n.updateTile(u,t);else{var c=function(){return n._loadTile(i.id,a)};n._tileManager.find(s)?n._tileManager.update(s,t):(a.tileset.nodePages&&(c=function(){return a.tileset.nodePagesTile.formTileFromNodePages(i.id)}),n._tileManager.add(c,s,(function(t){return n._onTileLoad(t,e,s)}),t))}};for(s.s();!(r=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}return!1}},{key:"_loadTile",value:(o=regeneratorRuntime.mark((function e(t,r){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.loader,o=r.getTileUrl("".concat(r.url,"/nodes/").concat(t)),a=f(f({},r.loadOptions),{},{i3s:f(f({},r.loadOptions.i3s),{},{isTileHeader:!0,loadContent:!1})}),e.next=5,(0,i.load)(o,n,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})),c=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){h(i,r,n,a,s,"next",e)}function s(e){h(i,r,n,a,s,"throw",e)}a(void 0)}))},function(e,t){return c.apply(this,arguments)})},{key:"_onTileLoad",value:function(e,t,r){var n=new s.default(t.tileset,e,t,r);t.children.push(n);var i=this._tileManager.find(n.id).frameState;this.updateTile(n,i),this._frameNumber===i.frameNumber&&this.executeTraversal(n,i)}}])&&y(t.prototype,r),n&&y(t,n),p}(o.default);t.default=_},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="REQUESTED",o="COMPLETED",a="ERROR",s=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(r="_statusMap")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this._statusMap={}}var t,r,s;return t=e,(r=[{key:"add",value:function(e,t,r,n){var s=this;this._statusMap[t]||(this._statusMap[t]={request:e,callback:r,key:t,frameState:n,status:i},e().then((function(e){s._statusMap[t].status=o,s._statusMap[t].callback(e,n)})).catch((function(e){s._statusMap[t].status=a,r(e)})))}},{key:"update",value:function(e,t){this._statusMap[e]&&(this._statusMap[e].frameState=t)}},{key:"find",value:function(e){return this._statusMap[e]}}])&&n(t.prototype,r),s&&n(t,s),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse3DTile=f;var n=r(21),i=r(99),o=r(176),a=r(206),s=r(233),u=r(234);function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(e){return h.apply(this,arguments)}function h(){return(h=l(regeneratorRuntime.mark((function e(t){var r,c,l,h,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>1&&void 0!==d[1]?d[1]:0,c=d.length>2?d[2]:void 0,l=d.length>3?d[3]:void 0,(h=d.length>4&&void 0!==d[4]?d[4]:{}).byteOffset=r,h.type=(0,i.getMagicString)(t,r),e.t0=h.type,e.next=e.t0===n.TILE3D_TYPE.COMPOSITE?9:e.t0===n.TILE3D_TYPE.BATCHED_3D_MODEL?12:e.t0===n.TILE3D_TYPE.INSTANCED_3D_MODEL?15:e.t0===n.TILE3D_TYPE.POINT_CLOUD?18:21;break;case 9:return e.next=11,(0,u.parseComposite3DTile)(h,t,r,c,l,f);case 11:return e.abrupt("return",e.sent);case 12:return e.next=14,(0,a.parseBatchedModel3DTile)(h,t,r,c,l);case 14:return e.abrupt("return",e.sent);case 15:return e.next=17,(0,s.parseInstancedModel3DTile)(h,t,r,c,l);case 17:return e.abrupt("return",e.sent);case 18:return e.next=20,(0,o.parsePointCloud3DTile)(h,t,r,c,l);case 20:return e.abrupt("return",e.sent);case 21:throw new Error("3DTileLoader: unknown type ".concat(h.type));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePointCloud3DTile=function(e,t,r,n,i){return g.apply(this,arguments)},t.loadDraco=E;var n=r(100),i=r(15),o=r(5),a=d(r(44)),s=d(r(63)),u=r(45),c=r(64),l=r(203),f=r(204),h=r(205);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,s,"next",e)}function s(e){b(o,n,i,a,s,"throw",e)}a(void 0)}))}}function g(){return(g=m(regeneratorRuntime.mark((function e(t,r,n,i,o){var a,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,u.parse3DTileHeaderSync)(t,r,n),n=(0,c.parse3DTileTablesHeaderSync)(t,r,n),n=(0,c.parse3DTileTablesSync)(t,r,n,i),w(t),a=O(t),s=a.featureTable,l=a.batchTable,e.next=7,j(t,s,l,i,o);case 7:return _(t,s,i),T(t,s,l),P(t,s),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){e.attributes={positions:null,colors:null,normals:null,batchIds:null},e.isQuantized=!1,e.isTranslucent=!1,e.isRGB565=!1,e.isOctEncoded16P=!1}function O(e){var t=new a.default(e.featureTableJson,e.featureTableBinary),r=t.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(r))throw new Error("POINTS_LENGTH must be defined");t.featuresLength=r,e.featuresLength=r,e.pointsLength=r,e.pointCount=r,e.rtcCenter=t.getGlobalProperty("RTC_CENTER",i.GL.FLOAT,3);var n=function(e,t){var r=null;if(!e.batchIds&&t.hasProperty("BATCH_ID")&&(e.batchIds=t.getPropertyArray("BATCH_ID",i.GL.UNSIGNED_SHORT,1),e.batchIds)){var n=t.getGlobalProperty("BATCH_LENGTH");if(!n)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");var o=e.batchTableJson,a=e.batchTableBinary;r=new s.default(o,a,n)}return r}(e,t);return{featureTable:t,batchTable:n}}function _(e,t,r){if(!e.attributes.positions)if(t.hasProperty("POSITION"))e.attributes.positions=t.getPropertyArray("POSITION",i.GL.FLOAT,3);else if(t.hasProperty("POSITION_QUANTIZED")){var n=t.getPropertyArray("POSITION_QUANTIZED",i.GL.UNSIGNED_SHORT,3);if(e.isQuantized=!0,e.quantizedRange=65535,e.quantizedVolumeScale=t.getGlobalProperty("QUANTIZED_VOLUME_SCALE",i.GL.FLOAT,3),!e.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(e.quantizedVolumeOffset=t.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",i.GL.FLOAT,3),!e.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");e.attributes.positions=(0,h.normalize3DTilePositionAttribute)(e,n,r)}if(!e.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}function T(e,t,r){if(!e.attributes.colors){var n=null;t.hasProperty("RGBA")?(n=t.getPropertyArray("RGBA",i.GL.UNSIGNED_BYTE,4),e.isTranslucent=!0):t.hasProperty("RGB")?n=t.getPropertyArray("RGB",i.GL.UNSIGNED_BYTE,3):t.hasProperty("RGB565")&&(n=t.getPropertyArray("RGB565",i.GL.UNSIGNED_SHORT,1),e.isRGB565=!0),e.attributes.colors=(0,l.normalize3DTileColorAttribute)(e,n,r)}t.hasProperty("CONSTANT_RGBA")&&(e.constantRGBA=t.getGlobalProperty("CONSTANT_RGBA",i.GL.UNSIGNED_BYTE,4))}function P(e,t){if(!e.attributes.normals){var r=null;t.hasProperty("NORMAL")?r=t.getPropertyArray("NORMAL",i.GL.FLOAT,3):t.hasProperty("NORMAL_OCT16P")&&(r=t.getPropertyArray("NORMAL_OCT16P",i.GL.UNSIGNED_BYTE,2),e.isOctEncoded16P=!0),e.attributes.normals=(0,f.normalize3DTileNormalAttribute)(e,r)}}function j(e,t,r,n,i){return S.apply(this,arguments)}function S(){return(S=m(regeneratorRuntime.mark((function e(t,r,n,i,o){var a,s,u,c,l,f,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=t.batchTableJson&&t.batchTableJson.extensions&&t.batchTableJson.extensions["3DTILES_draco_point_compression"])&&(u=c.properties),!(l=r.getExtension("3DTILES_draco_point_compression"))){e.next=15;break}if(s=l.properties,f=l.byteOffset,h=l.byteLength,s&&Number.isFinite(f)&&h){e.next=9;break}throw new Error("Draco properties, byteOffset, and byteLength must be defined");case 9:a=t.featureTableBinary.slice(f,f+h),t.hasPositions=Number.isFinite(s.POSITION),t.hasColors=Number.isFinite(s.RGB)||Number.isFinite(s.RGBA),t.hasNormals=Number.isFinite(s.NORMAL),t.hasBatchIds=Number.isFinite(s.BATCH_ID),t.isTranslucent=Number.isFinite(s.RGBA);case 15:if(a){e.next=17;break}return e.abrupt("return",!0);case 17:return d={buffer:a,properties:y(y({},s),u),featureTableProperties:s,batchTableProperties:u,dequantizeInShader:!1},e.next=20,E(t,d,i,o);case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=m(regeneratorRuntime.mark((function e(t,r,i,a){var s,u,c,f,h,d,p,v,b,m,g,w,O,_,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.parse,delete(u=y(y({},i),{},{draco:y(y({},i.draco),{},{extraAttributes:r.batchTableProperties||{}})}))["3d-tiles"],e.next=5,s(r.buffer,n.DracoLoader,u);case 5:if(c=e.sent,f=c.attributes.POSITION&&c.attributes.POSITION.value,h=c.attributes.COLOR_0&&c.attributes.COLOR_0.value,d=c.attributes.NORMAL&&c.attributes.NORMAL.value,p=c.attributes.BATCH_ID&&c.attributes.BATCH_ID.value,v=f&&c.attributes.POSITION.value.quantization,b=d&&c.attributes.NORMAL.value.quantization,v&&(m=c.POSITION.data.quantization,g=m.range,t.quantizedVolumeScale=new o.Vector3(g,g,g),t.quantizedVolumeOffset=new o.Vector3(m.minValues),t.quantizedRange=(1<<m.quantizationBits)-1,t.isQuantizedDraco=!0),b&&(t.octEncodedRange=(1<<c.NORMAL.data.quantization.quantizationBits)-1,t.isOctEncodedDraco=!0),w={},r.batchTableProperties)for(O=0,_=Object.keys(r.batchTableProperties);O<_.length;O++)T=_[O],c.attributes[T]&&c.attributes[T].value&&(w[T.toLowerCase()]=c.attributes[T].value);t.attributes=y({positions:f,colors:(0,l.normalize3DTileColorAttribute)(t,h),normals:d,batchIds:p},w);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckDracoLoader=t.DracoLoader=void 0;var n=r(101);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={draco:{decoderType:"object"===("undefined"==typeof WebAssembly?"undefined":i(WebAssembly))?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},a={name:"Draco",id:"draco",module:"draco",version:n.VERSION,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:o};t.DracoLoader=a;var s=a;t._TypecheckDracoLoader=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(102),i=r(191);function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},p={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"draco",void 0),h(this,"decoder",void 0),h(this,"metadataQuerier",void 0),this.draco=t,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}var t,r,u;return t=e,(r=[{key:"destroy",value:function(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new this.draco.DecoderBuffer;r.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);var o=this.decoder.GetEncodedGeometryType(r),a=o===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{var s;switch(o){case this.draco.TRIANGULAR_MESH:s=this.decoder.DecodeBufferToMesh(r,a);break;case this.draco.POINT_CLOUD:s=this.decoder.DecodeBufferToPointCloud(r,a);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!s.ok()||!a.ptr){var u="DRACO decompression failed: ".concat(s.error_msg());throw new Error(u)}var c=this._getDracoLoaderData(a,o,t),f=this._getMeshData(a,c,t),h=(0,n.getMeshBoundingBox)(f.attributes),d=(0,i.makeSchemaFromAttributes)(f.attributes,c,f.indices),p=l(l({loader:"draco",loaderData:c,header:{vertexCount:a.num_points(),boundingBox:h}},f),{},{schema:d});return p}finally{this.draco.destroy(r),a&&this.draco.destroy(a)}}},{key:"_getDracoLoaderData",value:function(e,t,r){var n=this._getTopLevelMetadata(e),i=this._getDracoAttributes(e,r);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:n,attributes:i}}},{key:"_getDracoAttributes",value:function(e,t){for(var r={},n=0;n<e.num_attributes();n++){var i=this.decoder.GetAttribute(e,n),o=this._getAttributeMetadata(e,n);r[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:n,metadata:o};var a=this._getQuantizationTransform(i,t);a&&(r[i.unique_id()].quantization_transform=a);var s=this._getOctahedronTransform(i,t);s&&(r[i.unique_id()].octahedron_transform=s)}return r}},{key:"_getMeshData",value:function(e,t,r){var n=this._getMeshAttributes(t,e,r);if(!n.POSITION)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh)switch(r.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:n,indices:{value:this._getTriangleStripIndices(e),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:n,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:n}}},{key:"_getMeshAttributes",value:function(e,t,r){for(var n={},i=0,o=Object.values(e.attributes);i<o.length;i++){var a=o[i],s=this._deduceAttributeName(a,r);a.name=s;var u=this._getAttributeValues(t,a),c=u.value,l=u.size;n[s]={value:c,size:l,byteOffset:a.byte_offset,byteStride:a.byte_stride,normalized:a.normalized}}return n}},{key:"_getTriangleListIndices",value:function(e){var t=3*e.num_faces(),r=4*t,n=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(e,r,n),new Uint32Array(this.draco.HEAPF32.buffer,n,t).slice()}finally{this.draco._free(n)}}},{key:"_getTriangleStripIndices",value:function(e){var t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function(e){for(var t=e.size(),r=new Int32Array(t),n=0;n<t;n++)r[n]=e.GetValue(n);return r}(t)}finally{this.draco.destroy(t)}}},{key:"_getAttributeValues",value:function(e,t){var r,n=p[t.data_type],i=t.num_components,o=e.num_points()*i,a=o*n.BYTES_PER_ELEMENT,s=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32;default:return e.DT_INVALID}}(this.draco,n),u=this.draco._malloc(a);try{var c=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,c,s,a,u),r=new n(this.draco.HEAPF32.buffer,u,o).slice()}finally{this.draco._free(u)}return{value:r,size:i}}},{key:"_deduceAttributeName",value:function(e,t){for(var r=e.unique_id,n=0,i=Object.entries(t.extraAttributes||{});n<i.length;n++){var o=a(i[n],2),s=o[0];if(o[1]===r)return s}var u=e.attribute_type;for(var c in d)if(this.draco[c]===u)return d[c];var l=t.attributeNameEntry||"name";return e.metadata[l]?e.metadata[l].string:"CUSTOM_ATTRIBUTE_".concat(r)}},{key:"_getTopLevelMetadata",value:function(e){var t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}},{key:"_getAttributeMetadata",value:function(e,t){var r=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(r)}},{key:"_getDracoMetadata",value:function(e){if(!e||!e.ptr)return{};for(var t={},r=this.metadataQuerier.NumEntries(e),n=0;n<r;n++){var i=this.metadataQuerier.GetEntryName(e,n);t[i]=this._getDracoMetadataField(e,i)}return t}},{key:"_getDracoMetadataField",value:function(e,t){var r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,r);var n=function(e){for(var t=e.size(),r=new Int32Array(t),n=0;n<t;n++)r[n]=e.GetValue(n);return r}(r);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:n}}finally{this.draco.destroy(r)}}},{key:"_disableAttributeTransforms",value:function(e){var t,r=e.quantizedAttributes,n=void 0===r?[]:r,i=e.octahedronAttributes,a=void 0===i?[]:i,u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}([].concat(o(n),o(a)));try{for(u.s();!(t=u.n()).done;){var c=t.value;this.decoder.SkipAttributeTransform(this.draco[c])}}catch(e){u.e(e)}finally{u.f()}}},{key:"_getQuantizationTransform",value:function(e,t){var r=this,n=t.quantizedAttributes,i=void 0===n?[]:n,o=e.attribute_type();if(i.map((function(e){return r.decoder[e]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(e))return{quantization_bits:a.quantization_bits(),range:a.range(),min_values:new Float32Array([1,2,3]).map((function(e){return a.min_value(e)}))}}finally{this.draco.destroy(a)}}return null}},{key:"_getOctahedronTransform",value:function(e,t){var r=this,n=t.octahedronAttributes,i=void 0===n?[]:n,o=e.attribute_type();if(i.map((function(e){return r.decoder[e]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(e))return{quantization_bits:a.quantization_bits()}}finally{this.draco.destroy(a)}}return null}}])&&f(t.prototype,r),u&&f(t,u),e}();t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(180)),i=a(r(103)),o=a(r(105));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={shape:"array-row-table",batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},h=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"schema",void 0),l(this,"options",void 0),l(this,"aggregator",null),l(this,"batchCount",0),l(this,"bytesUsed",0),l(this,"isChunkComplete",!1),l(this,"lastBatchEmittedMs",Date.now()),l(this,"totalLength",0),l(this,"totalBytes",0),l(this,"rowBytes",0),this.schema=t,this.options=u(u({},f),r)}var t,r,a;return t=e,(r=[{key:"limitReached",value:function(){var e,t;return!!(Boolean(null===(e=this.options)||void 0===e?void 0:e.limit)&&this.totalLength>=this.options.limit)||!!(Boolean(null===(t=this.options)||void 0===t?void 0:t._limitMB)&&this.totalBytes/1e6>=this.options._limitMB)}},{key:"addRow",value:function(e){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(e),this.totalBytes+=this.rowBytes,Array.isArray(e)?this.addArrayRow(e):this.addObjectRow(e))}},{key:"addArrayRow",value:function(e){if(!this.aggregator){var t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addArrayRow(e)}},{key:"addObjectRow",value:function(e){if(!this.aggregator){var t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addObjectRow(e)}},{key:"chunkComplete",value:function(e){e instanceof ArrayBuffer&&(this.bytesUsed+=e.byteLength),"string"==typeof e&&(this.bytesUsed+=e.length),this.isChunkComplete=!0}},{key:"getFullBatch",value:function(e){return this._isFull()?this._getBatch(e):null}},{key:"getFinalBatch",value:function(e){return this._getBatch(e)}},{key:"_estimateRowMB",value:function(e){return Array.isArray(e)?8*e.length:8*Object.keys(e).length}},{key:"_isFull",value:function(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs||(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),0))}},{key:"_getBatch",value:function(e){if(!this.aggregator)return null;null!=e&&e.bytesUsed&&(this.bytesUsed=e.bytesUsed);var t=this.aggregator.getBatch();return t.count=this.batchCount,t.bytesUsed=this.bytesUsed,Object.assign(t,e),this.batchCount++,this.aggregator=null,t}},{key:"_getTableBatchType",value:function(){switch(this.options.shape){case"row-table":return n.default;case"array-row-table":case"object-row-table":return i.default;case"columnar-table":return o.default;case"arrow-table":if(!e.ArrowBatch)throw new Error("TableBatchBuilder");return e.ArrowBatch;default:throw new Error("TableBatchBuilder")}}}])&&c(t.prototype,r),a&&c(t,a),e}();t.default=h,l(h,"ArrowBatch",void 0)},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"schema",void 0),i(this,"options",void 0),i(this,"length",0),i(this,"rows",null),i(this,"cursor",0),i(this,"_headers",[]),this.options=r,this.schema=t,!Array.isArray(t))for(var n in this._headers=[],t)this._headers[t[n].index]=t[n].name}var t,r,o;return t=e,(r=[{key:"rowCount",value:function(){return this.length}},{key:"addArrayRow",value:function(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}},{key:"addObjectRow",value:function(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}},{key:"getBatch",value:function(){var e=this.rows;return e?(e=e.slice(0,this.length),this.rows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMeshSize=function(e){var t=0;for(var r in e){var n=e[r];ArrayBuffer.isView(n)&&(t+=n.byteLength*n.BYTES_PER_ELEMENT)}return t},t.getMeshBoundingBox=function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=e.POSITION?e.POSITION.value:[],u=s&&s.length,c=0;c<u;c+=3){var l=s[c],f=s[c+1],h=s[c+2];t=l<t?l:t,r=f<r?f:r,n=h<n?h:n,i=l>i?l:i,o=f>o?f:o,a=h>a?h:a}return[[t,r,n],[i,o,a]]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(183);function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"fields",void 0),c(this,"metadata",void 0),(0,n.assert)(Array.isArray(t)),function(e){var t,r={},n=o(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r[i.name]&&console.warn("Schema: duplicated field name",i.name,i),r[i.name]=!0}}catch(e){n.e(e)}finally{n.f()}}(t),this.fields=t,this.metadata=r||new Map}var t,r,i;return t=e,(r=[{key:"compareTo",value:function(e){if(this.metadata!==e.metadata)return!1;if(this.fields.length!==e.fields.length)return!1;for(var t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}},{key:"select",value:function(){for(var t=Object.create(null),r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var o=0,a=n;o<a.length;o++){var s=a[o];t[s]=!0}var u=this.fields.filter((function(e){return t[e.name]}));return new e(u,this.metadata)}},{key:"selectAt",value:function(){for(var t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n.map((function(e){return t.fields[e]})).filter(Boolean);return new e(o,this.metadata)}},{key:"assign",value:function(t){var r,n=this.metadata;if(t instanceof e){var i=t;r=i.fields,n=f(f(new Map,this.metadata),i.metadata)}else r=t;var a,s=Object.create(null),u=o(this.fields);try{for(u.s();!(a=u.n()).done;){var c=a.value;s[c.name]=c}}catch(e){u.e(e)}finally{u.f()}var l,h=o(r);try{for(h.s();!(l=h.n()).done;){var d=l.value;s[d.name]=d}}catch(e){h.e(e)}finally{h.f()}return new e(Object.values(s),n)}}])&&u(t.prototype,r),i&&u(t,i),e}();function f(e,t){return new Map([].concat(i(e||new Map),i(t||new Map)))}t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;n(this,e),o(this,"name",void 0),o(this,"type",void 0),o(this,"nullable",void 0),o(this,"metadata",void 0),this.name=t,this.type=r,this.nullable=i,this.metadata=a}var t,r,a;return t=e,(r=[{key:"typeId",get:function(){return this.type&&this.type.typeId}},{key:"clone",value:function(){return new e(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return f.Type}}),t.FixedSizeList=t.IntervalYearMonth=t.IntervalDayTime=t.Interval=t.TimestampNanosecond=t.TimestampMicrosecond=t.TimestampMillisecond=t.TimestampSecond=t.Timestamp=t.TimeMillisecond=t.TimeSecond=t.Time=t.DateMillisecond=t.DateDay=t.Date=t.Utf8=t.Binary=t.Float64=t.Float32=t.Float16=t.Float=t.Uint64=t.Uint32=t.Uint16=t.Uint8=t.Int64=t.Int32=t.Int16=t.Int8=t.Int=t.Bool=t.Null=t.DataType=void 0;var i,o,a,s,u,c,l,f=r(186);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}var _=function(){function e(){g(this,e)}return O(e,[{key:"typeId",get:function(){return f.Type.NONE}},{key:"compareTo",value:function(e){return this===e}}],[{key:"isNull",value:function(e){return e&&e.typeId===f.Type.Null}},{key:"isInt",value:function(e){return e&&e.typeId===f.Type.Int}},{key:"isFloat",value:function(e){return e&&e.typeId===f.Type.Float}},{key:"isBinary",value:function(e){return e&&e.typeId===f.Type.Binary}},{key:"isUtf8",value:function(e){return e&&e.typeId===f.Type.Utf8}},{key:"isBool",value:function(e){return e&&e.typeId===f.Type.Bool}},{key:"isDecimal",value:function(e){return e&&e.typeId===f.Type.Decimal}},{key:"isDate",value:function(e){return e&&e.typeId===f.Type.Date}},{key:"isTime",value:function(e){return e&&e.typeId===f.Type.Time}},{key:"isTimestamp",value:function(e){return e&&e.typeId===f.Type.Timestamp}},{key:"isInterval",value:function(e){return e&&e.typeId===f.Type.Interval}},{key:"isList",value:function(e){return e&&e.typeId===f.Type.List}},{key:"isStruct",value:function(e){return e&&e.typeId===f.Type.Struct}},{key:"isUnion",value:function(e){return e&&e.typeId===f.Type.Union}},{key:"isFixedSizeBinary",value:function(e){return e&&e.typeId===f.Type.FixedSizeBinary}},{key:"isFixedSizeList",value:function(e){return e&&e.typeId===f.Type.FixedSizeList}},{key:"isMap",value:function(e){return e&&e.typeId===f.Type.Map}},{key:"isDictionary",value:function(e){return e&&e.typeId===f.Type.Dictionary}}]),e}();t.DataType=_;var T=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.apply(this,arguments)}return O(r,[{key:"typeId",get:function(){return f.Type.Null}},{key:Symbol.toStringTag,get:function(){return"Null"}},{key:"toString",value:function(){return"Null"}}]),r}(_);t.Null=T;var P=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.apply(this,arguments)}return O(r,[{key:"typeId",get:function(){return f.Type.Bool}},{key:Symbol.toStringTag,get:function(){return"Bool"}},{key:"toString",value:function(){return"Bool"}}]),r}(_);t.Bool=P,i=Symbol.toStringTag;var j=function(e){d(r,e);var t=y(r);function r(e,n){var i;return g(this,r),h(b(i=t.call(this)),"isSigned",void 0),h(b(i),"bitWidth",void 0),i.isSigned=e,i.bitWidth=n,i}return O(r,[{key:"typeId",get:function(){return f.Type.Int}},{key:i,get:function(){return"Int"}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),r}(_);t.Int=j;var S=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!0,8)}return r}(j);t.Int8=S;var E=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!0,16)}return r}(j);t.Int16=E;var x=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!0,32)}return r}(j);t.Int32=x;var k=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!0,64)}return r}(j);t.Int64=k;var M=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!1,8)}return r}(j);t.Uint8=M;var I=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!1,16)}return r}(j);t.Uint16=I;var A=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!1,32)}return r}(j);t.Uint32=A;var R=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!1,64)}return r}(j);t.Uint64=R;var L=16,D=32,N=64;o=Symbol.toStringTag;var C=function(e){d(r,e);var t=y(r);function r(e){var n;return g(this,r),h(b(n=t.call(this)),"precision",void 0),n.precision=e,n}return O(r,[{key:"typeId",get:function(){return f.Type.Float}},{key:o,get:function(){return"Float"}},{key:"toString",value:function(){return"Float".concat(this.precision)}}]),r}(_);t.Float=C;var B=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,L)}return r}(C);t.Float16=B;var U=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,D)}return r}(C);t.Float32=U;var F=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,N)}return r}(C);t.Float64=F;var V=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this)}return O(r,[{key:"typeId",get:function(){return f.Type.Binary}},{key:"toString",value:function(){return"Binary"}},{key:Symbol.toStringTag,get:function(){return"Binary"}}]),r}(_);t.Binary=V;var G=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.apply(this,arguments)}return O(r,[{key:"typeId",get:function(){return f.Type.Utf8}},{key:Symbol.toStringTag,get:function(){return"Utf8"}},{key:"toString",value:function(){return"Utf8"}}]),r}(_);t.Utf8=G;var z={DAY:0,MILLISECOND:1};a=Symbol.toStringTag;var q=function(e){d(r,e);var t=y(r);function r(e){var n;return g(this,r),h(b(n=t.call(this)),"unit",void 0),n.unit=e,n}return O(r,[{key:"typeId",get:function(){return f.Type.Date}},{key:a,get:function(){return"Date"}},{key:"toString",value:function(){return"Date".concat(32*(this.unit+1),"<").concat(z[this.unit],">")}}]),r}(_);t.Date=q;var W=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,z.DAY)}return r}(q);t.DateDay=W;var H=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,z.MILLISECOND)}return r}(q);t.DateMillisecond=H;var Y={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9};s=Symbol.toStringTag;var Z=function(e){d(r,e);var t=y(r);function r(e,n){var i;return g(this,r),h(b(i=t.call(this)),"unit",void 0),h(b(i),"bitWidth",void 0),i.unit=e,i.bitWidth=n,i}return O(r,[{key:"typeId",get:function(){return f.Type.Time}},{key:"toString",value:function(){return"Time".concat(this.bitWidth,"<").concat(Y[this.unit],">")}},{key:s,get:function(){return"Time"}}]),r}(_);t.Time=Z;var Q=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,Y.SECOND,32)}return r}(Z);t.TimeSecond=Q;var X=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,Y.MILLISECOND,32)}return r}(Z);t.TimeMillisecond=X,u=Symbol.toStringTag;var K=function(e){d(r,e);var t=y(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return g(this,r),h(b(n=t.call(this)),"unit",void 0),h(b(n),"timezone",void 0),n.unit=e,n.timezone=i,n}return O(r,[{key:"typeId",get:function(){return f.Type.Timestamp}},{key:u,get:function(){return"Timestamp"}},{key:"toString",value:function(){return"Timestamp<".concat(Y[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}]),r}(_);t.Timestamp=K;var J=function(e){d(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return g(this,r),t.call(this,Y.SECOND,e)}return r}(K);t.TimestampSecond=J;var $=function(e){d(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return g(this,r),t.call(this,Y.MILLISECOND,e)}return r}(K);t.TimestampMillisecond=$;var ee=function(e){d(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return g(this,r),t.call(this,Y.MICROSECOND,e)}return r}(K);t.TimestampMicrosecond=ee;var te=function(e){d(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return g(this,r),t.call(this,Y.NANOSECOND,e)}return r}(K);t.TimestampNanosecond=te;var re={DAY_TIME:0,YEAR_MONTH:1};c=Symbol.toStringTag;var ne=function(e){d(r,e);var t=y(r);function r(e){var n;return g(this,r),h(b(n=t.call(this)),"unit",void 0),n.unit=e,n}return O(r,[{key:"typeId",get:function(){return f.Type.Interval}},{key:c,get:function(){return"Interval"}},{key:"toString",value:function(){return"Interval<".concat(re[this.unit],">")}}]),r}(_);t.Interval=ne;var ie=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,re.DAY_TIME)}return r}(ne);t.IntervalDayTime=ie;var oe=function(e){d(r,e);var t=y(r);function r(){return g(this,r),t.call(this,re.YEAR_MONTH)}return r}(ne);t.IntervalYearMonth=oe,l=Symbol.toStringTag;var ae=function(e){d(r,e);var t=y(r);function r(e,n){var i;return g(this,r),h(b(i=t.call(this)),"listSize",void 0),h(b(i),"children",void 0),i.listSize=e,i.children=[n],i}return O(r,[{key:"typeId",get:function(){return f.Type.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:l,get:function(){return"FixedSizeList"}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),r}(_);t.FixedSizeList=ae},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0,t.Type=n,function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(n||(t.Type=n={}))},function(e,t,r){"use strict";function n(e){return e instanceof Date?Date:e instanceof Number?Float32Array:"string"==typeof e?String:null}Object.defineProperty(t,"__esModule",{value:!0}),t.deduceTableSchema=function(e,t){var r=Array.isArray(e)?function(e){var t={};if(e.length){var r=e[0];for(var i in r){var o=r[i];t[i]=n(o)}}return t}(e):function(e){var t={};for(var r in e){var i=e[r];if(ArrayBuffer.isView(i))t[r]=i.constructor;else if(i.length){var o=i[0];t[r]=n(o)}t[r]=t[r]||null}return t}(e);return Object.assign(r,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTypeInfo=function(e){return{typeId:e.typeId,ArrayType:e.ArrayType,typeName:e.toString(),typeEnumName:o(e.typeId),precision:e.precision}};var n=r(61);var i=null;function o(e){if(!i)for(var t in i={},n.Type)i[n.Type[t]]=t;return i[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrowTypeFromTypedArray=function(e){switch(e.constructor){case Int8Array:return new n.Int8;case Uint8Array:return new n.Uint8;case Int16Array:return new n.Int16;case Uint16Array:return new n.Uint16;case Int32Array:return new n.Int32;case Uint32Array:return new n.Uint32;case Float32Array:return new n.Float32;case Float64Array:return new n.Float64;default:throw new Error("array type not supported")}};var n=r(61)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){var t="function"==typeof Map?new Map:void 0;return(h=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)})(e)}function d(e,t,r){return(d=p()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&y(i,r.prototype),i}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.takeAsync=function(e){return g.apply(this,arguments)},t.default=void 0;var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,r,n=(t=i,r=p(),function(){var e,n=v(t);if(r){var i=v(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return f(this,e)});function i(){return u(this,i),n.apply(this,arguments)}return l(i,[{key:"enqueue",value:function(e){return this.push(e)}},{key:"dequeue",value:function(){return this.shift()}}]),i}(h(Array));i=Symbol.asyncIterator;var m=function(){function e(){u(this,e),s(this,"_values",void 0),s(this,"_settlers",void 0),s(this,"_closed",void 0),this._values=new b,this._settlers=new b,this._closed=!1}return l(e,[{key:"close",value:function(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}},{key:i,value:function(){return this}},{key:"enqueue",value:function(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var t=this._settlers.dequeue();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.enqueue(e)}},{key:"next",value:function(){var e=this;if(this._values.length>0){var t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((function(t,r){e._settlers.enqueue({resolve:t,reject:r})}))}}]),e}();function g(){return(g=a(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.length>1&&void 0!==s[1]?s[1]:1/0,n=[],i=t[Symbol.asyncIterator]();case 3:if(!(n.length<r)){e.next=14;break}return e.next=6,i.next();case 6:if(o=e.sent,a=o.value,!o.done){e.next=11;break}return e.abrupt("break",14);case 11:n.push(a),e.next=3;break;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSchemaFromAttributes=function(e,t,r){var a=o(t.metadata),s=[],u=function(e){var t={};for(var r in e){var n=e[r];t[n.name||"undefined"]=n}return t}(t.attributes);for(var c in e){var l=e[c],f=i(c,l,u[c]);s.push(f)}if(r){var h=i("indices",r);s.push(h)}return new n.Schema(s,a)};var n=r(102);function i(e,t,r){var i=r?o(r.metadata):void 0,a=(0,n.getArrowTypeFromTypedArray)(t.value);return new n.Field(e,new n.FixedSizeList(t.size,new n.Field("value",a)),!1,i)}function o(e){var t=new Map;for(var r in e)t.set("".concat(r,".string"),JSON.stringify(e[r]));return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DracoWriter=void 0;var n,i=(n=r(193))&&n.__esModule?n:{default:n},o=r(106);function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}var u={name:"DRACO",id:"draco",module:"draco",version:r(101).VERSION,extensions:["drc"],encode:function(e){return c.apply(this,arguments)},options:{draco:{pointcloud:!1,attributeNameEntry:"name"}}};function c(){return(c=s(regeneratorRuntime.mark((function e(t){var r,n,a,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,(0,o.loadDracoEncoderModule)(r);case 3:return n=e.sent,a=n.draco,s=new i.default(a),e.prev=6,e.abrupt("return",s.encodeSync(t,r.draco));case 8:return e.prev=8,s.destroy(),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[6,,8,11]])})))).apply(this,arguments)}t.DracoWriter=u},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"},d=function(){},p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"draco",void 0),f(this,"dracoEncoder",void 0),f(this,"dracoMeshBuilder",void 0),f(this,"dracoMetadataBuilder",void 0),f(this,"log",void 0),this.draco=t,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder}var t,r,s;return t=e,(r=[{key:"destroy",value:function(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}},{key:"destroyEncodedObject",value:function(e){e&&this.draco.destroy(e)}},{key:"encodeSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log=d,this._setOptions(t),t.pointcloud?this._encodePointCloud(e,t):this._encodeMesh(e,t)}},{key:"_getAttributesFromMesh",value:function(e){var t=c(c({},e),e.attributes);return e.indices&&(t.indices=e.indices),t}},{key:"_encodePointCloud",value:function(e,t){var r=new this.draco.PointCloud;t.metadata&&this._addGeometryMetadata(r,t.metadata);var n=this._getAttributesFromMesh(e);this._createDracoPointCloud(r,n,t);var i=new this.draco.DracoInt8Array;try{var o=this.dracoEncoder.EncodePointCloudToDracoBuffer(r,!1,i);if(!(o>0))throw new Error("Draco encoding failed.");return this.log("DRACO encoded ".concat(r.num_points()," points\n        with ").concat(r.num_attributes()," attributes into ").concat(o," bytes")),y(i)}finally{this.destroyEncodedObject(i),this.destroyEncodedObject(r)}}},{key:"_encodeMesh",value:function(e,t){var r=new this.draco.Mesh;t.metadata&&this._addGeometryMetadata(r,t.metadata);var n=this._getAttributesFromMesh(e);this._createDracoMesh(r,n,t);var i=new this.draco.DracoInt8Array;try{var o=this.dracoEncoder.EncodeMeshToDracoBuffer(r,i);if(o<=0)throw new Error("Draco encoding failed.");return this.log("DRACO encoded ".concat(r.num_points()," points\n        with ").concat(r.num_attributes()," attributes into ").concat(o," bytes")),y(i)}finally{this.destroyEncodedObject(i),this.destroyEncodedObject(r)}}},{key:"_setOptions",value:function(e){var t;if("speed"in e&&(t=this.dracoEncoder).SetSpeedOptions.apply(t,o(e.speed)),"method"in e){var r=this.draco[e.method||"MESH_SEQUENTIAL_ENCODING"];this.dracoEncoder.SetEncodingMethod(r)}if("quantization"in e)for(var n in e.quantization){var i=e.quantization[n],a=this.draco[n];this.dracoEncoder.SetAttributeQuantization(a,i)}}},{key:"_createDracoMesh",value:function(e,t,r){var n=r.attributesMetadata||{};try{var i=this._getPositionAttribute(t);if(!i)throw new Error("positions");var o=i.length/3;for(var a in t){var s=t[a];a=h[a]||a;var u=this._addAttributeToMesh(e,a,s,o);-1!==u&&this._addAttributeMetadata(e,u,c({name:a},n[a]||{}))}}catch(t){throw this.destroyEncodedObject(e),t}return e}},{key:"_createDracoPointCloud",value:function(e,t,r){var n=r.attributesMetadata||{};try{var i=this._getPositionAttribute(t);if(!i)throw new Error("positions");var o=i.length/3;for(var a in t){var s=t[a];a=h[a]||a;var u=this._addAttributeToMesh(e,a,s,o);-1!==u&&this._addAttributeMetadata(e,u,c({name:a},n[a]||{}))}}catch(t){throw this.destroyEncodedObject(e),t}return e}},{key:"_addAttributeToMesh",value:function(e,t,r,n){if(!ArrayBuffer.isView(r))return-1;var i=this._getDracoAttributeType(t),o=r.length/n;if("indices"===i){var a=r.length/3;return this.log("Adding attribute ".concat(t,", size ").concat(a)),this.dracoMeshBuilder.AddFacesToMesh(e,a,r),-1}this.log("Adding attribute ".concat(t,", size ").concat(o));var s=this.dracoMeshBuilder,u=r.buffer;switch(r.constructor){case Int8Array:return s.AddInt8Attribute(e,i,n,o,new Int8Array(u));case Int16Array:return s.AddInt16Attribute(e,i,n,o,new Int16Array(u));case Int32Array:return s.AddInt32Attribute(e,i,n,o,new Int32Array(u));case Uint8Array:case Uint8ClampedArray:return s.AddUInt8Attribute(e,i,n,o,new Uint8Array(u));case Uint16Array:return s.AddUInt16Attribute(e,i,n,o,new Uint16Array(u));case Uint32Array:return s.AddUInt32Attribute(e,i,n,o,new Uint32Array(u));case Float32Array:default:return s.AddFloatAttribute(e,i,n,o,new Float32Array(u))}}},{key:"_getDracoAttributeType",value:function(e){switch(e.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texcoord":case"texcoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}},{key:"_getPositionAttribute",value:function(e){for(var t in e){var r=e[t];if(this._getDracoAttributeType(t)===this.draco.POSITION)return r}return null}},{key:"_addGeometryMetadata",value:function(e,t){var r=new this.draco.Metadata;this._populateDracoMetadata(r,t),this.dracoMeshBuilder.AddMetadata(e,r)}},{key:"_addAttributeMetadata",value:function(e,t,r){var n=new this.draco.Metadata;this._populateDracoMetadata(n,r),this.dracoMeshBuilder.SetMetadataForAttribute(e,t,n)}},{key:"_populateDracoMetadata",value:function(e,t){var r,o,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}((o=t).entries&&!o.hasOwnProperty("entries")?o.entries():Object.entries(o));try{for(s.s();!(r=s.n()).done;){var u=i(r.value,2),c=u[0],l=u[1];switch(n(l)){case"number":Math.trunc(l)===l?this.dracoMetadataBuilder.AddIntEntry(e,c,l):this.dracoMetadataBuilder.AddDoubleEntry(e,c,l);break;case"object":l instanceof Int32Array&&this.dracoMetadataBuilder.AddIntEntryArray(e,c,l,l.length);break;case"string":default:this.dracoMetadataBuilder.AddStringEntry(e,c,l)}}}catch(e){s.e(e)}finally{s.f()}}}])&&l(t.prototype,r),s&&l(t,s),e}();function y(e){for(var t=e.size(),r=new ArrayBuffer(t),n=new Int8Array(r),i=0;i<t;++i)n[i]=e.GetValue(i);return r}t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(34);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=(a(n={},i.GL_TYPE.DOUBLE,Float64Array),a(n,i.GL_TYPE.FLOAT,Float32Array),a(n,i.GL_TYPE.UNSIGNED_SHORT,Uint16Array),a(n,i.GL_TYPE.UNSIGNED_INT,Uint32Array),a(n,i.GL_TYPE.UNSIGNED_BYTE,Uint8Array),a(n,i.GL_TYPE.BYTE,Int8Array),a(n,i.GL_TYPE.SHORT,Int16Array),a(n,i.GL_TYPE.INT,Int32Array),n),u={DOUBLE:i.GL_TYPE.DOUBLE,FLOAT:i.GL_TYPE.FLOAT,UNSIGNED_SHORT:i.GL_TYPE.UNSIGNED_SHORT,UNSIGNED_INT:i.GL_TYPE.UNSIGNED_INT,UNSIGNED_BYTE:i.GL_TYPE.UNSIGNED_BYTE,BYTE:i.GL_TYPE.BYTE,SHORT:i.GL_TYPE.SHORT,INT:i.GL_TYPE.INT},c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"fromTypedArray",value:function(e){for(var t in e=ArrayBuffer.isView(e)?e.constructor:e,s)if(s[t]===e)return t;throw new Error("Failed to convert GL type")}},{key:"fromName",value:function(e){var t=u[e];if(!t)throw new Error("Failed to convert GL type");return t}},{key:"getArrayType",value:function(e){switch(e){case i.GL_TYPE.UNSIGNED_SHORT_5_6_5:case i.GL_TYPE.UNSIGNED_SHORT_4_4_4_4:case i.GL_TYPE.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:var t=s[e];if(!t)throw new Error("Failed to convert GL type");return t}}},{key:"getByteSize",value:function(t){return e.getArrayType(t).BYTES_PER_ELEMENT}},{key:"validate",value:function(t){return Boolean(e.getArrayType(t))}},{key:"createTypedArray",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;void 0===i&&(i=(r.byteLength-n)/e.getByteSize(t));var o=e.getArrayType(t);return new o(r,n,i)}}],(r=null)&&o(t.prototype,r),n&&o(t,n),e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeAttributeIterator=i;var n=regeneratorRuntime.mark(i);function i(e,t){var r,i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.constructor,i=new r(t),o=0;case 3:if(!(o<e.length)){n.next=10;break}for(a=0;a<t;a++)i[a]=i[o+a];return n.next=7,i;case 7:o+=t,n.next=3;break;case 10:case"end":return n.stop()}}),n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeVertexNormals=function(e){(0,o.assert)((0,s.getPrimitiveModeType)(e.mode)===i.GL.TRIANGLES,"TRIANGLES required");var t,r=(0,u.getPositions)(e).values,l=new Float32Array(r.length),f=new n.Vector3,h=new n.Vector3,d=new n.Vector3,p=new n.Vector3,y=new n.Vector3,v=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}((0,a.makePrimitiveIterator)(e));try{for(v.s();!(t=v.n()).done;){var b=t.value;f.fromArray(r,3*b.i1),h.fromArray(r,3*b.i2+3),d.fromArray(r,3*b.i3+6),p.subVectors(d,h),y.subVectors(f,h);var m=p.cross(y);m.normalize();var g=b.primitiveIndex;l[9*g+0]=m.x,l[9*g+1]=m.y,l[9*g+2]=m.z,l[9*g+3]=m.x,l[9*g+4]=m.y,l[9*g+5]=m.z,l[9*g+6]=m.x,l[9*g+7]=m.y,l[9*g+8]=m.z}}catch(e){v.e(e)}finally{v.f()}return l};var n=r(5),i=r(34),o=r(62),a=r(108),s=r(109),u=r(197);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPositions=function(e){if((0,i.default)(e)){var t=e.attributes,r=t.POSITION||t.positions;return(0,o.assert)(r),r}if(ArrayBuffer.isView(e))return{values:e,size:3};if(e)return(0,o.assert)(e.values),e;return(0,o.assert)(!1)};var n,i=(n=r(107))&&n.__esModule?n:{default:n},o=r(62)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeRGB565=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],r=e>>11&31,n=e>>5&63,i=31&e;return t[0]=r<<3,t[1]=n<<2,t[2]=i<<3,t},t.encodeRGB565=function(e){var t=Math.floor(e[0]/8)+4,r=Math.floor(e[1]/4)+2,n=Math.floor(e[2]/8)+4;return t+(r<<5)+(n<<11)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatTypedArrays=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,r=0;r<e.length;++r)t+=e[r].byteLength;for(var n=new Uint8Array(t),i=0,o=0;o<e.length;++o){var a=new Uint8Array(e[o].buffer);t=a.length;for(var s=0;s<t;++s)n[i++]=a[s]}return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.octEncodeInRange=p,t.octEncode=y,t.octEncodeToVector4=function(e,t){return p(e,65535,u),t.x=l(u.x*(1/256)),t.y=l(u.x),t.z=l(u.y*(1/256)),t.w=l(u.y),t},t.octDecodeInRange=v,t.octDecode=b,t.octDecodeFromVector4=function(e,t){(0,i.assert)(e),(0,i.assert)(t);var r=e.x,n=e.y,o=e.z,a=e.w;if(r<0||r>255||n<0||n>255||o<0||o>255||a<0||a>255)throw new Error("x, y, z, and w must be unsigned normalized integers between 0 and 255");return v(256*r+n,256*o+a,65535,t)},t.octPackFloat=m,t.octEncodeFloat=g,t.octDecodeFloat=w,t.octPack=function(e,t,r,n){(0,i.assert)(e),(0,i.assert)(t),(0,i.assert)(r),(0,i.assert)(n);var o=g(e),a=g(t),u=y(r,s);return n.x=65536*u.x+o,n.y=65536*u.y+a,n},t.octUnpack=function(e,t,r,n){var i=e.x/65536,o=Math.floor(i),a=65536*(i-o);i=e.y/65536;var s=Math.floor(i),u=65536*(i-s);w(a,t),w(u,r),b(o,s,n)},t.compressTextureCoordinates=function(e){var t=4095*e.x|0,r=4095*e.y|0;return 4096*t+r},t.decompressTextureCoordinates=function(e,t){var r=e/4096,n=Math.floor(r);return t.x=n/4095,t.y=(e-4096*n)/4095,t},t.zigZagDeltaDecode=function(e,t,r){(0,i.assert)(e),(0,i.assert)(t),(0,i.assert)(e.length===t.length),r&&(0,i.assert)(e.length===r.length);function n(e){return e>>1^-(1&e)}for(var o=0,a=0,s=0,u=0;u<e.length;++u)o+=n(e[u]),a+=n(t[u]),e[u]=o,t[u]=a,r&&(s+=n(r[u]),r[u]=s)};var n=r(5),i=r(62),o=new n.Vector2,a=new n.Vector3,s=new n.Vector2,u=new n.Vector2,c=new Uint8Array(1);function l(e){return c[0]=e,c[0]}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return(0,n.clamp)(e,0,t)/t*2-1}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;return Math.round((.5*(0,n.clamp)(e,-1,1)+.5)*t)}function d(e){return e<0?-1:1}function p(e,t,r){(0,i.assert)(e),(0,i.assert)(r);var o=a.from(e);if((0,i.assert)(Math.abs(o.magnitudeSquared()-1)<=n._MathUtils.EPSILON6),r.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),r.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){var s=r.x,u=r.y;r.x=(1-Math.abs(u))*d(s),r.y=(1-Math.abs(s))*d(u)}return r.x=h(r.x,t),r.y=h(r.y,t),r}function y(e,t){return p(e,255,t)}function v(e,t,r,n){if((0,i.assert)(n),e<0||e>r||t<0||t>r)throw new Error("x and y must be unsigned normalized integers between 0 and ".concat(r));if(n.x=f(e,r),n.y=f(t,r),n.z=1-(Math.abs(n.x)+Math.abs(n.y)),n.z<0){var o=n.x;n.x=(1-Math.abs(n.y))*d(o),n.y=(1-Math.abs(o))*d(n.y)}return n.normalize()}function b(e,t,r){return v(e,t,255,r)}function m(e){var t=o.from(e);return 256*t.x+t.y}function g(e){return y(e,s),m(s)}function w(e,t){(0,i.assert)(Number.isFinite(e));var r=e/256,n=Math.floor(r);return b(n,256*(r-n),t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTypedArrayFromAccessor=function(e,t,r,u){var c=e.componentType;(0,i.assert)(e.componentType);var l="string"==typeof c?n.GLType.fromName(c):c,f=o[e.type],h=a[e.type],d=s[e.type];return r+=e.byteOffset,{values:n.GLType.createTypedArray(l,t,r,f*u),type:l,size:f,unpacker:h,packer:d}};var n=r(15),i=r(3),o={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},a={SCALAR:function(e,t){return e[t]},VEC2:function(e,t){return[e[2*t+0],e[2*t+1]]},VEC3:function(e,t){return[e[3*t+0],e[3*t+1],e[3*t+2]]},VEC4:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT2:function(e,t){return[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]]},MAT3:function(e,t){return[e[9*t+0],e[9*t+1],e[9*t+2],e[9*t+3],e[9*t+4],e[9*t+5],e[9*t+6],e[9*t+7],e[9*t+8]]},MAT4:function(e,t){return[e[16*t+0],e[16*t+1],e[16*t+2],e[16*t+3],e[16*t+4],e[16*t+5],e[16*t+6],e[16*t+7],e[16*t+8],e[16*t+9],e[16*t+10],e[16*t+11],e[16*t+12],e[16*t+13],e[16*t+14],e[16*t+15]]}},s={SCALAR:function(e,t,r){t[r]=e},VEC2:function(e,t,r){t[2*r+0]=e[0],t[2*r+1]=e[1]},VEC3:function(e,t,r){t[3*r+0]=e[0],t[3*r+1]=e[1],t[3*r+2]=e[2]},VEC4:function(e,t,r){t[4*r+0]=e[0],t[4*r+1]=e[1],t[4*r+2]=e[2],t[4*r+3]=e[3]},MAT2:function(e,t,r){t[4*r+0]=e[0],t[4*r+1]=e[1],t[4*r+2]=e[2],t[4*r+3]=e[3]},MAT3:function(e,t,r){t[9*r+0]=e[0],t[9*r+1]=e[1],t[9*r+2]=e[2],t[9*r+3]=e[3],t[9*r+4]=e[4],t[9*r+5]=e[5],t[9*r+6]=e[6],t[9*r+7]=e[7],t[9*r+8]=e[8],t[9*r+9]=e[9]},MAT4:function(e,t,r){t[16*r+0]=e[0],t[16*r+1]=e[1],t[16*r+2]=e[2],t[16*r+3]=e[3],t[16*r+4]=e[4],t[16*r+5]=e[5],t[16*r+6]=e[6],t[16*r+7]=e[7],t[16*r+8]=e[8],t[16*r+9]=e[9],t[16*r+10]=e[10],t[16*r+11]=e[11],t[16*r+12]=e[12],t[16*r+13]=e[13],t[16*r+14]=e[14],t[16*r+15]=e[15]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeHierarchy=function(e,t,r){if(!t)return null;var o=e.getExtension("3DTILES_batch_table_hierarchy"),a=t.HIERARCHY;a&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),t.extensions=t.extensions||{},t.extensions["3DTILES_batch_table_hierarchy"]=a,o=a);if(!o)return null;return function(e,t){var r,o,a,s,u=e.instancesLength,c=e.classes,l=e.classIds,f=e.parentCounts,h=e.parentIds,d=u;n(l.byteOffset)&&(l.componentType=defaultValue(l.componentType,GL.UNSIGNED_SHORT),l.type=AttributeType.SCALAR,a=getBinaryAccessor(l),l=a.createArrayBufferView(t.buffer,t.byteOffset+l.byteOffset,u));if(n(f))for(n(f.byteOffset)&&(f.componentType=defaultValue(f.componentType,GL.UNSIGNED_SHORT),f.type=AttributeType.SCALAR,a=getBinaryAccessor(f),f=a.createArrayBufferView(t.buffer,t.byteOffset+f.byteOffset,u)),s=new Uint16Array(u),d=0,r=0;r<u;++r)s[r]=d,d+=f[r];n(h)&&n(h.byteOffset)&&(h.componentType=defaultValue(h.componentType,GL.UNSIGNED_SHORT),h.type=AttributeType.SCALAR,a=getBinaryAccessor(h),h=a.createArrayBufferView(t.buffer,t.byteOffset+h.byteOffset,d));var p=c.length;for(r=0;r<p;++r){var y=c[r].length,v=c[r].instances,b=getBinaryProperties(y,v,t);c[r].instances=combine(b,v)}var m=new Array(p).fill(0),g=new Uint16Array(u);for(r=0;r<u;++r)o=l[r],g[r]=m[o],++m[o];var w={classes:c,classIds:l,classIndexes:g,parentCounts:f,parentIndexes:s,parentIds:h};return function(e){for(var t=e.classIds.length,r=0;r<t;++r)i(e,r,stack)}(w),w}(o,r)},t.traverseHierarchy=function(e,t,r){if(!e)return;var i=e.parentCounts;if(e.parentIds)return r(e,t);if(i>0)return function(e,t,r){var i=e.classIds,o=e.parentCounts,a=e.parentIds,s=e.parentIndexes,u=i.length,c=scratchVisited;c.length=Math.max(c.length,u);var l=++marker,f=scratchStack;f.length=0,f.push(t);for(;f.length>0;)if(t=f.pop(),c[t]!==l){c[t]=l;var h=r(e,t);if(n(h))return h;for(var d=o[t],p=s[t],y=0;y<d;++y){var v=a[p+y];v!==t&&f.push(v)}}return null}(e,t,r);return function(e,t,r){var i=!0;for(;i;){var o=r(e,t);if(n(o))return o;var a=e.parentIds[t];i=a!==t,t=a}throw new Error("traverseHierarchySingleParent")}(e,t,r)};var n=function(e){return void 0!==e};function i(e,t,r){var o=e.parentCounts,a=e.parentIds,s=e.parentIndexes,u=e.classIds.length;if(n(a)){assert(t<u,"Parent index ".concat(t," exceeds the total number of instances: ").concat(u)),assert(-1===r.indexOf(t),"Circular dependency detected in the batch table hierarchy."),r.push(t);for(var c=n(o)?o[t]:1,l=n(o)?s[t]:t,f=0;f<c;++f){var h=a[l+f];h!==t&&i(e,h,r)}r.pop(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalize3DTileColorAttribute=function(e,t,r){if(!(t||e&&e.batchIds&&r))return null;var i=e.batchIds,o=e.isRGB565,a=e.pointCount;if(i&&r){for(var s=new Uint8ClampedArray(3*a),u=0;u<a;u++){var c=i[u],l=r.getProperty(c,"dimensions").map((function(e){return 255*e}));s[3*u]=l[0],s[3*u+1]=l[1],s[3*u+2]=l[2]}return{type:n.GL.UNSIGNED_BYTE,value:s,size:3,normalized:!0}}if(o){for(var f=new Uint8ClampedArray(3*a),h=0;h<a;h++){var d=(0,n.decodeRGB565)(t[h]);f[3*h]=d[0],f[3*h+1]=d[1],f[3*h+2]=d[2]}return{type:n.GL.UNSIGNED_BYTE,value:f,size:3,normalized:!0}}if(t&&t.length===3*a)return{type:n.GL.UNSIGNED_BYTE,value:t,size:3,normalized:!0};return{type:n.GL.UNSIGNED_BYTE,value:t,size:4,normalized:!0}};var n=r(15)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalize3DTileNormalAttribute=function(e,t){if(!t)return null;if(e.isOctEncoded16P){for(var r=new Float32Array(3*e.pointsLength),n=0;n<e.pointsLength;n++)(0,i.octDecode)(t[2*n],t[2*n+1],o),o.toArray(r,3*n);return{type:i.GL.FLOAT,size:2,value:r}}return{type:i.GL.FLOAT,size:2,value:t}};var n=r(5),i=r(15),o=new n.Vector3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalize3DTilePositionAttribute=function(e,t,r){if(!e.isQuantized)return t;if(r["3d-tiles"]&&r["3d-tiles"].decodeQuantizedPositions)return e.isQuantized=!1,function(e,t){for(var r=new n.Vector3,i=new Float32Array(3*e.pointCount),o=0;o<e.pointCount;o++)r.set(t[3*o],t[3*o+1],t[3*o+2]).scale(1/e.quantizedRange).multiply(e.quantizedVolumeScale).add(e.quantizedVolumeOffset).toArray(i,3*o);return i}(e,t);return{type:i.GL.UNSIGNED_SHORT,value:t,size:3,normalized:!0}};var n=r(5),i=r(15)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchedModel3DTile=function(e,t,r,n,i){return f.apply(this,arguments)};var n,i=r(15),o=(n=r(44))&&n.__esModule?n:{default:n},a=r(45),s=r(64),u=r(110);function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(){return(f=l(regeneratorRuntime.mark((function e(t,r,n,i,o){var a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(t,r,n,i,o),e.next=3,(0,u.extractGLTF)(t,u.GLTF_FORMAT.EMBEDDED,i,o);case 3:return(s=null==t||null===(a=t.gltf)||void 0===a?void 0:a.extensions)&&s.CESIUM_RTC&&(t.rtcCenter=s.CESIUM_RTC.center),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r,n,c){r=(0,a.parse3DTileHeaderSync)(e,t,r),r=(0,s.parse3DTileTablesHeaderSync)(e,t,r),r=(0,s.parse3DTileTablesSync)(e,t,r,n),r=(0,u.parse3DTileGLTFViewSync)(e,t,r,n);var l=new o.default(e.featureTableJson,e.featureTableBinary);return e.rtcCenter=l.getGlobalProperty("RTC_CENTER",i.GL.FLOAT,3),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"KHR_DRACO_MESH_COMPRESSION",{enumerable:!0,get:function(){return i.KHR_DRACO_MESH_COMPRESSION}}),Object.defineProperty(t,"GLTFLoader",{enumerable:!0,get:function(){return o.GLTFLoader}}),Object.defineProperty(t,"GLTFWriter",{enumerable:!0,get:function(){return a.GLTFWriter}}),Object.defineProperty(t,"GLBLoader",{enumerable:!0,get:function(){return s.GLBLoader}}),Object.defineProperty(t,"GLBWriter",{enumerable:!0,get:function(){return u.GLBWriter}}),Object.defineProperty(t,"GLTFScenegraph",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"postProcessGLTF",{enumerable:!0,get:function(){return l.postProcessGLTF}});var n,i=r(25),o=r(208),a=r(229),s=r(231),u=r(232),c=(n=r(27))&&n.__esModule?n:{default:n},l=r(117)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=f,t.GLTFLoader=void 0;var n=r(46),i=r(209);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}var l={name:"glTF",id:"gltf",module:"gltf",version:n.VERSION,extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:f,options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function f(e){return h.apply(this,arguments)}function h(){return(h=c(regeneratorRuntime.mark((function e(t){var r,n,o,s,u,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2?c[2]:void 0,(r=a(a({},l.options),r)).gltf=a(a({},l.options.gltf),r.gltf),o=r.byteOffset,s=void 0===o?0:o,u={},e.next=8,(0,i.parseGLTF)(u,t,s,r,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.GLTFLoader=l},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isGLTF=function(e,t){return(0,h.isGLB)(e,0,t)},t.parseGLTF=function(e,t){return v.apply(this,arguments)};var i=r(111),o=r(3),a=r(26),s=r(219),u=r(220),c=r(221),l=r(227),f=r(117),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,r&&r.set(e,i);return i}(r(118));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function p(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){p(o,n,i,a,s,"next",e)}function s(e){p(o,n,i,a,s,"throw",e)}a(void 0)}))}}function v(){return(v=y(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,s,u,h,d,p,y,v=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=v.length>2&&void 0!==v[2]?v[2]:0,u=v.length>3?v[3]:void 0,h=v.length>4?v[4]:void 0,b(t,r,s,u),(0,l.normalizeGLTFV1)(t,{normalize:null==u||null===(n=u.gltf)||void 0===n?void 0:n.normalize}),d=[],null==u||null===(i=u.gltf)||void 0===i||!i.loadBuffers||!t.json.buffers){e.next=9;break}return e.next=9,m(t,u,h);case 9:return null!=u&&null!==(o=u.gltf)&&void 0!==o&&o.loadImages&&(p=w(t,u,h),d.push(p)),y=(0,c.decodeExtensions)(t,u,h),d.push(y),e.next=14,Promise.all(d);case 14:return e.abrupt("return",null!=u&&null!==(a=u.gltf)&&void 0!==a&&a.postProcess?(0,f.postProcessGLTF)(t,u):t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r,n){(n.uri&&(e.baseUri=n.uri),t instanceof ArrayBuffer&&!(0,h.isGLB)(t,r,n))&&(t=(new TextDecoder).decode(t));if("string"==typeof t)e.json=(0,o.parseJSON)(t);else if(t instanceof ArrayBuffer){var i={};r=(0,h.default)(i,t,r,n.glb),(0,a.assert)("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),e._glb=i,e.json=i.json}else(0,a.assert)(!1,"GLTF: must be ArrayBuffer or string");var s=e.json.buffers||[];if(e.buffers=new Array(s.length).fill(null),e._glb&&e._glb.header.hasBinChunk){var u=e._glb.binChunks;e.buffers[0]={arrayBuffer:u[0].arrayBuffer,byteOffset:u[0].byteOffset,byteLength:u[0].byteLength}}var c=e.json.images||[];e.images=new Array(c.length).fill({})}function m(e,t,r){return g.apply(this,arguments)}function g(){return(g=y(regeneratorRuntime.mark((function e(t,r,n){var i,o,u,c,l,f,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<t.json.buffers.length)){e.next=18;break}if(!(o=t.json.buffers[i]).uri){e.next=15;break}return l=n.fetch,(0,a.assert)(l),f=(0,s.resolveUrl)(o.uri,r),e.next=9,null==n||null===(u=n.fetch)||void 0===u?void 0:u.call(n,f);case 9:return h=e.sent,e.next=12,null==h||null===(c=h.arrayBuffer)||void 0===c?void 0:c.call(h);case 12:d=e.sent,t.buffers[i]={arrayBuffer:d,byteOffset:0,byteLength:d.byteLength},delete o.uri;case 15:++i,e.next=1;break;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,r){return O.apply(this,arguments)}function O(){return(O=y(regeneratorRuntime.mark((function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.json.images||[],o=[],a=0;a<i.length;++a)o.push(_(t,i[a],a,r,n));return e.next=5,Promise.all(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,r,n,i){return T.apply(this,arguments)}function T(){return(T=y(regeneratorRuntime.mark((function e(t,r,n,c,l){var f,h,d,p,y,v,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=l.fetch,h=l.parse,!r.uri){e.next=9;break}return p=(0,s.resolveUrl)(r.uri,c),e.next=5,f(p);case 5:return y=e.sent,e.next=8,y.arrayBuffer();case 8:d=e.sent;case 9:return Number.isFinite(r.bufferView)&&(v=(0,u.getTypedArrayForBufferView)(t.json,t.buffers,r.bufferView),d=(0,o.sliceArrayBuffer)(v.buffer,v.byteOffset,v.byteLength)),(0,a.assert)(d,"glTF image has no data"),e.next=13,h(d,i.ImageLoader,{},l);case 13:b=e.sent,t.images[n]=b;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typecheckImageLoader=t.ImageLoader=void 0;var n,i=r(112),o=(n=r(113))&&n.__esModule?n:{default:n},a=r(66);var s={id:"image",module:"images",name:"Images",version:i.VERSION,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:o.default,tests:[function(e){return Boolean((0,a.getBinaryImageMetadata)(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}};t.ImageLoader=s;var u=s;t._typecheckImageLoader=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return l.apply(this,arguments)};var n,i=r(116),o=(n=r(115))&&n.__esModule?n:{default:n};function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}var u={},c=!0;function l(){return(l=s(regeneratorRuntime.mark((function e(t,r,n){var a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.isSVG)(n)){e.next=7;break}return e.next=3,(0,o.default)(t,r,n);case 3:s=e.sent,a=s,e.next=8;break;case 7:a=(0,i.getBlob)(t,n);case 8:return u=r&&r.imagebitmap,e.next=11,f(a,u);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=s(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d(r=n.length>1&&void 0!==n[1]?n[1]:null)&&c||(r=null),!r){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,r);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),c=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function d(e){for(var t in e||u)return!1;return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=((0,o.getBinaryImageMetadata)(e)||{}).mimeType,a=n.global._parseImageNode;return(0,i.assert)(a),a(e,r,t)};var n=r(65),i=r(47),o=r(66)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageWriter=void 0;var n=r(112),i=r(214),o={name:"Images",id:"image",module:"images",version:n.VERSION,extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:i.encodeImage};t.ImageWriter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeImage=function(e,t){return u.apply(this,arguments)};var n=r(65),i=r(48);function o(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)}))}}var s=n.global._encodeImageNode;function u(){return(u=a(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=r||{}).image=r.image||{},e.abrupt("return",s?s(t,{type:r.image.mimeType}):l(t,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=!0;function l(e,t){return f.apply(this,arguments)}function f(){return(f=a(regeneratorRuntime.mark((function e(t,r){var n,o,a,s,u,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.image,o=n.mimeType,a=n.jpegQuality,s=(0,i.getImageSize)(t),u=s.width,l=s.height,(f=document.createElement("canvas")).width=u,f.height=l,h(t,f),e.next=8,new Promise((function(e){if(a&&c)try{return void f.toBlob(e,o,a)}catch(e){c=!1}f.toBlob(e,o)}));case 8:if(d=e.sent){e.next=11;break}throw new Error("image encoding failed");case 11:return e.next=13,d.arrayBuffer();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(0===r&&0===n&&"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var i=t.getContext("bitmaprenderer");if(i)return i.transferFromImageBitmap(e),t}var o=t.getContext("2d");if(e.data){var a=new Uint8ClampedArray(e.data),s=new ImageData(a,e.width,e.height);return o.putImageData(s,0,0),t}return o.drawImage(e,0,0),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=function(e){return p.apply(this,arguments)},t.getImageUrls=y,t.getMipLevels=g;var n,i=r(47),o=(n=r(113))&&n.__esModule?n:{default:n},a=r(48),s=r(216),u=r(217);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)}))}}function p(){return(p=d(regeneratorRuntime.mark((function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,y(t,r);case 3:return n=e.sent,e.next=6,(0,u.deepLoad)(n,o.default,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return v.apply(this,arguments)}function v(){return(v=d(regeneratorRuntime.mark((function e(t,r){var n,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>2&&void 0!==o[2]?o[2]:{},0===(i=r&&r.image&&r.image.mipLevels||0)){e.next=8;break}return e.next=5,b(t,i,r,n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=(0,s.generateUrl)(t,r,n);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r,n){return m.apply(this,arguments)}function m(){return(m=d(regeneratorRuntime.mark((function e(t,r,n,c){var f,h,d,p,y,v,b,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=[],"auto"!==r){e.next=9;break}return h=(0,s.generateUrl)(t,n,l(l({},c),{},{lod:0})),e.next=5,(0,u.shallowLoad)(h,o.default,n);case 5:d=e.sent,p=(0,a.getImageSize)(d),y=p.width,v=p.height,r=g({width:y,height:v}),f.push(h);case 9:for((0,i.assert)(r>0),b=f.length;b<r;++b)m=(0,s.generateUrl)(t,n,l(l({},c),{},{lod:b})),f.push(m);return e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var t=e.width,r=e.height;return 1+Math.floor(Math.log2(Math.max(t,r)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUrl=function(e,t,r){var o=e;"function"==typeof e&&(o=e(a(a({},t),r)));(0,i.assert)("string"==typeof o);var s=t.baseUrl;s&&(o="/"===s[s.length-1]?"".concat(s).concat(o):"".concat(s,"/").concat(o));return(0,n.resolvePath)(o)};var n=r(3),i=r(47);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepLoad=function(e,t,r){return a.apply(this,arguments)},t.shallowLoad=s;var n=r(218);function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.asyncDeepMap)(t,(function(e){return s(e,r,i)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t,r){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t,r,n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n.fetch);case 2:return i=e.sent,e.next=5,i.arrayBuffer();case 5:return o=e.sent,e.next=8,r(o,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncDeepMap=function(e,t){return s.apply(this,arguments)},t.mapSubtree=u;var a=function(e){return e&&"object"===o(e)};function s(){return(s=i(regeneratorRuntime.mark((function e(t,r){var n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,u(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r){return c.apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,h(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:if(!a(t)){e.next=8;break}return e.next=7,l(t,r,n);case 7:return e.abrupt("return",e.sent);case 8:return i=t,e.next=11,r(i,n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,r){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t,r,n){var i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in i=[],o={},a=function(e){var a=u(t[e],r,n).then((function(t){o[e]=t}));i.push(a)},t)a(s);return e.next=6,Promise.all(i);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(t,r){var n,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},i=t.map((function(e){return u(e,r,n)})),e.next=4,Promise.all(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveUrl=function(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;var r=t.baseUri||t.uri;if(!r)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return r.substr(0,r.lastIndexOf("/")+1)+e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTypedArrayForBufferView=i,t.getTypedArrayForImageData=function(e,t,r){var n=e.images[r],o=e.bufferViews[n.bufferView];return i(e,t,o)};var n=r(26);function i(e,t,r){var i=e.bufferViews[r];(0,n.assert)(i);var o=t[i.buffer];(0,n.assert)(o);var a=(i.byteOffset||0)+o.byteOffset;return new Uint8Array(o.arrayBuffer,a,i.byteLength)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o}function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeExtensions=function(e){return c.apply(this,arguments)},t.EXTENSIONS=void 0;var u={KHR_draco_mesh_compression:o(r(222)),KHR_materials_unlit:o(r(224)),KHR_lights_punctual:o(r(225)),KHR_techniques_webgl:o(r(226))};function c(){return(c=s(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2?c[2]:void 0,e.t0=regeneratorRuntime.keys(u);case 3:if((e.t1=e.t0()).done){e.next=13;break}if(i=e.t1.value,a=(null==r||null===(o=r.gltf)||void 0===o?void 0:o.excludeExtensions)||{},i in a&&!a[i]){e.next=11;break}return s=u[i],e.next=11,s.decode(t,r,n);case 11:e.next=3;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.EXTENSIONS=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e,t,r){return g.apply(this,arguments)},t.encode=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new a.default(e),i=p(n.json.meshes||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;_(o,r),n.addRequiredExtension(s.KHR_DRACO_MESH_COMPRESSION)}}catch(e){i.e(e)}finally{i.f()}};var n,i=r(100),o=r(3),a=(n=r(27))&&n.__esModule?n:{default:n},s=r(25),u=r(223);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=regeneratorRuntime.mark(P);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,s,"next",e)}function s(e){b(o,n,i,a,s,"throw",e)}a(void 0)}))}}function g(){return(g=m(regeneratorRuntime.mark((function e(t,r,n){var i,o,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&null!==(i=r.gltf)&&void 0!==i&&i.decompressMeshes){e.next=2;break}return e.abrupt("return");case 2:o=new a.default(t),u=[],c=p(P(o));try{for(c.s();!(l=c.n()).done;)f=l.value,o.getObjectExtension(f,s.KHR_DRACO_MESH_COMPRESSION)&&u.push(w(o,f,r,n))}catch(e){c.e(e)}finally{c.f()}return e.next=8,Promise.all(u);case 8:o.removeExtension(s.KHR_DRACO_MESH_COMPRESSION);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,r,n){return O.apply(this,arguments)}function O(){return(O=m(regeneratorRuntime.mark((function e(t,r,n,a){var l,h,d,p,y,v,b,m,g,w,O,_,P,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=t.getObjectExtension(r,s.KHR_DRACO_MESH_COMPRESSION)){e.next=3;break}return e.abrupt("return");case 3:return h=t.getTypedArrayForBufferView(l.bufferView),d=(0,o.sliceArrayBuffer)(h.buffer,h.byteOffset),p=a.parse,delete(y=f({},n))["3d-tiles"],e.next=10,p(d,i.DracoLoader,y,a);case 10:for(v=e.sent,b=(0,u.getGLTFAccessors)(v.attributes),m=0,g=Object.entries(b);m<g.length;m++)w=c(g[m],2),O=w[0],_=w[1],O in r.attributes&&(P=r.attributes[O],null!=(j=t.getAccessor(P))&&j.min&&null!=j&&j.max&&(_.min=j.min,_.max=j.max));r.attributes=b,v.indices&&(r.indices=(0,u.getGLTFAccessor)(v.indices)),T(r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");var a=i.DracoWriter.encodeSync({attributes:e}),u=null==o||null===(r=o.parseSync)||void 0===r?void 0:r.call(o,{attributes:e}),c=i._addFauxAttributes(u.attributes),l=i.addBufferView(a),f={primitives:[{attributes:c,mode:n,extensions:d({},s.KHR_DRACO_MESH_COMPRESSION,{bufferView:l,attributes:c})}]};return f}function T(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}function P(e){var t,r,n,i,o,a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=p(e.json.meshes||[]),s.prev=1,t.s();case 3:if((r=t.n()).done){s.next=24;break}n=r.value,i=p(n.primitives),s.prev=6,i.s();case 8:if((o=i.n()).done){s.next=14;break}return a=o.value,s.next=12,a;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),h,null,[[1,26,29,32],[6,16,19,22]])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGLTFAccessors=function(e){var t={};for(var r in e){var n=e[r];if("indices"!==r){var o=i(n);t[r]=o}}return t},t.getGLTFAccessor=i;var n=r(67);function i(e){var t=function(e){var t=e,r=1,n=0;e&&e.value&&(t=e.value,r=e.size||1);t&&(ArrayBuffer.isView(t)||(t=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(r&&!(e instanceof t))return new t(e);return e}(t,Float32Array)),n=t.length/r);return{buffer:t,size:r,count:n}}(e),r=t.buffer,i=t.size;return{value:r,size:i,byteOffset:0,count:t.count,type:(0,n.getAccessorTypeFromSize)(i),componentType:(0,n.getComponentTypeFromArray)(r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){return l.apply(this,arguments)},t.encode=function(e){var t=new i.default(e),r=t.json;if(t.materials){var n,s=a(r.materials||[]);try{for(s.s();!(n=s.n()).done;){var u=n.value;u.unlit&&(delete u.unlit,t.addObjectExtension(u,o.KHR_MATERIALS_UNLIT,{}),t.addExtension(o.KHR_MATERIALS_UNLIT))}}catch(e){s.e(e)}finally{s.f()}}};var n,i=(n=r(27))&&n.__esModule?n:{default:n},o=r(25);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function l(){return(l=c(regeneratorRuntime.mark((function e(t){var r,n,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new i.default(t),n=r.json,r.removeExtension(o.KHR_MATERIALS_UNLIT),s=a(n.materials||[]);try{for(s.s();!(u=s.n()).done;)c=u.value,c.extensions&&c.extensions.KHR_materials_unlit&&(c.unlit=!0),r.removeObjectExtension(c,o.KHR_MATERIALS_UNLIT)}catch(e){s.e(e)}finally{s.f()}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){return f.apply(this,arguments)},t.encode=function(e){return h.apply(this,arguments)};var n,i=r(26),o=(n=r(27))&&n.__esModule?n:{default:n},a=r(25);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(){return(f=l(regeneratorRuntime.mark((function e(t){var r,n,i,u,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new o.default(t),n=r.json,(i=r.getExtension(a.KHR_LIGHTS_PUNCTUAL))&&(r.json.lights=i.lights,r.removeExtension(a.KHR_LIGHTS_PUNCTUAL)),u=s(n.nodes||[]);try{for(u.s();!(c=u.n()).done;)l=c.value,(f=r.getObjectExtension(l,a.KHR_LIGHTS_PUNCTUAL))&&(l.light=f.light),r.removeObjectExtension(l,a.KHR_LIGHTS_PUNCTUAL)}catch(e){u.e(e)}finally{u.f()}case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=l(regeneratorRuntime.mark((function e(t){var r,n,u,c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new o.default(t),(n=r.json).lights&&(u=r.addExtension(a.KHR_LIGHTS_PUNCTUAL),(0,i.assert)(!u.lights),u.lights=n.lights,delete n.lights),r.json.lights){c=s(r.json.lights);try{for(c.s();!(l=c.n()).done;)f=l.value,h=f.node,r.addObjectExtension(h,a.KHR_LIGHTS_PUNCTUAL,f)}catch(e){c.e(e)}finally{c.f()}delete r.json.lights}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){return f.apply(this,arguments)},t.encode=function(e,t){return h.apply(this,arguments)};var n,i=(n=r(27))&&n.__esModule?n:{default:n},o=r(25);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))}}function f(){return(f=l(regeneratorRuntime.mark((function e(t){var r,n,s,u,c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new i.default(t),n=r.json,s=r.getExtension(o.KHR_TECHNIQUES_WEBGL)){u=d(s,r),c=a(n.materials||[]);try{for(c.s();!(l=c.n()).done;)f=l.value,(h=r.getObjectExtension(f,o.KHR_TECHNIQUES_WEBGL))&&(f.technique=Object.assign({},h,u[h.technique]),f.technique.values=p(f.technique,r)),r.removeObjectExtension(f,o.KHR_TECHNIQUES_WEBGL)}catch(e){c.e(e)}finally{c.f()}r.removeExtension(o.KHR_TECHNIQUES_WEBGL)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=l(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){var r=e.programs,n=void 0===r?[]:r,i=e.shaders,o=void 0===i?[]:i,a=e.techniques,s=void 0===a?[]:a,u=new TextDecoder;return o.forEach((function(e){if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=u.decode(t.getTypedArrayForBufferView(e.bufferView))})),n.forEach((function(e){e.fragmentShader=o[e.fragmentShader],e.vertexShader=o[e.vertexShader]})),s.forEach((function(e){e.program=n[e.program]})),s}function p(e,t){var r=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((function(t){e.uniforms[t].value&&!(t in r)&&(r[t]=e.uniforms[t].value)})),Object.keys(r).forEach((function(e){"object"===u(r[e])&&void 0!==r[e].index&&(r[e].texture=t.getTexture(r[e].index))})),r}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeGLTFV1=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new f).normalize(e,t)};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,r&&r.set(e,i);return i}(r(228));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},l={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"},f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}}var t,r,n;return t=e,(r=[{key:"normalize",value:function(e,t){this.json=e.json;var r=e.json;switch(r.asset&&r.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(r.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(r),this._convertTopLevelObjectsToArrays(r),i.decode(e),this._convertObjectIdsToArrayIndices(r),this._updateObjects(r),this._updateMaterial(r)}},{key:"_addAsset",value:function(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}},{key:"_convertTopLevelObjectsToArrays",value:function(e){for(var t in c)this._convertTopLevelObjectToArray(e,t)}},{key:"_convertTopLevelObjectToArray",value:function(e,t){var r=e[t];if(r&&!Array.isArray(r))for(var n in e[t]=[],r){var i=r[n];i.id=i.id||n;var o=e[t].length;e[t].push(i),this.idToIndexMap[t][n]=o}}},{key:"_convertObjectIdsToArrayIndices",value:function(e){for(var t in c)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));var r,n=a(e.textures);try{for(n.s();!(r=n.n()).done;){var i=r.value;this._convertTextureIds(i)}}catch(e){n.e(e)}finally{n.f()}var o,s=a(e.meshes);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._convertMeshIds(u)}}catch(e){s.e(e)}finally{s.f()}var l,f=a(e.nodes);try{for(f.s();!(l=f.n()).done;){var h=l.value;this._convertNodeIds(h)}}catch(e){f.e(e)}finally{f.f()}var d,p=a(e.scenes);try{for(p.s();!(d=p.n()).done;){var y=d.value;this._convertSceneIds(y)}}catch(e){p.e(e)}finally{p.f()}}},{key:"_convertTextureIds",value:function(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}},{key:"_convertMeshIds",value:function(e){var t,r=a(e.primitives);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=n.attributes,o=n.indices,s=n.material;for(var u in i)i[u]=this._convertIdToIndex(i[u],"accessor");o&&(n.indices=this._convertIdToIndex(o,"accessor")),s&&(n.material=this._convertIdToIndex(s,"material"))}}catch(e){r.e(e)}finally{r.f()}}},{key:"_convertNodeIds",value:function(e){var t=this;e.children&&(e.children=e.children.map((function(e){return t._convertIdToIndex(e,"node")}))),e.meshes&&(e.meshes=e.meshes.map((function(e){return t._convertIdToIndex(e,"mesh")})))}},{key:"_convertSceneIds",value:function(e){var t=this;e.nodes&&(e.nodes=e.nodes.map((function(e){return t._convertIdToIndex(e,"node")})))}},{key:"_convertIdsToIndices",value:function(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);var r,n=a(e[t]);try{for(n.s();!(r=n.n()).done;){var i=r.value;for(var o in i){var s=i[o],u=this._convertIdToIndex(s,o);i[o]=u}}}catch(e){n.e(e)}finally{n.f()}}},{key:"_convertIdToIndex",value:function(e,t){var r=l[t];if(r in this.idToIndexMap){var n=this.idToIndexMap[r][e];if(!Number.isFinite(n))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return n}return e}},{key:"_updateObjects",value:function(e){var t,r=a(this.json.buffers);try{for(r.s();!(t=r.n()).done;)delete t.value.type}catch(e){r.e(e)}finally{r.f()}}},{key:"_updateMaterial",value:function(e){var t,r=a(e.materials);try{var n=function(){var r=t.value;r.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};var n=r.values&&r.values.tex,i=e.textures.findIndex((function(e){return e.id===n}));-1!==i&&(r.pbrMetallicRoughness.baseColorTexture={index:i})};for(r.s();!(t=r.n()).done;)n()}catch(e){r.e(e)}finally{r.f()}}}])&&u(t.prototype,r),n&&u(t,n),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){var t,r=new i.default(e),n=r.json,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}(n.images||[]);try{for(s.s();!(t=s.n()).done;){var u=t.value,c=r.removeObjectExtension(u,o.KHR_BINARY_GLTF);c&&Object.assign(u,c)}}catch(e){s.e(e)}finally{s.f()}n.buffers&&n.buffers[0]&&delete n.buffers[0].uri;r.removeExtension(o.KHR_BINARY_GLTF)},t.encode=function(){throw new Error(o.KHR_BINARY_GLTF)};var n,i=(n=r(27))&&n.__esModule?n:{default:n},o=r(25);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckGLBLoader=t.GLTFWriter=void 0;var n=r(46),i=r(230),o={name:"glTF",id:"gltf",module:"gltf",version:n.VERSION,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,encodeSync:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.byteOffset,n=void 0===r?0:r,o=(0,i.encodeGLTFSync)(e,null,n,t),a=new ArrayBuffer(o),s=new DataView(a);return(0,i.encodeGLTFSync)(e,s,n,t),a},options:{gltf:{}}};t.GLTFWriter=o;var a=o;t._TypecheckGLBLoader=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeGLTFSync=function(e,t,r,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.firstBuffer,n=void 0===r?0:r;if(e.buffers&&e.buffers.length>n)throw new Error("encodeGLTF: multiple buffers not yet implemented")}(e),(0,i.default)(e,t,r,n)};var n,i=(n=r(119))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckGLBLoader=t.GLBLoader=void 0;var n,i=r(46),o=(n=r(118))&&n.__esModule?n:{default:n};function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}var u={name:"GLB",id:"glb",module:"gltf",version:i.VERSION,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,parse:function(e,t){return c.apply(this,arguments)},parseSync:l,options:{glb:{strict:!1}}};function c(){return(c=s(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){var r=(t||{}).byteOffset,n=void 0===r?0:r,i={};return(0,o.default)(i,e,n,null==t?void 0:t.glb),i}t.GLBLoader=u;var f=u;t._TypecheckGLBLoader=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckGLBLoader=t.GLBWriter=void 0;var n,i=r(46),o=(n=r(119))&&n.__esModule?n:{default:n};var a={name:"GLB",id:"glb",module:"gltf",version:i.VERSION,extensions:["glb"],mimeTypes:["model/gltf-binary"],binary:!0,encodeSync:function(e,t){var r=t.byteOffset,n=void 0===r?0:r,i=(0,o.default)(e,null,n,t),a=new ArrayBuffer(i),s=new DataView(a);return(0,o.default)(e,s,n,t),a},options:{glb:{}}};t.GLBWriter=a;var s=a;t._TypecheckGLBLoader=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstancedModel3DTile=function(e,t,r,n,i){return p.apply(this,arguments)};var n=r(5),i=r(35),o=r(15),a=f(r(44)),s=f(r(63)),u=r(45),c=r(64),l=r(110);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)}))}}function p(){return(p=d(regeneratorRuntime.mark((function e(t,r,n,i,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y(t,r,n,i,o),e.next=3,(0,l.extractGLTF)(t,t.gltfFormat,i,o);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,r,f,h){if(r=(0,u.parse3DTileHeaderSync)(e,t,r),1!==e.version)throw new Error("Instanced 3D Model version ".concat(e.version," is not supported"));r=(0,c.parse3DTileTablesHeaderSync)(e,t,r);var d=new DataView(t);if(e.gltfFormat=d.getUint32(r,!0),r+=4,r=(0,c.parse3DTileTablesSync)(e,t,r,f),r=(0,l.parse3DTileGLTFViewSync)(e,t,r,f),0===e.featureTableJsonByteLength)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");var p=new a.default(e.featureTableJson,e.featureTableBinary),y=p.getGlobalProperty("INSTANCES_LENGTH");if(p.featuresLength=y,!Number.isFinite(y))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");e.eastNorthUp=p.getGlobalProperty("EAST_NORTH_UP"),e.rtcCenter=p.getGlobalProperty("RTC_CENTER",o.GL.FLOAT,3);new s.default(e.batchTableJson,e.batchTableBinary,y);return function(e,t,r,a){for(var s=[new Array(a),e._batchTable][0],u=new n.Vector3,c=(new n.Vector3,new n.Vector3,new n.Vector3,new n.Matrix3),l=new n.Quaternion,f=new n.Vector3,h={},d=new n.Matrix4,p=[],y=[],v=new n.Vector3,b=new n.Vector3,m=0;m<a;m++){var g=void 0;if(t.hasProperty("POSITION"))g=t.getProperty("POSITION",o.GL.FLOAT,3,m,u);else if(t.hasProperty("POSITION_QUANTIZED")){g=t.getProperty("POSITION_QUANTIZED",o.GL.UNSIGNED_SHORT,3,m,u);var w=t.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",o.GL.FLOAT,3,v);if(!w)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var O=t.getGlobalProperty("QUANTIZED_VOLUME_SCALE",o.GL.FLOAT,3,b);if(!O)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var _=0;_<3;_++)g[_]=g[_]/65535*O[_]+w[_]}if(!g)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");u.copy(g),h.translation=u,e.normalUp=t.getProperty("NORMAL_UP",o.GL.FLOAT,3,m,p),e.normalRight=t.getProperty("NORMAL_RIGHT",o.GL.FLOAT,3,m,y);if(e.normalUp){if(!e.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");e.hasCustomOrientation=!0}else{if(e.octNormalUp=t.getProperty("NORMAL_UP_OCT32P",o.GL.UNSIGNED_SHORT,2,p),e.octNormalRight=t.getProperty("NORMAL_RIGHT_OCT32P",o.GL.UNSIGNED_SHORT,2,y),e.octNormalUp){if(!e.octNormalRight)throw new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");throw new Error("i3dm: oct-encoded orientation not implemented")}e.eastNorthUp?(i.Ellipsoid.WGS84.eastNorthUpToFixedFrame(u,d),d.getRotationMatrix3(c)):c.identity()}!1,l.fromMatrix3(c),h.rotation=l,f.set(1,1,1);var T=t.getProperty("SCALE",o.GL.FLOAT,1,m);Number.isFinite(T)&&f.multiplyByScalar(T);var P=t.getProperty("SCALE_NON_UNIFORM",o.GL.FLOAT,3,m,p);P&&f.scale(P),h.scale=f;var j=t.getProperty("BATCH_ID",o.GL.UNSIGNED_SHORT,1,m);void 0===j&&(j=m);var S=(new n.Matrix4).fromQuaternion(h.rotation);d.identity(),d.translate(h.translation),d.multiplyRight(S),d.scale(h.scale);var E=d.clone();s[m]={modelMatrix:E,batchId:j}}e.instances=s}(e,p,0,y),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseComposite3DTile=function(e,t,r,n,i,o){return a.apply(this,arguments)};var n=r(45);function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i,o,a,s){var u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,n.parse3DTileHeaderSync)(t,r,i),u=new DataView(r),t.tilesLength=u.getUint32(i,!0),i+=4,t.tiles=[];case 5:if(!(t.tiles.length<t.tilesLength&&t.byteLength-i>12)){e.next=13;break}return c={},t.tiles.push(c),e.next=10,s(r,i,o,a,c);case 10:i=e.sent,e.next=5;break;case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeTileData=a,t.normalizeTileHeaders=function(e){var t=e.basePath,r=a(e.root,e),n=[];n.push(r);for(;n.length>0;){var o,s=i(n.pop().children||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;a(u,{basePath:t}),n.push(u)}}catch(e){s.e(e)}finally{s.f()}}return r};var n=r(81);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(e.content){var r=e.content.uri||e.content.url;e.contentUrl="".concat(t.basePath,"/").concat(r)}return e.id=e.contentUrl,e.lodMetricType=n.LOD_METRIC_TYPE.GEOMETRIC_ERROR,e.lodMetricValue=e.geometricError,e.transformMatrix=e.transform,e.type=function(e){if(!e.contentUrl)return n.TILE_TYPE.EMPTY;var t=e.contentUrl.split(".").pop();switch(t){case"pnts":return n.TILE_TYPE.POINTCLOUD;case"i3dm":case"b3dm":return n.TILE_TYPE.SCENEGRAPH;default:return t}}(e),e.refine=function(e){switch(e){case"REPLACE":case"replace":return n.TILE_REFINEMENT.REPLACE;case"ADD":case"add":return n.TILE_REFINEMENT.ADD;default:return e}}(e.refine),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CesiumIonLoader=void 0;var n=r(69),i=r(120);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function l(){return(l=c(regeneratorRuntime.mark((function e(t){var r,n,o,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(r=s.length>1&&void 0!==s[1]?s[1]:{})["cesium-ion"]||{},n=r.accessToken,o=r.assetId,Number.isFinite(o)||(a=t.match(/\/([0-9]+)\/tileset.json/),o=a&&a[1]),e.abrupt("return",(0,i.getIonTilesetMetadata)(n,o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f,h=a(a({},n.Tiles3DLoader),{},{id:"cesium-ion",name:"Cesium Ion",preload:function(e){return l.apply(this,arguments)},parse:(f=c(regeneratorRuntime.mark((function e(t,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=a({},r))["3d-tiles"]=r["cesium-ion"],r.loader=h,e.abrupt("return",n.Tiles3DLoader.parse(t,r,i));case 4:case"end":return e.stop()}}),e)}))),function(e,t,r){return f.apply(this,arguments)}),options:{"cesium-ion":a(a({},n.Tiles3DLoader.options["3d-tiles"]),{},{accessToken:null})}});t.CesiumIonLoader=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tile3DWriter=void 0;var n,i=r(98),o=(n=r(238))&&n.__esModule?n:{default:n};var a={name:"3D Tile",id:"3d-tiles",module:"3d-tiles",version:i.VERSION,extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],encodeSync:function(e,t){return(0,o.default)(e,t)},binary:!0,options:function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},"3d-tiles",{})};t.Tile3DWriter=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=c(e,null,0,t),n=new ArrayBuffer(r),i=new DataView(n);return c(e,i,0,t),n};var n=r(21),i=r(3),o=r(239),a=r(240),s=r(241),u=r(242);function c(e,t,r,l){switch((0,i.assert)("string"==typeof e.type),e.type){case n.TILE3D_TYPE.COMPOSITE:return(0,o.encodeComposite3DTile)(e,t,r,l,c);case n.TILE3D_TYPE.POINT_CLOUD:return(0,u.encodePointCloud3DTile)(e,t,r,l);case n.TILE3D_TYPE.BATCHED_3D_MODEL:return(0,a.encodeBatchedModel3DTile)(e,t,r,l);case n.TILE3D_TYPE.INSTANCED_3D_MODEL:return(0,s.encodeInstancedModel3DTile)(e,t,r,l);default:throw new Error("3D Tiles: unknown tile type")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeComposite3DTile=function(e,t,r,s,u){e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({magic:n.MAGIC_ARRAY.COMPOSITE,tiles:[]},e);var c=r;r+=(0,i.encode3DTileHeader)(e,t,r),t&&t.setUint32(r,e.tiles.length,!0);r+=4;for(var l=0;l<e.tiles.length;++l)r+=u(e.tiles[l],t,r,s);return(0,i.encode3DTileByteLength)(t,c,r-c),r};var n=r(21),i=r(49);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeBatchedModel3DTile=function(e,t,r,u){var c=e,l=c.featuresLength,f=void 0===l?0:l,h=c.batchTable,d={BATCH_LENGTH:f},p=JSON.stringify(d),y=h?JSON.stringify(h):"",v=(0,n.padToNBytes)(p.length,8),b=y?(0,n.padToNBytes)(y.length,8):0;e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({magic:i.MAGIC_ARRAY.BATCHED_MODEL},e);var m=r;r=(0,o.encode3DTileHeader)(e,t,r),t&&(t.setUint32(12,v,!0),t.setUint32(16,0,!0),t.setUint32(20,b,!0),t.setUint32(24,0,!0));r+=16,r=(0,n.copyPaddedStringToDataView)(t,r,p,8),h&&(r=(0,n.copyPaddedStringToDataView)(t,r,y,8));var g=e.gltfEncoded;g&&(r=(0,n.copyBinaryToDataView)(t,r,g,g.byteLength));return(0,o.encode3DTileByteLength)(t,m,r-m),r};var n=r(3),i=r(21),o=r(49);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeInstancedModel3DTile=function(e,t,r,u){var c=e,l=c.featuresLength,f=void 0===l?1:l,h=c.gltfFormat,d=void 0===h?1:h,p=c.gltfUri,y=void 0===p?"":p,v=y.length,b={INSTANCES_LENGTH:f,POSITION:new Array(3*f).fill(0)},m=JSON.stringify(b),g=m.length;e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({magic:i.MAGIC_ARRAY.INSTANCED_MODEL},e);var w=r;r=(0,o.encode3DTileHeader)(e,t,0),t&&(t.setUint32(12,g,!0),t.setUint32(16,0,!0),t.setUint32(20,0,!0),t.setUint32(24,0,!0),t.setUint32(28,d,!0));return r+=20,r+=(0,n.copyStringToDataView)(t,r,m,g),r+=(0,n.copyStringToDataView)(t,r,y,v),(0,o.encode3DTileByteLength)(t,w,r-w),r};var n=r(3),i=r(21),o=r(49);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodePointCloud3DTile=function(e,t,r,c){var l=e.featureTableJson,f=void 0===l?u:l,h=JSON.stringify(f);h=(0,o.padStringToByteAlignment)(h,4);var d=e.featureTableJsonByteLength,p=void 0===d?h.length:d,y=new ArrayBuffer(12),v=y.byteLength;e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({magic:n.MAGIC_ARRAY.POINT_CLOUD},e);var b=r;r+=(0,i.encode3DTileHeader)(e,t,0),t&&(t.setUint32(r+0,p,!0),t.setUint32(r+4,v,!0),t.setUint32(r+8,0,!0),t.setUint32(r+12,0,!0));return r+=16,r+=(0,o.copyStringToDataView)(t,r,h,p),r+=(0,o.copyBinaryToDataView)(t,r,y,v),(0,i.encode3DTileByteLength)(t,b,r-b),r};var n=r(21),i=r(49),o=r(3);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={POINTS_LENGTH:1,POSITIONS:{byteOffset:0}}},function(e,t,r){"use strict";r.r(t),r.d(t,"VERSION",(function(){return i})),r.d(t,"self",(function(){return y.e})),r.d(t,"window",(function(){return y.f})),r.d(t,"global",(function(){return y.c})),r.d(t,"document",(function(){return y.b})),r.d(t,"process",(function(){return y.d})),r.d(t,"console",(function(){return y.a})),r.d(t,"isBrowser",(function(){return n.a})),r.d(t,"isBrowserMainThread",(function(){return n.b})),r.d(t,"getBrowser",(function(){return x})),r.d(t,"isMobile",(function(){return E})),r.d(t,"isElectron",(function(){return S.a})),r.d(t,"assert",(function(){return p})),r.d(t,"Log",(function(){return T})),r.d(t,"COLOR",(function(){return l})),r.d(t,"addColor",(function(){return h})),r.d(t,"leftPad",(function(){return s})),r.d(t,"rightPad",(function(){return u})),r.d(t,"autobind",(function(){return d})),r.d(t,"LocalStorage",(function(){return a})),r.d(t,"getHiResTimestamp",(function(){return v})),r.d(t,"Stats",(function(){return k.Stats})),r.d(t,"Stat",(function(){return k.Stat}));var n=r(22);const i="3.0.8",o=Object(n.a)();class a{constructor(e,t,r="sessionStorage"){this.storage=function(e){try{const t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),t}catch(e){return null}}(r),this.id=e,this.config={},Object.assign(this.config,t),this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){return this.config={},this.updateConfiguration(e)}updateConfiguration(e){if(Object.assign(this.config,e),this.storage){const e=JSON.stringify(this.config);this.storage.setItem(this.id,e)}return this}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function s(e,t=8){const r=Math.max(t-e.length,0);return"".concat(" ".repeat(r)).concat(e)}function u(e,t=8){const r=Math.max(t-e.length,0);return"".concat(e).concat(" ".repeat(r))}function c(e,t,r,n=600){const i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>n&&(r=Math.min(r,n/e.width));const o=e.width*r,a=e.height*r,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}const l={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function f(e){return"string"==typeof e?l[e.toUpperCase()]||l.WHITE:e}function h(e,t,r){return o||"string"!=typeof e||(t&&(t=f(t),e="[".concat(t,"m").concat(e,"[39m")),r&&(t=f(r),e="[".concat(r+10,"m").concat(e,"[49m"))),e}function d(e,t=["constructor"]){const r=Object.getPrototypeOf(e),n=Object.getOwnPropertyNames(r);for(const r of n)"function"==typeof e[r]&&(t.find(e=>r===e)||(e[r]=e[r].bind(e)))}function p(e,t){if(!e)throw new Error(t||"Assertion failed")}var y=r(7);function v(){let e;if(o&&y.f.performance)e=y.f.performance.now();else if(y.d.hrtime){const t=y.d.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}const b={debug:o&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},m={enabled:!0,level:0};function g(){}const w={},O={once:!0};function _(e){for(const t in e)for(const r in e[t])return r||"untitled";return"empty"}class T{constructor({id:e}={id:""}){this.id=e,this.VERSION=i,this._startTs=v(),this._deltaTs=v(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new a("__probe-".concat(this.id,"__"),m),this.userData={},this.timeStamp("".concat(this.id," started")),d(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((v()-this._startTs).toPrecision(10))}getDelta(){return Number((v()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.updateConfiguration({enabled:e}),this}setLevel(e){return this._storage.updateConfiguration({level:e}),this}assert(e,t){p(e,t)}warn(e){return this._getLogFunction(0,e,b.warn,arguments,O)}error(e){return this._getLogFunction(0,e,b.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,b.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,b.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){return this._getLogFunction(e,t,b.debug||b.info,arguments,O)}table(e,t,r){return t?this._getLogFunction(e,t,console.table||g,r&&[r],{tag:_(t)}):g}image({logLevel:e,priority:t,image:n,message:i="",scale:a=1}){return this._shouldLog(e||t)?o?function({image:e,message:t="",scale:r=1}){if("string"==typeof e){const n=new Image;return n.onload=()=>{const e=c(n,t,r);console.log(...e)},n.src=e,g}const n=e.nodeName||"";if("img"===n.toLowerCase())return console.log(...c(e,t,r)),g;if("canvas"===n.toLowerCase()){const n=new Image;return n.onload=()=>console.log(...c(n,t,r)),n.src=e.toDataURL(),g}return g}({image:n,message:i,scale:a}):function({image:e,message:t="",scale:n=1}){let i=null;try{i=r(153)}catch(e){}if(i)return()=>i(e,{fit:"box",width:"".concat(Math.round(80*n),"%")}).then(e=>console.log(e));return g}({image:n,message:i,scale:a}):g}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}get(e){return this._storage.config[e]}set(e,t){this._storage.updateConfiguration({[e]:t})}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||g)}group(e,t,r={collapsed:!1}){r=j({logLevel:e,message:t,opts:r});const{collapsed:n}=r;return r.method=(n?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t,r={}){return this.group(e,t,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||g)}withGroup(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=P(e)}_getLogFunction(e,t,r,n=[],i){if(this._shouldLog(e)){i=j({logLevel:e,message:t,args:n,opts:i}),p(r=r||i.method),i.total=this.getTotal(),i.delta=this.getDelta(),this._deltaTs=v();const o=i.tag||i.message;if(i.once){if(w[o])return g;w[o]=v()}return t=function(e,t,r){if("string"==typeof t){const n=r.time?s(function(e){let t;return t=e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s"),t}(r.total)):"";t=h(t=r.time?"".concat(e,": ").concat(n,"  ").concat(t):"".concat(e,": ").concat(t),r.color,r.background)}return t}(this.id,i.message,i),r.bind(console,t,...i.args)}return g}}function P(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return p(Number.isFinite(t)&&t>=0),t}function j(e){const{logLevel:t,message:r}=e;e.logLevel=P(t);const n=e.args?Array.from(e.args):[];for(;n.length&&n.shift()!==r;);switch(e.args=n,typeof t){case"string":case"function":void 0!==r&&n.unshift(r),e.message=t;break;case"object":Object.assign(e,t)}"function"==typeof e.message&&(e.message=e.message());const i=typeof e.message;return p("string"===i||"object"===i),Object.assign(e,e.opts)}T.VERSION=i;var S=r(28);function E(){return void 0!==y.f.orientation}function x(e){if(!e&&!Object(n.a)())return"Node";if(Object(S.a)(e))return"Electron";const t="undefined"!=typeof navigator?navigator:{},r=e||t.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";const i=-1!==r.indexOf("MSIE "),o=-1!==r.indexOf("Trident/");return i||o?"IE":y.f.chrome?"Chrome":y.f.safari?"Safari":y.f.mozInnerScreenX?"Firefox":"Unknown"}var k=r(36);t.default=new T({id:"probe.gl"})}]);
//# sourceMappingURL=dist.es5.min.js.map