!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=27)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}},function(e,t,r){"use strict";(function(e){function n(){let t;if("undefined"!=typeof window&&window.performance)t=window.performance.now();else if(void 0!==e&&e.hrtime){const r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,"a",(function(){return n}))}).call(this,r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.8"},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Schema",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(t,"DataType",{enumerable:!0,get:function(){return o.DataType}}),Object.defineProperty(t,"Null",{enumerable:!0,get:function(){return o.Null}}),Object.defineProperty(t,"Bool",{enumerable:!0,get:function(){return o.Bool}}),Object.defineProperty(t,"Int",{enumerable:!0,get:function(){return o.Int}}),Object.defineProperty(t,"Int8",{enumerable:!0,get:function(){return o.Int8}}),Object.defineProperty(t,"Int16",{enumerable:!0,get:function(){return o.Int16}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return o.Int32}}),Object.defineProperty(t,"Int64",{enumerable:!0,get:function(){return o.Int64}}),Object.defineProperty(t,"Uint8",{enumerable:!0,get:function(){return o.Uint8}}),Object.defineProperty(t,"Uint16",{enumerable:!0,get:function(){return o.Uint16}}),Object.defineProperty(t,"Uint32",{enumerable:!0,get:function(){return o.Uint32}}),Object.defineProperty(t,"Uint64",{enumerable:!0,get:function(){return o.Uint64}}),Object.defineProperty(t,"Float",{enumerable:!0,get:function(){return o.Float}}),Object.defineProperty(t,"Float16",{enumerable:!0,get:function(){return o.Float16}}),Object.defineProperty(t,"Float32",{enumerable:!0,get:function(){return o.Float32}}),Object.defineProperty(t,"Float64",{enumerable:!0,get:function(){return o.Float64}}),Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return o.Binary}}),Object.defineProperty(t,"Utf8",{enumerable:!0,get:function(){return o.Utf8}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return o.Date}}),Object.defineProperty(t,"DateDay",{enumerable:!0,get:function(){return o.DateDay}}),Object.defineProperty(t,"DateMillisecond",{enumerable:!0,get:function(){return o.DateMillisecond}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return o.Time}}),Object.defineProperty(t,"TimeSecond",{enumerable:!0,get:function(){return o.TimeSecond}}),Object.defineProperty(t,"TimeMillisecond",{enumerable:!0,get:function(){return o.TimeMillisecond}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return o.Timestamp}}),Object.defineProperty(t,"TimestampSecond",{enumerable:!0,get:function(){return o.TimestampSecond}}),Object.defineProperty(t,"TimestampMillisecond",{enumerable:!0,get:function(){return o.TimestampMillisecond}}),Object.defineProperty(t,"TimestampMicrosecond",{enumerable:!0,get:function(){return o.TimestampMicrosecond}}),Object.defineProperty(t,"TimestampNanosecond",{enumerable:!0,get:function(){return o.TimestampNanosecond}}),Object.defineProperty(t,"Interval",{enumerable:!0,get:function(){return o.Interval}}),Object.defineProperty(t,"IntervalDayTime",{enumerable:!0,get:function(){return o.IntervalDayTime}}),Object.defineProperty(t,"IntervalYearMonth",{enumerable:!0,get:function(){return o.IntervalYearMonth}}),Object.defineProperty(t,"FixedSizeList",{enumerable:!0,get:function(){return o.FixedSizeList}});var n=a(r(33)),i=a(r(35)),o=r(36);function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isMobile=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=i.self||i.window||i.global||{};t.self=o;var a=i.window||i.self||i.global||{};t.window=a;var u=i.global||i.self||i.window||{};t.global=u;var s=i.document||{};t.document=s;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var l="function"==typeof importScripts;t.isWorker=l;var f="undefined"!=typeof window&&void 0!==window.orientation;t.isMobile=f;var d=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),h=d&&parseFloat(d[1])||0;t.nodeVersion=h}).call(this,r(3),r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0),i=r(46),o=r(8);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(){},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"name",void 0),u(this,"source",void 0),u(this,"url",void 0),u(this,"terminated",!1),u(this,"worker",void 0),u(this,"onMessage",void 0),u(this,"onError",void 0),u(this,"_loadableURL","");var r=t.name,i=t.source,o=t.url;(0,n.assert)(i||o),this.name=r,this.source=i,this.url=o,this.onMessage=s,this.onError=function(e){return console.log(e)},this.worker=this._createBrowserWorker()}var t,r,c;return t=e,c=[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}],(r=[{key:"destroy",value:function(){this.onMessage=s,this.onError=s,this.worker.terminate(),this.terminated=!0}},{key:"isRunning",get:function(){return Boolean(this.onMessage)}},{key:"postMessage",value:function(e,t){t=t||(0,o.getTransferList)(e),this.worker.postMessage(e,t)}},{key:"_getErrorFromErrorEvent",value:function(e){var t="Failed to load ";return t+="worker ".concat(this.name,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}},{key:"_createBrowserWorker",value:function(){var e=this;this._loadableURL=(0,i.getLoadableWorkerURL)({source:this.source,url:this.url});var t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e._getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(e){return console.error(e)},t}}])&&a(t.prototype,r),c&&a(t,c),e}();t.default=c},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferList=function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0,a=o||new Set;if(t){if(i(t))a.add(t);else if(i(t.buffer))a.add(t.buffer);else if(ArrayBuffer.isView(t));else if(r&&"object"===n(t))for(var u in t)e(t[u],r,a)}else;return void 0===o?Array.from(a):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TableBatchBuilder",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"RowTableBatchAggregator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ColumnarTableBatchAggregator",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"convertToObjectRow",{enumerable:!0,get:function(){return a.convertToObjectRow}}),Object.defineProperty(t,"convertToArrayRow",{enumerable:!0,get:function(){return a.convertToArrayRow}}),Object.defineProperty(t,"getMeshSize",{enumerable:!0,get:function(){return u.getMeshSize}}),Object.defineProperty(t,"getMeshBoundingBox",{enumerable:!0,get:function(){return u.getMeshBoundingBox}}),Object.defineProperty(t,"Schema",{enumerable:!0,get:function(){return s.Schema}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return s.Field}}),Object.defineProperty(t,"DataType",{enumerable:!0,get:function(){return s.DataType}}),Object.defineProperty(t,"Null",{enumerable:!0,get:function(){return s.Null}}),Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return s.Binary}}),Object.defineProperty(t,"Bool",{enumerable:!0,get:function(){return s.Bool}}),Object.defineProperty(t,"Int",{enumerable:!0,get:function(){return s.Int}}),Object.defineProperty(t,"Int8",{enumerable:!0,get:function(){return s.Int8}}),Object.defineProperty(t,"Int16",{enumerable:!0,get:function(){return s.Int16}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return s.Int32}}),Object.defineProperty(t,"Int64",{enumerable:!0,get:function(){return s.Int64}}),Object.defineProperty(t,"Uint8",{enumerable:!0,get:function(){return s.Uint8}}),Object.defineProperty(t,"Uint16",{enumerable:!0,get:function(){return s.Uint16}}),Object.defineProperty(t,"Uint32",{enumerable:!0,get:function(){return s.Uint32}}),Object.defineProperty(t,"Uint64",{enumerable:!0,get:function(){return s.Uint64}}),Object.defineProperty(t,"Float",{enumerable:!0,get:function(){return s.Float}}),Object.defineProperty(t,"Float16",{enumerable:!0,get:function(){return s.Float16}}),Object.defineProperty(t,"Float32",{enumerable:!0,get:function(){return s.Float32}}),Object.defineProperty(t,"Float64",{enumerable:!0,get:function(){return s.Float64}}),Object.defineProperty(t,"Utf8",{enumerable:!0,get:function(){return s.Utf8}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return s.Date}}),Object.defineProperty(t,"DateDay",{enumerable:!0,get:function(){return s.DateDay}}),Object.defineProperty(t,"DateMillisecond",{enumerable:!0,get:function(){return s.DateMillisecond}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return s.Time}}),Object.defineProperty(t,"TimeMillisecond",{enumerable:!0,get:function(){return s.TimeMillisecond}}),Object.defineProperty(t,"TimeSecond",{enumerable:!0,get:function(){return s.TimeSecond}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return s.Timestamp}}),Object.defineProperty(t,"TimestampSecond",{enumerable:!0,get:function(){return s.TimestampSecond}}),Object.defineProperty(t,"TimestampMillisecond",{enumerable:!0,get:function(){return s.TimestampMillisecond}}),Object.defineProperty(t,"TimestampMicrosecond",{enumerable:!0,get:function(){return s.TimestampMicrosecond}}),Object.defineProperty(t,"TimestampNanosecond",{enumerable:!0,get:function(){return s.TimestampNanosecond}}),Object.defineProperty(t,"Interval",{enumerable:!0,get:function(){return s.Interval}}),Object.defineProperty(t,"IntervalDayTime",{enumerable:!0,get:function(){return s.IntervalDayTime}}),Object.defineProperty(t,"IntervalYearMonth",{enumerable:!0,get:function(){return s.IntervalYearMonth}}),Object.defineProperty(t,"FixedSizeList",{enumerable:!0,get:function(){return s.FixedSizeList}}),Object.defineProperty(t,"deduceTableSchema",{enumerable:!0,get:function(){return c.deduceTableSchema}}),Object.defineProperty(t,"getTypeInfo",{enumerable:!0,get:function(){return l.getTypeInfo}}),Object.defineProperty(t,"getArrowTypeFromTypedArray",{enumerable:!0,get:function(){return f.getArrowTypeFromTypedArray}}),Object.defineProperty(t,"AsyncQueue",{enumerable:!0,get:function(){return d.default}});var n=h(r(30)),i=h(r(10)),o=h(r(12)),a=r(11),u=r(32),s=r(4),c=r(38),l=r(39),f=r(40),d=h(r(41));function h(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(11);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"schema",void 0),o(this,"options",void 0),o(this,"length",0),o(this,"objectRows",null),o(this,"arrayRows",null),o(this,"cursor",0),o(this,"_headers",[]),this.options=r,this.schema=t,!Array.isArray(t))for(var n in this._headers=[],t)this._headers[t[n].index]=t[n].name}var t,r,a;return t=e,(r=[{key:"rowCount",value:function(){return this.length}},{key:"addArrayRow",value:function(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"object-row-table":var r=(0,n.convertToObjectRow)(e,this._headers);this.addObjectRow(r,t);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=e,this.length++}}},{key:"addObjectRow",value:function(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"array-row-table":var r=(0,n.convertToArrayRow)(e,this._headers);this.addArrayRow(r,t);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=e,this.length++}}},{key:"getBatch",value:function(){var e=this.arrayRows||this.objectRows;return e?(e=e.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToObjectRow=function(e,t){if(!e)throw new Error("null row");if(!t)throw new Error("no headers");for(var r={},n=0;n<t.length;n++)r[t[n]]=e[n];return r},t.convertToArrayRow=function(e,t){if(!e)throw new Error("null row");if(!t)throw new Error("no headers");for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=e[t[n]];return r}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"schema",void 0),a(this,"length",0),a(this,"allocated",0),a(this,"columns",{}),this.schema=t,this._reallocateColumns()}var t,r,i;return t=e,(r=[{key:"rowCount",value:function(){return this.length}},{key:"addArrayRow",value:function(e){this._reallocateColumns();var t=0;for(var r in this.columns)this.columns[r][this.length]=e[t++];this.length++}},{key:"addObjectRow",value:function(e){for(var t in this._reallocateColumns(),e)this.columns[t][this.length]=e[t];this.length++}},{key:"getBatch",value:function(){this._pruneColumns();var e=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(var t in this.schema){var r=this.schema[t];e[r.name]=this.columns[r.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:e,schema:this.schema,length:this.length}}},{key:"_reallocateColumns",value:function(){if(!(this.length<this.allocated))for(var e in this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={},this.schema){var t=this.schema[e],r=t.type||Float32Array,n=this.columns[t.index];if(n&&ArrayBuffer.isView(n)){var i=new r(this.allocated);i.set(n),this.columns[t.index]=i}else n?(n.length=this.allocated,this.columns[t.index]=n):this.columns[t.index]=new r(this.allocated)}}},{key:"_pruneColumns",value:function(){for(var e=0,t=Object.entries(this.columns);e<t.length;e++){var r=n(t[e],2),i=r[0],o=r[1];this.columns[i]=o.slice(0,this.length)}}}])&&o(t.prototype,r),i&&o(t,i),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSkirt=function(e,t,r){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=i?u(i,e.POSITION.value):a(t),c=new e.POSITION.value.constructor(6*o.length),l=new e.TEXCOORD_0.value.constructor(4*o.length),f=new t.constructor(6*o.length),d=0;d<o.length;d++){var h=o[d];s({edge:h,edgeIndex:d,attributes:e,skirtHeight:r,newPosition:c,newTexcoord0:l,newTriangles:f})}e.POSITION.value=(0,n.concatenateTypedArrays)(e.POSITION.value,c),e.TEXCOORD_0.value=(0,n.concatenateTypedArrays)(e.TEXCOORD_0.value,l);var p=t instanceof Array?t.concat(f):(0,n.concatenateTypedArrays)(t,f);return{attributes:e,triangles:p}};var n=r(43);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){for(var t=[],r=0;r<e.length;r+=3)t.push([e[r],e[r+1]]),t.push([e[r+1],e[r+2]]),t.push([e[r+2],e[r]]);t.sort((function(e,t){return Math.min.apply(Math,i(e))-Math.min.apply(Math,i(t))||Math.max.apply(Math,i(e))-Math.max.apply(Math,i(t))}));for(var n=[],o=1;o<t.length;)t[o][0]===t[o-1][1]&&t[o][1]===t[o-1][0]?o+=2:(n.push(t[o-1]),o++);return n}function u(e,t){e.westIndices.sort((function(e,r){return t[3*e+1]-t[3*r+1]})),e.eastIndices.sort((function(e,r){return t[3*r+1]-t[3*e+1]})),e.southIndices.sort((function(e,r){return t[3*r]-t[3*e]})),e.northIndices.sort((function(e,r){return t[3*e]-t[3*r]}));var r=[];for(var n in e)for(var i=e[n],o=0;o<i.length-1;o++)r.push([i[o],i[o+1]]);return r}function s(e){var t=e.edge,r=e.edgeIndex,n=e.attributes,i=e.skirtHeight,o=e.newPosition,a=e.newTexcoord0,u=e.newTriangles,s=n.POSITION.value.length,c=2*r,l=2*r+1;o.set(n.POSITION.value.subarray(3*t[0],3*t[0]+3),3*c),o[3*c+2]=o[3*c+2]-i,o.set(n.POSITION.value.subarray(3*t[1],3*t[1]+3),3*l),o[3*l+2]=o[3*l+2]-i,a.set(n.TEXCOORD_0.value.subarray(2*t[0],2*t[0]+2),2*c),a.set(n.TEXCOORD_0.value.subarray(2*t[1],2*t[1]+2),2*l);var f=2*r*3;u[f]=t[0],u[f+1]=t[1],u[f+2]=s/3+l,u[f+3]=s/3+l,u[f+4]=s/3+c,u[f+5]=t[0]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return i.assert}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return o.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return o.isWorker}}),Object.defineProperty(t,"WorkerJob",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"WorkerThread",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"WorkerFarm",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"WorkerPool",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"WorkerBody",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"processOnWorker",{enumerable:!0,get:function(){return f.processOnWorker}}),Object.defineProperty(t,"canProcessOnWorker",{enumerable:!0,get:function(){return f.canProcessOnWorker}}),Object.defineProperty(t,"createWorker",{enumerable:!0,get:function(){return d.createWorker}}),Object.defineProperty(t,"getWorkerURL",{enumerable:!0,get:function(){return h.getWorkerURL}}),Object.defineProperty(t,"validateWorkerVersion",{enumerable:!0,get:function(){return p.validateWorkerVersion}}),Object.defineProperty(t,"getTransferList",{enumerable:!0,get:function(){return y.getTransferList}}),Object.defineProperty(t,"getLibraryUrl",{enumerable:!0,get:function(){return v.getLibraryUrl}}),Object.defineProperty(t,"loadLibrary",{enumerable:!0,get:function(){return v.loadLibrary}}),Object.defineProperty(t,"AsyncQueue",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"ChildProcessProxy",{enumerable:!0,get:function(){return m.default}}),t.NullWorker=void 0;var n=r(2),i=r(0),o=r(6),a=g(r(16)),u=g(r(7)),s=g(r(17)),c=g(r(18)),l=g(r(19)),f=r(47),d=r(49),h=r(20),p=r(50),y=r(8),v=r(51),b=g(r(21)),m=g(r(53));function g(e){return e&&e.__esModule?e:{default:e}}var w={id:"null",name:"null",module:"worker-utils",version:n.VERSION,options:{null:{}}};t.NullWorker=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"name",void 0),o(this,"workerThread",void 0),o(this,"isRunning",void 0),o(this,"result",void 0),o(this,"_resolve",void 0),o(this,"_reject",void 0),this.name=t,this.workerThread=r,this.isRunning=!0,this._resolve=function(){},this._reject=function(){},this.result=new Promise((function(e,t){n._resolve=e,n._reject=t}))}var t,r,a;return t=e,(r=[{key:"postMessage",value:function(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}},{key:"done",value:function(e){(0,n.assert)(this.isRunning),this.isRunning=!1,this._resolve(e)}},{key:"error",value:function(e){(0,n.assert)(this.isRunning),this.isRunning=!1,this._reject(e)}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(18)),i=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"props",void 0),f(this,"workerPools",new Map),this.props=c({},d),this.setProps(t),this.workerPools=new Map}var t,r,o;return t=e,o=[{key:"isSupported",value:function(){return i.default.isSupported()}},{key:"getWorkerFarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e._workerFarm=e._workerFarm||new e({}),e._workerFarm.setProps(t),e._workerFarm}}],(r=[{key:"destroy",value:function(){var e,t=a(this.workerPools.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}}},{key:"setProps",value:function(e){this.props=c(c({},this.props),e);var t,r=a(this.workerPools.values());try{for(r.s();!(t=r.n()).done;)t.value.setProps(this._getWorkerPoolProps())}catch(e){r.e(e)}finally{r.f()}}},{key:"getWorkerPool",value:function(e){var t=e.name,r=e.source,i=e.url,o=this.workerPools.get(t);return o||((o=new n.default({name:t,source:r,url:i})).setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}},{key:"_getWorkerPoolProps",value:function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}])&&l(t.prototype,r),o&&l(t,o),e}();t.default=h,f(h,"_workerFarm",void 0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6),i=a(r(7)),o=a(r(16));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"name","unnamed"),d(this,"source",void 0),d(this,"url",void 0),d(this,"maxConcurrency",1),d(this,"maxMobileConcurrency",1),d(this,"onDebug",(function(){})),d(this,"reuseWorkers",!0),d(this,"props",{}),d(this,"jobQueue",[]),d(this,"idleQueue",[]),d(this,"count",0),d(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}var t,r,a,u,c;return t=e,(r=[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"setProps",value:function(e){this.props=l(l({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}},{key:"startJob",value:(c=s(regeneratorRuntime.mark((function e(t){var r,n,i,o=this,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:function(e,t,r){return e.done(r)},n=a.length>2&&void 0!==a[2]?a[2]:function(e,t){return e.error(t)},i=new Promise((function(e){return o.jobQueue.push({name:t,onMessage:r,onError:n,onStart:e}),o})),this._startQueuedJob(),e.next=6,i;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"_startQueuedJob",value:(u=s(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:if(!(r=this.jobQueue.shift())){e.next=18;break}return this.onDebug({message:"Starting job",name:r.name,workerThread:t,backlog:this.jobQueue.length}),n=new o.default(r.name,t),t.onMessage=function(e){return r.onMessage(n,e.type,e.payload)},t.onError=function(e){return r.onError(n,e)},r.onStart(n),e.prev=12,e.next=15,n.result;case 15:return e.prev=15,this.returnWorkerToQueue(t),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[12,,15,18]])}))),function(){return u.apply(this,arguments)})},{key:"returnWorkerToQueue",value:function(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new i.default({name:e,source:this.source,url:this.url})}return null}},{key:"_getMaxConcurrency",value:function(){return n.isMobile?this.maxMobileConcurrency:this.maxConcurrency}}])&&f(t.prototype,r),a&&f(t,a),e}();t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(8);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=new Map,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,a=[{key:"onmessage",set:function(e){self.onmessage=function(t){if(u(t)){var r=t.data,n=r.type,i=r.payload;e(n,i)}}}},{key:"addEventListener",value:function(e){var t=o.get(e);t||(t=function(t){if(u(t)){var r=t.data,n=r.type,i=r.payload;e(n,i)}}),self.addEventListener("message",t)}},{key:"removeEventListener",value:function(e){var t=o.get(e);o.delete(e),self.removeEventListener("message",t)}},{key:"postMessage",value:function(e,t){if(self){var r={source:"loaders.gl",type:e,payload:t},i=(0,n.getTransferList)(t);self.postMessage(r,i)}}}],(r=null)&&i(t.prototype,r),a&&i(t,a),e}();function u(e){var t=e.type,r=e.data;return"message"===t&&r&&"string"==typeof r.source&&r.source.startsWith("loaders.gl")}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkerName=function(e){var t="3.0.8"!==e.version?" (worker-utils@".concat("3.0.8",")"):"";return"".concat(e.name,"@").concat(e.version).concat(t)},t.getWorkerURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t[e.id]||{},i="".concat(e.id,"-worker.js"),o=r.workerUrl;"test"===t._workerType&&(o="modules/".concat(e.module,"/dist/").concat(i));if(!o){var a=e.version;"latest"===a&&(a="latest");var u=a?"@".concat(a):"";o="https://unpkg.com/@loaders.gl/".concat(e.module).concat(u,"/dist/").concat(i)}return(0,n.assert)(o),o};var n=r(0);r(2)},function(e,t,r){"use strict";var n;function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=Symbol.asyncIterator;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_values",void 0),o(this,"_settlers",void 0),o(this,"_closed",void 0),this._values=[],this._settlers=[],this._closed=!1}var t,r,a;return t=e,(r=[{key:n,value:function(){return this}},{key:"push",value:function(e){return this.enqueue(e)}},{key:"enqueue",value:function(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var t=this._settlers.shift();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.push(e)}},{key:"close",value:function(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0}},{key:"next",value:function(){var e=this;if(this._values.length>0){var t=this._values.shift();return t instanceof Error?Promise.reject(t):Promise.resolve({done:!1,value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((function(t,r){e._settlers.push({resolve:t,reject:r})}))}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";function n(e,t,r){if(e.byteLength<=t+r)return"";for(var n=new DataView(e),i="",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getFirstCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return n(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return n(e,r,t)}return""},t.getMagicString=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayBuffer=function(e){n.toArrayBuffer&&(e=n.toArrayBuffer(e));if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"===u(e)&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")},t.compareArrayBuffers=function(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;for(var n=new Uint8Array(e),i=new Uint8Array(t),o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0},t.concatenateArrayBuffers=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),a=i.reduce((function(e,t){return e+t.byteLength}),0),u=new Uint8Array(a),s=0,c=o(i);try{for(c.s();!(n=c.n()).done;){var l=n.value;u.set(l,s),s+=l.byteLength}}catch(e){c.e(e)}finally{c.f()}return u.buffer},t.concatenateTypedArrays=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t,i=n&&n.length>1&&n[0].constructor||null;if(!i)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');for(var o=n.reduce((function(e,t){return e+t.length}),0),a=new i(o),u=0,s=0,c=n;s<c.length;s++){var l=c[s];a.set(l,u),u+=l.length}return a},t.sliceArrayBuffer=function(e,t,r){var n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(r(24));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padToNBytes=i,t.copyArrayBuffer=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=new Uint8Array(e,r,n),o=new Uint8Array(t);return i.set(o),e},t.copyToArray=function(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var o=e.byteOffset,a=e.byteLength;n=new Uint8Array(e.buffer||e.arrayBuffer,o,a)}return t.set(n,r),r+i(n.byteLength,4)};var n=r(14);function i(e,t){return(0,n.assert)(e>=0),(0,n.assert)(t>0),e+(t-1)&~(t-1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.8"},function(e,t,r){"use strict";(function(t){var n=r(28),i="undefined"==typeof window?t:window;i.loaders=i.loaders||{},e.exports=Object.assign(i.loaders,n)}).call(this,r(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TerrainWorkerLoader",{enumerable:!0,get:function(){return o.TerrainLoader}}),Object.defineProperty(t,"QuantizedMeshWorkerLoader",{enumerable:!0,get:function(){return a.QuantizedMeshLoader}}),t._typecheckQuantizedMeshLoader=t.QuantizedMeshLoader=t._typecheckTerrainLoader=t.TerrainLoader=void 0;var n=u(r(29)),i=u(r(66)),o=r(69),a=r(70);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=l(l({},o.TerrainLoader),{},{parse:i.default});t.TerrainLoader=d;var h=d;t._typecheckTerrainLoader=h;var p,y,v=l(l({},a.QuantizedMeshLoader),{},{parseSync:n.default,parse:(p=regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,n.default)(t,r));case 1:case"end":return e.stop()}}),e)})),y=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=p.apply(e,t);function o(e){s(i,r,n,o,a,"next",e)}function a(e){s(i,r,n,o,a,"throw",e)}o(void 0)}))},function(e,t){return y.apply(this,arguments)})});t.QuantizedMeshLoader=v;var b=v;t._typecheckQuantizedMeshLoader=b},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(e,t){if(!e)return null;var r=t.bounds,n=(0,o.default)(e,o.DECODING_STEPS.triangleIndices),u=n.header,c=n.vertexData,l=n.triangleIndices,f=n.westIndices,d=n.northIndices,h=n.eastIndices,p=n.southIndices,y=l,v=function(e,t,r){for(var n=t.minHeight,i=t.maxHeight,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r||[0,0,1,1],4),a=o[0],u=o[1],c=o[2],l=o[3],f=c-a,d=l-u,h=i-n,p=e.length/3,y=new Float32Array(3*p),v=new Float32Array(2*p),b=0;b<p;b++){var m=e[b]/32767,g=e[b+p]/32767,w=e[b+2*p]/32767;y[3*b+0]=m*f+a,y[3*b+1]=g*d+u,y[3*b+2]=w*h+n,v[2*b+0]=m,v[2*b+1]=g}return{POSITION:{value:y,size:3},TEXCOORD_0:{value:v,size:2}}}(c,u,r),b=(0,i.getMeshBoundingBox)(v);if(t.skirtHeight){var m=(0,a.addSkirt)(v,y,t.skirtHeight,{westIndices:f,northIndices:d,eastIndices:h,southIndices:p}),g=m.attributes,w=m.triangles;v=g,y=w}return{loaderData:{header:{}},header:{vertexCount:y.length,boundingBox:b},mode:4,indices:{value:y,size:1},attributes:v}}(e,t["quantized-mesh"])};var i=r(9),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,r&&r.set(e,i);return i}(r(42)),a=r(13);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(31)),i=a(r(10)),o=a(r(12));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={shape:"array-row-table",batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},d=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"schema",void 0),l(this,"options",void 0),l(this,"aggregator",null),l(this,"batchCount",0),l(this,"bytesUsed",0),l(this,"isChunkComplete",!1),l(this,"lastBatchEmittedMs",Date.now()),l(this,"totalLength",0),l(this,"totalBytes",0),l(this,"rowBytes",0),this.schema=t,this.options=s(s({},f),r)}var t,r,a;return t=e,(r=[{key:"limitReached",value:function(){var e,t;return!!(Boolean(null===(e=this.options)||void 0===e?void 0:e.limit)&&this.totalLength>=this.options.limit)||!!(Boolean(null===(t=this.options)||void 0===t?void 0:t._limitMB)&&this.totalBytes/1e6>=this.options._limitMB)}},{key:"addRow",value:function(e){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(e),this.totalBytes+=this.rowBytes,Array.isArray(e)?this.addArrayRow(e):this.addObjectRow(e))}},{key:"addArrayRow",value:function(e){if(!this.aggregator){var t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addArrayRow(e)}},{key:"addObjectRow",value:function(e){if(!this.aggregator){var t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addObjectRow(e)}},{key:"chunkComplete",value:function(e){e instanceof ArrayBuffer&&(this.bytesUsed+=e.byteLength),"string"==typeof e&&(this.bytesUsed+=e.length),this.isChunkComplete=!0}},{key:"getFullBatch",value:function(e){return this._isFull()?this._getBatch(e):null}},{key:"getFinalBatch",value:function(e){return this._getBatch(e)}},{key:"_estimateRowMB",value:function(e){return Array.isArray(e)?8*e.length:8*Object.keys(e).length}},{key:"_isFull",value:function(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs||(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),0))}},{key:"_getBatch",value:function(e){if(!this.aggregator)return null;null!=e&&e.bytesUsed&&(this.bytesUsed=e.bytesUsed);var t=this.aggregator.getBatch();return t.count=this.batchCount,t.bytesUsed=this.bytesUsed,Object.assign(t,e),this.batchCount++,this.aggregator=null,t}},{key:"_getTableBatchType",value:function(){switch(this.options.shape){case"row-table":return n.default;case"array-row-table":case"object-row-table":return i.default;case"columnar-table":return o.default;case"arrow-table":if(!e.ArrowBatch)throw new Error("TableBatchBuilder");return e.ArrowBatch;default:throw new Error("TableBatchBuilder")}}}])&&c(t.prototype,r),a&&c(t,a),e}();t.default=d,l(d,"ArrowBatch",void 0)},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"schema",void 0),i(this,"options",void 0),i(this,"length",0),i(this,"rows",null),i(this,"cursor",0),i(this,"_headers",[]),this.options=r,this.schema=t,!Array.isArray(t))for(var n in this._headers=[],t)this._headers[t[n].index]=t[n].name}var t,r,o;return t=e,(r=[{key:"rowCount",value:function(){return this.length}},{key:"addArrayRow",value:function(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}},{key:"addObjectRow",value:function(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}},{key:"getBatch",value:function(){var e=this.rows;return e?(e=e.slice(0,this.length),this.rows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMeshSize=function(e){var t=0;for(var r in e){var n=e[r];ArrayBuffer.isView(n)&&(t+=n.byteLength*n.BYTES_PER_ELEMENT)}return t},t.getMeshBoundingBox=function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,u=e.POSITION?e.POSITION.value:[],s=u&&u.length,c=0;c<s;c+=3){var l=u[c],f=u[c+1],d=u[c+2];t=l<t?l:t,r=f<r?f:r,n=d<n?d:n,i=l>i?l:i,o=f>o?f:o,a=d>a?d:a}return[[t,r,n],[i,o,a]]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(34);function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"fields",void 0),c(this,"metadata",void 0),(0,n.assert)(Array.isArray(t)),function(e){var t,r={},n=o(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r[i.name]&&console.warn("Schema: duplicated field name",i.name,i),r[i.name]=!0}}catch(e){n.e(e)}finally{n.f()}}(t),this.fields=t,this.metadata=r||new Map}var t,r,i;return t=e,(r=[{key:"compareTo",value:function(e){if(this.metadata!==e.metadata)return!1;if(this.fields.length!==e.fields.length)return!1;for(var t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}},{key:"select",value:function(){for(var t=Object.create(null),r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var o=0,a=n;o<a.length;o++){var u=a[o];t[u]=!0}var s=this.fields.filter((function(e){return t[e.name]}));return new e(s,this.metadata)}},{key:"selectAt",value:function(){for(var t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n.map((function(e){return t.fields[e]})).filter(Boolean);return new e(o,this.metadata)}},{key:"assign",value:function(t){var r,n=this.metadata;if(t instanceof e){var i=t;r=i.fields,n=f(f(new Map,this.metadata),i.metadata)}else r=t;var a,u=Object.create(null),s=o(this.fields);try{for(s.s();!(a=s.n()).done;){var c=a.value;u[c.name]=c}}catch(e){s.e(e)}finally{s.f()}var l,d=o(r);try{for(d.s();!(l=d.n()).done;){var h=l.value;u[h.name]=h}}catch(e){d.e(e)}finally{d.f()}return new e(Object.values(u),n)}}])&&s(t.prototype,r),i&&s(t,i),e}();function f(e,t){return new Map([].concat(i(e||new Map),i(t||new Map)))}t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;n(this,e),o(this,"name",void 0),o(this,"type",void 0),o(this,"nullable",void 0),o(this,"metadata",void 0),this.name=t,this.type=r,this.nullable=i,this.metadata=a}var t,r,a;return t=e,(r=[{key:"typeId",get:function(){return this.type&&this.type.typeId}},{key:"clone",value:function(){return new e(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return f.Type}}),t.FixedSizeList=t.IntervalYearMonth=t.IntervalDayTime=t.Interval=t.TimestampNanosecond=t.TimestampMicrosecond=t.TimestampMillisecond=t.TimestampSecond=t.Timestamp=t.TimeMillisecond=t.TimeSecond=t.Time=t.DateMillisecond=t.DateDay=t.Date=t.Utf8=t.Binary=t.Float64=t.Float32=t.Float16=t.Float=t.Uint64=t.Uint32=t.Uint16=t.Uint8=t.Int64=t.Int32=t.Int16=t.Int8=t.Int=t.Bool=t.Null=t.DataType=void 0;var i,o,a,u,s,c,l,f=r(37);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}var _=function(){function e(){g(this,e)}return O(e,[{key:"typeId",get:function(){return f.Type.NONE}},{key:"compareTo",value:function(e){return this===e}}],[{key:"isNull",value:function(e){return e&&e.typeId===f.Type.Null}},{key:"isInt",value:function(e){return e&&e.typeId===f.Type.Int}},{key:"isFloat",value:function(e){return e&&e.typeId===f.Type.Float}},{key:"isBinary",value:function(e){return e&&e.typeId===f.Type.Binary}},{key:"isUtf8",value:function(e){return e&&e.typeId===f.Type.Utf8}},{key:"isBool",value:function(e){return e&&e.typeId===f.Type.Bool}},{key:"isDecimal",value:function(e){return e&&e.typeId===f.Type.Decimal}},{key:"isDate",value:function(e){return e&&e.typeId===f.Type.Date}},{key:"isTime",value:function(e){return e&&e.typeId===f.Type.Time}},{key:"isTimestamp",value:function(e){return e&&e.typeId===f.Type.Timestamp}},{key:"isInterval",value:function(e){return e&&e.typeId===f.Type.Interval}},{key:"isList",value:function(e){return e&&e.typeId===f.Type.List}},{key:"isStruct",value:function(e){return e&&e.typeId===f.Type.Struct}},{key:"isUnion",value:function(e){return e&&e.typeId===f.Type.Union}},{key:"isFixedSizeBinary",value:function(e){return e&&e.typeId===f.Type.FixedSizeBinary}},{key:"isFixedSizeList",value:function(e){return e&&e.typeId===f.Type.FixedSizeList}},{key:"isMap",value:function(e){return e&&e.typeId===f.Type.Map}},{key:"isDictionary",value:function(e){return e&&e.typeId===f.Type.Dictionary}}]),e}();t.DataType=_;var P=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.apply(this,arguments)}return O(r,[{key:"typeId",get:function(){return f.Type.Null}},{key:Symbol.toStringTag,get:function(){return"Null"}},{key:"toString",value:function(){return"Null"}}]),r}(_);t.Null=P;var k=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.apply(this,arguments)}return O(r,[{key:"typeId",get:function(){return f.Type.Bool}},{key:Symbol.toStringTag,get:function(){return"Bool"}},{key:"toString",value:function(){return"Bool"}}]),r}(_);t.Bool=k,i=Symbol.toStringTag;var j=function(e){h(r,e);var t=y(r);function r(e,n){var i;return g(this,r),d(b(i=t.call(this)),"isSigned",void 0),d(b(i),"bitWidth",void 0),i.isSigned=e,i.bitWidth=n,i}return O(r,[{key:"typeId",get:function(){return f.Type.Int}},{key:i,get:function(){return"Int"}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),r}(_);t.Int=j;var T=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!0,8)}return r}(j);t.Int8=T;var S=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!0,16)}return r}(j);t.Int16=S;var x=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!0,32)}return r}(j);t.Int32=x;var M=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!0,64)}return r}(j);t.Int64=M;var E=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!1,8)}return r}(j);t.Uint8=E;var I=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!1,16)}return r}(j);t.Uint16=I;var A=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!1,32)}return r}(j);t.Uint32=A;var B=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,!1,64)}return r}(j);t.Uint64=B;var R=16,D=32,L=64;o=Symbol.toStringTag;var U=function(e){h(r,e);var t=y(r);function r(e){var n;return g(this,r),d(b(n=t.call(this)),"precision",void 0),n.precision=e,n}return O(r,[{key:"typeId",get:function(){return f.Type.Float}},{key:o,get:function(){return"Float"}},{key:"toString",value:function(){return"Float".concat(this.precision)}}]),r}(_);t.Float=U;var N=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,R)}return r}(U);t.Float16=N;var C=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,D)}return r}(U);t.Float32=C;var F=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,L)}return r}(U);t.Float64=F;var W=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this)}return O(r,[{key:"typeId",get:function(){return f.Type.Binary}},{key:"toString",value:function(){return"Binary"}},{key:Symbol.toStringTag,get:function(){return"Binary"}}]),r}(_);t.Binary=W;var q=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.apply(this,arguments)}return O(r,[{key:"typeId",get:function(){return f.Type.Utf8}},{key:Symbol.toStringTag,get:function(){return"Utf8"}},{key:"toString",value:function(){return"Utf8"}}]),r}(_);t.Utf8=q;var z={DAY:0,MILLISECOND:1};a=Symbol.toStringTag;var Y=function(e){h(r,e);var t=y(r);function r(e){var n;return g(this,r),d(b(n=t.call(this)),"unit",void 0),n.unit=e,n}return O(r,[{key:"typeId",get:function(){return f.Type.Date}},{key:a,get:function(){return"Date"}},{key:"toString",value:function(){return"Date".concat(32*(this.unit+1),"<").concat(z[this.unit],">")}}]),r}(_);t.Date=Y;var V=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,z.DAY)}return r}(Y);t.DateDay=V;var Q=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,z.MILLISECOND)}return r}(Y);t.DateMillisecond=Q;var J={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9};u=Symbol.toStringTag;var H=function(e){h(r,e);var t=y(r);function r(e,n){var i;return g(this,r),d(b(i=t.call(this)),"unit",void 0),d(b(i),"bitWidth",void 0),i.unit=e,i.bitWidth=n,i}return O(r,[{key:"typeId",get:function(){return f.Type.Time}},{key:"toString",value:function(){return"Time".concat(this.bitWidth,"<").concat(J[this.unit],">")}},{key:u,get:function(){return"Time"}}]),r}(_);t.Time=H;var $=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,J.SECOND,32)}return r}(H);t.TimeSecond=$;var X=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,J.MILLISECOND,32)}return r}(H);t.TimeMillisecond=X,s=Symbol.toStringTag;var G=function(e){h(r,e);var t=y(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return g(this,r),d(b(n=t.call(this)),"unit",void 0),d(b(n),"timezone",void 0),n.unit=e,n.timezone=i,n}return O(r,[{key:"typeId",get:function(){return f.Type.Timestamp}},{key:s,get:function(){return"Timestamp"}},{key:"toString",value:function(){return"Timestamp<".concat(J[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}]),r}(_);t.Timestamp=G;var Z=function(e){h(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return g(this,r),t.call(this,J.SECOND,e)}return r}(G);t.TimestampSecond=Z;var K=function(e){h(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return g(this,r),t.call(this,J.MILLISECOND,e)}return r}(G);t.TimestampMillisecond=K;var ee=function(e){h(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return g(this,r),t.call(this,J.MICROSECOND,e)}return r}(G);t.TimestampMicrosecond=ee;var te=function(e){h(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return g(this,r),t.call(this,J.NANOSECOND,e)}return r}(G);t.TimestampNanosecond=te;var re={DAY_TIME:0,YEAR_MONTH:1};c=Symbol.toStringTag;var ne=function(e){h(r,e);var t=y(r);function r(e){var n;return g(this,r),d(b(n=t.call(this)),"unit",void 0),n.unit=e,n}return O(r,[{key:"typeId",get:function(){return f.Type.Interval}},{key:c,get:function(){return"Interval"}},{key:"toString",value:function(){return"Interval<".concat(re[this.unit],">")}}]),r}(_);t.Interval=ne;var ie=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,re.DAY_TIME)}return r}(ne);t.IntervalDayTime=ie;var oe=function(e){h(r,e);var t=y(r);function r(){return g(this,r),t.call(this,re.YEAR_MONTH)}return r}(ne);t.IntervalYearMonth=oe,l=Symbol.toStringTag;var ae=function(e){h(r,e);var t=y(r);function r(e,n){var i;return g(this,r),d(b(i=t.call(this)),"listSize",void 0),d(b(i),"children",void 0),i.listSize=e,i.children=[n],i}return O(r,[{key:"typeId",get:function(){return f.Type.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:l,get:function(){return"FixedSizeList"}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),r}(_);t.FixedSizeList=ae},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0,t.Type=n,function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(n||(t.Type=n={}))},function(e,t,r){"use strict";function n(e){return e instanceof Date?Date:e instanceof Number?Float32Array:"string"==typeof e?String:null}Object.defineProperty(t,"__esModule",{value:!0}),t.deduceTableSchema=function(e,t){var r=Array.isArray(e)?function(e){var t={};if(e.length){var r=e[0];for(var i in r){var o=r[i];t[i]=n(o)}}return t}(e):function(e){var t={};for(var r in e){var i=e[r];if(ArrayBuffer.isView(i))t[r]=i.constructor;else if(i.length){var o=i[0];t[r]=n(o)}t[r]=t[r]||null}return t}(e);return Object.assign(r,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTypeInfo=function(e){return{typeId:e.typeId,ArrayType:e.ArrayType,typeName:e.toString(),typeEnumName:o(e.typeId),precision:e.precision}};var n=r(4);var i=null;function o(e){if(!i)for(var t in i={},n.Type)i[n.Type[t]]=t;return i[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrowTypeFromTypedArray=function(e){switch(e.constructor){case Int8Array:return new n.Int8;case Uint8Array:return new n.Uint8;case Int16Array:return new n.Int16;case Uint16Array:return new n.Uint16;case Int32Array:return new n.Int32;case Uint32Array:return new n.Uint32;case Float32Array:return new n.Float32;case Float64Array:return new n.Float64;default:throw new Error("array type not supported")}};var n=r(4)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;function o(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,s,"next",e)}function s(e){o(a,n,i,u,s,"throw",e)}u(void 0)}))}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return h(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)})(e)}function h(e,t,r){return(h=p()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&y(i,r.prototype),i}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.takeAsync=function(e){return g.apply(this,arguments)},t.default=void 0;var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,r,n=(t=i,r=p(),function(){var e,n=v(t);if(r){var i=v(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return f(this,e)});function i(){return s(this,i),n.apply(this,arguments)}return l(i,[{key:"enqueue",value:function(e){return this.push(e)}},{key:"dequeue",value:function(){return this.shift()}}]),i}(d(Array));i=Symbol.asyncIterator;var m=function(){function e(){s(this,e),u(this,"_values",void 0),u(this,"_settlers",void 0),u(this,"_closed",void 0),this._values=new b,this._settlers=new b,this._closed=!1}return l(e,[{key:"close",value:function(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}},{key:i,value:function(){return this}},{key:"enqueue",value:function(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var t=this._settlers.dequeue();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.enqueue(e)}},{key:"next",value:function(){var e=this;if(this._values.length>0){var t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((function(t,r){e._settlers.enqueue({resolve:t,reject:r})}))}}]),e}();function g(){return(g=a(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.length>1&&void 0!==u[1]?u[1]:1/0,n=[],i=t[Symbol.asyncIterator]();case 3:if(!(n.length<r)){e.next=14;break}return e.next=6,i.next();case 6:if(o=e.sent,a=o.value,!o.done){e.next=11;break}return e.abrupt("break",14);case 11:n.push(a),e.next=3;break;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=m},function(e,t,r){"use strict";function n(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=Object.assign({},l,t),i=new DataView(e),f=function(e){var t,r=0,i={},a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw a}}}}(o);try{for(a.s();!(t=a.n()).done;){var u=(f=t.value,d=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(f,d)||n(f,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=u[0],c=u[1],l=8===c?e.getFloat64:e.getFloat32;i[s]=l.call(e,r,!0),r+=c}}catch(e){a.e(e)}finally{a.f()}var f,d;return{header:i,headerEndPosition:r}}(i),d=f.header,h=f.headerEndPosition;if(r.maxDecodingStep<c.vertices)return{header:d};var p=function(e,t){var r=t,n=e.getUint32(r,!0),i=new Uint16Array(3*n);r+=Uint32Array.BYTES_PER_ELEMENT;for(var o=Uint16Array.BYTES_PER_ELEMENT,u=n*o,s=r,c=s+u,l=c+u,f=0,d=0,h=0,p=0;p<n;p++)f+=a(e.getUint16(s+o*p,!0)),d+=a(e.getUint16(c+o*p,!0)),h+=a(e.getUint16(l+o*p,!0)),i[p]=f,i[p+n]=d,i[p+2*n]=h;return{vertexData:i,vertexDataEndPosition:r+=3*u}}(i,h),y=p.vertexData,v=p.vertexDataEndPosition;if(r.maxDecodingStep<c.triangleIndices)return{header:d,vertexData:y};var b=function(e,t,r){var n=r,i=t.length/3>65536?Uint32Array.BYTES_PER_ELEMENT:Uint16Array.BYTES_PER_ELEMENT;n%i!=0&&(n+=i-n%i);var o=e.getUint32(n,!0);n+=Uint32Array.BYTES_PER_ELEMENT;var a=3*o,s=u(e.buffer,n,a,i);return{triangleIndicesEndPosition:n+=a*i,triangleIndices:s}}(i,y,v),m=b.triangleIndices,g=b.triangleIndicesEndPosition;if(r.maxDecodingStep<c.edgeIndices)return{header:d,vertexData:y,triangleIndices:m};var w=function(e,t,r){var n=r,i=t.length/3>65536?Uint32Array.BYTES_PER_ELEMENT:Uint16Array.BYTES_PER_ELEMENT,o=e.getUint32(n,!0);n+=Uint32Array.BYTES_PER_ELEMENT;var a=u(e.buffer,n,o,i,!1);n+=o*i;var s=e.getUint32(n,!0);n+=Uint32Array.BYTES_PER_ELEMENT;var c=u(e.buffer,n,s,i,!1);n+=s*i;var l=e.getUint32(n,!0);n+=Uint32Array.BYTES_PER_ELEMENT;var f=u(e.buffer,n,l,i,!1);n+=l*i;var d=e.getUint32(n,!0);n+=Uint32Array.BYTES_PER_ELEMENT;var h=u(e.buffer,n,d,i,!1);return{edgeIndicesEndPosition:n+=d*i,westIndices:a,southIndices:c,eastIndices:f,northIndices:h}}(i,y,g),O=w.westIndices,_=w.southIndices,P=w.eastIndices,k=w.northIndices,j=w.edgeIndicesEndPosition;if(r.maxDecodingStep<c.extensions)return{header:d,vertexData:y,triangleIndices:m,westIndices:O,northIndices:k,eastIndices:P,southIndices:_};var T=function(e,t){var r={};if(e.byteLength<=t)return{extensions:r,extensionsEndPosition:t};var n=t;for(;n<e.byteLength;){var i=e.getUint8(n,!0);n+=Uint8Array.BYTES_PER_ELEMENT;var o=e.getUint32(n,!0);n+=Uint32Array.BYTES_PER_ELEMENT;var a=new DataView(e.buffer,n,o);switch(i){case 1:r.vertexNormals=(u=a,new Uint8Array(u.buffer,u.byteOffset,u.byteLength));break;case 2:r.waterMask=s(a)}n+=o}var u;return{extensions:r,extensionsEndPosition:n}}(i,j).extensions;return{header:d,vertexData:y,triangleIndices:m,westIndices:O,northIndices:k,eastIndices:P,southIndices:_,extensions:T}},t.DECODING_STEPS=void 0;var o=new Map([["centerX",Float64Array.BYTES_PER_ELEMENT],["centerY",Float64Array.BYTES_PER_ELEMENT],["centerZ",Float64Array.BYTES_PER_ELEMENT],["minHeight",Float32Array.BYTES_PER_ELEMENT],["maxHeight",Float32Array.BYTES_PER_ELEMENT],["boundingSphereCenterX",Float64Array.BYTES_PER_ELEMENT],["boundingSphereCenterY",Float64Array.BYTES_PER_ELEMENT],["boundingSphereCenterZ",Float64Array.BYTES_PER_ELEMENT],["boundingSphereRadius",Float64Array.BYTES_PER_ELEMENT],["horizonOcclusionPointX",Float64Array.BYTES_PER_ELEMENT],["horizonOcclusionPointY",Float64Array.BYTES_PER_ELEMENT],["horizonOcclusionPointZ",Float64Array.BYTES_PER_ELEMENT]]);function a(e){return e>>1^-(1&e)}function u(e,t,r,n){var i,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(i=2===n?new Uint16Array(e,t,r):new Uint32Array(e,t,r),!o)return i;for(var a=0,u=0;u<i.length;++u){var s=i[u];i[u]=a-s,0===s&&++a}return i}function s(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}var c={header:0,vertices:1,triangleIndices:2,edgeIndices:3,extensions:4};t.DECODING_STEPS=c;var l={maxDecodingStep:c.extensions}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return o.assert}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return a.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return a.isWorker}}),Object.defineProperty(t,"nodeVersion",{enumerable:!0,get:function(){return a.nodeVersion}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return a.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return a.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return a.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return a.document}}),Object.defineProperty(t,"createLoaderWorker",{enumerable:!0,get:function(){return u.createLoaderWorker}}),Object.defineProperty(t,"parseWithWorker",{enumerable:!0,get:function(){return s.parseWithWorker}}),Object.defineProperty(t,"canParseWithWorker",{enumerable:!0,get:function(){return s.canParseWithWorker}}),Object.defineProperty(t,"parseJSON",{enumerable:!0,get:function(){return c.parseJSON}}),Object.defineProperty(t,"toArrayBuffer",{enumerable:!0,get:function(){return l.toArrayBuffer}}),Object.defineProperty(t,"sliceArrayBuffer",{enumerable:!0,get:function(){return l.sliceArrayBuffer}}),Object.defineProperty(t,"concatenateArrayBuffers",{enumerable:!0,get:function(){return l.concatenateArrayBuffers}}),Object.defineProperty(t,"concatenateTypedArrays",{enumerable:!0,get:function(){return l.concatenateTypedArrays}}),Object.defineProperty(t,"compareArrayBuffers",{enumerable:!0,get:function(){return l.compareArrayBuffers}}),Object.defineProperty(t,"padToNBytes",{enumerable:!0,get:function(){return f.padToNBytes}}),Object.defineProperty(t,"copyToArray",{enumerable:!0,get:function(){return f.copyToArray}}),Object.defineProperty(t,"copyArrayBuffer",{enumerable:!0,get:function(){return f.copyArrayBuffer}}),Object.defineProperty(t,"copyPaddedArrayBufferToDataView",{enumerable:!0,get:function(){return d.copyPaddedArrayBufferToDataView}}),Object.defineProperty(t,"copyPaddedStringToDataView",{enumerable:!0,get:function(){return d.copyPaddedStringToDataView}}),Object.defineProperty(t,"padStringToByteAlignment",{enumerable:!0,get:function(){return h.padStringToByteAlignment}}),Object.defineProperty(t,"copyStringToDataView",{enumerable:!0,get:function(){return h.copyStringToDataView}}),Object.defineProperty(t,"copyBinaryToDataView",{enumerable:!0,get:function(){return h.copyBinaryToDataView}}),Object.defineProperty(t,"getFirstCharacters",{enumerable:!0,get:function(){return p.getFirstCharacters}}),Object.defineProperty(t,"getMagicString",{enumerable:!0,get:function(){return p.getMagicString}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return y.makeTextEncoderIterator}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return y.makeTextDecoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return y.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return y.makeNumberedLineIterator}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return v.forEach}}),Object.defineProperty(t,"concatenateArrayBuffersAsync",{enumerable:!0,get:function(){return v.concatenateArrayBuffersAsync}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return g.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return g.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return g.resolvePath}}),Object.defineProperty(t,"_addAliases",{enumerable:!0,get:function(){return g.addAliases}}),Object.defineProperty(t,"isBuffer",{enumerable:!0,get:function(){return O.isBuffer}}),Object.defineProperty(t,"toBuffer",{enumerable:!0,get:function(){return O.toBuffer}}),Object.defineProperty(t,"bufferToArrayBuffer",{enumerable:!0,get:function(){return O.bufferToArrayBuffer}}),Object.defineProperty(t,"JSONLoader",{enumerable:!0,get:function(){return _.JSONLoader}}),t.fs=t.path=void 0;var i,o=r(14),a=r(44),u=r(45),s=r(54),c=r(55),l=r(23),f=r(25),d=r(56),h=r(57),p=r(22),y=r(58),v=r(59),b=(i=r(60))&&i.__esModule?i:{default:i},m=k(r(61));t.path=m;var g=r(62),w=k(r(63));t.fs=w;var O=r(64),_=r(65);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=i.self||i.window||i.global||{};t.self=o;var a=i.window||i.self||i.global||{};t.window=a;var u=i.global||i.self||i.window||{};t.global=u;var s=i.document||{};t.document=s;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var l="function"==typeof importScripts;t.isWorker=l;var f=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),d=f&&parseFloat(f[1])||0;t.nodeVersion=d}).call(this,r(3),r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLoaderWorker=function(e){if("undefined"==typeof self)return;n.WorkerBody.onmessage=function(){var t=s(regeneratorRuntime.mark((function t(r,i){var o,a,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r,t.next="process"===t.t0?3:16;break;case 3:return t.prev=3,o=i.input,a=i.options,u=void 0===a?{}:a,t.next=7,f({loader:e,arrayBuffer:o,options:u,context:{parse:l}});case 7:s=t.sent,n.WorkerBody.postMessage("done",{result:s}),t.next=15;break;case 11:t.prev=11,t.t1=t.catch(3),c=t.t1 instanceof Error?t.t1.message:"",n.WorkerBody.postMessage("error",{error:c});case 15:return t.abrupt("break",16);case 16:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,r){return t.apply(this,arguments)}}()};var n=r(15);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}var c=0;function l(e,t){return new Promise((function(r,i){var o=c++;n.WorkerBody.addEventListener((function e(t,a){if(a.id===o)switch(t){case"done":n.WorkerBody.removeEventListener(e),r(a.result);break;case"error":n.WorkerBody.removeEventListener(e),i(a.error)}}));var a={id:o,input:e,options:t};n.WorkerBody.postMessage("process",a)}))}function f(e){return d.apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(t){var r,n,i,a,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.loader,n=t.arrayBuffer,i=t.options,a=t.context,!r.parseSync&&!r.parse){e.next=6;break}u=n,s=r.parseSync||r.parse,e.next=13;break;case 6:if(!r.parseTextSync){e.next=12;break}c=new TextDecoder,u=c.decode(n),s=r.parseTextSync,e.next=13;break;case 12:throw new Error("Could not load data with ".concat(r.name," loader"));case 13:return i=o(o({},i),{},{modules:r&&r.options&&r.options.modules||{},worker:!1}),e.next=16,s(u,o({},i),a,r);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoadableWorkerURL=function(e){(0,n.assert)(e.source&&!e.url||!e.source&&e.url);var t=i.get(e.source||e.url);t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return o((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),i.set(e.url,t)),e.source&&(t=o(e.source),i.set(e.source,t)));return(0,n.assert)(t),t};var n=r(0),i=new Map;function o(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canProcessOnWorker=function(e,t){if(!i.default.isSupported())return!1;return e.worker&&(null==t?void 0:t.worker)},t.processOnWorker=function(e,t){return c.apply(this,arguments)};var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(48),a=r(20);function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function c(){return(c=s(regeneratorRuntime.mark((function e(t,r){var n,u,s,c,f,d,h,p,y,v,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>2&&void 0!==b[2]?b[2]:{},u=b.length>3&&void 0!==b[3]?b[3]:{},s=(0,a.getWorkerName)(t),c=(0,a.getWorkerURL)(t,n),f=i.default.getWorkerFarm(n),d=f.getWorkerPool({name:s,url:c}),h=n.jobName||t.name,e.next=9,d.startJob(h,l.bind(null,u));case 9:return p=e.sent,y=(0,o.removeNontransferableOptions)(n),p.postMessage("process",{input:r,options:y}),e.next=14,p.result;case 14:return v=e.sent,e.abrupt("return",v.result);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,r,n){return f.apply(this,arguments)}function f(){return(f=s(regeneratorRuntime.mark((function e(t,r,n,i){var o,a,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:23;break;case 3:return r.done(i),e.abrupt("break",24);case 5:return r.error(i.error),e.abrupt("break",24);case 7:if(o=i.id,a=i.input,u=i.options,e.prev=8,t.process){e.next=12;break}return r.postMessage("error",{id:o,error:"Worker not set up to process on main thread"}),e.abrupt("return");case 12:return e.next=14,t.process(a,u);case 14:s=e.sent,r.postMessage("done",{id:o,result:s}),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",r.postMessage("error",{id:o,error:c});case 22:return e.abrupt("break",24);case 23:console.warn("process-on-worker: unknown message ".concat(n));case 24:case"end":return e.stop()}}),e,null,[[8,18]])})))).apply(this,arguments)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeNontransferableOptions=function(e){return JSON.parse((t=e,r=new Set,JSON.stringify(t,(function(e,t){if("object"===n(t)&&null!==t){if(r.has(t))try{return JSON.parse(JSON.stringify(t))}catch(e){return}r.add(t)}return t}))));var t,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWorker=function(e,t){if("undefined"==typeof self)return;var r={process:f};i.default.onmessage=function(){var o,l=(o=regeneratorRuntime.mark((function o(a,l){var f,d,h,p,y,v,b,m,g,w;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0,o.t0=a,o.next="process"===o.t0?4:"process-in-batches"===o.t0?11:"input-batch"===o.t0?51:"input-done"===o.t0?53:55;break;case 4:if(e){o.next=6;break}throw new Error("Worker does not support atomic processing");case 6:return o.next=8,e(l.input,l.options||{},r);case 8:return f=o.sent,i.default.postMessage("done",{result:f}),o.abrupt("break",55);case 11:if(t){o.next=13;break}throw new Error("Worker does not support batched processing");case 13:s=new n.default,c=l.options||{},d=t(s,c,null==r?void 0:r.processInBatches),h=!0,p=!1,o.prev=18,v=u(d);case 20:return o.next=22,v.next();case 22:return b=o.sent,h=b.done,o.next=26,b.value;case 26:if(m=o.sent,h){o.next=33;break}g=m,i.default.postMessage("output-batch",{result:g});case 30:h=!0,o.next=20;break;case 33:o.next=39;break;case 35:o.prev=35,o.t1=o.catch(18),p=!0,y=o.t1;case 39:if(o.prev=39,o.prev=40,h||null==v.return){o.next=44;break}return o.next=44,v.return();case 44:if(o.prev=44,!p){o.next=47;break}throw y;case 47:return o.finish(44);case 48:return o.finish(39);case 49:return i.default.postMessage("done",{}),o.abrupt("break",55);case 51:return s.push(l.input),o.abrupt("break",55);case 53:return s.close(),o.abrupt("break",55);case 55:o.next=61;break;case 57:o.prev=57,o.t2=o.catch(0),w=o.t2 instanceof Error?o.t2.message:"",i.default.postMessage("error",{error:w});case 61:case"end":return o.stop()}}),o,null,[[0,57],[18,35,39,49],[40,,44,48]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function u(e){a(i,r,n,u,s,"next",e)}function s(e){a(i,r,n,u,s,"throw",e)}u(void 0)}))});return function(e,t){return l.apply(this,arguments)}}()};var n=o(r(21)),i=o(r(19));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var s,c,l=0;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){var o=l++;i.default.addEventListener((function e(t,a){if(a.id===o)switch(t){case"done":i.default.removeEventListener(e),r(a.result);break;case"error":i.default.removeEventListener(e),n(a.error)}}));var a={id:o,input:e,options:t};i.default.postMessage("process",a)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateWorkerVersion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.VERSION;(0,n.assert)(e,"no worker provided");var r=e.version;if(!t||!r)return!1;return!0};var n=r(0),i=r(2)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadLibrary=function(e){return f.apply(this,arguments)},t.getLibraryUrl=d;var i=r(6),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,r&&r.set(e,i);return i}(r(52)),a=r(0);r(2);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function s(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}var l={};function f(){return(f=c(regeneratorRuntime.mark((function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]?i[2]:{},r&&(t=d(t,r,n)),l[t]=l[t]||h(t),e.next=6,l[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t,r){if(e.startsWith("http"))return e;var n=r.modules||{};return n[e]?n[e]:i.isBrowser?r.CDN?((0,a.assert)(r.CDN.startsWith("http")),"".concat(r.CDN,"/").concat(t,"@").concat("3.0.8","/dist/libs/").concat(e)):i.isWorker?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function h(e){return p.apply(this,arguments)}function p(){return(p=c(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(i.isBrowser){e.next=14;break}if(e.t0=o.requireFromFile,!e.t0){e.next=13;break}return e.next=12,o.requireFromFile(t);case 12:e.t0=e.sent;case 13:return e.abrupt("return",e.t0);case 14:if(!i.isWorker){e.next=16;break}return e.abrupt("return",importScripts(t));case 16:return e.next=18,fetch(t);case 18:return n=e.sent,e.next=21,n.text();case 21:return a=e.sent,e.abrupt("return",y(a,t));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){if(!i.isBrowser)return o.requireFromString&&o.requireFromString(e,t);if(i.isWorker)return eval.call(i.global,e),null;var r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(t){r.text=e}return document.body.appendChild(r),null}},function(e,t){},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canParseWithWorker=function(e,t){if(!n.WorkerFarm.isSupported())return!1;return e.worker&&(null==t?void 0:t.worker)},t.parseWithWorker=function(e,t,r,n,i){return a.apply(this,arguments)};var n=r(15);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i,o,a){var s,c,l,f,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,c=(0,n.getWorkerURL)(t,i),l=n.WorkerFarm.getWorkerFarm(i),f=l.getWorkerPool({name:s,url:c}),i=JSON.parse(JSON.stringify(i)),e.next=7,f.startJob("process-on-worker",u.bind(null,a));case 7:return(d=e.sent).postMessage("process",{input:r,options:i}),e.next=11,d.result;case 11:return h=e.sent,e.next=14,h.result;case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r,n){return s.apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark((function e(t,r,n,i){var o,a,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:20;break;case 3:return r.done(i),e.abrupt("break",21);case 5:return r.error(i.error),e.abrupt("break",21);case 7:return o=i.id,a=i.input,u=i.options,e.prev=8,e.next=11,t(a,u);case 11:s=e.sent,r.postMessage("done",{id:o,result:s}),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",r.postMessage("error",{id:o,error:c});case 19:return e.abrupt("break",21);case 20:console.warn("parse-with-worker unknown message ".concat(n));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=function(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat((0,n.getFirstCharacters)(e),'"'))}};var n=r(22)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPaddedArrayBufferToDataView=i,t.copyPaddedStringToDataView=function(e,t,r,n){var o=(new TextEncoder).encode(r);return t=i(e,t,o,n)};var n=r(25);function i(e,t,r,i){var o=(0,n.padToNBytes)(r.byteLength,i),a=o-r.byteLength;if(e){var u=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),s=new Uint8Array(r);u.set(s);for(var c=0;c<a;++c)e.setUint8(t+r.byteLength+c,32)}return t+=o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padStringToByteAlignment=function(e,t){for(var r=e.length,n=Math.ceil(r/t)*t-r,i="",o=0;o<n;++o)i+=" ";return e+i},t.copyStringToDataView=function(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r.charCodeAt(i));return t+n},t.copyBinaryToDataView=function(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r[i]);return t+n}},function(e,t,r){"use strict";function n(e){return new a(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,r;function n(t,r){try{var o=e[t](r),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=u:(t=r=u,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function s(){return(s=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,l,f,d,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h.length>1&&void 0!==h[1]?h[1]:{},i=new TextDecoder(void 0,r),o=!0,a=!1,e.prev=4,c=u(t);case 6:return e.next=8,n(c.next());case 8:return l=e.sent,o=l.done,e.next=12,n(l.value);case 12:if(f=e.sent,o){e.next=20;break}return d=f,e.next=17,"string"==typeof d?d:i.decode(d,{stream:!0});case 17:o=!0,e.next=6;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),a=!0,s=e.t0;case 26:if(e.prev=26,e.prev=27,o||null==c.return){e.next=31;break}return e.next=31,n(c.return());case 31:if(e.prev=31,!a){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[4,22,26,36],[27,,31,35]])})))).apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new TextEncoder,i=!0,o=!1,e.prev=3,s=u(t);case 5:return e.next=7,n(s.next());case 7:return c=e.sent,i=c.done,e.next=11,n(c.value);case 11:if(l=e.sent,i){e.next=19;break}return f=l,e.next=16,"string"==typeof f?r.encode(f):f;case 16:i=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),o=!0,a=e.t0;case 25:if(e.prev=25,e.prev=26,i||null==s.return){e.next=30;break}return e.next=30,n(s.return());case 30:if(e.prev=30,!o){e.next=33;break}throw a;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",i=!0,o=!1,e.prev=3,s=u(t);case 5:return e.next=7,n(s.next());case 7:return c=e.sent,i=c.done,e.next=11,n(c.value);case 11:if(l=e.sent,i){e.next=26;break}r+=l,f=void 0;case 16:if(!((f=r.indexOf("\n"))>=0)){e.next=23;break}return d=r.slice(0,f+1),r=r.slice(f+1),e.next=21,d;case 21:e.next=16;break;case 23:i=!0,e.next=5;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),o=!0,a=e.t0;case 32:if(e.prev=32,e.prev=33,i||null==s.return){e.next=37;break}return e.next=37,n(s.return());case 37:if(e.prev=37,!o){e.next=40;break}throw a;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!(r.length>0)){e.next=45;break}return e.next=45,r;case 45:case"end":return e.stop()}}),e,null,[[3,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,i=!0,o=!1,e.prev=3,s=u(t);case 5:return e.next=7,n(s.next());case 7:return c=e.sent,i=c.done,e.next=11,n(c.value);case 11:if(l=e.sent,i){e.next=20;break}return f=l,e.next=16,{counter:r,line:f};case 16:r++;case 17:i=!0,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),o=!0,a=e.t0;case 26:if(e.prev=26,e.prev=27,i||null==s.return){e.next=31;break}return e.next=31,n(s.return());case 31:if(e.prev=31,!o){e.next=34;break}throw a;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35]])})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.makeTextDecoderIterator=function(e){return s.apply(this,arguments)},t.makeTextEncoderIterator=function(e){return c.apply(this,arguments)},t.makeLineIterator=function(e){return l.apply(this,arguments)},t.makeNumberedLineIterator=function(e){return f.apply(this,arguments)},o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t){return u.apply(this,arguments)},t.concatenateArrayBuffersAsync=function(e){return s.apply(this,arguments)},t.concatenateStringsAsync=function(e){return c.apply(this,arguments)};var n=r(23);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function a(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function u(){return(u=o(regeneratorRuntime.mark((function e(t,r){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.next();case 3:if(n=e.sent,i=n.done,o=n.value,!i){e.next=9;break}return t.return(),e.abrupt("return");case 9:if(!r(o)){e.next=12;break}return e.abrupt("return");case 12:e.next=0;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark((function e(t){var r,i,o,u,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=!0,o=!1,e.prev=3,s=a(t);case 5:return e.next=7,s.next();case 7:return c=e.sent,i=c.done,e.next=11,c.value;case 11:if(l=e.sent,i){e.next=18;break}f=l,r.push(f);case 15:i=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),o=!0,u=e.t0;case 24:if(e.prev=24,e.prev=25,i||null==s.return){e.next=29;break}return e.next=29,s.return();case 29:if(e.prev=29,!o){e.next=32;break}throw u;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",n.concatenateArrayBuffers.apply(void 0,r));case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function e(t){var r,n,i,o,u,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!0,i=!1,e.prev=3,u=a(t);case 5:return e.next=7,u.next();case 7:return s=e.sent,n=s.done,e.next=11,s.value;case 11:if(c=e.sent,n){e.next=18;break}l=c,r.push(l);case 15:n=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),i=!0,o=e.t0;case 24:if(e.prev=24,e.prev=25,n||null==u.return){e.next=29;break}return e.next=29,u.return();case 29:if(e.prev=29,!i){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",r.join(""));case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(71);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={id:"request-scheduler",throttleRequests:!0,maxRequests:6},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),s(this,"props",void 0),s(this,"stats",void 0),s(this,"activeRequestCount",0),s(this,"requestQueue",[]),s(this,"requestMap",new Map),s(this,"deferredUpdate",null),this.props=o(o({},c),t),this.stats=new n.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}var t,r,i;return t=e,(r=[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var r={handle:e,priority:0,getPriority:t},n=new Promise((function(e){return r.resolve=e,r}));return this.requestQueue.push(r),this.requestMap.set(e,n),this._issueNewRequests(),n}},{key:"_issueRequest",value:function(e){var t=this,r=e.handle,n=e.resolve,i=!1,o=function(){i||(i=!0,t.requestMap.delete(r),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,n?n({done:o}):Promise.resolve({done:o})}},{key:"_issueNewRequests",value:function(){var e=this;this.deferredUpdate||(this.deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this.deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t){var r=this.requestQueue.shift();r&&this._issueRequest(r)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0&&(e.resolve(null),1))}}])&&u(t.prototype,r),i&&u(t,i),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dirname=function(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""},t.join=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="/";return(t=t.map((function(e,r){return r&&(e=e.replace(new RegExp("^".concat(n)),"")),r!==t.length-1&&(e=e.replace(new RegExp("".concat(n,"$")),"")),e}))).join(n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPathPrefix=function(e){n=e},t.getPathPrefix=function(){return n},t.addAliases=function(e){Object.assign(i,e)},t.resolvePath=function(e){for(var t in i)if(e.startsWith(t)){var r=i[t];e=e.replace(t,r)}e.startsWith("http://")||e.startsWith("https://")||(e="".concat(n).concat(e));return e};var n="",i={}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBuffer=function(e){return e&&"object"===o(e)&&e.isBuffer},t.toBuffer=function(e){return n.toBuffer?n.toBuffer(e):e},t.bufferToArrayBuffer=function(e){if(n.toArrayBuffer)return n.toArrayBuffer(e);return e};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=a?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(n,u,s):n[u]=e[u]}n.default=e,r&&r.set(e,n);return n}(r(24));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0}),t._typecheckJSONLoader=t.JSONLoader=void 0;var i,o,a={name:"JSON",id:"json",module:"json",version:"3.0.8",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:u,parse:(i=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u((new TextDecoder).decode(t)));case 1:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=i.apply(e,t);function u(e){n(a,r,o,u,s,"next",e)}function s(e){n(a,r,o,u,s,"throw",e)}u(void 0)}))},function(e){return o.apply(this,arguments)}),options:{}};function u(e){return JSON.parse(e)}t.JSONLoader=a;var s=a;t._typecheckJSONLoader=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return v.apply(this,arguments)};var n=r(9),i=u(r(67)),o=u(r(68)),a=r(13);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,r,n,i){for(var o=n.rScaler,a=n.bScaler,u=n.gScaler,s=n.offset,c=new Float32Array((t+1)*(r+1)),l=0,f=0;f<r;f++)for(var d=0;d<t;d++,l++){var h=4*l,p=e[h+0],y=e[h+1],v=e[h+2];c[l+f]=p*o+y*u+v*a+s}if("martini"===i){for(var b=(t+1)*t,m=0;m<t;m++,b++)c[b]=c[b-t-1];for(var g=r,w=0;w<r+1;w++,g+=r+1)c[g]=c[g-1]}return c}function h(e,t){if(null===e)return null;var r,i,o=t.meshMaxError,u=t.bounds,s=t.elevationDecoder,c=e.data,f=e.width,h=e.height;switch(t.tesselator){case"martini":i=p(o,f,r=d(c,f,h,s,t.tesselator));break;case"delatin":i=y(o,f,h,r=d(c,f,h,s,t.tesselator));break;default:i=f!==h||h&f-1?y(o,f,h,r=d(c,f,h,s,"delatin")):p(o,f,r=d(c,f,h,s,"martini"))}var v=i.vertices,b=i.triangles,m=function(e,t,r,n,i){for(var o=r+1,a=e.length/2,u=new Float32Array(3*a),s=new Float32Array(2*a),c=l(i||[0,0,r,n],4),f=c[0],d=c[1],h=c[2],p=c[3],y=(h-f)/r,v=(p-d)/n,b=0;b<a;b++){var m=e[2*b],g=e[2*b+1],w=g*o+m;u[3*b+0]=m*y+f,u[3*b+1]=-g*v+p,u[3*b+2]=t[w],s[2*b+0]=m/r,s[2*b+1]=g/n}return{POSITION:{value:u,size:3},TEXCOORD_0:{value:s,size:2}}}(v,r,f,h,u),g=(0,n.getMeshBoundingBox)(m);if(t.skirtHeight){var w=(0,a.addSkirt)(m,b,t.skirtHeight);m=w.attributes,b=w.triangles}return{loaderData:{header:{}},header:{vertexCount:b.length,boundingBox:g},mode:4,indices:{value:Uint32Array.from(b),size:1},attributes:m}}function p(e,t,r){var n=t+1,o=new i.default(n).createTile(r).getMesh(e);return{vertices:o.vertices,triangles:o.triangles}}function y(e,t,r,n){var i=new o.default(n,t+1,r+1);return i.run(e),{vertices:i.coords,triangles:i.triangles}}function v(){return(v=c(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.image=r.image||{},r.image.type="data",e.next=4,n.parse(t,r,r.baseUri);case 4:return i=e.sent,e.abrupt("return",h(i,r.terrain));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return n}));class n{constructor(e=257){this.gridSize=e;const t=e-1;if(t&t-1)throw new Error(`Expected grid size to be 2^n+1, got ${e}.`);this.numTriangles=t*t*2-2,this.numParentTriangles=this.numTriangles-t*t,this.indices=new Uint32Array(this.gridSize*this.gridSize),this.coords=new Uint16Array(4*this.numTriangles);for(let e=0;e<this.numTriangles;e++){let r=e+2,n=0,i=0,o=0,a=0,u=0,s=0;for(1&r?o=a=u=t:n=i=s=t;(r>>=1)>1;){const e=n+o>>1,t=i+a>>1;1&r?(o=n,a=i,n=u,i=s):(n=o,i=a,o=u,a=s),u=e,s=t}const c=4*e;this.coords[c+0]=n,this.coords[c+1]=i,this.coords[c+2]=o,this.coords[c+3]=a}}createTile(e){return new i(e,this)}}class i{constructor(e,t){const r=t.gridSize;if(e.length!==r*r)throw new Error(`Expected terrain data of length ${r*r} (${r} x ${r}), got ${e.length}.`);this.terrain=e,this.martini=t,this.errors=new Float32Array(e.length),this.update()}update(){const{numTriangles:e,numParentTriangles:t,coords:r,gridSize:n}=this.martini,{terrain:i,errors:o}=this;for(let a=e-1;a>=0;a--){const e=4*a,u=r[e+0],s=r[e+1],c=r[e+2],l=r[e+3],f=u+c>>1,d=s+l>>1,h=f+d-s,p=d+u-f,y=(i[s*n+u]+i[l*n+c])/2,v=d*n+f,b=Math.abs(y-i[v]);if(o[v]=Math.max(o[v],b),a<t){const e=(s+p>>1)*n+(u+h>>1),t=(l+p>>1)*n+(c+h>>1);o[v]=Math.max(o[v],o[e],o[t])}}}getMesh(e=0){const{gridSize:t,indices:r}=this.martini,{errors:n}=this;let i=0,o=0;const a=t-1;function u(a,s,c,l,f,d){const h=a+c>>1,p=s+l>>1;Math.abs(a-f)+Math.abs(s-d)>1&&n[p*t+h]>e?(u(f,d,a,s,h,p),u(c,l,f,d,h,p)):(r[s*t+a]=r[s*t+a]||++i,r[l*t+c]=r[l*t+c]||++i,r[d*t+f]=r[d*t+f]||++i,o++)}r.fill(0),u(0,0,a,a,a,0),u(a,a,0,0,0,a);const s=new Uint16Array(2*i),c=new Uint32Array(3*o);let l=0;function f(i,o,a,u,d,h){const p=i+a>>1,y=o+u>>1;if(Math.abs(i-d)+Math.abs(o-h)>1&&n[y*t+p]>e)f(d,h,i,o,p,y),f(a,u,d,h,p,y);else{const e=r[o*t+i]-1,n=r[u*t+a]-1,f=r[h*t+d]-1;s[2*e]=i,s[2*e+1]=o,s[2*n]=a,s[2*n+1]=u,s[2*f]=d,s[2*f+1]=h,c[l++]=e,c[l++]=n,c[l++]=f}}return f(0,0,a,a,a,0),f(a,a,0,0,0,a),{vertices:s,triangles:c}}}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;n(this,e),this.data=t,this.width=r,this.height=i,this.coords=[],this.triangles=[],this._halfedges=[],this._candidates=[],this._queueIndices=[],this._queue=[],this._errors=[],this._rms=[],this._pending=[],this._pendingLen=0,this._rmsSum=0;var o=r-1,a=i-1,u=this._addPoint(0,0),s=this._addPoint(o,0),c=this._addPoint(0,a),l=this._addPoint(o,a),f=this._addTriangle(l,u,c,-1,-1,-1);this._addTriangle(u,l,s,f,-1,-1),this._flush()}var t,r,o;return t=e,(r=[{key:"run",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.getMaxError()>e;)this.refine()}},{key:"refine",value:function(){this._step(),this._flush()}},{key:"getMaxError",value:function(){return this._errors[0]}},{key:"getRMSD",value:function(){return this._rmsSum>0?Math.sqrt(this._rmsSum/(this.width*this.height)):0}},{key:"heightAt",value:function(e,t){return this.data[this.width*t+e]}},{key:"_flush",value:function(){for(var e=this.coords,t=0;t<this._pendingLen;t++){var r=this._pending[t],n=2*this.triangles[3*r+0],i=2*this.triangles[3*r+1],o=2*this.triangles[3*r+2];this._findCandidate(e[n],e[n+1],e[i],e[i+1],e[o],e[o+1],r)}this._pendingLen=0}},{key:"_findCandidate",value:function(e,t,r,n,i,o,u){for(var s=Math.min(e,r,i),c=Math.min(t,n,o),l=Math.max(e,r,i),f=Math.max(t,n,o),d=a(r,n,i,o,s,c),h=a(i,o,e,t,s,c),p=a(e,t,r,n,s,c),y=n-t,v=e-r,b=o-n,m=r-i,g=t-o,w=i-e,O=a(e,t,r,n,i,o),_=this.heightAt(e,t)/O,P=this.heightAt(r,n)/O,k=this.heightAt(i,o)/O,j=0,T=0,S=0,x=0,M=c;M<=f;M++){var E=0;d<0&&0!==b&&(E=Math.max(E,Math.floor(-d/b))),h<0&&0!==g&&(E=Math.max(E,Math.floor(-h/g))),p<0&&0!==y&&(E=Math.max(E,Math.floor(-p/y)));for(var I=d+b*E,A=h+g*E,B=p+y*E,R=!1,D=s+E;D<=l;D++){if(I>=0&&A>=0&&B>=0){R=!0;var L=_*I+P*A+k*B,U=Math.abs(L-this.heightAt(D,M));x+=U*U,U>j&&(j=U,T=D,S=M)}else if(R)break;I+=b,A+=g,B+=y}d+=m,h+=w,p+=v}(T===e&&S===t||T===r&&S===n||T===i&&S===o)&&(j=0),this._candidates[2*u]=T,this._candidates[2*u+1]=S,this._rms[u]=x,this._queuePush(u,j,x)}},{key:"_step",value:function(){var e=this._queuePop(),t=3*e+0,r=3*e+1,n=3*e+2,i=this.triangles[t],o=this.triangles[r],u=this.triangles[n],s=this.coords[2*i],c=this.coords[2*i+1],l=this.coords[2*o],f=this.coords[2*o+1],d=this.coords[2*u],h=this.coords[2*u+1],p=this._candidates[2*e],y=this._candidates[2*e+1],v=this._addPoint(p,y);if(0===a(s,c,l,f,p,y))this._handleCollinear(v,t);else if(0===a(l,f,d,h,p,y))this._handleCollinear(v,r);else if(0===a(d,h,s,c,p,y))this._handleCollinear(v,n);else{var b=this._halfedges[t],m=this._halfedges[r],g=this._halfedges[n],w=this._addTriangle(i,o,v,b,-1,-1,t),O=this._addTriangle(o,u,v,m,-1,w+1),_=this._addTriangle(u,i,v,g,w+2,O+1);this._legalize(w),this._legalize(O),this._legalize(_)}}},{key:"_addPoint",value:function(e,t){var r=this.coords.length>>1;return this.coords.push(e,t),r}},{key:"_addTriangle",value:function(e,t,r,n,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.triangles.length,u=a/3;return this.triangles[a+0]=e,this.triangles[a+1]=t,this.triangles[a+2]=r,this._halfedges[a+0]=n,this._halfedges[a+1]=i,this._halfedges[a+2]=o,n>=0&&(this._halfedges[n]=a+0),i>=0&&(this._halfedges[i]=a+1),o>=0&&(this._halfedges[o]=a+2),this._candidates[2*u+0]=0,this._candidates[2*u+1]=0,this._queueIndices[u]=-1,this._rms[u]=0,this._pending[this._pendingLen++]=u,a}},{key:"_legalize",value:function(e){var t=this._halfedges[e];if(!(t<0)){var r=e-e%3,n=t-t%3,i=r+(e+1)%3,o=r+(e+2)%3,a=n+(t+2)%3,u=n+(t+1)%3,s=this.triangles[o],c=this.triangles[e],l=this.triangles[i],f=this.triangles[a],d=this.coords;if(h=d[2*s],p=d[2*s+1],y=d[2*c],v=d[2*c+1],b=d[2*l],m=d[2*l+1],g=d[2*f],w=d[2*f+1],(O=h-g)*((k=v-w)*(x=(j=b-g)*j+(T=m-w)*T)-(S=(P=y-g)*P+k*k)*T)-(_=p-w)*(P*x-S*j)+(O*O+_*_)*(P*T-k*j)<0){var h,p,y,v,b,m,g,w,O,_,P,k,j,T,S,x,M=this._halfedges[i],E=this._halfedges[o],I=this._halfedges[a],A=this._halfedges[u];this._queueRemove(r/3),this._queueRemove(n/3);var B=this._addTriangle(s,f,l,-1,I,M,r),R=this._addTriangle(f,s,c,B,E,A,n);this._legalize(B+1),this._legalize(R+2)}}}},{key:"_handleCollinear",value:function(e,t){var r=t-t%3,n=r+(t+1)%3,i=r+(t+2)%3,o=this.triangles[i],a=this.triangles[t],u=this.triangles[n],s=this._halfedges[n],c=this._halfedges[i],l=this._halfedges[t];if(l<0){var f=this._addTriangle(e,o,a,-1,c,-1,r),d=this._addTriangle(o,e,u,f,-1,s);return this._legalize(f+1),void this._legalize(d+2)}var h=l-l%3,p=h+(l+2)%3,y=h+(l+1)%3,v=this.triangles[p],b=this._halfedges[p],m=this._halfedges[y];this._queueRemove(h/3);var g=this._addTriangle(o,a,e,c,-1,-1,r),w=this._addTriangle(a,v,e,m,-1,g+1,h),O=this._addTriangle(v,u,e,b,-1,w+1),_=this._addTriangle(u,o,e,s,g+2,O+1);this._legalize(g),this._legalize(w),this._legalize(O),this._legalize(_)}},{key:"_queuePush",value:function(e,t,r){var n=this._queue.length;this._queueIndices[e]=n,this._queue.push(e),this._errors.push(t),this._rmsSum+=r,this._queueUp(n)}},{key:"_queuePop",value:function(){var e=this._queue.length-1;return this._queueSwap(0,e),this._queueDown(0,e),this._queuePopBack()}},{key:"_queuePopBack",value:function(){var e=this._queue.pop();return this._errors.pop(),this._rmsSum-=this._rms[e],this._queueIndices[e]=-1,e}},{key:"_queueRemove",value:function(e){var t=this._queueIndices[e];if(t<0){var r=this._pending.indexOf(e);if(-1===r)throw new Error("Broken triangulation (something went wrong).");this._pending[r]=this._pending[--this._pendingLen]}else{var n=this._queue.length-1;n!==t&&(this._queueSwap(t,n),this._queueDown(t,n)||this._queueUp(t)),this._queuePopBack()}}},{key:"_queueLess",value:function(e,t){return this._errors[e]>this._errors[t]}},{key:"_queueSwap",value:function(e,t){var r=this._queue[e],n=this._queue[t];this._queue[e]=n,this._queue[t]=r,this._queueIndices[r]=t,this._queueIndices[n]=e;var i=this._errors[e];this._errors[e]=this._errors[t],this._errors[t]=i}},{key:"_queueUp",value:function(e){for(var t=e;;){var r=t-1>>1;if(r===t||!this._queueLess(t,r))break;this._queueSwap(r,t),t=r}}},{key:"_queueDown",value:function(e,t){for(var r=e;;){var n=2*r+1;if(n>=t||n<0)break;var i=n+1,o=n;if(i<t&&this._queueLess(i,n)&&(o=i),!this._queueLess(o,r))break;this._queueSwap(r,o),r=o}return r>e}}])&&i(t.prototype,r),o&&i(t,o),e}();function a(e,t,r,n,i,o){return(r-i)*(t-o)-(n-o)*(e-i)}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typecheckTerrainWorkerLoader=t.TerrainLoader=void 0;var n={name:"Terrain",id:"terrain",module:"terrain",version:r(26).VERSION,worker:!0,extensions:["png","pngraw"],mimeTypes:["image/png"],options:{terrain:{tesselator:"auto",bounds:null,meshMaxError:10,elevationDecoder:{rScaler:1,gScaler:0,bScaler:0,offset:0},skirtHeight:null}}};t.TerrainLoader=n;var i=n;t._typecheckTerrainWorkerLoader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typecheckQuantizedMeshLoader=t.QuantizedMeshLoader=void 0;var n={name:"Quantized Mesh",id:"quantized-mesh",module:"terrain",version:r(26).VERSION,worker:!0,extensions:["terrain"],mimeTypes:["application/vnd.quantized-mesh"],options:{"quantized-mesh":{bounds:[0,0,1,1],skirtHeight:null}}};t.QuantizedMeshLoader=n;var i=n;t._typecheckQuantizedMeshLoader=i},function(e,t,r){"use strict";r.r(t),r.d(t,"Stats",(function(){return o})),r.d(t,"Stat",(function(){return i})),r.d(t,"_getHiResTimestamp",(function(){return n.a}));var n=r(1);class i{constructor(e,t){this.name=e,this.type=t,this.sampleSize=1,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=Object(n.a)(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(Object(n.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class o{constructor({id:e,stats:t}){this.id=e,this.stats={},this._initializeStats(t),Object.seal(this)}get(e,t="count"){return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(e=>this._getOrCreate(e))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:r}=e;return this.stats[t]||(this.stats[t]=e instanceof i?e:new i(t,r)),this.stats[t]}}}]);
//# sourceMappingURL=dist.es5.min.js.map