!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("classnames"),require("@vx/group"),require("@vx/scale"),require("d3-shape")):"function"==typeof define&&define.amd?define(["exports","react","classnames","@vx/group","@vx/scale","d3-shape"],t):t(r.vx=r.vx||{},r.React,r.classNames,r.vx,r.vx,r.d3)}(this,function(r,J,K,U,W,E){"use strict";function X(i,n){return Object.keys(i).reduce(function(r,t){var e,a;return r[t]=(e=i[t],a=n,"function"==typeof e?e(a):e),r},{})}J=J&&J.hasOwnProperty("default")?J.default:J,K=K&&K.hasOwnProperty("default")?K.default:K;var Y=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},$=function(r,t){var e={};for(var a in r)0<=t.indexOf(a)||Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},n=function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,t){var e=[],a=!0,i=!1,n=void 0;try{for(var o,l=r[Symbol.iterator]();!(a=(o=l.next()).done)&&(e.push(o.value),!t||e.length!==t);a=!0);}catch(r){i=!0,n=r}finally{try{!a&&l.return&&l.return()}finally{if(i)throw n}}return e}(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},rr=function(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);t<r.length;t++)e[t]=r[t];return e}return Array.from(r)};function tr(r){var t=n(r,4),e=t[0],a=t[1],i=t[2];return[a,e,t[3],i]}r.BoxPlot=function(r){var t=r.left,e=void 0===t?0:t,a=r.top,i=void 0===a?0:a,n=r.className,o=r.data,l=r.max,u=r.min,c=r.firstQuartile,s=r.thirdQuartile,f=r.median,d=r.boxWidth,y=r.fill,x=r.fillOpacity,v=r.stroke,h=r.strokeWidth,p=r.rx,m=void 0===p?2:p,k=r.ry,b=void 0===k?2:k,P=r.valueScale,M=r.outliers,O=r.horizontal,g=r.medianProps,A=void 0===g?{}:g,W=r.maxProps,E=void 0===W?{}:W,w=r.minProps,N=void 0===w?{}:w,Q=r.boxProps,j=void 0===Q?{}:Q,S=r.outlierProps,D=void 0===S?{}:S,q=r.container,z=void 0!==q&&q,C=r.containerProps,L=void 0===C?{}:C,G=($(r,["left","top","className","data","max","min","firstQuartile","thirdQuartile","median","boxWidth","fill","fillOpacity","stroke","strokeWidth","rx","ry","valueScale","outliers","horizontal","medianProps","maxProps","minProps","boxProps","outlierProps","container","containerProps"]),O?i:e),R=G+d/2,Z=Array(4).fill(0),_=Array(4).fill(0),B=Array(4).fill(0),I=Array(4).fill(0),T=Array(4).fill(0),V=Array(4).fill(0),F=Array(4).fill(0);Z[0]=R-d/4,Z[1]=P(l),Z[2]=R+d/4,Z[3]=P(l),_[0]=R,_[1]=P(l),_[2]=R,_[3]=P(s),B[0]=G,B[1]=P(s),B[2]=d,B[3]=Math.abs(P(s)-P(c)),I[0]=G,I[1]=P(f),I[2]=G+d,I[3]=P(f),T[0]=R,T[1]=P(c),T[2]=R,T[3]=P(u),V[0]=R-d/4,V[1]=P(u),V[2]=R+d/4,V[3]=P(u);var H=P.range();return F[0]=B[0],F[1]=Math.min.apply(Math,rr(H)),F[2]=B[2],F[3]=Math.abs(H[0]-H[1]),O&&(Z=tr(Z),_=tr(_),(B=tr(B))[0]=P(c),I=tr(I),T=tr(T),V=tr(V),(F=tr(F))[0]=Math.min.apply(Math,rr(H))),J.createElement(U.Group,{className:K("vx-boxplot",n)},M.map(function(r,t){var e=O?P(r):R,a=O?R:P(r);return J.createElement("circle",Y({key:t,className:"vx-boxplot-outlier",cx:e,cy:a,stroke:v,strokeWidth:1,fill:y,fillOpacity:x,r:"4"},X(D,{data:r,cx:e,cy:a})))}),J.createElement("line",Y({className:"vx-boxplot-max",x1:Z[0],y1:Z[1],x2:Z[2],y2:Z[3],stroke:v,strokeWidth:h},X(E,{data:o,max:l,x1:Z[0],x2:Z[2],y1:Z[1],y2:Z[3]}))),J.createElement("line",{x1:_[0],y1:_[1],x2:_[2],y2:_[3],stroke:v,strokeWidth:h}),J.createElement("rect",Y({className:"vx-boxplot-box",x:B[0],y:B[1],width:B[2],height:B[3],stroke:v,strokeWidth:h,fill:y,fillOpacity:x,rx:m,ry:b},X(j,{data:o,height:B[3],median:f,firstQuartile:c,thirdQuartile:s,min:u,max:l,x1:B[0],x2:B[0]+B[2],y1:B[1],y2:B[1]+B[3]}))),J.createElement("line",Y({className:"vx-boxplot-median",x1:I[0],y1:I[1],x2:I[2],y2:I[3],stroke:v,strokeWidth:h},X(A,{data:o,median:f,x1:I[0],x2:I[2],y1:I[1],y2:I[3]}))),J.createElement("line",{x1:T[0],y1:T[1],x2:T[2],y2:T[3],stroke:v,strokeWidth:h}),J.createElement("line",Y({className:"vx-boxplot-min",x1:V[0],y1:V[1],x2:V[2],y2:V[3],stroke:v,strokeWidth:h},X(N,{data:o,min:u,x1:V[0],x2:V[2],y1:V[1],y2:V[3]}))),z&&J.createElement("rect",Y({x:F[0],y:F[1],width:F[2],height:F[3],fillOpacity:"0"},X(L,{data:o,x1:F[0],x2:F[0]+F[2],y1:F[1],y2:F[1]+F[3],median:f,max:l,min:u,thirdQuartile:s,firstQuartile:c}))))},r.ViolinPlot=function(r){var t=r.left,e=void 0===t?0:t,a=r.top,i=void 0===a?0:a,n=r.className,o=r.binData,l=r.stroke,u=void 0===l?"black":l,c=r.fill,s=void 0===c?"rgba(0,0,0,0.3)":c,f=r.opacity,d=r.strokeWidth,y=r.width,x=r.valueScale,v=r.strokeDasharray,h=r.horizontal,p=$(r,["left","top","className","binData","stroke","fill","opacity","strokeWidth","width","valueScale","strokeDasharray","horizontal"]),m=(h?i:e)+y/2,k=o.map(function(r){return r.count}),b=W.scaleLinear({rangeRound:[0,y/2],domain:[0,Math.max.apply(Math,rr(k))]}),P="";if(h){var M=E.line().x(function(r){return x(r.value)}).y(function(r){return m-b(r.count)}).curve(E.curveCardinal),O=E.line().x(function(r){return x(r.value)}).y(function(r){return m+b(r.count)}).curve(E.curveCardinal);P=M(o)+" "+O([].concat(rr(o)).reverse()).replace("M","L")+" Z"}else{var g=E.line().x(function(r){return m+b(r.count)}).y(function(r){return x(r.value)}).curve(E.curveCardinal),A=E.line().x(function(r){return m-b(r.count)}).y(function(r){return x(r.value)}).curve(E.curveCardinal);P=g(o)+" "+A([].concat(rr(o)).reverse()).replace("M","L")+" Z"}return J.createElement(U.Group,{className:K("vx-violin",n)},J.createElement("path",Y({d:P,stroke:u,strokeWidth:d,strokeDasharray:v,fill:s,fillOpacity:f},X(p,o))))},r.computeStats=function(r){for(var t=[].concat(rr(r)).sort(function(r,t){return r-t}),e=t.length,a=t[Math.round(e/4)],i=t[Math.round(3*e/4)],n=i-a,o=a-1.5*n,l=i+1.5*n,u=t.filter(function(r){return r<o||l<r}),c=2*n*Math.pow(e-u.length,-1/3),s=Math.round((l-o)/c),f=(l-o)/s,d=Array(s+2).fill(0),y=Array(s+2).fill(o),x=1;x<=s;x+=1)y[x]+=f*(x-.5);y[y.length-1]=l,t.filter(function(r){return o<=r&&r<=l}).forEach(function(r){d[Math.floor((r-o)/f)+1]+=1});var v=y.map(function(r,t){return{value:r,count:d[t]}});return{boxPlot:{min:o,firstQuartile:a,median:t[Math.round(e/2)],thirdQuartile:i,max:l,outliers:u},binData:v}},Object.defineProperty(r,"__esModule",{value:!0})});
