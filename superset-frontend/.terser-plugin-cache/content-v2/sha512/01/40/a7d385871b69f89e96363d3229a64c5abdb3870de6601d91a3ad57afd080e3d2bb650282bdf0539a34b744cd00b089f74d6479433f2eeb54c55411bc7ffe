{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1001:function(e,t,n){\"use strict\";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);e.exports=function e(t,n,d){if(\"string\"!=typeof n){if(u){var p=c(n);p&&p!==u&&e(t,p,d)}var f=i(n);s&&(f=f.concat(s(n)));for(var h=0;h<f.length;++h){var g=f[h];if(!(r[g]||a[g]||d&&d[g])){var b=l(n,g);try{o(t,g,b)}catch(e){}}}return t}return t}},1002:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;var i=e[n[o]],s=t[n[o]];if(i!==s)return!1}return!0}},1003:function(e,t,n){\"use strict\";t.__esModule=!0,t.default=function(e){return Boolean(e&&\"function\"==typeof e.dispose)},e.exports=t.default},1004:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.FILE=\"__NATIVE_FILE__\",t.URL=\"__NATIVE_URL__\",t.TEXT=\"__NATIVE_TEXT__\"},103:function(e,t,n){var r,a,o;a=[t],void 0===(o=\"function\"==typeof(r=function(e){var t,n,r,a=e;void 0===a&&(window.rison={}),a.uri_ok={\"~\":!0,\"!\":!0,\"*\":!0,\"(\":!0,\")\":!0,\"-\":!0,_:!0,\".\":!0,\",\":!0,\":\":!0,\"@\":!0,$:!0,\"'\":!0,\"/\":!0},function(){for(var e=[],t=0;t<16;t++)for(var n=0;n<16;n++)if(t+n!=0){var r=String.fromCharCode(16*t+n);/\\w|[-_.\\/~]/.test(r)||e.push(\"\\\\u00\"+t.toString(16)+n.toString(16))}a.not_idchar=e.join(\"\")}(),a.not_idchar=\" '!:(),*@$\",a.not_idstart=\"-0123456789\",r=\"[^\"+a.not_idstart+a.not_idchar+\"][^\"+a.not_idchar+\"]*\",a.id_ok=new RegExp(\"^\"+r+\"$\"),a.next_id=new RegExp(r,\"g\"),a.quote=function(e){return/^[-A-Za-z0-9~!*()_.',:@$\\/]*$/.test(e)?e:encodeURIComponent(e).replace(\"%2C\",\",\",\"g\").replace(\"%3A\",\":\",\"g\").replace(\"%40\",\"@\",\"g\").replace(\"%24\",\"$\",\"g\").replace(\"%2F\",\"/\",\"g\").replace(\"%20\",\"+\",\"g\")},t={\"'\":!0,\"!\":!0},n={array:function(e){var t,r,a,o,i=[\"!(\"],s=e.length;for(a=0;a<s;a+=1)o=e[a],(r=n[typeof o])&&\"string\"==typeof(o=r(o))&&(t&&(i[i.length]=\",\"),i[i.length]=o,t=!0);return i[i.length]=\")\",i.join(\"\")},boolean:function(e){return e?\"!t\":\"!f\"},null:function(e){return\"!n\"},number:function(e){return isFinite(e)?String(e).replace(/\\+/,\"\"):\"!n\"},object:function(e){if(e){if(e instanceof Array)return n.array(e);if(\"object\"==typeof e.__prototype__&&void 0!==e.__prototype__.encode_rison)return e.encode_rison();var t,r,a,o,i,s=[\"(\"],l=[];for(a in e)l[l.length]=a;for(l.sort(),i=0;i<l.length;i++)o=e[a=l[i]],(r=n[typeof o])&&\"string\"==typeof(o=r(o))&&(t&&(s[s.length]=\",\"),s.push(n.string(a),\":\",o),t=!0);return s[s.length]=\")\",s.join(\"\")}return\"!n\"},string:function(e){return\"\"==e?\"''\":a.id_ok.test(e)?e:\"'\"+(e=e.replace(/(['!])/g,(function(e,n){return t[n]?\"!\"+n:n})))+\"'\"},undefined:function(e){throw new Error(\"rison can't encode the undefined value\")}},a.encode=function(e){return n[typeof e](e)},a.encode_object=function(e){if(\"object\"!=typeof e||null===e||e instanceof Array)throw new Error(\"rison.encode_object expects an object argument\");var t=n[typeof e](e);return t.substring(1,t.length-1)},a.encode_array=function(e){if(!(e instanceof Array))throw new Error(\"rison.encode_array expects an array argument\");var t=n[typeof e](e);return t.substring(2,t.length-1)},a.encode_uri=function(e){return a.quote(n[typeof e](e))},a.decode=function(e){return new a.parser((function(e){throw Error(\"rison decoder error: \"+e)})).parse(e)},a.decode_object=function(e){return a.decode(\"(\"+e+\")\")},a.decode_array=function(e){return a.decode(\"!(\"+e+\")\")},a.parser=function(e){this.errorHandler=e},a.parser.WHITESPACE=\"\",a.parser.prototype.setOptions=function(e){e.errorHandler&&(this.errorHandler=e.errorHandler)},a.parser.prototype.parse=function(e){this.string=e,this.index=0,this.message=null;var t=this.readValue();return!this.message&&this.next()&&(t=this.error(\"unable to parse string as rison: '\"+a.encode(e)+\"'\")),this.message&&this.errorHandler&&this.errorHandler(this.message,this.index),t},a.parser.prototype.error=function(e){\"undefined\"!=typeof console&&console.log(\"rison parser error: \",e),this.message=e},a.parser.prototype.readValue=function(){var e=this.next(),t=e&&this.table[e];if(t)return t.apply(this);var n=this.string,r=this.index-1;a.next_id.lastIndex=r;var o=a.next_id.exec(n);if(o.length>0){var i=o[0];return this.index=r+i.length,i}return e?this.error(\"invalid character: '\"+e+\"'\"):this.error(\"empty expression\")},a.parser.parse_array=function(e){for(var t,n=[];\")\"!=(t=e.next());){if(!t)return e.error(\"unmatched '!('\");if(n.length)\",\"!=t&&e.error(\"missing ','\");else{if(\",\"==t)return e.error(\"extra ','\");--e.index}var r=e.readValue();if(void 0===r)return;n.push(r)}return n},a.parser.bangs={t:!0,f:!1,n:null,\"(\":a.parser.parse_array},a.parser.prototype.table={\"!\":function(){var e=this.string.charAt(this.index++);if(!e)return this.error('\"!\" at end of input');var t=a.parser.bangs[e];return\"function\"==typeof t?t.call(null,this):void 0===t?this.error('unknown literal: \"!'+e+'\"'):t},\"(\":function(){for(var e,t={},n=0;\")\"!=(e=this.next());){if(n)\",\"!=e&&this.error(\"missing ','\");else{if(\",\"==e)return this.error(\"extra ','\");--this.index}var r=this.readValue();if(void 0===r)return;if(\":\"!=this.next())return this.error(\"missing ':'\");var a=this.readValue();if(void 0===a)return;t[r]=a,n++}return t},\"'\":function(){for(var e,t=this.string,n=this.index,r=n,a=[];\"'\"!=(e=t.charAt(n++));){if(!e)return this.error('unmatched \"\\'\"');if(\"!\"==e){if(r<n-1&&a.push(t.slice(r,n-1)),e=t.charAt(n++),!(\"!'\".indexOf(e)>=0))return this.error('invalid string escape: \"!'+e+'\"');a.push(e),r=n}}return r<n-1&&a.push(t.slice(r,n-1)),this.index=n,1==a.length?a[0]:a.join(\"\")},\"-\":function(){var e=this.string,t=this.index,n=t-1,r=\"int\",a=\"-\",o={\"int+.\":\"frac\",\"int+e\":\"exp\",\"frac+e\":\"exp\"};do{var i=e.charAt(t++);if(!i)break;\"0\"<=i&&i<=\"9\"||(a.indexOf(i)>=0?a=\"\":\"exp\"==(r=o[r+\"+\"+i.toLowerCase()])&&(a=\"-\"))}while(r);return this.index=--t,\"-\"==(e=e.slice(n,t))?this.error(\"invalid number\"):Number(e)}},function(e){for(var t=0;t<=9;t++)e[String(t)]=e[\"-\"]}(a.parser.prototype.table),a.parser.prototype.next=function(){var e=this.string,t=this.index;do{if(t==e.length)return;var n=e.charAt(t++)}while(a.parser.WHITESPACE.indexOf(n)>=0);return this.index=t,n}})?r.apply(t,a):r)||(e.exports=o)},1057:function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return l})),n.d(t,\"c\",(function(){return c})),n.d(t,\"e\",(function(){return u})),n.d(t,\"b\",(function(){return d})),n.d(t,\"a\",(function(){return p})),n.d(t,\"f\",(function(){return f}));n(4);var r=n(44),a=n.n(r),o=n(67),i=n.n(o);function s(e){var t;return i()(t=a()(e)).call(t,(e,t)=>{const n=e;return n[t]=t,n},{})}const l={FORMULA:{value:\"FORMULA\",label:\"Formula\"},EVENT:{value:\"EVENT\",label:\"Event\",supportNativeSource:!0},INTERVAL:{value:\"INTERVAL\",label:\"Interval\",supportNativeSource:!0},TIME_SERIES:{value:\"TIME_SERIES\",label:\"Time Series\"}},c=s(l),u=c.FORMULA,d={NATIVE:{value:\"NATIVE\",label:\"Superset annotation\"}},p=s(d);function f(e){return!!e}},1059:function(e,t,n){var r;!function(n,a){\"use strict\";function o(){}o.TO_RAD=Math.PI/180,o.TO_DEG=180/Math.PI,o.PI_X2=2*Math.PI,o.PI_DIV4=Math.PI/4;var i=Object.create(o.prototype,{version:{value:\"2.0.23\"},radius:{value:6378137},minLat:{value:-90},maxLat:{value:90},minLon:{value:-180},maxLon:{value:180},sexagesimalPattern:{value:/^([0-9]{1,3})°\\s*([0-9]{1,3}(?:\\.(?:[0-9]{1,2}))?)'\\s*(([0-9]{1,3}(\\.([0-9]{1,4}))?)\"\\s*)?([NEOSW]?)$/},measures:{value:Object.create(Object.prototype,{m:{value:1},km:{value:.001},cm:{value:100},mm:{value:1e3},mi:{value:1/1609.344},sm:{value:1/1852.216},ft:{value:100/30.48},in:{value:100/2.54},yd:{value:1/.9144}})},prototype:{value:o.prototype},extend:{value:function(e,t){for(var n in e)void 0!==i.prototype[n]&&!0!==t||(\"function\"==typeof e[n]&&\"function\"==typeof e[n].bind?i.prototype[n]=e[n].bind(i):i.prototype[n]=e[n])}}});void 0===Number.prototype.toRad&&(Number.prototype.toRad=function(){return this*o.TO_RAD}),void 0===Number.prototype.toDeg&&(Number.prototype.toDeg=function(){return this*o.TO_DEG}),i.extend({decimal:{},sexagesimal:{},distance:null,getKeys:function(e){if(\"[object Array]\"==Object.prototype.toString.call(e))return{longitude:e.length>=1?0:void 0,latitude:e.length>=2?1:void 0,elevation:e.length>=3?2:void 0};var t=function(t){var n;return t.every((function(t){return\"object\"!=typeof e||(!e.hasOwnProperty(t)||(n=t,!1))})),n},n=t([\"lng\",\"lon\",\"longitude\"]),r=t([\"lat\",\"latitude\"]),a=t([\"alt\",\"altitude\",\"elevation\",\"elev\"]);return void 0!==r||void 0!==n||void 0!==a?{latitude:r,longitude:n,elevation:a}:void 0},getLat:function(e,t){return!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude])},latitude:function(e){return this.getLat.call(this,e)},getLon:function(e,t){return!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},longitude:function(e){return this.getLon.call(this,e)},getElev:function(e){return e[this.getKeys(e).elevation]},elevation:function(e){return this.getElev.call(this,e)},coords:function(e,t){var n={latitude:!0===t?e[this.getKeys(e).latitude]:this.useDecimal(e[this.getKeys(e).latitude]),longitude:!0===t?e[this.getKeys(e).longitude]:this.useDecimal(e[this.getKeys(e).longitude])},r=e[this.getKeys(e).elevation];return void 0!==r&&(n.elevation=r),n},ll:function(e,t){return this.coords.call(this,e,t)},validate:function(e){var t=this.getKeys(e);if(void 0===t||void 0===t.latitude||\"undefined\"===t.longitude)return!1;var n=e[t.latitude],r=e[t.longitude];return!(void 0===n||!this.isDecimal(n)&&!this.isSexagesimal(n))&&(!(void 0===r||!this.isDecimal(r)&&!this.isSexagesimal(r))&&(n=this.useDecimal(n),r=this.useDecimal(r),!(n<this.minLat||n>this.maxLat||r<this.minLon||r>this.maxLon)))},getDistance:function(e,t,n,r){n=Math.floor(n)||1,r=Math.floor(r)||0;var a,o,s,l,c,u,d,p=this.coords(e),f=this.coords(t),h=6378137,g=6356752.314245,b=1/298.257223563,v=(f.longitude-p.longitude).toRad(),m=Math.atan((1-b)*Math.tan(parseFloat(p.latitude).toRad())),y=Math.atan((1-b)*Math.tan(parseFloat(f.latitude).toRad())),O=Math.sin(m),C=Math.cos(m),x=Math.sin(y),w=Math.cos(y),j=v,_=100;do{var E=Math.sin(j),S=Math.cos(j);if(0===(u=Math.sqrt(w*E*(w*E)+(C*x-O*w*S)*(C*x-O*w*S))))return i.distance=0;a=O*x+C*w*S,o=Math.atan2(u,a),c=a-2*O*x/(l=1-(s=C*w*E/u)*s),isNaN(c)&&(c=0);var T=b/16*l*(4+b*(4-3*l));d=j,j=v+(1-T)*b*s*(o+T*u*(c+T*a*(2*c*c-1)))}while(Math.abs(j-d)>1e-12&&--_>0);if(0===_)return NaN;var D=l*(h*h-g*g)/(g*g),k=D/1024*(256+D*(D*(74-47*D)-128)),M=g*(1+D/16384*(4096+D*(D*(320-175*D)-768)))*(o-k*u*(c+k/4*(a*(2*c*c-1)-k/6*c*(4*u*u-3)*(4*c*c-3))));if(M=M.toFixed(r),void 0!==this.elevation(e)&&void 0!==this.elevation(t)){var R=Math.abs(this.elevation(e)-this.elevation(t));M=Math.sqrt(M*M+R*R)}return this.distance=Math.round(M*Math.pow(10,r)/n)*n/Math.pow(10,r)},getDistanceSimple:function(e,t,n){n=Math.floor(n)||1;var r=Math.round(Math.acos(Math.sin(this.latitude(t).toRad())*Math.sin(this.latitude(e).toRad())+Math.cos(this.latitude(t).toRad())*Math.cos(this.latitude(e).toRad())*Math.cos(this.longitude(e).toRad()-this.longitude(t).toRad()))*this.radius);return i.distance=Math.floor(Math.round(r/n)*n)},getCenter:function(e){var t=e;if(\"object\"==typeof e&&!(e instanceof Array))for(var n in t=[],e)t.push(this.coords(e[n]));if(!t.length)return!1;var r,a,i,s=0,l=0,c=0;t.forEach((function(e){r=this.latitude(e).toRad(),a=this.longitude(e).toRad(),s+=Math.cos(r)*Math.cos(a),l+=Math.cos(r)*Math.sin(a),c+=Math.sin(r)}),this);var u=t.length;return s/=u,l/=u,c/=u,a=Math.atan2(l,s),i=Math.sqrt(s*s+l*l),{latitude:((r=Math.atan2(c,i))*o.TO_DEG).toFixed(6),longitude:(a*o.TO_DEG).toFixed(6)}},getBounds:function(e){if(!e.length)return!1;var t=this.elevation(e[0]),n={maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0};void 0!==t&&(n.maxElev=0,n.minElev=1/0);for(var r=0,a=e.length;r<a;++r)n.maxLat=Math.max(this.latitude(e[r]),n.maxLat),n.minLat=Math.min(this.latitude(e[r]),n.minLat),n.maxLng=Math.max(this.longitude(e[r]),n.maxLng),n.minLng=Math.min(this.longitude(e[r]),n.minLng),t&&(n.maxElev=Math.max(this.elevation(e[r]),n.maxElev),n.minElev=Math.min(this.elevation(e[r]),n.minElev));return n},getCenterOfBounds:function(e){var t=this.getBounds(e),n=t.minLat+(t.maxLat-t.minLat)/2,r=t.minLng+(t.maxLng-t.minLng)/2;return{latitude:parseFloat(n.toFixed(6)),longitude:parseFloat(r.toFixed(6))}},getBoundsOfDistance:function(e,t){var n,r,a=this.latitude(e),i=this.longitude(e),s=a.toRad(),l=i.toRad(),c=t/this.radius,u=s-c,d=s+c,p=this.maxLat.toRad(),f=this.minLat.toRad(),h=this.maxLon.toRad(),g=this.minLon.toRad();if(u>f&&d<p){var b=Math.asin(Math.sin(c)/Math.cos(s));(n=l-b)<g&&(n+=o.PI_X2),(r=l+b)>h&&(r-=o.PI_X2)}else u=Math.max(u,f),d=Math.min(d,p),n=g,r=h;return[{latitude:u.toDeg(),longitude:n.toDeg()},{latitude:d.toDeg(),longitude:r.toDeg()}]},isPointInside:function(e,t){for(var n=!1,r=-1,a=t.length,o=a-1;++r<a;o=r)(this.longitude(t[r])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[o])||this.longitude(t[o])<=this.longitude(e)&&this.longitude(e)<this.longitude(t[r]))&&this.latitude(e)<(this.latitude(t[o])-this.latitude(t[r]))*(this.longitude(e)-this.longitude(t[r]))/(this.longitude(t[o])-this.longitude(t[r]))+this.latitude(t[r])&&(n=!n);return n},preparePolygonForIsPointInsideOptimized:function(e){for(var t=0,n=e.length-1;t<e.length;t++)this.longitude(e[n])===this.longitude(e[t])?(e[t].constant=this.latitude(e[t]),e[t].multiple=0):(e[t].constant=this.latitude(e[t])-this.longitude(e[t])*this.latitude(e[n])/(this.longitude(e[n])-this.longitude(e[t]))+this.longitude(e[t])*this.latitude(e[t])/(this.longitude(e[n])-this.longitude(e[t])),e[t].multiple=(this.latitude(e[n])-this.latitude(e[t]))/(this.longitude(e[n])-this.longitude(e[t]))),n=t},isPointInsideWithPreparedPolygon:function(e,t){for(var n=!1,r=this.longitude(e),a=this.latitude(e),o=0,i=t.length-1;o<t.length;o++)(this.longitude(t[o])<r&&this.longitude(t[i])>=r||this.longitude(t[i])<r&&this.longitude(t[o])>=r)&&(n^=r*t[o].multiple+t[o].constant<a),i=o;return n},isInside:function(){return this.isPointInside.apply(this,arguments)},isPointInCircle:function(e,t,n){return this.getDistance(e,t)<n},withinRadius:function(){return this.isPointInCircle.apply(this,arguments)},getRhumbLineBearing:function(e,t){var n=this.longitude(t).toRad()-this.longitude(e).toRad(),r=Math.log(Math.tan(this.latitude(t).toRad()/2+o.PI_DIV4)/Math.tan(this.latitude(e).toRad()/2+o.PI_DIV4));return Math.abs(n)>Math.PI&&(n=n>0?-1*(o.PI_X2-n):o.PI_X2+n),(Math.atan2(n,r).toDeg()+360)%360},getBearing:function(e,t){return t.latitude=this.latitude(t),t.longitude=this.longitude(t),e.latitude=this.latitude(e),e.longitude=this.longitude(e),(Math.atan2(Math.sin(t.longitude.toRad()-e.longitude.toRad())*Math.cos(t.latitude.toRad()),Math.cos(e.latitude.toRad())*Math.sin(t.latitude.toRad())-Math.sin(e.latitude.toRad())*Math.cos(t.latitude.toRad())*Math.cos(t.longitude.toRad()-e.longitude.toRad())).toDeg()+360)%360},getCompassDirection:function(e,t,n){var r,a;switch(a=\"circle\"==n?this.getBearing(e,t):this.getRhumbLineBearing(e,t),Math.round(a/22.5)){case 1:r={exact:\"NNE\",rough:\"N\"};break;case 2:r={exact:\"NE\",rough:\"N\"};break;case 3:r={exact:\"ENE\",rough:\"E\"};break;case 4:r={exact:\"E\",rough:\"E\"};break;case 5:r={exact:\"ESE\",rough:\"E\"};break;case 6:r={exact:\"SE\",rough:\"E\"};break;case 7:r={exact:\"SSE\",rough:\"S\"};break;case 8:r={exact:\"S\",rough:\"S\"};break;case 9:r={exact:\"SSW\",rough:\"S\"};break;case 10:r={exact:\"SW\",rough:\"S\"};break;case 11:r={exact:\"WSW\",rough:\"W\"};break;case 12:r={exact:\"W\",rough:\"W\"};break;case 13:r={exact:\"WNW\",rough:\"W\"};break;case 14:r={exact:\"NW\",rough:\"W\"};break;case 15:r={exact:\"NNW\",rough:\"N\"};break;default:r={exact:\"N\",rough:\"N\"}}return r.bearing=a,r},getDirection:function(e,t,n){return this.getCompassDirection.apply(this,arguments)},orderByDistance:function(e,t){return Object.keys(t).map((function(n){var r=this.getDistance(e,t[n]),a=Object.create(t[n]);return a.distance=r,a.key=n,a}),this).sort((function(e,t){return e.distance-t.distance}))},isPointInLine:function(e,t,n){return(this.getDistance(t,e,1,3)+this.getDistance(e,n,1,3)).toFixed(3)==this.getDistance(t,n,1,3)},isPointNearLine:function(e,t,n,r){return this.getDistanceFromLine(e,t,n)<r},getDistanceFromLine:function(e,t,n){var r=this.getDistance(t,e,1,3),a=this.getDistance(e,n,1,3),o=this.getDistance(t,n,1,3),i=Math.acos((r*r+o*o-a*a)/(2*r*o)),s=Math.acos((a*a+o*o-r*r)/(2*a*o));return i>Math.PI/2?r:s>Math.PI/2?a:Math.sin(i)*r},findNearest:function(e,t,n,r){n=n||0,r=r||1;var a=this.orderByDistance(e,t);return 1===r?a[n]:a.splice(n,r)},getPathLength:function(e){for(var t,n=0,r=0,a=e.length;r<a;++r)t&&(n+=this.getDistance(this.coords(e[r]),t)),t=this.coords(e[r]);return n},getSpeed:function(e,t,n){var r=n&&n.unit||\"km\";\"mph\"==r?r=\"mi\":\"kmh\"==r&&(r=\"km\");var a=i.getDistance(e,t)/(1*t.time/1e3-1*e.time/1e3)*3600;return Math.round(a*this.measures[r]*1e4)/1e4},computeDestinationPoint:function(e,t,n,r){var a=this.latitude(e),o=this.longitude(e);r=void 0===r?this.radius:Number(r);var i=Number(t)/r,s=Number(n).toRad(),l=Number(a).toRad(),c=Number(o).toRad(),u=Math.asin(Math.sin(l)*Math.cos(i)+Math.cos(l)*Math.sin(i)*Math.cos(s)),d=c+Math.atan2(Math.sin(s)*Math.sin(i)*Math.cos(l),Math.cos(i)-Math.sin(l)*Math.sin(u));return d=(d+3*Math.PI)%(2*Math.PI)-Math.PI,{latitude:u.toDeg(),longitude:d.toDeg()}},convertUnit:function(e,t,n){if(0===t)return 0;if(void 0===t){if(null===this.distance)throw new Error(\"No distance was given\");if(0===this.distance)return 0;t=this.distance}if(e=e||\"m\",n=null==n?4:n,void 0!==this.measures[e])return this.round(t*this.measures[e],n);throw new Error(\"Unknown unit for conversion.\")},useDecimal:function(e){if(\"[object Array]\"===Object.prototype.toString.call(e)){var t=this;return e=e.map((function(e){if(t.isDecimal(e))return t.useDecimal(e);if(\"object\"==typeof e){if(t.validate(e))return t.coords(e);for(var n in e)e[n]=t.useDecimal(e[n]);return e}return t.isSexagesimal(e)?t.sexagesimal2decimal(e):e}))}if(\"object\"==typeof e&&this.validate(e))return this.coords(e);if(\"object\"==typeof e){for(var n in e)e[n]=this.useDecimal(e[n]);return e}if(this.isDecimal(e))return parseFloat(e);if(!0===this.isSexagesimal(e))return parseFloat(this.sexagesimal2decimal(e));throw new Error(\"Unknown format.\")},decimal2sexagesimal:function(e){if(e in this.sexagesimal)return this.sexagesimal[e];var t=e.toString().split(\".\"),n=Math.abs(t[0]),r=60*(\"0.\"+(t[1]||0)),a=r.toString().split(\".\");return r=Math.floor(r),a=(60*(\"0.\"+(a[1]||0))).toFixed(2),this.sexagesimal[e]=n+\"° \"+r+\"' \"+a+'\"',this.sexagesimal[e]},sexagesimal2decimal:function(e){if(e in this.decimal)return this.decimal[e];var t=new RegExp(this.sexagesimalPattern).exec(e),n=0,r=0;t&&(n=parseFloat(t[2]/60),r=parseFloat(t[4]/3600)||0);var a=(parseFloat(t[1])+n+r).toFixed(8);return a=\"S\"==t[7]||\"W\"==t[7]?parseFloat(-a):parseFloat(a),this.decimal[e]=a,a},isDecimal:function(e){return e=e.toString().replace(/\\s*/,\"\"),!isNaN(parseFloat(e))&&parseFloat(e)==e},isSexagesimal:function(e){return e=e.toString().replace(/\\s*/,\"\"),this.sexagesimalPattern.test(e)},round:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}}),void 0!==e.exports?(e.exports=i,\"object\"==typeof n&&(n.geolib=i)):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}(this)},1106:function(e,t,n){\"use strict\";var r=n(6),a=n.n(r),o=(n(0),n(2)),i=n.n(o),s=n(1);const l={controls:i.a.arrayOf(i.a.object).isRequired};function c(e){var t;const n=12/e.controls.length;return Object(s.f)(\"div\",{className:\"row space-1\"},a()(t=e.controls).call(t,(e,t)=>Object(s.f)(\"div\",{className:\"col-lg-\"+n+\" col-xs-12\",key:t},e)))}c.propTypes=l,t.a=c},1125:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Checkboard=void 0;var r=i(n(0)),a=i(n(96)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1379));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,i=e.size,s=e.renderers,l=e.borderRadius,c=e.boxShadow,u=(0,a.default)({default:{grid:{borderRadius:l,boxShadow:c,absolute:\"0px 0px 0px 0px\",background:\"url(\"+o.get(t,n,i,s.canvas)+\") center left\"}}});return r.default.createElement(\"div\",{style:u.grid})};s.defaultProps={size:8,white:\"transparent\",grey:\"rgba(0,0,0,.08)\",renderers:{}},t.default=s},1126:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=c(n(190)),l=c(n(358));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},l.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:\"componentWillReceiveProps\",value:function(e){this.setState(r({},l.default.toState(e.color,this.state.oldHue)))}},{key:\"render\",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(o.PureComponent||o.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=u},1127:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"red\",(function(){return r})),n.d(t,\"pink\",(function(){return a})),n.d(t,\"purple\",(function(){return o})),n.d(t,\"deepPurple\",(function(){return i})),n.d(t,\"indigo\",(function(){return s})),n.d(t,\"blue\",(function(){return l})),n.d(t,\"lightBlue\",(function(){return c})),n.d(t,\"cyan\",(function(){return u})),n.d(t,\"teal\",(function(){return d})),n.d(t,\"green\",(function(){return p})),n.d(t,\"lightGreen\",(function(){return f})),n.d(t,\"lime\",(function(){return h})),n.d(t,\"yellow\",(function(){return g})),n.d(t,\"amber\",(function(){return b})),n.d(t,\"orange\",(function(){return v})),n.d(t,\"deepOrange\",(function(){return m})),n.d(t,\"brown\",(function(){return y})),n.d(t,\"grey\",(function(){return O})),n.d(t,\"blueGrey\",(function(){return C})),n.d(t,\"darkText\",(function(){return x})),n.d(t,\"lightText\",(function(){return w})),n.d(t,\"darkIcons\",(function(){return j})),n.d(t,\"lightIcons\",(function(){return _})),n.d(t,\"white\",(function(){return E})),n.d(t,\"black\",(function(){return S}));var r={50:\"#ffebee\",100:\"#ffcdd2\",200:\"#ef9a9a\",300:\"#e57373\",400:\"#ef5350\",500:\"#f44336\",600:\"#e53935\",700:\"#d32f2f\",800:\"#c62828\",900:\"#b71c1c\",a100:\"#ff8a80\",a200:\"#ff5252\",a400:\"#ff1744\",a700:\"#d50000\"},a={50:\"#fce4ec\",100:\"#f8bbd0\",200:\"#f48fb1\",300:\"#f06292\",400:\"#ec407a\",500:\"#e91e63\",600:\"#d81b60\",700:\"#c2185b\",800:\"#ad1457\",900:\"#880e4f\",a100:\"#ff80ab\",a200:\"#ff4081\",a400:\"#f50057\",a700:\"#c51162\"},o={50:\"#f3e5f5\",100:\"#e1bee7\",200:\"#ce93d8\",300:\"#ba68c8\",400:\"#ab47bc\",500:\"#9c27b0\",600:\"#8e24aa\",700:\"#7b1fa2\",800:\"#6a1b9a\",900:\"#4a148c\",a100:\"#ea80fc\",a200:\"#e040fb\",a400:\"#d500f9\",a700:\"#aa00ff\"},i={50:\"#ede7f6\",100:\"#d1c4e9\",200:\"#b39ddb\",300:\"#9575cd\",400:\"#7e57c2\",500:\"#673ab7\",600:\"#5e35b1\",700:\"#512da8\",800:\"#4527a0\",900:\"#311b92\",a100:\"#b388ff\",a200:\"#7c4dff\",a400:\"#651fff\",a700:\"#6200ea\"},s={50:\"#e8eaf6\",100:\"#c5cae9\",200:\"#9fa8da\",300:\"#7986cb\",400:\"#5c6bc0\",500:\"#3f51b5\",600:\"#3949ab\",700:\"#303f9f\",800:\"#283593\",900:\"#1a237e\",a100:\"#8c9eff\",a200:\"#536dfe\",a400:\"#3d5afe\",a700:\"#304ffe\"},l={50:\"#e3f2fd\",100:\"#bbdefb\",200:\"#90caf9\",300:\"#64b5f6\",400:\"#42a5f5\",500:\"#2196f3\",600:\"#1e88e5\",700:\"#1976d2\",800:\"#1565c0\",900:\"#0d47a1\",a100:\"#82b1ff\",a200:\"#448aff\",a400:\"#2979ff\",a700:\"#2962ff\"},c={50:\"#e1f5fe\",100:\"#b3e5fc\",200:\"#81d4fa\",300:\"#4fc3f7\",400:\"#29b6f6\",500:\"#03a9f4\",600:\"#039be5\",700:\"#0288d1\",800:\"#0277bd\",900:\"#01579b\",a100:\"#80d8ff\",a200:\"#40c4ff\",a400:\"#00b0ff\",a700:\"#0091ea\"},u={50:\"#e0f7fa\",100:\"#b2ebf2\",200:\"#80deea\",300:\"#4dd0e1\",400:\"#26c6da\",500:\"#00bcd4\",600:\"#00acc1\",700:\"#0097a7\",800:\"#00838f\",900:\"#006064\",a100:\"#84ffff\",a200:\"#18ffff\",a400:\"#00e5ff\",a700:\"#00b8d4\"},d={50:\"#e0f2f1\",100:\"#b2dfdb\",200:\"#80cbc4\",300:\"#4db6ac\",400:\"#26a69a\",500:\"#009688\",600:\"#00897b\",700:\"#00796b\",800:\"#00695c\",900:\"#004d40\",a100:\"#a7ffeb\",a200:\"#64ffda\",a400:\"#1de9b6\",a700:\"#00bfa5\"},p={50:\"#e8f5e9\",100:\"#c8e6c9\",200:\"#a5d6a7\",300:\"#81c784\",400:\"#66bb6a\",500:\"#4caf50\",600:\"#43a047\",700:\"#388e3c\",800:\"#2e7d32\",900:\"#1b5e20\",a100:\"#b9f6ca\",a200:\"#69f0ae\",a400:\"#00e676\",a700:\"#00c853\"},f={50:\"#f1f8e9\",100:\"#dcedc8\",200:\"#c5e1a5\",300:\"#aed581\",400:\"#9ccc65\",500:\"#8bc34a\",600:\"#7cb342\",700:\"#689f38\",800:\"#558b2f\",900:\"#33691e\",a100:\"#ccff90\",a200:\"#b2ff59\",a400:\"#76ff03\",a700:\"#64dd17\"},h={50:\"#f9fbe7\",100:\"#f0f4c3\",200:\"#e6ee9c\",300:\"#dce775\",400:\"#d4e157\",500:\"#cddc39\",600:\"#c0ca33\",700:\"#afb42b\",800:\"#9e9d24\",900:\"#827717\",a100:\"#f4ff81\",a200:\"#eeff41\",a400:\"#c6ff00\",a700:\"#aeea00\"},g={50:\"#fffde7\",100:\"#fff9c4\",200:\"#fff59d\",300:\"#fff176\",400:\"#ffee58\",500:\"#ffeb3b\",600:\"#fdd835\",700:\"#fbc02d\",800:\"#f9a825\",900:\"#f57f17\",a100:\"#ffff8d\",a200:\"#ffff00\",a400:\"#ffea00\",a700:\"#ffd600\"},b={50:\"#fff8e1\",100:\"#ffecb3\",200:\"#ffe082\",300:\"#ffd54f\",400:\"#ffca28\",500:\"#ffc107\",600:\"#ffb300\",700:\"#ffa000\",800:\"#ff8f00\",900:\"#ff6f00\",a100:\"#ffe57f\",a200:\"#ffd740\",a400:\"#ffc400\",a700:\"#ffab00\"},v={50:\"#fff3e0\",100:\"#ffe0b2\",200:\"#ffcc80\",300:\"#ffb74d\",400:\"#ffa726\",500:\"#ff9800\",600:\"#fb8c00\",700:\"#f57c00\",800:\"#ef6c00\",900:\"#e65100\",a100:\"#ffd180\",a200:\"#ffab40\",a400:\"#ff9100\",a700:\"#ff6d00\"},m={50:\"#fbe9e7\",100:\"#ffccbc\",200:\"#ffab91\",300:\"#ff8a65\",400:\"#ff7043\",500:\"#ff5722\",600:\"#f4511e\",700:\"#e64a19\",800:\"#d84315\",900:\"#bf360c\",a100:\"#ff9e80\",a200:\"#ff6e40\",a400:\"#ff3d00\",a700:\"#dd2c00\"},y={50:\"#efebe9\",100:\"#d7ccc8\",200:\"#bcaaa4\",300:\"#a1887f\",400:\"#8d6e63\",500:\"#795548\",600:\"#6d4c41\",700:\"#5d4037\",800:\"#4e342e\",900:\"#3e2723\"},O={50:\"#fafafa\",100:\"#f5f5f5\",200:\"#eeeeee\",300:\"#e0e0e0\",400:\"#bdbdbd\",500:\"#9e9e9e\",600:\"#757575\",700:\"#616161\",800:\"#424242\",900:\"#212121\"},C={50:\"#eceff1\",100:\"#cfd8dc\",200:\"#b0bec5\",300:\"#90a4ae\",400:\"#78909c\",500:\"#607d8b\",600:\"#546e7a\",700:\"#455a64\",800:\"#37474f\",900:\"#263238\"},x={primary:\"rgba(0, 0, 0, 0.87)\",secondary:\"rgba(0, 0, 0, 0.54)\",disabled:\"rgba(0, 0, 0, 0.38)\",dividers:\"rgba(0, 0, 0, 0.12)\"},w={primary:\"rgba(255, 255, 255, 1)\",secondary:\"rgba(255, 255, 255, 0.7)\",disabled:\"rgba(255, 255, 255, 0.5)\",dividers:\"rgba(255, 255, 255, 0.12)\"},j={active:\"rgba(0, 0, 0, 0.54)\",inactive:\"rgba(0, 0, 0, 0.38)\"},_={active:\"rgba(255, 255, 255, 1)\",inactive:\"rgba(255, 255, 255, 0.5)\"},E=\"#ffffff\",S=\"#000000\";t.default={red:r,pink:a,purple:o,deepPurple:i,indigo:s,blue:l,lightBlue:c,cyan:u,teal:d,green:p,lightGreen:f,lime:h,yellow:g,amber:b,orange:v,deepOrange:m,brown:y,grey:O,blueGrey:C,darkText:x,lightText:w,darkIcons:j,lightIcons:_,white:E,black:S}},1128:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.unpackBackendForEs5Users=t.createChildContext=t.CHILD_CONTEXT_TYPES=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};t.default=function(e){p.default.apply(void 0,[\"DragDropContext\",\"backend\"].concat(Array.prototype.slice.call(arguments)));var t=y(e),n=m(t);return function(e){var t,o,l=e.displayName||e.name||\"Component\",c=(o=t=function(t){function o(){return h(this,o),g(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return b(o,t),a(o,[{key:\"getDecoratedComponentInstance\",value:function(){return(0,u.default)(this.child,\"In order to access an instance of the decorated component it can not be a stateless component.\"),this.child}},{key:\"getManager\",value:function(){return n.dragDropManager}},{key:\"getChildContext\",value:function(){return n}},{key:\"render\",value:function(){var t=this;return s.default.createElement(e,r({},this.props,{ref:function(e){t.child=e}}))}}]),o}(i.Component),t.DecoratedComponent=e,t.displayName=\"DragDropContext(\"+l+\")\",t.childContextTypes=v,o);return(0,d.default)(c,e)}};var i=n(0),s=f(i),l=f(n(2)),c=n(1142),u=f(n(143)),d=f(n(1001)),p=f(n(872));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function g(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function b(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=t.CHILD_CONTEXT_TYPES={dragDropManager:l.default.object.isRequired},m=t.createChildContext=function(e,t){return{dragDropManager:new c.DragDropManager(e,t)}},y=t.unpackBackendForEs5Users=function(e){var t=e;return\"object\"===(void 0===t?\"undefined\":o(t))&&\"function\"==typeof t.default&&(t=t.default),(0,u.default)(\"function\"==typeof t,\"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html\"),t}},1129:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case a.HOVER:return i(e.clientOffset,t.clientOffset)?e:r({},e,{clientOffset:t.clientOffset});case a.END_DRAG:case a.DROP:return o;default:return e}},t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;if(!t||!n||!r)return null;return{x:t.x+r.x-n.x,y:t.y+r.y-n.y}},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;if(!t||!n)return null;return{x:t.x-n.x,y:t.y-n.y}};var a=n(870),o={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function i(e,t){return e===t||e&&t&&e.x===t.x&&e.y===t.y}},1130:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){return(0,o.default)(e)?e.some((function(e){return e===t})):e===t};var r,a=n(257),o=(r=a)&&r.__esModule?r:{default:r}},1131:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments[1],t=arguments[2];switch(e.type){case o.HOVER:break;case i.ADD_SOURCE:case i.ADD_TARGET:case i.REMOVE_TARGET:case i.REMOVE_SOURCE:return l;case o.BEGIN_DRAG:case o.PUBLISH_DRAG_SOURCE:case o.END_DRAG:case o.DROP:default:return c}var n=e.targetIds,a=t.targetIds,s=(0,r.default)(n,a),u=!1;if(0===s.length){for(var d=0;d<n.length;d++)if(n[d]!==a[d]){u=!0;break}}else u=!0;if(!u)return l;var p=a[a.length-1],f=n[n.length-1];p!==f&&(p&&s.push(p),f&&s.push(f));return s},t.areDirty=function(e,t){if(e===l)return!1;if(e===c||void 0===t)return!0;return(0,a.default)(t,e).length>0};var r=s(n(1768)),a=s(n(1769)),o=n(870),i=n(871);function s(e){return e&&e.__esModule?e:{default:e}}var l=[],c=[]},1132:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};t.default=function(e,t){if(e===t)return!0;if(\"object\"!==(void 0===e?\"undefined\":r(e))||null===e||\"object\"!==(void 0===t?\"undefined\":r(t))||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!o.call(t,n[i]))return!1;var s=e[n[i]],l=t[n[i]];if(s!==l||\"object\"===(void 0===s?\"undefined\":r(s))||\"object\"===(void 0===l?\"undefined\":r(l)))return!1}return!0}},1133:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,h=e.DecoratedComponent,b=e.createHandler,v=e.createMonitor,m=e.createConnector,y=e.registerHandler,O=e.containerDisplayName,C=e.getType,x=e.collect,w=e.options.arePropsEqual,j=void 0===w?f.default:w,_=h.displayName||h.name||\"Component\",E=(n=t=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleChange=r.handleChange.bind(r),r.handleChildRef=r.handleChildRef.bind(r),(0,u.default)(\"object\"===a(r.context.dragDropManager),\"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context\",_,_),r.manager=r.context.dragDropManager,r.handlerMonitor=v(r.manager),r.handlerConnector=m(r.manager.getBackend()),r.handler=b(r.handlerMonitor),r.disposable=new c.SerialDisposable,r.receiveProps(e),r.state=r.getCurrentState(),r.dispose(),r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:\"getHandlerId\",value:function(){return this.handlerId}},{key:\"getDecoratedComponentInstance\",value:function(){return this.decoratedComponentInstance}},{key:\"shouldComponentUpdate\",value:function(e,t){return!j(e,this.props)||!(0,p.default)(t,this.state)}}]),o(t,[{key:\"componentDidMount\",value:function(){this.isCurrentlyMounted=!0,this.disposable=new c.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:\"componentWillReceiveProps\",value:function(e){j(e,this.props)||(this.receiveProps(e),this.handleChange())}},{key:\"componentWillUnmount\",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:\"receiveProps\",value:function(e){this.handler.receiveProps(e),this.receiveType(C(e))}},{key:\"receiveType\",value:function(e){if(e!==this.currentType){this.currentType=e;var t=y(e,this.handler,this.manager),n=t.handlerId,r=t.unregister;this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var a=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(a),new c.Disposable(r)))}}},{key:\"handleChange\",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:\"dispose\",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:\"handleChildRef\",value:function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)}},{key:\"getCurrentState\",value:function(){return x(this.handlerConnector.hooks,this.handlerMonitor)}},{key:\"render\",value:function(){return s.default.createElement(h,r({},this.props,this.state,{ref:g(h)?this.handleChildRef:null}))}}]),t}(i.Component),t.DecoratedComponent=h,t.displayName=O+\"(\"+_+\")\",t.contextTypes={dragDropManager:l.default.object.isRequired},n);return(0,d.default)(E,h)};var i=n(0),s=h(i),l=h(n(2)),c=n(1438),u=(h(n(341)),h(n(143))),d=h(n(1001)),p=h(n(1002)),f=h(n(1132));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e){return Boolean(e&&e.prototype&&\"function\"==typeof e.prototype.render)}},1134:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t={};return Object.keys(e).forEach((function(n){var r=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,a.isValidElement)(t)){var r=t;s(r);var o=n?function(t){return e(t,n)}:e;return(0,i.default)(r,o)}var l=t;e(l,n)}}(e[n]);t[n]=function(){return r}})),t};var r,a=n(0),o=n(1446),i=(r=o)&&r.__esModule?r:{default:r};function s(e){if(\"string\"!=typeof e.type){var t=e.type.displayName||e.type.name||\"the component\";throw new Error(\"Only native element nodes can now be passed to React DnD connectors.You can either wrap \"+t+\" into a <div>, or turn it into a drag source or a drop target itself.\")}}},1135:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(t===e)return!0;return null!==t&&null!==e&&(0,o.default)(t,e)};var r,a=n(1002),o=(r=a)&&r.__esModule?r:{default:r}},1136:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};t.default=function e(t,n){return\"string\"==typeof t||\"symbol\"===(void 0===t?\"undefined\":r(t))||n&&(0,i.default)(t)&&t.every((function(t){return e(t,!1)}))};var a,o=n(257),i=(a=o)&&a.__esModule?a:{default:a}},1137:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isSafari=t.isFirefox=void 0;var r,a=n(1166),o=(r=a)&&r.__esModule?r:{default:r};t.isFirefox=(0,o.default)((function(){return/firefox/i.test(navigator.userAgent)})),t.isSafari=(0,o.default)((function(){return Boolean(window.safari)}))},1138:function(e,t,n){},1139:function(e,t,n){},1140:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(1370);Object.defineProperty(t,\"AlphaPicker\",{enumerable:!0,get:function(){return m(r).default}});var a=n(1389);Object.defineProperty(t,\"BlockPicker\",{enumerable:!0,get:function(){return m(a).default}});var o=n(1391);Object.defineProperty(t,\"CirclePicker\",{enumerable:!0,get:function(){return m(o).default}});var i=n(1393);Object.defineProperty(t,\"ChromePicker\",{enumerable:!0,get:function(){return m(i).default}});var s=n(1397);Object.defineProperty(t,\"CompactPicker\",{enumerable:!0,get:function(){return m(s).default}});var l=n(1400);Object.defineProperty(t,\"GithubPicker\",{enumerable:!0,get:function(){return m(l).default}});var c=n(1402);Object.defineProperty(t,\"HuePicker\",{enumerable:!0,get:function(){return m(c).default}});var u=n(1404);Object.defineProperty(t,\"MaterialPicker\",{enumerable:!0,get:function(){return m(u).default}});var d=n(1405);Object.defineProperty(t,\"PhotoshopPicker\",{enumerable:!0,get:function(){return m(d).default}});var p=n(1411);Object.defineProperty(t,\"SketchPicker\",{enumerable:!0,get:function(){return m(p).default}});var f=n(1414);Object.defineProperty(t,\"SliderPicker\",{enumerable:!0,get:function(){return m(f).default}});var h=n(1418);Object.defineProperty(t,\"SwatchesPicker\",{enumerable:!0,get:function(){return m(h).default}});var g=n(1421);Object.defineProperty(t,\"TwitterPicker\",{enumerable:!0,get:function(){return m(g).default}});var b=n(1126);Object.defineProperty(t,\"CustomPicker\",{enumerable:!0,get:function(){return m(b).default}});var v=m(i);function m(e){return e&&e.__esModule?e:{default:e}}t.default=v.default},1142:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(1422);Object.defineProperty(t,\"DragDropManager\",{enumerable:!0,get:function(){return s(r).default}});var a=n(1432);Object.defineProperty(t,\"DragSource\",{enumerable:!0,get:function(){return s(a).default}});var o=n(1433);Object.defineProperty(t,\"DropTarget\",{enumerable:!0,get:function(){return s(o).default}});var i=n(1434);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"createTestBackend\",{enumerable:!0,get:function(){return s(i).default}})},121:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(337),a=n.n(r),o=(n(0),n(2)),i=n.n(o),s=n(64),l=n(1);const c={label:i.a.string.isRequired,tooltip:i.a.node.isRequired,children:i.a.node.isRequired,placement:i.a.string,trigger:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)])};function u({label:e,tooltip:t,children:n,placement:r,trigger:o}){return Object(l.f)(s.a,{id:a()(e)+\"-tooltip\",placement:r,title:t,trigger:o},n)}u.propTypes=c,u.defaultProps={placement:\"top\"}},123:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CHART_UPDATE_STARTED\",(function(){return R})),n.d(t,\"chartUpdateStarted\",(function(){return P})),n.d(t,\"CHART_UPDATE_SUCCEEDED\",(function(){return N})),n.d(t,\"chartUpdateSucceeded\",(function(){return A})),n.d(t,\"CHART_UPDATE_STOPPED\",(function(){return I})),n.d(t,\"chartUpdateStopped\",(function(){return F})),n.d(t,\"CHART_UPDATE_FAILED\",(function(){return L})),n.d(t,\"chartUpdateFailed\",(function(){return B})),n.d(t,\"CHART_UPDATE_QUEUED\",(function(){return U})),n.d(t,\"chartUpdateQueued\",(function(){return V})),n.d(t,\"CHART_RENDERING_FAILED\",(function(){return H})),n.d(t,\"chartRenderingFailed\",(function(){return q})),n.d(t,\"CHART_RENDERING_SUCCEEDED\",(function(){return G})),n.d(t,\"chartRenderingSucceeded\",(function(){return z})),n.d(t,\"REMOVE_CHART\",(function(){return W})),n.d(t,\"removeChart\",(function(){return Y})),n.d(t,\"ANNOTATION_QUERY_SUCCESS\",(function(){return X})),n.d(t,\"annotationQuerySuccess\",(function(){return Q})),n.d(t,\"ANNOTATION_QUERY_STARTED\",(function(){return K})),n.d(t,\"annotationQueryStarted\",(function(){return Z})),n.d(t,\"ANNOTATION_QUERY_FAILED\",(function(){return $})),n.d(t,\"annotationQueryFailed\",(function(){return J})),n.d(t,\"DYNAMIC_PLUGIN_CONTROLS_READY\",(function(){return ee})),n.d(t,\"dynamicPluginControlsReady\",(function(){return te})),n.d(t,\"getChartDataRequest\",(function(){return ne})),n.d(t,\"runAnnotationQuery\",(function(){return re})),n.d(t,\"TRIGGER_QUERY\",(function(){return ae})),n.d(t,\"triggerQuery\",(function(){return oe})),n.d(t,\"RENDER_TRIGGERED\",(function(){return ie})),n.d(t,\"renderTriggered\",(function(){return se})),n.d(t,\"UPDATE_QUERY_FORM_DATA\",(function(){return le})),n.d(t,\"updateQueryFormData\",(function(){return ce})),n.d(t,\"UPDATE_CHART_ID\",(function(){return ue})),n.d(t,\"updateChartId\",(function(){return de})),n.d(t,\"ADD_CHART\",(function(){return pe})),n.d(t,\"addChart\",(function(){return fe})),n.d(t,\"exploreJSON\",(function(){return he})),n.d(t,\"GET_SAVED_CHART\",(function(){return ge})),n.d(t,\"getSavedChart\",(function(){return be})),n.d(t,\"POST_CHART_FORM_DATA\",(function(){return ve})),n.d(t,\"postChartFormData\",(function(){return me})),n.d(t,\"redirectSQLLab\",(function(){return ye})),n.d(t,\"refreshChart\",(function(){return Oe}));n(108),n(208),n(36);var r=n(6),a=n.n(r),o=n(17),i=n.n(o),s=n(67),l=n.n(s),c=n(29),u=n.n(c),d=n(65),p=n.n(d),f=n(44),h=n.n(f),g=n(106),b=n.n(g),v=n(4),m=n.n(v),y=n(18),O=n.n(y),C=n(57),x=n(9),w=n(452),j=n(42),_=n(142),E=n(1057),S=n(77),T=n(347),D=n(133),k=n(69),M=n(436);const R=\"CHART_UPDATE_STARTED\";function P(e,t,n){return{type:R,queryController:e,latestQueryFormData:t,key:n}}const N=\"CHART_UPDATE_SUCCEEDED\";function A(e,t){return{type:N,queriesResponse:e,key:t}}const I=\"CHART_UPDATE_STOPPED\";function F(e){return{type:I,key:e}}const L=\"CHART_UPDATE_FAILED\";function B(e,t){return{type:L,queriesResponse:e,key:t}}const U=\"CHART_UPDATE_QUEUED\";function V(e,t){return{type:U,asyncJobMeta:e,key:t}}const H=\"CHART_RENDERING_FAILED\";function q(e,t,n){return{type:H,error:e,key:t,stackTrace:n}}const G=\"CHART_RENDERING_SUCCEEDED\";function z(e){return{type:G,key:e}}const W=\"REMOVE_CHART\";function Y(e){return{type:W,key:e}}const X=\"ANNOTATION_QUERY_SUCCESS\";function Q(e,t,n){return{type:X,annotation:e,queryResponse:t,key:n}}const K=\"ANNOTATION_QUERY_STARTED\";function Z(e,t,n){return{type:K,annotation:e,queryController:t,key:n}}const $=\"ANNOTATION_QUERY_FAILED\";function J(e,t,n){return{type:$,annotation:e,queryResponse:t,key:n}}const ee=\"DYNAMIC_PLUGIN_CONTROLS_READY\",te=()=>(e,t)=>{const n=t(),r=Object(w.b)(n.explore,n.explore.form_data);e({type:ee,key:r.slice_id.value,controlsState:r})};async function ne({formData:e,resultFormat:t=\"json\",resultType:n=\"full\",force:r=!1,method:a=\"POST\",requestParams:o={}}){let i=m()({},o);return M.a&&(i=m()({},i,{mode:\"cors\",credentials:\"include\"})),Object(_.m)(e)?(async(e,t,n,r,a=\"POST\",o={})=>{const i=Object(_.i)({resultFormat:t,resultType:n}),s=M.a&&(null==o?void 0:o.dashboard_id),l=Object(_.h)({formData:e,endpointType:i,force:r,allowDomainSharding:s,method:a,requestParams:o.dashboard_id?{dashboard_id:o.dashboard_id}:{}}),c=m()({},o,{url:l,postPayload:{form_data:e}});return(Object(j.c)(j.a.CLIENT_CACHE)?C.a.get:C.a.post)(c).then(({json:e})=>({result:[e]}))})(e,t,n,r,a,i):(async(e,t,n,r,a)=>{const o=Object(_.a)({formData:e,resultType:n,resultFormat:t,force:r}),{slice_id:i}=e,{dashboard_id:s}=a,l={};void 0!==i&&(l.form_data='{\"slice_id\":'+i+\"}\"),void 0!==s&&(l.dashboard_id=s),!1!==r&&(l.force=r);const c=M.a&&(null==a?void 0:a.dashboard_id),u=Object(_.e)({path:\"/api/v1/chart/data\",qs:l,allowDomainSharding:c}).toString(),d=m()({},a,{url:u,headers:{\"Content-Type\":\"application/json\"},body:b()(o)});return C.a.post(d).then(({json:e})=>e)})(e,t,n,r,i)}function re(e,t=60,n=null,r,a=!1){return function(o,i){var s;const c=r||h()(i().charts)[0],d=m()({},n||i().charts[c].latestQueryFormData);if(!Object(E.f)(e.sourceType))return p.a.resolve();const f=d.time_grain_sqla||d.granularity;d.time_grain_sqla=f,d.granularity=f;const g=h()(e.overrides);(u()(g).call(g,\"since\")||u()(g).call(g,\"until\"))&&(e.overrides=m()({},e.overrides,{time_range:null}));const b=l()(s=h()(e.overrides)).call(s,(t,n)=>m()({},t,{[n]:e.overrides[n]||d[n]}),{});if(!a&&d){const e=d.extra_filters&&d.extra_filters.length>0;b.extra_filters=e?d.extra_filters:void 0}const v=e.sourceType===E.a.NATIVE,y=Object(_.d)(e.value,b,v),O=new AbortController,{signal:x}=O;return o(Z(e,O,c)),C.a.get({url:y,signal:x,timeout:1e3*t}).then(({json:t})=>o(Q(e,t,c))).catch(t=>Object(k.a)(t).then(t=>{var n;\"timeout\"===t.statusText?o(J(e,{error:\"Query Timeout\"},c)):u()(n=(t.error||\"\").toLowerCase()).call(n,\"no data\")?o(Q(e,t,c)):\"abort\"!==t.statusText&&o(J(e,t,c))}))}}const ae=\"TRIGGER_QUERY\";function oe(e=!0,t){return{type:ae,value:e,key:t}}const ie=\"RENDER_TRIGGERED\";function se(e,t){return{type:ie,value:e,key:t}}const le=\"UPDATE_QUERY_FORM_DATA\";function ce(e,t){return{type:le,value:e,key:t}}const ue=\"UPDATE_CHART_ID\";function de(e,t=0){return{type:ue,newId:e,key:t}}const pe=\"ADD_CHART\";function fe(e,t){return{type:pe,chart:e,key:t}}function he(e,t=!1,n=60,r,o,s){return async l=>{const c=D.q.getTimestamp(),u=new AbortController,d={signal:u.signal,timeout:1e3*n};s&&(d.dashboard_id=s);const f=ne({formData:e,resultFormat:\"json\",resultType:\"full\",force:t,method:o,requestParams:d});l(P(u,e,r));const h=f.then(n=>{const a=n.result;if(Object(j.c)(j.a.GLOBAL_ASYNC_QUERIES)){const e=\"result\"in n?n.result[0]:n;return l(V(e,r))}return i()(a).call(a,n=>l(Object(T.logEvent)(D.h,{slice_id:r,applied_filters:n.applied_filters,is_cached:n.is_cached,force_refresh:t,row_count:n.rowcount,datasource:e.datasource,start_offset:c,ts:(new Date).getTime(),duration:D.q.getTimestamp()-c,has_extra_filters:e.extra_filters&&e.extra_filters.length>0,viz_type:e.viz_type,data_age:n.is_cached?O()(new Date).diff(O.a.utc(n.cached_dttm)):null}))),l(A(a,r))}).catch(t=>{const n=(t,n)=>{l(Object(T.logEvent)(D.h,{slice_id:r,has_err:!0,is_cached:n,error_details:t,datasource:e.datasource,start_offset:c,ts:(new Date).getTime(),duration:D.q.getTimestamp()-c}))};return\"AbortError\"===t.name?(n(\"abort\"),l(F(r))):Object(k.a)(t).then(e=>(\"timeout\"===t.statusText?n(\"timeout\"):n(e.error,e.is_cached),l(B([e],r))))}),g=Object(_.m)(e)&&e.annotation_layers||[],b=s>0;return p.a.all([h,l(oe(!1,r)),l(ce(e,r)),...a()(g).call(g,t=>l(re(t,n,e,r,b)))])}}const ge=\"GET_SAVED_CHART\";function be(e,t=!1,n=60,r,a){return he(e,t,n,r,\"GET\",a)}const ve=\"POST_CHART_FORM_DATA\";function me(e,t=!1,n=60,r,a){return he(e,t,n,r,\"POST\",a)}function ye(e){return t=>{ne({formData:e,resultFormat:\"json\",resultType:\"query\"}).then(({result:t})=>{const n={datasourceKey:e.datasource,sql:t[0].query};Object(_.l)(\"/superset/sqllab\",n)}).catch(()=>t(Object(S.c)(Object(x.e)(\"An error occurred while loading the SQL\"))))}}function Oe(e,t,n){return(r,a)=>{const o=(a().charts||{})[e],i=a().dashboardInfo.common.conf.SUPERSET_WEBSERVER_TIMEOUT;o.latestQueryFormData&&0!==h()(o.latestQueryFormData).length&&r(me(o.latestQueryFormData,t,i,o.id,n))}}},131:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return j})),n.d(t,\"b\",(function(){return E})),n.d(t,\"c\",(function(){return S}));var r=n(4),a=n.n(r),o=n(29),i=n.n(o),s=n(8),l=n.n(s),c=(n(0),n(61)),u=n(1),d=n(11),p=n(33);function f(){const e=l()([\"\\n  &.ant-tabs-card > .ant-tabs-nav .ant-tabs-tab {\\n    margin: 0 \",\"px;\\n    padding: \",\";\\n    background: transparent;\\n    border: none;\\n  }\\n\\n  &.ant-tabs-card > .ant-tabs-nav .ant-tabs-ink-bar {\\n    visibility: visible;\\n  }\\n\\n  .ant-tabs-tab-btn {\\n    font-size: \",\"px;\\n  }\\n\\n  .ant-tabs-tab-remove {\\n    margin-left: 0;\\n    padding-right: 0;\\n  }\\n\\n  .ant-tabs-nav-add {\\n    min-width: unset !important;\\n    background: transparent !important;\\n    border: none !important;\\n  }\\n\"]);return f=function(){return e},e}function h(){const e=l()([\"\\n      .ant-tabs-nav-list {\\n        width: 100%;\\n      }\\n    \"]);return h=function(){return e},e}function g(){const e=l()([\"\\n  .ant-tabs-content-holder {\\n    background: white;\\n  }\\n\\n  & > .ant-tabs-nav {\\n    margin-bottom: 0;\\n  }\\n\\n  .ant-tabs-tab-remove {\\n    padding-top: 0;\\n    padding-bottom: 0;\\n    height: \",\"px;\\n  }\\n\\n  \",\"\\n\"]);return g=function(){return e},e}function b(){const e=l()([\"\"]);return b=function(){return e},e}function v(){const e=l()([\"\\n      .ant-tabs-nav-list {\\n        width: 100%;\\n      }\\n\\n      .ant-tabs-tab {\\n        width: 0;\\n      }\\n    \"]);return v=function(){return e},e}function m(){const e=l()([\"\\n  overflow: \",\";\\n\\n  .ant-tabs-content-holder {\\n    overflow: \",\";\\n  }\\n\\n  .ant-tabs-tab {\\n    flex: 1 1 auto;\\n\\n    &.ant-tabs-tab-active .ant-tabs-tab-btn {\\n      color: inherit;\\n    }\\n\\n    &:hover {\\n      .anchor-link-container {\\n        cursor: pointer;\\n\\n        .fa.fa-link {\\n          visibility: visible;\\n        }\\n      }\\n    }\\n\\n    .short-link-trigger.btn {\\n      padding: 0 \",\"px;\\n\\n      & > .fa.fa-link {\\n        top: 0;\\n      }\\n    }\\n  }\\n\\n  \",\";\\n\\n  .ant-tabs-tab-btn {\\n    display: flex;\\n    flex: 1 1 auto;\\n    align-items: center;\\n    justify-content: center;\\n    font-size: \",\"px;\\n    text-align: center;\\n    text-transform: uppercase;\\n    user-select: none;\\n\\n    .required {\\n      margin-left: \",\"px;\\n      color: \",\";\\n    }\\n  }\\n\\n  .ant-tabs-ink-bar {\\n    background: \",\";\\n  }\\n\"]);return m=function(){return e},e}const y=[\"fullWidth\",\"allowOverflow\"],O=Object(c.c)(d.y,{shouldForwardProp:e=>!i()(y).call(y,e)})(m(),({allowOverflow:e})=>e?\"visible\":\"hidden\",({allowOverflow:e})=>e?\"visible\":\"auto\",({theme:e})=>e.gridUnit,({fullWidth:e})=>e&&Object(u.e)(v()),({theme:e})=>e.typography.sizes.s,({theme:e})=>e.gridUnit/2,({theme:e})=>e.colors.error.base,({theme:e})=>e.colors.secondary.base),C=Object(c.c)(d.y.TabPane)(b()),x=a()(O,{TabPane:C});x.defaultProps={fullWidth:!0};const w=Object(c.c)(O)(g(),({theme:e})=>6*e.gridUnit,({fullWidth:e})=>e&&Object(u.e)(h())),j=a()(w,{TabPane:C});j.defaultProps={type:\"editable-card\",fullWidth:!1},j.TabPane.defaultProps={closeIcon:Object(u.f)(p.a,{role:\"button\",tabIndex:0,cursor:\"pointer\",name:\"cancel-x\"})};const _=Object(c.c)(j)(f(),({theme:e})=>4*e.gridUnit,({theme:e})=>3*e.gridUnit+\"px \"+e.gridUnit+\"px\",({theme:e})=>e.typography.sizes.m),E=a()(_,{TabPane:C});var S=x},133:function(e,t,n){\"use strict\";n.d(t,\"h\",(function(){return o})),n.d(t,\"m\",(function(){return i})),n.d(t,\"g\",(function(){return s})),n.d(t,\"i\",(function(){return l})),n.d(t,\"j\",(function(){return c})),n.d(t,\"n\",(function(){return u})),n.d(t,\"e\",(function(){return d})),n.d(t,\"b\",(function(){return p})),n.d(t,\"o\",(function(){return f})),n.d(t,\"f\",(function(){return h})),n.d(t,\"l\",(function(){return g})),n.d(t,\"c\",(function(){return b})),n.d(t,\"d\",(function(){return v})),n.d(t,\"a\",(function(){return m})),n.d(t,\"k\",(function(){return y})),n.d(t,\"p\",(function(){return O})),n.d(t,\"q\",(function(){return C}));var r=n(93),a=n.n(r);const o=\"load_chart\",i=\"render_chart\",s=\"hide_browser_tab\",l=\"mount_dashboard\",c=\"mount_explorer\",u=\"select_dashboard_tab\",d=\"force_refresh_chart\",p=\"change_explore_controls\",f=\"toggle_edit_dashboard\",h=\"force_refresh_dashboard\",g=\"periodic_render_dashboard\",b=\"explore_dashboard_chart\",v=\"export_csv_dashboard_chart\",m=\"change_dashboard_filter\",y=\"omnibar_triggered\",O=new a.a([o,i,s]),C=(new a.a([l,u,b,d,v,m,p,f,h,g,y,c]),{getTimestamp:()=>Math.round(window.performance.now())})},1363:function(e,t,n){},1369:function(e,t,n){},1370:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(96)),i=n(173),s=l(n(1388));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,l=e.height,c=e.onChange,u=e.direction,d=e.style,p=e.renderers,f=e.pointer,h=e.className,g=void 0===h?\"\":h,b=(0,o.default)({default:{picker:{position:\"relative\",width:s,height:l},alpha:{radius:\"2px\",style:d}}});return a.default.createElement(\"div\",{style:b.picker,className:\"alpha-picker \"+g},a.default.createElement(i.Alpha,r({},b.alpha,{rgb:t,hsl:n,pointer:f,renderers:p,onChange:c,direction:u})))};c.defaultProps={width:\"316px\",height:\"16px\",direction:\"horizontal\",pointer:s.default},t.default=(0,i.ColorWrap)(c)},1371:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.flattenNames=void 0;var r=s(n(1293)),a=s(n(1076)),o=s(n(341)),i=s(n(446));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,i.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,a.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+\"-\"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},1372:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.mergeClasses=void 0;var r=i(n(1076)),a=i(n(1765)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,a.default)(e.default)||{};return t.map((function(t){var a=e[t];return a&&(0,r.default)(a,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],a[t])})),t})),n};t.default=s},1373:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.autoprefix=void 0;var r,a=n(1076),o=(r=a)&&r.__esModule?r:{default:r},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(\" \");return{position:\"absolute\",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=i({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},1374:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.hover=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return i.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},i.default.createElement(e,a({},c.props,c.state)))},l(c,o)}return c(r,n),r}(i.default.Component)};t.default=u},1375:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.active=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(d))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return i.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},i.default.createElement(e,a({},c.props,c.state)))},l(c,o)}return c(r,n),r}(i.default.Component)};t.default=u},1376:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r(\"first-child\"),e===t-1&&r(\"last-child\"),(0===e||e%2==0)&&r(\"even\"),1===Math.abs(e%2)&&r(\"odd\"),r(\"nth-child\",e),n}},1377:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=u(n(96)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1378)),c=u(n(1125));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function p(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var f=t.Alpha=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=l.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener(\"mousemove\",r.handleChange),window.addEventListener(\"mouseup\",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener(\"mousemove\",r.handleChange),window.removeEventListener(\"mouseup\",r.handleMouseUp)},p(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"render\",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius},checkboard:{absolute:\"0px 0px 0px 0px\",overflow:\"hidden\",borderRadius:this.props.radius},gradient:{absolute:\"0px 0px 0px 0px\",background:\"linear-gradient(to right, rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 0) 0%,\\n           rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 1) 100%)\",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:\"relative\",height:\"100%\",margin:\"0 3px\"},pointer:{position:\"absolute\",left:100*t.a+\"%\"},slider:{width:\"4px\",borderRadius:\"1px\",height:\"8px\",boxShadow:\"0 0 2px rgba(0, 0, 0, .6)\",background:\"#fff\",marginTop:\"1px\",transform:\"translateX(-2px)\"}},vertical:{gradient:{background:\"linear-gradient(to bottom, rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 0) 0%,\\n           rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 1) 100%)\"},pointer:{left:0,top:100*t.a+\"%\"}},overwrite:r({},this.props.style)},{vertical:\"vertical\"===this.props.direction,overwrite:!0});return i.default.createElement(\"div\",{style:n.alpha},i.default.createElement(\"div\",{style:n.checkboard},i.default.createElement(c.default,{renderers:this.props.renderers})),i.default.createElement(\"div\",{style:n.gradient}),i.default.createElement(\"div\",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement(\"div\",{style:n.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement(\"div\",{style:n.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=f},1378:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,o=r.clientHeight,i=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,s=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if(\"vertical\"===n.direction){var u=void 0;if(u=c<0?0:c>o?1:Math.round(100*c/o)/100,n.hsl.a!==u)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:u,source:\"rgb\"}}else{var d=void 0;if(d=l<0?0:l>a?1:Math.round(100*l/a)/100,n.a!==d)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:d,source:\"rgb\"}}return null}},1379:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={},a=t.render=function(e,t,n,r){if(\"undefined\"==typeof document&&!r)return null;var a=r?new r:document.createElement(\"canvas\");a.width=2*n,a.height=2*n;var o=a.getContext(\"2d\");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null};t.get=function(e,t,n,o){var i=e+\"-\"+t+\"-\"+n+(o?\"-server\":\"\"),s=a(e,t,n,o);return r[i]?r[i]:(r[i]=s,s)}},1380:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=s(a),i=s(n(96));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf(\"%\")>-1,a=Number(t.replace(/%/g,\"\"));if(!isNaN(a)){var o=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,a+o),e):n.props.onChange&&n.props.onChange(a+o,e),r?n.setState({value:a+o+\"%\"}):n.setState({value:a+o})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,a-o),e):n.props.onChange&&n.props.onChange(a-o,e),r?n.setState({value:a-o+\"%\"}):n.setState({value:a-o}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener(\"mousemove\",n.handleDrag),window.addEventListener(\"mouseup\",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener(\"mousemove\",n.handleDrag),window.removeEventListener(\"mouseup\",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillReceiveProps\",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"render\",value:function(){var e=this,t=(0,i.default)({default:{wrap:{position:\"relative\"}},\"user-override\":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},\"dragLabel-true\":{label:{cursor:\"ew-resize\"}}},{\"user-override\":!0},this.props);return o.default.createElement(\"div\",{style:t.wrap},o.default.createElement(\"input\",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:\"false\"}),this.props.label&&!this.props.hideLabel?o.default.createElement(\"span\",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(a.PureComponent||a.Component);t.default=c},1381:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),i=l(n(96)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1382));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var d=t.Hue=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener(\"mousemove\",r.handleChange),window.addEventListener(\"mouseup\",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},u(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"unbindEventListeners\",value:function(){window.removeEventListener(\"mousemove\",this.handleChange),window.removeEventListener(\"mouseup\",this.handleMouseUp)}},{key:\"render\",value:function(){var e=this,t=this.props.direction,n=void 0===t?\"horizontal\":t,r=(0,i.default)({default:{hue:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:\"0 2px\",position:\"relative\",height:\"100%\",borderRadius:this.props.radius},pointer:{position:\"absolute\",left:100*this.props.hsl.h/360+\"%\"},slider:{marginTop:\"1px\",width:\"4px\",borderRadius:\"1px\",height:\"8px\",boxShadow:\"0 0 2px rgba(0, 0, 0, .6)\",background:\"#fff\",transform:\"translateX(-2px)\"}},vertical:{pointer:{left:\"0px\",top:-100*this.props.hsl.h/360+100+\"%\"}}},{vertical:\"vertical\"===n});return o.default.createElement(\"div\",{style:r.hue},o.default.createElement(\"div\",{className:\"hue-\"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement(\"style\",null,\"\\n            .hue-horizontal {\\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n\\n            .hue-vertical {\\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n          \"),o.default.createElement(\"div\",{style:r.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement(\"div\",{style:r.slider}))))}}]),t}(a.PureComponent||a.Component);t.default=d},1382:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,o=r.clientHeight,i=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,s=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if(\"vertical\"===n.direction){var u=void 0;if(c<0)u=359;else if(c>o)u=0;else{u=360*(-100*c/o+100)/100}if(n.hsl.h!==u)return{h:u,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:\"rgb\"}}else{var d=void 0;if(l<0)d=0;else if(l>a)d=359;else{d=360*(100*l/a)/100}if(n.hsl.h!==d)return{h:d,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:\"rgb\"}}return null}},1383:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Raised=void 0;var r=i(n(0)),a=i(n(2)),o=i(n(96));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Raised=function(e){var t=e.zDepth,n=e.radius,a=e.background,i=e.children,s=(0,o.default)({default:{wrap:{position:\"relative\",display:\"inline-block\"},content:{position:\"relative\"},bg:{absolute:\"0px 0px 0px 0px\",boxShadow:\"0 \"+t+\"px \"+4*t+\"px rgba(0,0,0,.24)\",borderRadius:n,background:a}},\"zDepth-0\":{bg:{boxShadow:\"none\"}},\"zDepth-1\":{bg:{boxShadow:\"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)\"}},\"zDepth-2\":{bg:{boxShadow:\"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)\"}},\"zDepth-3\":{bg:{boxShadow:\"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)\"}},\"zDepth-4\":{bg:{boxShadow:\"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)\"}},\"zDepth-5\":{bg:{boxShadow:\"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)\"}},square:{bg:{borderRadius:\"0\"}},circle:{bg:{borderRadius:\"50%\"}}},{\"zDepth-1\":1===t});return r.default.createElement(\"div\",{style:s.wrap},r.default.createElement(\"div\",{style:s.bg}),r.default.createElement(\"div\",{style:s.content},i))};s.propTypes={background:a.default.string,zDepth:a.default.oneOf([0,1,2,3,4,5]),radius:a.default.number},s.defaultProps={background:\"#fff\",zDepth:1,radius:2},t.default=s},1384:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=c(a),i=c(n(96)),s=c(n(939)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1385));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener(\"mousemove\",n.handleChange),window.addEventListener(\"mouseup\",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"unbindEventListeners\",value:function(){window.removeEventListener(\"mousemove\",this.handleChange),window.removeEventListener(\"mouseup\",this.handleMouseUp)}},{key:\"render\",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,a=t.black,s=t.pointer,l=t.circle,c=(0,i.default)({default:{color:{absolute:\"0px 0px 0px 0px\",background:\"hsl(\"+this.props.hsl.h+\",100%, 50%)\",borderRadius:this.props.radius},white:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius},black:{absolute:\"0px 0px 0px 0px\",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:\"absolute\",top:-100*this.props.hsv.v+100+\"%\",left:100*this.props.hsv.s+\"%\",cursor:\"default\"},circle:{width:\"4px\",height:\"4px\",boxShadow:\"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\\n            0 0 1px 2px rgba(0,0,0,.4)\",borderRadius:\"50%\",cursor:\"hand\",transform:\"translate(-2px, -2px)\"}},custom:{color:n,white:r,black:a,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement(\"div\",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement(\"style\",null,\"\\n          .saturation-white {\\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\\n          }\\n          .saturation-black {\\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\\n          }\\n        \"),o.default.createElement(\"div\",{style:c.white,className:\"saturation-white\"},o.default.createElement(\"div\",{style:c.black,className:\"saturation-black\"}),o.default.createElement(\"div\",{style:c.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement(\"div\",{style:c.circle}))))}}]),t}(a.PureComponent||a.Component);t.default=u},1385:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.getBoundingClientRect(),o=a.width,i=a.height,s=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,l=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o?c=o:u<0?u=0:u>i&&(u=i);var d=100*c/o,p=-100*u/i+100;return{h:n.hsl.h,s:d,v:p,a:n.hsl.a,source:\"rgb\"}}},1386:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(96)),i=n(1387),s=n(173);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Swatch=function(e){var t=e.color,n=e.style,i=e.onClick,l=void 0===i?function(){}:i,c=e.onHover,u=e.title,d=void 0===u?t:u,p=e.children,f=e.focus,h=e.focusStyle,g=void 0===h?{}:h,b=\"transparent\"===t,v=(0,o.default)({default:{swatch:r({background:t,height:\"100%\",width:\"100%\",cursor:\"pointer\",position:\"relative\",outline:\"none\"},n,f?g:{})}}),m={};return c&&(m.onMouseOver=function(e){return c(t,e)}),a.default.createElement(\"div\",r({style:v.swatch,onClick:function(e){return l(t,e)},title:d,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},m),p,b&&a.default.createElement(s.Checkboard,{borderRadius:v.swatch.borderRadius,boxShadow:\"inset 0 0 0 1px rgba(0,0,0,0.1)\"}))};t.default=(0,i.handleFocus)(c)},1387:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.handleFocus=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(r=i)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function c(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var e,t,n;l(this,r);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=n=c(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},c(n,t)}return u(r,n),o(r,[{key:\"render\",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,a({},this.props,this.state)))}}]),r}(s.default.Component)}},1388:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AlphaPointer=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.AlphaPointer=function(e){var t=e.direction,n=(0,a.default)({default:{picker:{width:\"18px\",height:\"18px\",borderRadius:\"50%\",transform:\"translate(-9px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}},vertical:{picker:{transform:\"translate(-3px, -9px)\"}}},{vertical:\"vertical\"===t});return r.default.createElement(\"div\",{style:n.picker})};t.default=i},1389:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Block=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(96)),i=c(n(358)),s=n(173),l=c(n(1390));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,c=e.colors,u=e.width,d=e.triangle,p=e.className,f=void 0===p?\"\":p,h=\"transparent\"===a,g=function(e,n){i.default.isValidHex(e)&&t({hex:e,source:\"hex\"},n)},b=(0,o.default)({default:{card:{width:u,background:\"#fff\",boxShadow:\"0 1px rgba(0,0,0,.1)\",borderRadius:\"6px\",position:\"relative\"},head:{height:\"110px\",background:a,borderRadius:\"6px 6px 0 0\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",position:\"relative\"},body:{padding:\"10px\"},label:{fontSize:\"18px\",color:i.default.getContrastingColor(a),position:\"relative\"},triangle:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 10px 10px 10px\",borderColor:\"transparent transparent \"+a+\" transparent\",position:\"absolute\",top:\"-10px\",left:\"50%\",marginLeft:\"-10px\"},input:{width:\"100%\",fontSize:\"12px\",color:\"#666\",border:\"0px\",outline:\"none\",height:\"22px\",boxShadow:\"inset 0 0 0 1px #ddd\",borderRadius:\"4px\",padding:\"0 7px\",boxSizing:\"border-box\"}},\"hide-triangle\":{triangle:{display:\"none\"}}},{\"hide-triangle\":\"hide\"===d});return r.default.createElement(\"div\",{style:b.card,className:\"block-picker \"+f},r.default.createElement(\"div\",{style:b.triangle}),r.default.createElement(\"div\",{style:b.head},h&&r.default.createElement(s.Checkboard,{borderRadius:\"6px 6px 0 0\"}),r.default.createElement(\"div\",{style:b.label},a)),r.default.createElement(\"div\",{style:b.body},r.default.createElement(l.default,{colors:c,onClick:g,onSwatchHover:n}),r.default.createElement(s.EditableInput,{style:{input:b.input},value:a,onChange:g})))};u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.string),triangle:a.default.oneOf([\"top\",\"hide\"])},u.defaultProps={width:170,colors:[\"#D9E3F0\",\"#F47373\",\"#697689\",\"#37D67A\",\"#2CCCE4\",\"#555555\",\"#dce775\",\"#ff8a65\",\"#ba68c8\"],triangle:\"top\"},t.default=(0,s.ColorWrap)(u)},1390:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BlockSwatches=void 0;var r=s(n(0)),a=s(n(96)),o=s(n(446)),i=n(173);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,l=(0,a.default)({default:{swatches:{marginRight:\"-10px\"},swatch:{width:\"22px\",height:\"22px\",float:\"left\",marginRight:\"10px\",marginBottom:\"10px\",borderRadius:\"4px\"},clear:{clear:\"both\"}}});return r.default.createElement(\"div\",{style:l.swatches},(0,o.default)(t,(function(e){return r.default.createElement(i.Swatch,{key:e,color:e,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:\"0 0 4px \"+e}})})),r.default.createElement(\"div\",{style:l.clear}))};t.default=l},1391:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Circle=void 0;var r=u(n(0)),a=u(n(2)),o=u(n(96)),i=u(n(446)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1127)),l=n(173),c=u(n(1392));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Circle=function(e){var t=e.width,n=e.onChange,a=e.onSwatchHover,s=e.colors,l=e.hex,u=e.circleSize,d=e.circleSpacing,p=e.className,f=void 0===p?\"\":p,h=(0,o.default)({default:{card:{width:t,display:\"flex\",flexWrap:\"wrap\",marginRight:-d,marginBottom:-d}}}),g=function(e,t){return n({hex:e,source:\"hex\"},t)};return r.default.createElement(\"div\",{style:h.card,className:\"circle-picker \"+f},(0,i.default)(s,(function(e){return r.default.createElement(c.default,{key:e,color:e,onClick:g,onSwatchHover:a,active:l===e.toLowerCase(),circleSize:u,circleSpacing:d})})))};d.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),circleSize:a.default.number,circleSpacing:a.default.number},d.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[s.red[500],s.pink[500],s.purple[500],s.deepPurple[500],s.indigo[500],s.blue[500],s.lightBlue[500],s.cyan[500],s.teal[500],s.green[500],s.lightGreen[500],s.lime[500],s.yellow[500],s.amber[500],s.orange[500],s.deepOrange[500],s.brown[500],s.blueGrey[500]]},t.default=(0,l.ColorWrap)(d)},1392:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CircleSwatch=void 0;var r=s(n(0)),a=n(96),o=s(a),i=n(173);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,a=e.onSwatchHover,s=e.hover,l=e.active,c=e.circleSize,u=e.circleSpacing,d=(0,o.default)({default:{swatch:{width:c,height:c,marginRight:u,marginBottom:u,transform:\"scale(1)\",transition:\"100ms transform ease\"},Swatch:{borderRadius:\"50%\",background:\"transparent\",boxShadow:\"inset 0 0 0 \"+c/2+\"px \"+t,transition:\"100ms box-shadow ease\"}},hover:{swatch:{transform:\"scale(1.2)\"}},active:{Swatch:{boxShadow:\"inset 0 0 0 3px \"+t}}},{hover:s,active:l});return r.default.createElement(\"div\",{style:d.swatch},r.default.createElement(i.Swatch,{style:d.Swatch,color:t,onClick:n,onHover:a,focusStyle:{boxShadow:d.Swatch.boxShadow+\", 0 0 5px \"+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,a.handleHover)(l)},1393:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Chrome=void 0;var r=u(n(0)),a=u(n(2)),o=u(n(96)),i=n(173),s=u(n(1394)),l=u(n(1395)),c=u(n(1396));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,a=e.rgb,u=e.hsl,d=e.hsv,p=e.hex,f=e.renderers,h=e.className,g=void 0===h?\"\":h,b=(0,o.default)({default:{picker:{background:\"#fff\",borderRadius:\"2px\",boxShadow:\"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)\",boxSizing:\"initial\",width:\"225px\",fontFamily:\"Menlo\"},saturation:{width:\"100%\",paddingBottom:\"55%\",position:\"relative\",borderRadius:\"2px 2px 0 0\",overflow:\"hidden\"},Saturation:{radius:\"2px 2px 0 0\"},body:{padding:\"16px 16px 12px\"},controls:{display:\"flex\"},color:{width:\"32px\"},swatch:{marginTop:\"6px\",width:\"16px\",height:\"16px\",borderRadius:\"8px\",position:\"relative\",overflow:\"hidden\"},active:{absolute:\"0px 0px 0px 0px\",borderRadius:\"8px\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.1)\",background:\"rgba(\"+a.r+\", \"+a.g+\", \"+a.b+\", \"+a.a+\")\",zIndex:\"2\"},toggles:{flex:\"1\"},hue:{height:\"10px\",position:\"relative\",marginBottom:\"8px\"},Hue:{radius:\"2px\"},alpha:{height:\"10px\",position:\"relative\"},Alpha:{radius:\"2px\"}},disableAlpha:{color:{width:\"22px\"},alpha:{display:\"none\"},hue:{marginBottom:\"0px\"},swatch:{width:\"10px\",height:\"10px\",marginTop:\"0px\"}}},{disableAlpha:n});return r.default.createElement(\"div\",{style:b.picker,className:\"chrome-picker \"+g},r.default.createElement(\"div\",{style:b.saturation},r.default.createElement(i.Saturation,{style:b.Saturation,hsl:u,hsv:d,pointer:c.default,onChange:t})),r.default.createElement(\"div\",{style:b.body},r.default.createElement(\"div\",{style:b.controls,className:\"flexbox-fix\"},r.default.createElement(\"div\",{style:b.color},r.default.createElement(\"div\",{style:b.swatch},r.default.createElement(\"div\",{style:b.active}),r.default.createElement(i.Checkboard,{renderers:f}))),r.default.createElement(\"div\",{style:b.toggles},r.default.createElement(\"div\",{style:b.hue},r.default.createElement(i.Hue,{style:b.Hue,hsl:u,pointer:l.default,onChange:t})),r.default.createElement(\"div\",{style:b.alpha},r.default.createElement(i.Alpha,{style:b.Alpha,rgb:a,hsl:u,pointer:l.default,renderers:f,onChange:t})))),r.default.createElement(s.default,{rgb:a,hsl:u,hex:p,onChange:t,disableAlpha:n})))};d.propTypes={disableAlpha:a.default.bool},d.defaultProps={disableAlpha:!1},t.default=(0,i.ColorWrap)(d)},1394:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(96)),i=l(n(358)),s=n(173);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var d=t.ChromeFields=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={view:\"\"},r.toggleViews=function(){\"hex\"===r.state.view?r.setState({view:\"rgb\"}):\"rgb\"===r.state.view?r.setState({view:\"hsl\"}):\"hsl\"===r.state.view&&(1===r.props.hsl.a?r.setState({view:\"hex\"}):r.setState({view:\"rgb\"}))},r.handleChange=function(e,t){e.hex?i.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:\"hex\"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:\"rgb\"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:\"rgb\"},t)):(e.h||e.s||e.l)&&r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:\"hsl\"},t)},r.showHighlight=function(e){e.target.style.background=\"#eee\"},r.hideHighlight=function(e){e.target.style.background=\"transparent\"},u(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentDidMount\",value:function(){1===this.props.hsl.a&&\"hex\"!==this.state.view?this.setState({view:\"hex\"}):\"rgb\"!==this.state.view&&\"hsl\"!==this.state.view&&this.setState({view:\"rgb\"})}},{key:\"componentWillReceiveProps\",value:function(e){1!==e.hsl.a&&\"hex\"===this.state.view&&this.setState({view:\"rgb\"})}},{key:\"render\",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:\"16px\",display:\"flex\"},fields:{flex:\"1\",display:\"flex\",marginLeft:\"-6px\"},field:{paddingLeft:\"6px\",width:\"100%\"},alpha:{paddingLeft:\"6px\",width:\"100%\"},toggle:{width:\"32px\",textAlign:\"right\",position:\"relative\"},icon:{marginRight:\"-4px\",marginTop:\"12px\",cursor:\"pointer\",position:\"relative\"},iconHighlight:{position:\"absolute\",width:\"24px\",height:\"28px\",background:\"#eee\",borderRadius:\"4px\",top:\"10px\",left:\"12px\",display:\"none\"},input:{fontSize:\"11px\",color:\"#333\",width:\"100%\",borderRadius:\"2px\",border:\"none\",boxShadow:\"inset 0 0 0 1px #dadada\",height:\"21px\",textAlign:\"center\"},label:{textTransform:\"uppercase\",fontSize:\"11px\",lineHeight:\"11px\",color:\"#969696\",textAlign:\"center\",display:\"block\",marginTop:\"12px\"},svg:{width:\"24px\",height:\"24px\",border:\"1px transparent solid\",borderRadius:\"5px\"}},disableAlpha:{alpha:{display:\"none\"}}},this.props,this.state),n=void 0;return\"hex\"===this.state.view?n=a.default.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},a.default.createElement(\"div\",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"hex\",value:this.props.hex,onChange:this.handleChange}))):\"rgb\"===this.state.view?n=a.default.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},a.default.createElement(\"div\",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"r\",value:this.props.rgb.r,onChange:this.handleChange})),a.default.createElement(\"div\",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"g\",value:this.props.rgb.g,onChange:this.handleChange})),a.default.createElement(\"div\",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"b\",value:this.props.rgb.b,onChange:this.handleChange})),a.default.createElement(\"div\",{style:t.alpha},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"a\",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):\"hsl\"===this.state.view&&(n=a.default.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},a.default.createElement(\"div\",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"h\",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),a.default.createElement(\"div\",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"s\",value:Math.round(100*this.props.hsl.s)+\"%\",onChange:this.handleChange})),a.default.createElement(\"div\",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"l\",value:Math.round(100*this.props.hsl.l)+\"%\",onChange:this.handleChange})),a.default.createElement(\"div\",{style:t.alpha},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"a\",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),a.default.createElement(\"div\",{style:t.wrap,className:\"flexbox-fix\"},n,a.default.createElement(\"div\",{style:t.toggle},a.default.createElement(\"div\",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},a.default.createElement(\"svg\",{style:t.svg,viewBox:\"0 0 24 24\",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},a.default.createElement(\"path\",{ref:function(t){return e.iconUp=t},fill:\"#333\",d:\"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z\"}),a.default.createElement(\"path\",{ref:function(t){return e.iconDown=t},fill:\"#333\",d:\"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z\"})))))}}]),t}(a.default.Component);t.default=d},1395:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChromePointer=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointer=function(){var e=(0,a.default)({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",transform:\"translate(-6px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}}});return r.default.createElement(\"div\",{style:e.picker})};t.default=i},1396:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChromePointerCircle=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointerCircle=function(){var e=(0,a.default)({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",boxShadow:\"inset 0 0 0 1px #fff\",transform:\"translate(-6px, -6px)\"}}});return r.default.createElement(\"div\",{style:e.picker})};t.default=i},1397:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Compact=void 0;var r=d(n(0)),a=d(n(2)),o=d(n(96)),i=d(n(446)),s=d(n(358)),l=n(173),c=d(n(1398)),u=d(n(1399));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.colors,d=e.hex,p=e.rgb,f=e.className,h=void 0===f?\"\":f,g=(0,o.default)({default:{Compact:{background:\"#f6f6f6\",radius:\"4px\"},compact:{paddingTop:\"5px\",paddingLeft:\"5px\",boxSizing:\"initial\",width:\"240px\"},clear:{clear:\"both\"}}}),b=function(e,n){e.hex?s.default.isValidHex(e.hex)&&t({hex:e.hex,source:\"hex\"},n):t(e,n)};return r.default.createElement(l.Raised,{style:g.Compact},r.default.createElement(\"div\",{style:g.compact,className:\"compact-picker \"+h},r.default.createElement(\"div\",null,(0,i.default)(a,(function(e){return r.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===d,onClick:b,onSwatchHover:n})})),r.default.createElement(\"div\",{style:g.clear})),r.default.createElement(u.default,{hex:d,rgb:p,onChange:b})))};p.propTypes={colors:a.default.arrayOf(a.default.string)},p.defaultProps={colors:[\"#4D4D4D\",\"#999999\",\"#FFFFFF\",\"#F44E3B\",\"#FE9200\",\"#FCDC00\",\"#DBDF00\",\"#A4DD00\",\"#68CCCA\",\"#73D8FF\",\"#AEA1FF\",\"#FDA1FF\",\"#333333\",\"#808080\",\"#cccccc\",\"#D33115\",\"#E27300\",\"#FCC400\",\"#B0BC00\",\"#68BC00\",\"#16A5A5\",\"#009CE0\",\"#7B64FF\",\"#FA28FF\",\"#000000\",\"#666666\",\"#B3B3B3\",\"#9F0500\",\"#C45100\",\"#FB9E00\",\"#808900\",\"#194D33\",\"#0C797D\",\"#0062B1\",\"#653294\",\"#AB149E\"]},t.default=(0,l.ColorWrap)(p)},1398:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CompactColor=void 0;var r=s(n(0)),a=s(n(96)),o=s(n(358)),i=n(173);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,c=e.active,u=(0,a.default)({default:{color:{background:t,width:\"15px\",height:\"15px\",float:\"left\",marginRight:\"5px\",marginBottom:\"5px\",position:\"relative\",cursor:\"pointer\"},dot:{absolute:\"5px 5px 5px 5px\",background:o.default.getContrastingColor(t),borderRadius:\"50%\",opacity:\"0\"}},active:{dot:{opacity:\"1\"}},\"color-#FFFFFF\":{color:{boxShadow:\"inset 0 0 0 1px #ddd\"},dot:{background:\"#000\"}},transparent:{dot:{background:\"#000\"}}},{active:c,\"color-#FFFFFF\":\"#FFFFFF\"===t,transparent:\"transparent\"===t});return r.default.createElement(i.Swatch,{style:u.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:\"0 0 4px \"+t}},r.default.createElement(\"div\",{style:u.dot}))};t.default=l},1399:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CompactFields=void 0;var r=i(n(0)),a=i(n(96)),o=n(173);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,i=e.onChange,s=(0,a.default)({default:{fields:{display:\"flex\",paddingBottom:\"6px\",paddingRight:\"5px\",position:\"relative\"},active:{position:\"absolute\",top:\"6px\",left:\"5px\",height:\"9px\",width:\"9px\",background:t},HEXwrap:{flex:\"6\",position:\"relative\"},HEXinput:{width:\"80%\",padding:\"0px\",paddingLeft:\"20%\",border:\"none\",outline:\"none\",background:\"none\",fontSize:\"12px\",color:\"#333\",height:\"16px\"},HEXlabel:{display:\"none\"},RGBwrap:{flex:\"3\",position:\"relative\"},RGBinput:{width:\"70%\",padding:\"0px\",paddingLeft:\"30%\",border:\"none\",outline:\"none\",background:\"none\",fontSize:\"12px\",color:\"#333\",height:\"16px\"},RGBlabel:{position:\"absolute\",top:\"3px\",left:\"0px\",lineHeight:\"16px\",textTransform:\"uppercase\",fontSize:\"12px\",color:\"#999\"}}}),l=function(e,t){e.r||e.g||e.b?i({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:\"rgb\"},t):i({hex:e.hex,source:\"hex\"},t)};return r.default.createElement(\"div\",{style:s.fields,className:\"flexbox-fix\"},r.default.createElement(\"div\",{style:s.active}),r.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:\"hex\",value:t,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"r\",value:n.r,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"g\",value:n.g,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"b\",value:n.b,onChange:l}))};t.default=s},1400:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Github=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(96)),i=c(n(446)),s=n(173),l=c(n(1401));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Github=function(e){var t=e.width,n=e.colors,a=e.onChange,s=e.onSwatchHover,c=e.triangle,u=e.className,d=void 0===u?\"\":u,p=(0,o.default)({default:{card:{width:t,background:\"#fff\",border:\"1px solid rgba(0,0,0,0.2)\",boxShadow:\"0 3px 12px rgba(0,0,0,0.15)\",borderRadius:\"4px\",position:\"relative\",padding:\"5px\",display:\"flex\",flexWrap:\"wrap\"},triangle:{position:\"absolute\",border:\"7px solid transparent\",borderBottomColor:\"#fff\"},triangleShadow:{position:\"absolute\",border:\"8px solid transparent\",borderBottomColor:\"rgba(0,0,0,0.15)\"}},\"hide-triangle\":{triangle:{display:\"none\"},triangleShadow:{display:\"none\"}},\"top-left-triangle\":{triangle:{top:\"-14px\",left:\"10px\"},triangleShadow:{top:\"-16px\",left:\"9px\"}},\"top-right-triangle\":{triangle:{top:\"-14px\",right:\"10px\"},triangleShadow:{top:\"-16px\",right:\"9px\"}},\"bottom-left-triangle\":{triangle:{top:\"35px\",left:\"10px\",transform:\"rotate(180deg)\"},triangleShadow:{top:\"37px\",left:\"9px\",transform:\"rotate(180deg)\"}},\"bottom-right-triangle\":{triangle:{top:\"35px\",right:\"10px\",transform:\"rotate(180deg)\"},triangleShadow:{top:\"37px\",right:\"9px\",transform:\"rotate(180deg)\"}}},{\"hide-triangle\":\"hide\"===c,\"top-left-triangle\":\"top-left\"===c,\"top-right-triangle\":\"top-right\"===c,\"bottom-left-triangle\":\"bottom-left\"==c,\"bottom-right-triangle\":\"bottom-right\"===c}),f=function(e,t){return a({hex:e,source:\"hex\"},t)};return r.default.createElement(\"div\",{style:p.card,className:\"github-picker \"+d},r.default.createElement(\"div\",{style:p.triangleShadow}),r.default.createElement(\"div\",{style:p.triangle}),(0,i.default)(n,(function(e){return r.default.createElement(l.default,{color:e,key:e,onClick:f,onSwatchHover:s})})))};u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.string),triangle:a.default.oneOf([\"hide\",\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"])},u.defaultProps={width:200,colors:[\"#B80000\",\"#DB3E00\",\"#FCCB00\",\"#008B02\",\"#006B76\",\"#1273DE\",\"#004DCF\",\"#5300EB\",\"#EB9694\",\"#FAD0C3\",\"#FEF3BD\",\"#C1E1C5\",\"#BEDADC\",\"#C4DEF6\",\"#BED3F3\",\"#D4C4FB\"],triangle:\"top-left\"},t.default=(0,s.ColorWrap)(u)},1401:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.GithubSwatch=void 0;var r=s(n(0)),a=n(96),o=s(a),i=n(173);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,a=e.onClick,s=e.onSwatchHover,l={position:\"relative\",zIndex:\"2\",outline:\"2px solid #fff\",boxShadow:\"0 0 5px 2px rgba(0,0,0,0.25)\"},c=(0,o.default)({default:{swatch:{width:\"25px\",height:\"25px\",fontSize:\"0\"}},hover:{swatch:l}},{hover:t});return r.default.createElement(\"div\",{style:c.swatch},r.default.createElement(i.Swatch,{color:n,onClick:a,onHover:s,focusStyle:l}))};t.default=(0,a.handleHover)(l)},1402:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(96)),i=n(173),s=l(n(1403));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.HuePicker=function(e){var t=e.width,n=e.height,s=e.onChange,l=e.hsl,c=e.direction,u=e.pointer,d=e.className,p=void 0===d?\"\":d,f=(0,o.default)({default:{picker:{position:\"relative\",width:t,height:n},hue:{radius:\"2px\"}}});return a.default.createElement(\"div\",{style:f.picker,className:\"hue-picker \"+p},a.default.createElement(i.Hue,r({},f.hue,{hsl:l,pointer:u,onChange:function(e){return s({a:1,h:e.h,l:.5,s:1})},direction:c})))};c.defaultProps={width:\"316px\",height:\"16px\",direction:\"horizontal\",pointer:s.default},t.default=(0,i.ColorWrap)(c)},1403:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SliderPointer=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(e){var t=e.direction,n=(0,a.default)({default:{picker:{width:\"18px\",height:\"18px\",borderRadius:\"50%\",transform:\"translate(-9px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}},vertical:{picker:{transform:\"translate(-3px, -9px)\"}}},{vertical:\"vertical\"===t});return r.default.createElement(\"div\",{style:n.picker})};t.default=i},1404:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Material=void 0;var r=s(n(0)),a=s(n(96)),o=s(n(358)),i=n(173);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Material=function(e){var t=e.onChange,n=e.hex,s=e.rgb,l=e.className,c=void 0===l?\"\":l,u=(0,a.default)({default:{material:{width:\"98px\",height:\"98px\",padding:\"16px\",fontFamily:\"Roboto\"},HEXwrap:{position:\"relative\"},HEXinput:{width:\"100%\",marginTop:\"12px\",fontSize:\"15px\",color:\"#333\",padding:\"0px\",border:\"0px\",borderBottom:\"2px solid \"+n,outline:\"none\",height:\"30px\"},HEXlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",fontSize:\"11px\",color:\"#999999\",textTransform:\"capitalize\"},Hex:{style:{}},RGBwrap:{position:\"relative\"},RGBinput:{width:\"100%\",marginTop:\"12px\",fontSize:\"15px\",color:\"#333\",padding:\"0px\",border:\"0px\",borderBottom:\"1px solid #eee\",outline:\"none\",height:\"30px\"},RGBlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",fontSize:\"11px\",color:\"#999999\",textTransform:\"capitalize\"},split:{display:\"flex\",marginRight:\"-10px\",paddingTop:\"11px\"},third:{flex:\"1\",paddingRight:\"10px\"}}}),d=function(e,n){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:\"hex\"},n):(e.r||e.g||e.b)&&t({r:e.r||s.r,g:e.g||s.g,b:e.b||s.b,source:\"rgb\"},n)};return r.default.createElement(i.Raised,null,r.default.createElement(\"div\",{style:u.material,className:\"material-picker \"+c},r.default.createElement(i.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:\"hex\",value:n,onChange:d}),r.default.createElement(\"div\",{style:u.split,className:\"flexbox-fix\"},r.default.createElement(\"div\",{style:u.third},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:\"r\",value:s.r,onChange:d})),r.default.createElement(\"div\",{style:u.third},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:\"g\",value:s.g,onChange:d})),r.default.createElement(\"div\",{style:u.third},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:\"b\",value:s.b,onChange:d})))))};t.default=(0,i.ColorWrap)(l)},1405:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(0)),o=f(n(2)),i=f(n(96)),s=n(173),l=f(n(1406)),c=f(n(1407)),u=f(n(1408)),d=f(n(1409)),p=f(n(1410));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"render\",value:function(){var e=this.props.className,t=void 0===e?\"\":e,n=(0,i.default)({default:{picker:{background:\"#DCDCDC\",borderRadius:\"4px\",boxShadow:\"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)\",boxSizing:\"initial\",width:\"513px\"},head:{backgroundImage:\"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)\",borderBottom:\"1px solid #B1B1B1\",boxShadow:\"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)\",height:\"23px\",lineHeight:\"24px\",borderRadius:\"4px 4px 0 0\",fontSize:\"13px\",color:\"#4D4D4D\",textAlign:\"center\"},body:{padding:\"15px 15px 0\",display:\"flex\"},saturation:{width:\"256px\",height:\"256px\",position:\"relative\",border:\"2px solid #B3B3B3\",borderBottom:\"2px solid #F0F0F0\",overflow:\"hidden\"},hue:{position:\"relative\",height:\"256px\",width:\"19px\",marginLeft:\"10px\",border:\"2px solid #B3B3B3\",borderBottom:\"2px solid #F0F0F0\"},controls:{width:\"180px\",marginLeft:\"10px\"},top:{display:\"flex\"},previews:{width:\"60px\"},actions:{flex:\"1\",marginLeft:\"20px\"}}});return a.default.createElement(\"div\",{style:n.picker,className:\"photoshop-picker \"+t},a.default.createElement(\"div\",{style:n.head},this.props.header),a.default.createElement(\"div\",{style:n.body,className:\"flexbox-fix\"},a.default.createElement(\"div\",{style:n.saturation},a.default.createElement(s.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),a.default.createElement(\"div\",{style:n.hue},a.default.createElement(s.Hue,{direction:\"vertical\",hsl:this.props.hsl,pointer:u.default,onChange:this.props.onChange})),a.default.createElement(\"div\",{style:n.controls},a.default.createElement(\"div\",{style:n.top,className:\"flexbox-fix\"},a.default.createElement(\"div\",{style:n.previews},a.default.createElement(p.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),a.default.createElement(\"div\",{style:n.actions},a.default.createElement(d.default,{label:\"OK\",onClick:this.props.onAccept,active:!0}),a.default.createElement(d.default,{label:\"Cancel\",onClick:this.props.onCancel}),a.default.createElement(l.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(a.default.Component);h.propTypes={header:o.default.string},h.defaultProps={header:\"Color Picker\"},t.default=(0,s.ColorWrap)(h)},1406:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(0)),a=s(n(96)),o=s(n(358)),i=n(173);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,l=e.hex,c=(0,a.default)({default:{fields:{paddingTop:\"5px\",paddingBottom:\"9px\",width:\"80px\",position:\"relative\"},divider:{height:\"5px\"},RGBwrap:{position:\"relative\"},RGBinput:{marginLeft:\"40%\",width:\"40%\",height:\"18px\",border:\"1px solid #888888\",boxShadow:\"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC\",marginBottom:\"5px\",fontSize:\"13px\",paddingLeft:\"3px\",marginRight:\"10px\"},RGBlabel:{left:\"0px\",width:\"34px\",textTransform:\"uppercase\",fontSize:\"13px\",height:\"18px\",lineHeight:\"22px\",position:\"absolute\"},HEXwrap:{position:\"relative\"},HEXinput:{marginLeft:\"20%\",width:\"80%\",height:\"18px\",border:\"1px solid #888888\",boxShadow:\"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC\",marginBottom:\"6px\",fontSize:\"13px\",paddingLeft:\"3px\"},HEXlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",width:\"14px\",textTransform:\"uppercase\",fontSize:\"13px\",height:\"18px\",lineHeight:\"22px\"},fieldSymbols:{position:\"absolute\",top:\"5px\",right:\"-7px\",fontSize:\"13px\"},symbol:{height:\"20px\",lineHeight:\"22px\",paddingBottom:\"7px\"}}}),u=function(e,r){e[\"#\"]?o.default.isValidHex(e[\"#\"])&&t({hex:e[\"#\"],source:\"hex\"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:\"rgb\"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:\"hsv\"},r)};return r.default.createElement(\"div\",{style:c.fields},r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:\"h\",value:Math.round(s.h),onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:\"s\",value:Math.round(100*s.s),onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:\"v\",value:Math.round(100*s.v),onChange:u}),r.default.createElement(\"div\",{style:c.divider}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:\"r\",value:n.r,onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:\"g\",value:n.g,onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:\"b\",value:n.b,onChange:u}),r.default.createElement(\"div\",{style:c.divider}),r.default.createElement(i.EditableInput,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:\"#\",value:l.replace(\"#\",\"\"),onChange:u}),r.default.createElement(\"div\",{style:c.fieldSymbols},r.default.createElement(\"div\",{style:c.symbol},\"°\"),r.default.createElement(\"div\",{style:c.symbol},\"%\"),r.default.createElement(\"div\",{style:c.symbol},\"%\")))};t.default=l},1407:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,a.default)({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",boxShadow:\"inset 0 0 0 1px #fff\",transform:\"translate(-6px, -6px)\"}},\"black-outline\":{picker:{boxShadow:\"inset 0 0 0 1px #000\"}}},{\"black-outline\":t.l>.5});return r.default.createElement(\"div\",{style:n.picker})};t.default=i},1408:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(){var e=(0,a.default)({default:{triangle:{width:0,height:0,borderStyle:\"solid\",borderWidth:\"4px 0 4px 6px\",borderColor:\"transparent transparent transparent #fff\",position:\"absolute\",top:\"1px\",left:\"1px\"},triangleBorder:{width:0,height:0,borderStyle:\"solid\",borderWidth:\"5px 0 5px 8px\",borderColor:\"transparent transparent transparent #555\"},left:{Extend:\"triangleBorder\",transform:\"translate(-13px, -4px)\"},leftInside:{Extend:\"triangle\",transform:\"translate(-8px, -5px)\"},right:{Extend:\"triangleBorder\",transform:\"translate(20px, -14px) rotate(180deg)\"},rightInside:{Extend:\"triangle\",transform:\"translate(-8px, -5px)\"}}});return r.default.createElement(\"div\",{style:e.pointer},r.default.createElement(\"div\",{style:e.left},r.default.createElement(\"div\",{style:e.leftInside})),r.default.createElement(\"div\",{style:e.right},r.default.createElement(\"div\",{style:e.rightInside})))};t.default=i},1409:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopBotton=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,o=e.children,i=e.active,s=(0,a.default)({default:{button:{backgroundImage:\"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)\",border:\"1px solid #878787\",borderRadius:\"2px\",height:\"20px\",boxShadow:\"0 1px 0 0 #EAEAEA\",fontSize:\"14px\",color:\"#000\",lineHeight:\"20px\",textAlign:\"center\",marginBottom:\"10px\",cursor:\"pointer\"}},active:{button:{boxShadow:\"0 0 0 1px #878787\"}}},{active:i});return r.default.createElement(\"div\",{style:s.button,onClick:t},n||o)};t.default=i},1410:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopPreviews=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,o=(0,a.default)({default:{swatches:{border:\"1px solid #B3B3B3\",borderBottom:\"1px solid #F0F0F0\",marginBottom:\"2px\",marginTop:\"1px\"},new:{height:\"34px\",background:\"rgb(\"+t.r+\",\"+t.g+\", \"+t.b+\")\",boxShadow:\"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000\"},current:{height:\"34px\",background:n,boxShadow:\"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000\"},label:{fontSize:\"14px\",color:\"#000\",textAlign:\"center\"}}});return r.default.createElement(\"div\",null,r.default.createElement(\"div\",{style:o.label},\"new\"),r.default.createElement(\"div\",{style:o.swatches},r.default.createElement(\"div\",{style:o.new}),r.default.createElement(\"div\",{style:o.current})),r.default.createElement(\"div\",{style:o.label},\"current\"))};t.default=i},1411:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Sketch=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(96)),i=n(173),s=c(n(1412)),l=c(n(1413));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Sketch=function(e){var t=e.width,n=e.rgb,a=e.hex,c=e.hsv,u=e.hsl,d=e.onChange,p=e.onSwatchHover,f=e.disableAlpha,h=e.presetColors,g=e.renderers,b=e.className,v=void 0===b?\"\":b,m=(0,o.default)({default:{picker:{width:t,padding:\"10px 10px 0\",boxSizing:\"initial\",background:\"#fff\",borderRadius:\"4px\",boxShadow:\"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)\"},saturation:{width:\"100%\",paddingBottom:\"75%\",position:\"relative\",overflow:\"hidden\"},Saturation:{radius:\"3px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},controls:{display:\"flex\"},sliders:{padding:\"4px 0\",flex:\"1\"},color:{width:\"24px\",height:\"24px\",position:\"relative\",marginTop:\"4px\",marginLeft:\"4px\",borderRadius:\"3px\"},activeColor:{absolute:\"0px 0px 0px 0px\",borderRadius:\"2px\",background:\"rgba(\"+n.r+\",\"+n.g+\",\"+n.b+\",\"+n.a+\")\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},hue:{position:\"relative\",height:\"10px\",overflow:\"hidden\"},Hue:{radius:\"2px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},alpha:{position:\"relative\",height:\"10px\",marginTop:\"4px\",overflow:\"hidden\"},Alpha:{radius:\"2px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"}},disableAlpha:{color:{height:\"10px\"},hue:{height:\"10px\"},alpha:{display:\"none\"}}},{disableAlpha:f});return r.default.createElement(\"div\",{style:m.picker,className:\"sketch-picker \"+v},r.default.createElement(\"div\",{style:m.saturation},r.default.createElement(i.Saturation,{style:m.Saturation,hsl:u,hsv:c,onChange:d})),r.default.createElement(\"div\",{style:m.controls,className:\"flexbox-fix\"},r.default.createElement(\"div\",{style:m.sliders},r.default.createElement(\"div\",{style:m.hue},r.default.createElement(i.Hue,{style:m.Hue,hsl:u,onChange:d})),r.default.createElement(\"div\",{style:m.alpha},r.default.createElement(i.Alpha,{style:m.Alpha,rgb:n,hsl:u,renderers:g,onChange:d}))),r.default.createElement(\"div\",{style:m.color},r.default.createElement(i.Checkboard,null),r.default.createElement(\"div\",{style:m.activeColor}))),r.default.createElement(s.default,{rgb:n,hsl:u,hex:a,onChange:d,disableAlpha:f}),r.default.createElement(l.default,{colors:h,onClick:d,onSwatchHover:p}))};u.propTypes={disableAlpha:a.default.bool,width:a.default.oneOfType([a.default.string,a.default.number])},u.defaultProps={disableAlpha:!1,width:200,presetColors:[\"#D0021B\",\"#F5A623\",\"#F8E71C\",\"#8B572A\",\"#7ED321\",\"#417505\",\"#BD10E0\",\"#9013FE\",\"#4A90E2\",\"#50E3C2\",\"#B8E986\",\"#000000\",\"#4A4A4A\",\"#9B9B9B\",\"#FFFFFF\"]},t.default=(0,i.ColorWrap)(u)},1412:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SketchFields=void 0;var r=s(n(0)),a=s(n(96)),o=s(n(358)),i=n(173);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,l=e.hex,c=e.disableAlpha,u=(0,a.default)({default:{fields:{display:\"flex\",paddingTop:\"4px\"},single:{flex:\"1\",paddingLeft:\"6px\"},alpha:{flex:\"1\",paddingLeft:\"6px\"},double:{flex:\"2\"},input:{width:\"80%\",padding:\"4px 10% 3px\",border:\"none\",boxShadow:\"inset 0 0 0 1px #ccc\",fontSize:\"11px\"},label:{display:\"block\",textAlign:\"center\",fontSize:\"11px\",color:\"#222\",paddingTop:\"3px\",paddingBottom:\"4px\",textTransform:\"capitalize\"}},disableAlpha:{alpha:{display:\"none\"}}},{disableAlpha:c}),d=function(e,r){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:\"hex\"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:\"rgb\"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:\"rgb\"},r))};return r.default.createElement(\"div\",{style:u.fields,className:\"flexbox-fix\"},r.default.createElement(\"div\",{style:u.double},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:\"hex\",value:l.replace(\"#\",\"\"),onChange:d})),r.default.createElement(\"div\",{style:u.single},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:\"r\",value:n.r,onChange:d,dragLabel:\"true\",dragMax:\"255\"})),r.default.createElement(\"div\",{style:u.single},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:\"g\",value:n.g,onChange:d,dragLabel:\"true\",dragMax:\"255\"})),r.default.createElement(\"div\",{style:u.single},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:\"b\",value:n.b,onChange:d,dragLabel:\"true\",dragMax:\"255\"})),r.default.createElement(\"div\",{style:u.alpha},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:\"a\",value:Math.round(100*n.a),onChange:d,dragLabel:\"true\",dragMax:\"100\"})))};t.default=l},1413:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(2)),i=l(n(96)),s=n(173);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,l=e.onSwatchHover,c=(0,i.default)({default:{colors:{margin:\"0 -10px\",padding:\"10px 0 0 10px\",borderTop:\"1px solid #eee\",display:\"flex\",flexWrap:\"wrap\",position:\"relative\"},swatchWrap:{width:\"16px\",height:\"16px\",margin:\"0 10px 10px 0\"},swatch:{borderRadius:\"3px\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15)\"}},\"no-presets\":{colors:{display:\"none\"}}},{\"no-presets\":!t||!t.length}),u=function(e,t){o({hex:e,source:\"hex\"},t)};return a.default.createElement(\"div\",{style:c.colors,className:\"flexbox-fix\"},t.map((function(e){var t=\"string\"==typeof e?{color:e}:e,n=\"\"+t.color+(t.title||\"\");return a.default.createElement(\"div\",{key:n,style:c.swatchWrap},a.default.createElement(s.Swatch,r({},t,{style:c.swatch,onClick:u,onHover:l,focusStyle:{boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px \"+t.color}})))})))};c.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=c},1414:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Slider=void 0;var r=l(n(0)),a=l(n(96)),o=n(173),i=l(n(1415)),s=l(n(1417));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Slider=function(e){var t=e.hsl,n=e.onChange,s=e.pointer,l=e.className,c=void 0===l?\"\":l,u=(0,a.default)({default:{hue:{height:\"12px\",position:\"relative\"},Hue:{radius:\"2px\"}}});return r.default.createElement(\"div\",{className:\"slider-picker \"+c},r.default.createElement(\"div\",{style:u.hue},r.default.createElement(o.Hue,{style:u.Hue,hsl:t,pointer:s,onChange:n})),r.default.createElement(\"div\",{style:u.swatches},r.default.createElement(i.default,{hsl:t,onClick:n})))};c.defaultProps={pointer:s.default},t.default=(0,o.ColorWrap)(c)},1415:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SliderSwatches=void 0;var r=i(n(0)),a=i(n(96)),o=i(n(1416));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,i=(0,a.default)({default:{swatches:{marginTop:\"20px\"},swatch:{boxSizing:\"border-box\",width:\"20%\",paddingRight:\"1px\",float:\"left\"},clear:{clear:\"both\"}}});return r.default.createElement(\"div\",{style:i.swatches},r.default.createElement(\"div\",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:\".80\",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),r.default.createElement(\"div\",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:\".65\",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement(\"div\",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:\".50\",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement(\"div\",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:\".35\",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement(\"div\",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:\".20\",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),r.default.createElement(\"div\",{style:i.clear}))};t.default=s},1416:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SliderSwatch=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,o=e.onClick,i=void 0===o?function(){}:o,s=e.active,l=e.first,c=e.last,u=(0,a.default)({default:{swatch:{height:\"12px\",background:\"hsl(\"+t.h+\", 50%, \"+100*n+\"%)\",cursor:\"pointer\"}},first:{swatch:{borderRadius:\"2px 0 0 2px\"}},last:{swatch:{borderRadius:\"0 2px 2px 0\"}},active:{swatch:{transform:\"scaleY(1.8)\",borderRadius:\"3.6px/2px\"}}},{active:s,first:l,last:c});return r.default.createElement(\"div\",{style:u.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:\"hsl\"},e)}})};t.default=i},1417:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SliderPointer=void 0;var r=o(n(0)),a=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(){var e=(0,a.default)({default:{picker:{width:\"14px\",height:\"14px\",borderRadius:\"6px\",transform:\"translate(-7px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}}});return r.default.createElement(\"div\",{style:e.picker})};t.default=i},1418:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Swatches=void 0;var r=d(n(0)),a=d(n(2)),o=d(n(96)),i=d(n(446)),s=d(n(358)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1127)),c=n(173),u=d(n(1419));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Swatches=function(e){var t=e.width,n=e.height,a=e.onChange,l=e.onSwatchHover,d=e.colors,p=e.hex,f=e.className,h=void 0===f?\"\":f,g=(0,o.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:\"scroll\"},body:{padding:\"16px 0 6px 16px\"},clear:{clear:\"both\"}}}),b=function(e,t){s.default.isValidHex(e)&&a({hex:e,source:\"hex\"},t)};return r.default.createElement(\"div\",{style:g.picker,className:\"swatches-picker \"+h},r.default.createElement(c.Raised,null,r.default.createElement(\"div\",{style:g.overflow},r.default.createElement(\"div\",{style:g.body},(0,i.default)(d,(function(e){return r.default.createElement(u.default,{key:e.toString(),group:e,active:p,onClick:b,onSwatchHover:l})})),r.default.createElement(\"div\",{style:g.clear})))))};p.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.arrayOf(a.default.string))},p.defaultProps={width:320,height:240,colors:[[l.red[900],l.red[700],l.red[500],l.red[300],l.red[100]],[l.pink[900],l.pink[700],l.pink[500],l.pink[300],l.pink[100]],[l.purple[900],l.purple[700],l.purple[500],l.purple[300],l.purple[100]],[l.deepPurple[900],l.deepPurple[700],l.deepPurple[500],l.deepPurple[300],l.deepPurple[100]],[l.indigo[900],l.indigo[700],l.indigo[500],l.indigo[300],l.indigo[100]],[l.blue[900],l.blue[700],l.blue[500],l.blue[300],l.blue[100]],[l.lightBlue[900],l.lightBlue[700],l.lightBlue[500],l.lightBlue[300],l.lightBlue[100]],[l.cyan[900],l.cyan[700],l.cyan[500],l.cyan[300],l.cyan[100]],[l.teal[900],l.teal[700],l.teal[500],l.teal[300],l.teal[100]],[\"#194D33\",l.green[700],l.green[500],l.green[300],l.green[100]],[l.lightGreen[900],l.lightGreen[700],l.lightGreen[500],l.lightGreen[300],l.lightGreen[100]],[l.lime[900],l.lime[700],l.lime[500],l.lime[300],l.lime[100]],[l.yellow[900],l.yellow[700],l.yellow[500],l.yellow[300],l.yellow[100]],[l.amber[900],l.amber[700],l.amber[500],l.amber[300],l.amber[100]],[l.orange[900],l.orange[700],l.orange[500],l.orange[300],l.orange[100]],[l.deepOrange[900],l.deepOrange[700],l.deepOrange[500],l.deepOrange[300],l.deepOrange[100]],[l.brown[900],l.brown[700],l.brown[500],l.brown[300],l.brown[100]],[l.blueGrey[900],l.blueGrey[700],l.blueGrey[500],l.blueGrey[300],l.blueGrey[100]],[\"#000000\",\"#525252\",\"#969696\",\"#D9D9D9\",\"#FFFFFF\"]]},t.default=(0,c.ColorWrap)(p)},1419:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(0)),a=s(n(96)),o=s(n(446)),i=s(n(1420));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,l=e.active,c=(0,a.default)({default:{group:{paddingBottom:\"10px\",width:\"40px\",float:\"left\",marginRight:\"10px\"}}});return r.default.createElement(\"div\",{style:c.group},(0,o.default)(s,(function(e,a){return r.default.createElement(i.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===a,last:a===s.length-1,onClick:t,onSwatchHover:n})})))};t.default=l},142:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return k})),n.d(t,\"d\",(function(){return P})),n.d(t,\"k\",(function(){return N})),n.d(t,\"g\",(function(){return A})),n.d(t,\"e\",(function(){return I})),n.d(t,\"h\",(function(){return F})),n.d(t,\"m\",(function(){return L})),n.d(t,\"a\",(function(){return B})),n.d(t,\"i\",(function(){return U})),n.d(t,\"l\",(function(){return V})),n.d(t,\"c\",(function(){return H})),n.d(t,\"b\",(function(){return q})),n.d(t,\"n\",(function(){return G})),n.d(t,\"j\",(function(){return z}));n(208),n(280),n(437),n(36);var r=n(6),a=n.n(r),o=n(273),i=n.n(o),s=n(56),l=n.n(s),c=n(155),u=n.n(c),d=n(4),p=n.n(d),f=n(47),h=n.n(f),g=n(44),b=n.n(g),v=n(17),m=n.n(v),y=n(29),O=n.n(y),C=n(0),x=n(375),w=n.n(x),j=n(225),_=n(236),E=n(483),S=n(436),T=n(267),D=n(54);function k(e){const{slice:t}=e;return t?t.slice_id:0}let M=0;function R(e=!1){let t=0;return e&&(t=M%S.b.length,M+=1,0===t&&(t+=1,M+=1)),S.b[t]}function P(e,t,n){if(null==e)return null;const r=n?\"annotation_json\":\"slice_json\";return w()(window.location.search).pathname(\"/superset/\"+r+\"/\"+e).search({form_data:Object(T.a)(t,(e,t)=>null===t?void 0:t)}).toString()}function N(e=\"base\"){var t;return O()(t=[\"full\",\"json\",\"csv\",\"query\",\"results\",\"samples\"]).call(t,e)?\"/superset/explore_json/\":\"/superset/explore/\"}function A(e,t,n=!0,r={}){var a;if(!e.datasource)return null;const o=new w.a(\"/\"),i=N(t),s=o.search(!0);m()(a=b()(r)).call(a,e=>{s[e]=r[e]}),s.form_data=Object(T.a)(e),\"standalone\"===t&&(s.standalone=\"true\");const l=o.directory(i).search(s).toString();if(!n&&l.length>8e3){return A({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null})}return l}function I({path:e,qs:t,allowDomainSharding:n=!1}){var r;let a=new w.a({protocol:h()(r=window.location.protocol).call(r,0,-1),hostname:R(n),port:window.location.port?window.location.port:\"\",path:e});return t&&(a=a.search(t)),a}function F({formData:e,endpointType:t=\"base\",force:n=!1,curUrl:r=null,requestParams:a={},allowDomainSharding:o=!1,method:i=\"POST\"}){if(!e.datasource)return null;let s=I({path:\"/\",allowDomainSharding:o});r&&(s=w()(w()(r).search()));const l=N(t),c=s.search(!0),{slice_id:u,extra_filters:d,adhoc_filters:p,viz_type:f}=e;if(u){const e={slice_id:u};\"GET\"===i&&(e.viz_type=f,d&&d.length&&(e.extra_filters=d),p&&p.length&&(e.adhoc_filters=p)),c.form_data=Object(T.a)(e)}n&&(c.force=\"true\"),\"csv\"===t&&(c.csv=\"true\"),\"standalone\"===t&&(c.standalone=\"true\"),\"query\"===t&&(c.query=\"true\"),\"results\"===t&&(c.results=\"true\"),\"samples\"===t&&(c.samples=\"true\");const h=b()(a);return h.length&&m()(h).call(h,e=>{a.hasOwnProperty(e)&&(c[e]=a[e])}),s.search(c).directory(l).toString()}const L=e=>{const t=Object(j.a)().get(e.viz_type);return!!t&&t.useLegacyApi},B=({formData:e,force:t,resultFormat:n,resultType:r})=>{var a;return(null!=(a=Object(_.a)().get(e.viz_type))?a:e=>Object(E.a)(e,e=>[p()({},e)]))(p()({},e,{force:t,result_format:n,result_type:r}))},U=({resultType:e,resultFormat:t})=>\"csv\"===t?t:e;function V(e,t,n=\"_blank\"){if(!e)return;const r=document.createElement(\"form\");r.action=e,r.method=\"POST\",r.target=n;const a=document.createElement(\"input\");a.type=\"hidden\",a.name=\"csrf_token\",a.value=(document.getElementById(\"csrf_token\")||{}).value,r.appendChild(a);const o=document.createElement(\"input\");o.type=\"hidden\",o.name=\"form_data\",o.value=Object(T.a)(t),r.appendChild(o),document.body.appendChild(r),r.submit(),document.body.removeChild(r)}const H=({formData:e,resultFormat:t=\"json\",resultType:n=\"full\",force:r=!1})=>{let a,o;if(L(e)){a=F({formData:e,endpointType:U({resultFormat:t,resultType:n}),allowDomainSharding:!1}),o=e}else a=\"/api/v1/chart/data\",o=B({formData:e,force:r,resultFormat:t,resultType:n});V(a,o)},q=e=>{V(F({formData:e,endpointType:\"base\",allowDomainSharding:!1}),e)},G=(e,t,n)=>{const r=Object(C.useCallback)(e,n);Object(C.useEffect)(()=>{const e=u()(()=>{r()},t);return()=>{clearTimeout(e)}},[r,t])},z=(e,t,n)=>{const r=D.i.has(t);let o=null!=e?e:\"\";if(e&&t){o+=\" \"+t;const e=r&&l()(n)?n[0]:n;let s;s=null==n?[]:l()(n)?n:[n];const c=void 0!==e&&i()(Number(e)),u=c?\"'\":\"\",[d,p]=r?[\"(\",\")\"]:[\"\",\"\"],f=a()(s).call(s,e=>\"\"+u+(c?e.replace(\"'\",\"''\"):e)+u);s.length>0&&(o+=\" \"+d+f.join(\", \")+p)}return o}},1420:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SwatchesColor=void 0;var r=s(n(0)),a=s(n(96)),o=s(n(358)),i=n(173);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,c=e.first,u=e.last,d=e.active,p=(0,a.default)({default:{color:{width:\"40px\",height:\"24px\",cursor:\"pointer\",background:t,marginBottom:\"1px\"},check:{fill:o.default.getContrastingColor(t),marginLeft:\"8px\",display:\"none\"}},first:{color:{overflow:\"hidden\",borderRadius:\"2px 2px 0 0\"}},last:{color:{overflow:\"hidden\",borderRadius:\"0 0 2px 2px\"}},active:{check:{display:\"block\"}},\"color-#FFFFFF\":{color:{boxShadow:\"inset 0 0 0 1px #ddd\"},check:{fill:\"#333\"}},transparent:{check:{fill:\"#333\"}}},{first:c,last:u,active:d,\"color-#FFFFFF\":\"#FFFFFF\"===t,transparent:\"transparent\"===t});return r.default.createElement(i.Swatch,{color:t,style:p.color,onClick:s,onHover:l,focusStyle:{boxShadow:\"0 0 4px \"+t}},r.default.createElement(\"div\",{style:p.check},r.default.createElement(\"svg\",{style:{width:\"24px\",height:\"24px\"},viewBox:\"0 0 24 24\"},r.default.createElement(\"path\",{d:\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"}))))};t.default=l},1421:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Twitter=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(96)),i=c(n(446)),s=c(n(358)),l=n(173);function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,c=e.colors,u=e.width,d=e.triangle,p=e.className,f=void 0===p?\"\":p,h=(0,o.default)({default:{card:{width:u,background:\"#fff\",border:\"0 solid rgba(0,0,0,0.25)\",boxShadow:\"0 1px 4px rgba(0,0,0,0.25)\",borderRadius:\"4px\",position:\"relative\"},body:{padding:\"15px 9px 9px 15px\"},label:{fontSize:\"18px\",color:\"#fff\"},triangle:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 9px 10px 9px\",borderColor:\"transparent transparent #fff transparent\",position:\"absolute\"},triangleShadow:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 9px 10px 9px\",borderColor:\"transparent transparent rgba(0,0,0,.1) transparent\",position:\"absolute\"},hash:{background:\"#F0F0F0\",height:\"30px\",width:\"30px\",borderRadius:\"4px 0 0 4px\",float:\"left\",color:\"#98A1A4\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},input:{width:\"100px\",fontSize:\"14px\",color:\"#666\",border:\"0px\",outline:\"none\",height:\"28px\",boxShadow:\"inset 0 0 0 1px #F0F0F0\",boxSizing:\"content-box\",borderRadius:\"0 4px 4px 0\",float:\"left\",paddingLeft:\"8px\"},swatch:{width:\"30px\",height:\"30px\",float:\"left\",borderRadius:\"4px\",margin:\"0 6px 6px 0\"},clear:{clear:\"both\"}},\"hide-triangle\":{triangle:{display:\"none\"},triangleShadow:{display:\"none\"}},\"top-left-triangle\":{triangle:{top:\"-10px\",left:\"12px\"},triangleShadow:{top:\"-11px\",left:\"12px\"}},\"top-right-triangle\":{triangle:{top:\"-10px\",right:\"12px\"},triangleShadow:{top:\"-11px\",right:\"12px\"}}},{\"hide-triangle\":\"hide\"===d,\"top-left-triangle\":\"top-left\"===d,\"top-right-triangle\":\"top-right\"===d}),g=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:\"hex\"},n)};return r.default.createElement(\"div\",{style:h.card,className:\"twitter-picker \"+f},r.default.createElement(\"div\",{style:h.triangleShadow}),r.default.createElement(\"div\",{style:h.triangle}),r.default.createElement(\"div\",{style:h.body},(0,i.default)(c,(function(e,t){return r.default.createElement(l.Swatch,{key:t,color:e,hex:e,style:h.swatch,onClick:g,onHover:n,focusStyle:{boxShadow:\"0 0 4px \"+e}})})),r.default.createElement(\"div\",{style:h.hash},\"#\"),r.default.createElement(l.EditableInput,{style:{input:h.input},value:a.replace(\"#\",\"\"),onChange:g}),r.default.createElement(\"div\",{style:h.clear})))};u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),triangle:a.default.oneOf([\"hide\",\"top-left\",\"top-right\"]),colors:a.default.arrayOf(a.default.string)},u.defaultProps={width:276,colors:[\"#FF6900\",\"#FCB900\",\"#7BDCB5\",\"#00D084\",\"#8ED1FC\",\"#0693E3\",\"#ABB8C3\",\"#EB144C\",\"#F78DA7\",\"#9900EF\"],triangle:\"top-left\"},t.default=(0,l.ColorWrap)(u)},1422:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1767)),o=l(n(1423)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(870)),s=l(n(1427));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e);var r=(0,a.default)(o.default);this.context=n,this.store=r,this.monitor=new s.default(r),this.registry=this.monitor.registry,this.backend=t(this),r.subscribe(this.handleRefCountChange.bind(this))}return r(e,[{key:\"handleRefCountChange\",value:function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:\"getContext\",value:function(){return this.context}},{key:\"getMonitor\",value:function(){return this.monitor}},{key:\"getBackend\",value:function(){return this.backend}},{key:\"getRegistry\",value:function(){return this.registry}},{key:\"getActions\",value:function(){var e=this,t=this.store.dispatch;return Object.keys(i).filter((function(e){return\"function\"==typeof i[e]})).reduce((function(n,r){var a,o=i[r];return n[r]=(a=o,function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=a.apply(e,r);void 0!==i&&t(i)}),n}),{})}}]),e}();t.default=u},1423:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,i.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,r.default)(e.dragOffset,t),refCount:(0,o.default)(e.refCount,t),dragOperation:(0,a.default)(e.dragOperation,t),stateId:(0,s.default)(e.stateId)}};var r=l(n(1129)),a=l(n(1424)),o=l(n(1425)),i=l(n(1131)),s=l(n(1426));function l(e){return e&&e.__esModule?e:{default:e}}},1424:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case s.BEGIN_DRAG:return r({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case s.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case s.HOVER:return r({},e,{targetIds:t.targetIds});case l.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:r({},e,{targetIds:(0,i.default)(e.targetIds,t.targetId)});case s.DROP:return r({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case s.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}};var a,o=n(1257),i=(a=o)&&a.__esModule?a:{default:a},s=n(870),l=n(871);var c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null}},1425:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}};var r=n(871)},1426:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}},1427:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(143)),o=u(n(257)),i=u(n(1130)),s=u(n(1428)),l=n(1129),c=n(1131);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.store=t,this.registry=new s.default(t)}return r(e,[{key:\"subscribeToStateChange\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.handlerIds;(0,a.default)(\"function\"==typeof e,\"listener must be a function.\"),(0,a.default)(void 0===r||(0,o.default)(r),\"handlerIds, when specified, must be an array of strings.\");var i=this.store.getState().stateId,s=function(){var n=t.store.getState(),a=n.stateId;try{a===i||a===i+1&&!(0,c.areDirty)(n.dirtyHandlerIds,r)||e()}finally{i=a}};return this.store.subscribe(s)}},{key:\"subscribeToOffsetChange\",value:function(e){var t=this;(0,a.default)(\"function\"==typeof e,\"listener must be a function.\");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:\"canDragSource\",value:function(e){var t=this.registry.getSource(e);return(0,a.default)(t,\"Expected to find a valid source.\"),!this.isDragging()&&t.canDrag(this,e)}},{key:\"canDropOnTarget\",value:function(e){var t=this.registry.getTarget(e);if((0,a.default)(t,\"Expected to find a valid target.\"),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();return(0,i.default)(n,r)&&t.canDrop(this,e)}},{key:\"isDragging\",value:function(){return Boolean(this.getItemType())}},{key:\"isDraggingSource\",value:function(e){var t=this.registry.getSource(e,!0);return(0,a.default)(t,\"Expected to find a valid source.\"),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}},{key:\"isOverTarget\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1},n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),a=this.getItemType();if(!(0,i.default)(r,a))return!1;var o=this.getTargetIds();if(!o.length)return!1;var s=o.indexOf(e);return n?s===o.length-1:s>-1}},{key:\"getItemType\",value:function(){return this.store.getState().dragOperation.itemType}},{key:\"getItem\",value:function(){return this.store.getState().dragOperation.item}},{key:\"getSourceId\",value:function(){return this.store.getState().dragOperation.sourceId}},{key:\"getTargetIds\",value:function(){return this.store.getState().dragOperation.targetIds}},{key:\"getDropResult\",value:function(){return this.store.getState().dragOperation.dropResult}},{key:\"didDrop\",value:function(){return this.store.getState().dragOperation.didDrop}},{key:\"isSourcePublic\",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:\"getInitialClientOffset\",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:\"getInitialSourceClientOffset\",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:\"getClientOffset\",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:\"getSourceClientOffset\",value:function(){return(0,l.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:\"getDifferenceFromInitialOffset\",value:function(){return(0,l.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),e}();t.default=d},1428:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=u(n(143)),i=u(n(257)),s=u(n(1429)),l=n(871),c=u(n(1431));function u(e){return e&&e.__esModule?e:{default:e}}var d=\"SOURCE\",p=\"TARGET\";function f(e,t){t&&(0,i.default)(e)?e.forEach((function(e){return f(e,!1)})):(0,o.default)(\"string\"==typeof e||\"symbol\"===(void 0===e?\"undefined\":a(e)),t?\"Type can only be a string, a symbol, or an array of either.\":\"Type can only be a string or a symbol.\")}function h(e){switch(e[0]){case\"S\":return d;case\"T\":return p;default:(0,o.default)(!1,\"Cannot parse handler ID: \"+e)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return r(e,[{key:\"addSource\",value:function(e,t){f(e),function(e){(0,o.default)(\"function\"==typeof e.canDrag,\"Expected canDrag to be a function.\"),(0,o.default)(\"function\"==typeof e.beginDrag,\"Expected beginDrag to be a function.\"),(0,o.default)(\"function\"==typeof e.endDrag,\"Expected endDrag to be a function.\")}(t);var n=this.addHandler(d,e,t);return this.store.dispatch((0,l.addSource)(n)),n}},{key:\"addTarget\",value:function(e,t){f(e,!0),function(e){(0,o.default)(\"function\"==typeof e.canDrop,\"Expected canDrop to be a function.\"),(0,o.default)(\"function\"==typeof e.hover,\"Expected hover to be a function.\"),(0,o.default)(\"function\"==typeof e.drop,\"Expected beginDrag to be a function.\")}(t);var n=this.addHandler(p,e,t);return this.store.dispatch((0,l.addTarget)(n)),n}},{key:\"addHandler\",value:function(e,t,n){var r=function(e){var t=(0,c.default)().toString();switch(e){case d:return\"S\"+t;case p:return\"T\"+t;default:(0,o.default)(!1,\"Unknown role: \"+e)}}(e);return this.types[r]=t,this.handlers[r]=n,r}},{key:\"containsHandler\",value:function(e){var t=this;return Object.keys(this.handlers).some((function(n){return t.handlers[n]===e}))}},{key:\"getSource\",value:function(e,t){return(0,o.default)(this.isSourceId(e),\"Expected a valid source ID.\"),t&&e===this.pinnedSourceId?this.pinnedSource:this.handlers[e]}},{key:\"getTarget\",value:function(e){return(0,o.default)(this.isTargetId(e),\"Expected a valid target ID.\"),this.handlers[e]}},{key:\"getSourceType\",value:function(e){return(0,o.default)(this.isSourceId(e),\"Expected a valid source ID.\"),this.types[e]}},{key:\"getTargetType\",value:function(e){return(0,o.default)(this.isTargetId(e),\"Expected a valid target ID.\"),this.types[e]}},{key:\"isSourceId\",value:function(e){return h(e)===d}},{key:\"isTargetId\",value:function(e){return h(e)===p}},{key:\"removeSource\",value:function(e){var t=this;(0,o.default)(this.getSource(e),\"Expected an existing source.\"),this.store.dispatch((0,l.removeSource)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:\"removeTarget\",value:function(e){var t=this;(0,o.default)(this.getTarget(e),\"Expected an existing target.\"),this.store.dispatch((0,l.removeTarget)(e)),(0,s.default)((function(){delete t.handlers[e],delete t.types[e]}))}},{key:\"pinSource\",value:function(e){var t=this.getSource(e);(0,o.default)(t,\"Expected an existing source.\"),this.pinnedSourceId=e,this.pinnedSource=t}},{key:\"unpinSource\",value:function(){(0,o.default)(this.pinnedSource,\"No source is pinned at the time.\"),this.pinnedSourceId=null,this.pinnedSource=null}}]),e}();t.default=g},1429:function(e,t,n){\"use strict\";var r=n(1430),a=[],o=[],i=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(e){var t;(t=a.length?a.pop():new l).task=e,r(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),i())}finally{this.task=null,a[a.length]=this}}},1430:function(e,t,n){\"use strict\";(function(t){function n(e){a.length||(r(),!0),a[a.length]=e}e.exports=n;var r,a=[],o=0;function i(){for(;o<a.length;){var e=o;if(o+=1,a[e].call(),o>1024){for(var t=0,n=a.length-o;t<n;t++)a[t]=a[t+o];a.length-=o,o=0}}a.length=0,o=0,!1}var s,l,c,u=void 0!==t?t:self,d=u.MutationObserver||u.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}\"function\"==typeof d?(s=1,l=new d(i),c=document.createTextNode(\"\"),l.observe(c,{characterData:!0}),r=function(){s=-s,c.data=s}):r=p(i),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this,n(207))},1431:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){return r++};var r=0},1432:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return r(e,[{key:\"canDrag\",value:function(){return!0}},{key:\"isDragging\",value:function(e,t){return t===e.getSourceId()}},{key:\"endDrag\",value:function(){}}]),e}();t.default=a},1433:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return r(e,[{key:\"canDrop\",value:function(){return!0}},{key:\"hover\",value:function(){}},{key:\"drop\",value:function(){}}]),e}();t.default=a},1434:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new s(e)};var a,o=n(1258),i=(a=o)&&a.__esModule?a:{default:a};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.actions=t.getActions()}return r(e,[{key:\"setup\",value:function(){this.didCallSetup=!0}},{key:\"teardown\",value:function(){this.didCallTeardown=!0}},{key:\"connectDragSource\",value:function(){return i.default}},{key:\"connectDragPreview\",value:function(){return i.default}},{key:\"connectDropTarget\",value:function(){return i.default}},{key:\"simulateBeginDrag\",value:function(e,t){this.actions.beginDrag(e,t)}},{key:\"simulatePublishDragSource\",value:function(){this.actions.publishDragSource()}},{key:\"simulateHover\",value:function(e,t){this.actions.hover(e,t)}},{key:\"simulateDrop\",value:function(){this.actions.drop()}},{key:\"simulateEndDrag\",value:function(){this.actions.endDrag()}}]),e}()},1435:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r,a,o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(2),c=(o=l)&&o.__esModule?o:{default:o},u=n(1128);var d=(a=r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.backend=(0,u.unpackBackendForEs5Users)(e.backend),r.childContext=(0,u.createChildContext)(r.backend,{window:e&&e.window?e.window:n&&n.window?n.window:\"undefined\"!=typeof window?window:void 0}),r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"componentWillReceiveProps\",value:function(e){if(e.backend!==this.props.backend||e.window!==this.props.window)throw new Error(\"DragDropContextProvider backend and window props must not change.\")}},{key:\"getChildContext\",value:function(){return this.childContext}},{key:\"render\",value:function(){return s.Children.only(this.props.children)}}]),t}(s.Component),r.propTypes={backend:c.default.oneOfType([c.default.func,c.default.object]).isRequired,children:c.default.element.isRequired,window:c.default.object},r.defaultProps={window:void 0},r.childContextTypes=u.CHILD_CONTEXT_TYPES,r.displayName=\"DragDropContextProvider\",r.contextTypes={window:c.default.object},a);t.default=d},1436:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.default.apply(void 0,[\"DragLayer\",\"collect[, options]\"].concat(Array.prototype.slice.call(arguments))),(0,d.default)(\"function\"==typeof e,'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',\"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html\",e),(0,d.default)((0,u.default)(t),'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',t),function(n){var u,h,g=t.arePropsEqual,y=void 0===g?f.default:g,O=n.displayName||n.name||\"Component\",C=(h=u=function(t){function i(e,t){b(this,i);var n=v(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.manager=t.dragDropManager,(0,d.default)(\"object\"===a(n.manager),\"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context\",O,O),n.state=n.getCurrentState(),n}return m(i,t),o(i,[{key:\"getDecoratedComponentInstance\",value:function(){return(0,d.default)(this.child,\"In order to access an instance of the decorated component it can not be a stateless component.\"),this.child}},{key:\"shouldComponentUpdate\",value:function(e,t){return!y(e,this.props)||!(0,p.default)(t,this.state)}}]),o(i,[{key:\"componentDidMount\",value:function(){this.isCurrentlyMounted=!0;var e=this.manager.getMonitor();this.unsubscribeFromOffsetChange=e.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=e.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:\"componentWillUnmount\",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:\"handleChange\",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:\"getCurrentState\",value:function(){var t=this.manager.getMonitor();return e(t,this.props)}},{key:\"render\",value:function(){var e=this;return s.default.createElement(n,r({},this.props,this.state,{ref:function(t){e.child=t}}))}}]),i}(i.Component),u.DecoratedComponent=n,u.displayName=\"DragLayer(\"+O+\")\",u.contextTypes={dragDropManager:l.default.object.isRequired},h);return(0,c.default)(C,n)}};var i=n(0),s=g(i),l=g(n(2)),c=g(n(1001)),u=g(n(341)),d=g(n(143)),p=g(n(1002)),f=g(n(1132)),h=g(n(872));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function m(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}},1437:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.default.apply(void 0,[\"DragSource\",\"type, spec, collect[, options]\"].concat(Array.prototype.slice.call(arguments)));var f=e;\"function\"!=typeof e&&((0,r.default)((0,d.default)(e),'Expected \"type\" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e),f=function(){return e});(0,r.default)((0,a.default)(t),'Expected \"spec\" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t);var h=(0,l.default)(t);return(0,r.default)(\"function\"==typeof n,'Expected \"collect\" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),(0,r.default)((0,a.default)(p),'Expected \"options\" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),function(e){return(0,i.default)({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:\"DragSource\",createHandler:h,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:f,collect:n,options:p})}};var r=p(n(143)),a=p(n(341)),o=p(n(872)),i=p(n(1133)),s=p(n(1442)),l=p(n(1443)),c=p(n(1444)),u=p(n(1445)),d=p(n(1136));function p(e){return e&&e.__esModule?e:{default:e}}},1438:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(1003));t.isDisposable=a.default;var o=r(n(1439));t.Disposable=o.default;var i=r(n(1440));t.CompositeDisposable=i.default;var s=r(n(1441));t.SerialDisposable=s.default},1439:function(e,t,n){\"use strict\";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){},o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.isDisposed=!1,this.action=t||a}return r(e,null,[{key:\"empty\",value:{dispose:a},enumerable:!0}]),e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},e}();t.default=o,e.exports=t.default},1440:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}t.__esModule=!0;var a,o=n(1003),i=(a=o)&&a.__esModule?a:{default:a},s=function(){function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];r(this,e),Array.isArray(n[0])&&1===n.length&&(n=n[0]);for(var o=0;o<n.length;o++)if(!i.default(n[o]))throw new Error(\"Expected a disposable\");this.disposables=n,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1!==t&&(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.isDisposed=!0,this.disposables=[],this.length=0;for(n=0;n<e;n++)t[n].dispose()}},e}();t.default=s,e.exports=t.default},1441:function(e,t,n){\"use strict\";t.__esModule=!0;var r,a=n(1003),o=(r=a)&&r.__esModule?r:{default:r},i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=e&&!o.default(e))throw new Error(\"Expected either an empty value or a valid disposable\");var t=this.isDisposed,n=void 0;t||(n=this.current,this.current=e),n&&n.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t.default=i,e.exports=t.default},1442:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),a=r.addSource(e,t);return{handlerId:a,unregister:function(){r.removeSource(a)}}}},1443:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,a.default)(i.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected \"%s\" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',i.join(\", \"),t),(0,a.default)(\"function\"==typeof e[t],\"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html\",t,t,e[t])})),s.forEach((function(t){(0,a.default)(\"function\"==typeof e[t],\"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html\",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:\"receiveProps\",value:function(e){this.props=e}},{key:\"receiveComponent\",value:function(e){this.component=e}},{key:\"canDrag\",value:function(){return!e.canDrag||e.canDrag(this.props,this.monitor)}},{key:\"isDragging\",value:function(t,n){return e.isDragging?e.isDragging(this.props,this.monitor):n===t.getSourceId()}},{key:\"beginDrag\",value:function(){return e.beginDrag(this.props,this.monitor,this.component)}},{key:\"endDrag\",value:function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var a=o(n(143));o(n(341));function o(e){return e&&e.__esModule?e:{default:e}}var i=[\"canDrag\",\"beginDrag\",\"isDragging\",\"endDrag\"],s=[\"beginDrag\"]},1444:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new c(e)};var a,o=n(143),i=(a=o)&&a.__esModule?a:{default:a};var s=!1,l=!1,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:\"receiveHandlerId\",value:function(e){this.sourceId=e}},{key:\"canDrag\",value:function(){(0,i.default)(!s,\"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html\");try{return s=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{s=!1}}},{key:\"isDragging\",value:function(){(0,i.default)(!l,\"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html\");try{return l=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{l=!1}}},{key:\"getItemType\",value:function(){return this.internalMonitor.getItemType()}},{key:\"getItem\",value:function(){return this.internalMonitor.getItem()}},{key:\"getDropResult\",value:function(){return this.internalMonitor.getDropResult()}},{key:\"didDrop\",value:function(){return this.internalMonitor.didDrop()}},{key:\"getInitialClientOffset\",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:\"getInitialSourceClientOffset\",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:\"getSourceClientOffset\",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:\"getClientOffset\",value:function(){return this.internalMonitor.getClientOffset()}},{key:\"getDifferenceFromInitialOffset\",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},1445:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=void 0,n=void 0,o=void 0,i=void 0,s=void 0,l=void 0,c=void 0;function u(){i&&(i(),i=null),t&&n&&(i=e.connectDragSource(t,n,o))}function d(){c&&(c(),c=null),t&&s&&(c=e.connectDragPreview(t,s,l))}return{receiveHandlerId:function(e){e!==t&&(t=e,u(),d())},hooks:(0,r.default)({dragSource:function(e,t){e===n&&(0,a.default)(t,o)||(n=e,o=t,u())},dragPreview:function(e,t){e===s&&(0,a.default)(t,l)||(s=e,l=t,d())}})}};var r=o(n(1134)),a=o(n(1135));function o(e){return e&&e.__esModule?e:{default:e}}},1446:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=e.ref;if((0,o.default)(\"string\"!=typeof n,\"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute\"),!n)return(0,i.cloneElement)(e,{ref:t});return(0,i.cloneElement)(e,{ref:function(e){t(e),n&&n(e)}})};var r,a=n(143),o=(r=a)&&r.__esModule?r:{default:r},i=n(0)},1447:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.default.apply(void 0,[\"DropTarget\",\"type, spec, collect[, options]\"].concat(Array.prototype.slice.call(arguments)));var f=e;\"function\"!=typeof e&&((0,r.default)((0,d.default)(e,!0),'Expected \"type\" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e),f=function(){return e});(0,r.default)((0,a.default)(t),'Expected \"spec\" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t);var h=(0,l.default)(t);return(0,r.default)(\"function\"==typeof n,'Expected \"collect\" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),(0,r.default)((0,a.default)(p),'Expected \"options\" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),function(e){return(0,i.default)({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:\"DropTarget\",createHandler:h,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:f,collect:n,options:p})}};var r=p(n(143)),a=p(n(341)),o=p(n(872)),i=p(n(1133)),s=p(n(1448)),l=p(n(1449)),c=p(n(1450)),u=p(n(1451)),d=p(n(1136));function p(e){return e&&e.__esModule?e:{default:e}}},1448:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),a=r.addTarget(e,t);return{handlerId:a,unregister:function(){r.removeTarget(a)}}}},1449:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach((function(t){(0,a.default)(i.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected \"%s\" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',i.join(\", \"),t),(0,a.default)(\"function\"==typeof e[t],\"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html\",t,t,e[t])}));var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:\"receiveProps\",value:function(e){this.props=e}},{key:\"receiveMonitor\",value:function(e){this.monitor=e}},{key:\"receiveComponent\",value:function(e){this.component=e}},{key:\"canDrop\",value:function(){return!e.canDrop||e.canDrop(this.props,this.monitor)}},{key:\"hover\",value:function(){e.hover&&e.hover(this.props,this.monitor,this.component)}},{key:\"drop\",value:function(){if(e.drop)return e.drop(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var a=o(n(143));o(n(341));function o(e){return e&&e.__esModule?e:{default:e}}var i=[\"canDrop\",\"hover\",\"drop\"]},1450:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new l(e)};var a,o=n(143),i=(a=o)&&a.__esModule?a:{default:a};var s=!1,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:\"receiveHandlerId\",value:function(e){this.targetId=e}},{key:\"canDrop\",value:function(){(0,i.default)(!s,\"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html\");try{return s=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{s=!1}}},{key:\"isOver\",value:function(e){return this.internalMonitor.isOverTarget(this.targetId,e)}},{key:\"getItemType\",value:function(){return this.internalMonitor.getItemType()}},{key:\"getItem\",value:function(){return this.internalMonitor.getItem()}},{key:\"getDropResult\",value:function(){return this.internalMonitor.getDropResult()}},{key:\"didDrop\",value:function(){return this.internalMonitor.didDrop()}},{key:\"getInitialClientOffset\",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:\"getInitialSourceClientOffset\",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:\"getSourceClientOffset\",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:\"getClientOffset\",value:function(){return this.internalMonitor.getClientOffset()}},{key:\"getDifferenceFromInitialOffset\",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},1451:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=void 0,n=void 0,o=void 0,i=void 0;function s(){i&&(i(),i=null),t&&n&&(i=e.connectDropTarget(t,n,o))}return{receiveHandlerId:function(e){e!==t&&(t=e,s())},hooks:(0,r.default)({dropTarget:function(e,t){e===n&&(0,a.default)(t,o)||(n=e,o=t,s())}})}};var r=o(n(1134)),a=o(n(1135));function o(e){return e&&e.__esModule?e:{default:e}}},1452:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(1770)),o=d(n(1453)),i=d(n(1454)),s=n(1137),l=n(1455),c=n(1457),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1004));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new i.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return r(e,[{key:\"setup\",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error(\"Cannot have two HTML5 backends at the same time.\");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:\"teardown\",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:\"addEventListeners\",value:function(e){e.addEventListener&&(e.addEventListener(\"dragstart\",this.handleTopDragStart),e.addEventListener(\"dragstart\",this.handleTopDragStartCapture,!0),e.addEventListener(\"dragend\",this.handleTopDragEndCapture,!0),e.addEventListener(\"dragenter\",this.handleTopDragEnter),e.addEventListener(\"dragenter\",this.handleTopDragEnterCapture,!0),e.addEventListener(\"dragleave\",this.handleTopDragLeaveCapture,!0),e.addEventListener(\"dragover\",this.handleTopDragOver),e.addEventListener(\"dragover\",this.handleTopDragOverCapture,!0),e.addEventListener(\"drop\",this.handleTopDrop),e.addEventListener(\"drop\",this.handleTopDropCapture,!0))}},{key:\"removeEventListeners\",value:function(e){e.removeEventListener&&(e.removeEventListener(\"dragstart\",this.handleTopDragStart),e.removeEventListener(\"dragstart\",this.handleTopDragStartCapture,!0),e.removeEventListener(\"dragend\",this.handleTopDragEndCapture,!0),e.removeEventListener(\"dragenter\",this.handleTopDragEnter),e.removeEventListener(\"dragenter\",this.handleTopDragEnterCapture,!0),e.removeEventListener(\"dragleave\",this.handleTopDragLeaveCapture,!0),e.removeEventListener(\"dragover\",this.handleTopDragOver),e.removeEventListener(\"dragover\",this.handleTopDragOverCapture,!0),e.removeEventListener(\"drop\",this.handleTopDrop),e.removeEventListener(\"drop\",this.handleTopDropCapture,!0))}},{key:\"connectDragPreview\",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete r.sourcePreviewNodes[e],delete r.sourcePreviewNodeOptions[e]}}},{key:\"connectDragSource\",value:function(e,t,n){var r=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=n;var a=function(t){return r.handleDragStart(t,e)},o=function(t){return r.handleSelectStart(t,e)};return t.setAttribute(\"draggable\",!0),t.addEventListener(\"dragstart\",a),t.addEventListener(\"selectstart\",o),function(){delete r.sourceNodes[e],delete r.sourceNodeOptions[e],t.removeEventListener(\"dragstart\",a),t.removeEventListener(\"selectstart\",o),t.setAttribute(\"draggable\",!1)}}},{key:\"connectDropTarget\",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},a=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener(\"dragenter\",r),t.addEventListener(\"dragover\",a),t.addEventListener(\"drop\",o),function(){t.removeEventListener(\"dragenter\",r),t.removeEventListener(\"dragover\",a),t.removeEventListener(\"drop\",o)}}},{key:\"getCurrentSourceNodeOptions\",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return(0,a.default)(t||{},{dropEffect:this.altKeyPressed?\"copy\":\"move\"})}},{key:\"getCurrentDropEffect\",value:function(){return this.isDraggingNativeItem()?\"copy\":this.getCurrentSourceNodeOptions().dropEffect}},{key:\"getCurrentSourcePreviewNodeOptions\",value:function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return(0,a.default)(t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:\"getSourceClientOffset\",value:function(e){return(0,l.getNodeClientOffset)(this.sourceNodes[e])}},{key:\"isDraggingNativeItem\",value:function(){var e=this.monitor.getItemType();return Object.keys(u).some((function(t){return u[t]===e}))}},{key:\"beginDragNativeItem\",value:function(e){this.clearCurrentDragSourceNode();var t=(0,c.createNativeDragSource)(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:\"asyncEndDragNativeItem\",value:function(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem)}},{key:\"endDragNativeItem\",value:function(){this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:\"isNodeInDocument\",value:function(e){return!(!document.body.contains(e)&&!this.window)&&this.window.document.body.contains(e)}},{key:\"endDragIfSourceWasRemovedFromDOM\",value:function(){var e=this.currentDragSourceNode;this.isNodeInDocument(e)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:\"setCurrentDragSourceNode\",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=(0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffsetChanged=!1;this.mouseMoveTimeoutTimer=setTimeout((function(){return t.mouseMoveTimeoutId=null,t.window.addEventListener(\"mousemove\",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:\"clearCurrentDragSourceNode\",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.clearTimeout(this.mouseMoveTimeoutTimer),this.window.removeEventListener(\"mousemove\",this.endDragIfSourceWasRemovedFromDOM,!0),this.mouseMoveTimeoutTimer=null,!0)}},{key:\"checkIfCurrentDragSourceRectChanged\",value:function(){var e=this.currentDragSourceNode;return!!e&&(!!this.currentDragSourceNodeOffsetChanged||(this.currentDragSourceNodeOffsetChanged=!(0,o.default)((0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged))}},{key:\"handleTopDragStartCapture\",value:function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:\"handleDragStart\",value:function(e,t){this.dragStartSourceIds.unshift(t)}},{key:\"handleTopDragStart\",value:function(e){var t=this,n=this.dragStartSourceIds;this.dragStartSourceIds=null;var r=(0,l.getEventClientOffset)(e);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(n,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});var a=e.dataTransfer,o=(0,c.matchNativeItemType)(a);if(this.monitor.isDragging()){if(\"function\"==typeof a.setDragImage){var i=this.monitor.getSourceId(),s=this.sourceNodes[i],u=this.sourcePreviewNodes[i]||s,d=this.getCurrentSourcePreviewNodeOptions(),p={anchorX:d.anchorX,anchorY:d.anchorY},f={offsetX:d.offsetX,offsetY:d.offsetY},h=(0,l.getDragPreviewOffset)(s,u,r,p,f);a.setDragImage(u,h.x,h.y)}try{a.setData(\"application/json\",{})}catch(e){}this.setCurrentDragSourceNode(e.target),this.getCurrentSourcePreviewNodeOptions().captureDraggingState?this.actions.publishDragSource():setTimeout((function(){return t.actions.publishDragSource()}))}else if(o)this.beginDragNativeItem(o);else{if(!(a.types||e.target.hasAttribute&&e.target.hasAttribute(\"draggable\")))return;e.preventDefault()}}},{key:\"handleTopDragEndCapture\",value:function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:\"handleTopDragEnterCapture\",value:function(e){if(this.dragEnterTargetIds=[],this.enterLeaveCounter.enter(e.target)&&!this.monitor.isDragging()){var t=e.dataTransfer,n=(0,c.matchNativeItemType)(t);n&&this.beginDragNativeItem(n)}}},{key:\"handleDragEnter\",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:\"handleTopDragEnter\",value:function(e){var t=this,n=this.dragEnterTargetIds;(this.dragEnterTargetIds=[],this.monitor.isDragging())&&(this.altKeyPressed=e.altKey,(0,s.isFirefox)()||this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()))}},{key:\"handleTopDragOverCapture\",value:function(){this.dragOverTargetIds=[]}},{key:\"handleDragOver\",value:function(e,t){this.dragOverTargetIds.unshift(t)}},{key:\"handleTopDragOver\",value:function(e){var t=this,n=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect=\"none\");this.altKeyPressed=e.altKey,this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some((function(e){return t.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect=\"none\"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect=\"move\")}},{key:\"handleTopDragLeaveCapture\",value:function(e){this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:\"handleTopDropCapture\",value:function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()}},{key:\"handleDrop\",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:\"handleTopDrop\",value:function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,l.getEventClientOffset)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:\"handleSelectStart\",value:function(e){var t=e.target;\"function\"==typeof t.dragDrop&&(\"INPUT\"===t.tagName||\"SELECT\"===t.tagName||\"TEXTAREA\"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))}},{key:\"window\",get:function(){return this.context&&this.context.window?this.context.window:\"undefined\"!=typeof window?window:void 0}}]),e}();t.default=p},1453:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;var i=e[n[o]],s=t[n[o]];if(i!==s)return!1}return!0}},1454:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1771)),o=i(n(1257));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.entered=[]}return r(e,[{key:\"enter\",value:function(e){var t=this.entered.length;return this.entered=(0,a.default)(this.entered.filter((function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))})),[e]),0===t&&this.entered.length>0}},{key:\"leave\",value:function(e){var t=this.entered.length;return this.entered=(0,o.default)(this.entered.filter((function(e){return document.documentElement.contains(e)})),e),t>0&&0===this.entered.length}},{key:\"reset\",value:function(){this.entered=[]}}]),e}();t.default=s},1455:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getNodeClientOffset=s,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,r,o){var l=(C=t,\"IMG\"===C.nodeName&&((0,a.isFirefox)()||!document.documentElement.contains(C))),c=s(l?e:t),u={x:n.x-c.x,y:n.y-c.y},d=e.offsetWidth,p=e.offsetHeight,f=r.anchorX,h=r.anchorY,g=function(e,t,n,r){var o=e?t.width:n,i=e?t.height:r;(0,a.isSafari)()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio);return{dragPreviewWidth:o,dragPreviewHeight:i}}(l,t,d,p),b=g.dragPreviewWidth,v=g.dragPreviewHeight,m=o.offsetX,y=o.offsetY,O=0===y||y;var C;return{x:0===m||m?m:new i.default([0,.5,1],[u.x,u.x/d*b,u.x+b-d]).interpolate(f),y:O?y:(x=new i.default([0,.5,1],[u.y,u.y/p*v,u.y+v-p]).interpolate(h),(0,a.isSafari)()&&l&&(x+=(window.devicePixelRatio-1)*v),x)};var x};var r,a=n(1137),o=n(1456),i=(r=o)&&r.__esModule?r:{default:r};function s(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}},1456:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);for(var r=t.length,a=[],o=0;o<r;o++)a.push(o);a.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var i=[],s=[],l=[],c=void 0,u=void 0,d=0;d<r-1;d++)c=t[d+1]-t[d],u=n[d+1]-n[d],s.push(c),i.push(u),l.push(u/c);for(var p=[l[0]],f=0;f<s.length-1;f++){var h=l[f],g=l[f+1];if(h*g<=0)p.push(0);else{c=s[f];var b=s[f+1],v=c+b;p.push(3*v/((v+b)/h+(v+c)/g))}}p.push(l[l.length-1]);for(var m=[],y=[],O=void 0,C=0;C<p.length-1;C++){O=l[C];var x=p[C],w=1/s[C],j=x+p[C+1]-O-O;m.push((O-x-j)*w),y.push(j*w*w)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=m,this.c3s=y}return r(e,[{key:\"interpolate\",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,a=this.c2s,o=this.c3s,i=t.length-1;if(e===t[i])return n[i];for(var s=0,l=o.length-1,c=void 0;s<=l;){var u=t[c=Math.floor(.5*(s+l))];if(u<e)s=c+1;else{if(!(u>e))return n[c];l=c-1}}var d=e-t[i=Math.max(0,l)],p=d*d;return n[i]+r[i]*d+a[i]*p+o[i]*d*p}}]),e}();t.default=a},1457:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createNativeDragSource=function(e){var t=l[e],n=t.exposeProperty,r=t.matchesTypes,o=t.getData;return function(){function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.item=(t={},(r={})[n]=r[n]||{},r[n].get=function(){return console.warn(\"Browser doesn't allow reading \\\"\"+n+'\" until the drop event.'),null},function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}}(t,r),t)}return a(e,[{key:\"mutateItemByReadingDataTransfer\",value:function(e){delete this.item[n],this.item[n]=o(e,r)}},{key:\"canDrag\",value:function(){return!0}},{key:\"beginDrag\",value:function(){return this.item}},{key:\"isDragging\",value:function(e,t){return t===e.getSourceId()}},{key:\"endDrag\",value:function(){}}]),e}()},t.matchNativeItemType=function(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(l).filter((function(e){return l[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1004));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),null);return null!=r?r:n}var l=(i(r={},o.FILE,{exposeProperty:\"files\",matchesTypes:[\"Files\"],getData:function(e){return Array.prototype.slice.call(e.files)}}),i(r,o.URL,{exposeProperty:\"urls\",matchesTypes:[\"Url\",\"text/uri-list\"],getData:function(e,t){return s(e,t,\"\").split(\"\\n\")}}),i(r,o.TEXT,{exposeProperty:\"text\",matchesTypes:[\"Text\",\"text/plain\"],getData:function(e,t){return s(e,t,\"\")}}),r)},1458:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){r||((r=new Image).src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\");return r};var r=void 0},1459:function(e,t,n){},1460:function(e,t,n){},162:function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return F})),n.d(t,\"f\",(function(){return L})),n.d(t,\"d\",(function(){return B})),n.d(t,\"c\",(function(){return V})),n.d(t,\"b\",(function(){return H})),n.d(t,\"a\",(function(){return q}));n(271),n(108),n(873),n(36);var r,a=n(67),o=n.n(a),i=n(79),s=n.n(i),l=n(194),c=n.n(l),u=n(152),d=n.n(u),p=n(26),f=n.n(p),h=n(29),g=n.n(h),b=n(56),v=n.n(b),m=n(106),y=n.n(m),O=n(84),C=n.n(O),x=n(6),w=n.n(x),j=n(66),_=n.n(j),E=n(4),S=n.n(E),T=n(103),D=n.n(T),k=n(0),M=n(57),R=n(9),P=n(256),N=n(59),A=n(328),I=n(69);function F(e,t,n,r=!0,a=[],o){const[i,s]=Object(k.useState)({count:0,collection:a,loading:!0,lastFetchDataConfig:null,permissions:[],bulkSelectEnabled:!1});function l(e){s(t=>S()({},t,e))}Object(k.useEffect)(()=>{r&&M.a.get({endpoint:\"/api/v1/\"+e+\"/_info?q=\"+D.a.encode({keys:[\"permissions\"]})}).then(({json:e={}})=>{l({permissions:e.permissions})},Object(N.d)(e=>n(Object(R.e)(\"An error occurred while fetching %s info: %s\",t,e))))},[]);const c=Object(k.useCallback)(({pageIndex:r,pageSize:a,sortBy:i,filters:s})=>{var c,u;l({lastFetchDataConfig:{filters:s,pageIndex:r,pageSize:a,sortBy:i},loading:!0});const d=w()(c=C()(u=o||[]).call(u,s)).call(c,({id:e,operator:t,value:n})=>({col:e,opr:t,value:n})),p=D.a.encode(S()({order_column:i[0].id,order_direction:i[0].desc?\"desc\":\"asc\",page:r,page_size:a},d.length?{filters:d}:{}));return M.a.get({endpoint:\"/api/v1/\"+e+\"/?q=\"+p}).then(({json:e={}})=>{l({collection:e.result,count:e.count,lastFetched:(new Date).toISOString()})},Object(N.d)(e=>n(Object(R.e)(\"An error occurred while fetching %ss: %s\",t,e)))).finally(()=>{l({loading:!1})})},[o]);return{state:{loading:i.loading,resourceCount:i.count,resourceCollection:i.collection,bulkSelectEnabled:i.bulkSelectEnabled,lastFetched:i.lastFetched},setResourceCollection:e=>l({collection:e}),hasPerm:function(e){var t;return!!i.permissions.length&&Boolean(_()(t=i.permissions).call(t,t=>t===e))},fetchData:c,toggleBulkSelect:function(){l({bulkSelectEnabled:!i.bulkSelectEnabled})},refreshData:e=>i.lastFetchDataConfig?c(i.lastFetchDataConfig):e?c(e):null}}function L(e,t,n){const[r,a]=Object(k.useState)({loading:!1,resource:null,error:null});function o(e){a(t=>S()({},t,e))}return{state:r,setResource:e=>o({resource:e}),fetchResource:Object(k.useCallback)(r=>(o({loading:!0}),M.a.get({endpoint:\"/api/v1/\"+e+\"/\"+r}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.result),Object(N.d)(e=>{n(Object(R.e)(\"An error occurred while fetching %ss: %s\",t,y()(e))),o({error:e})})).finally(()=>{o({loading:!1})})),[n,e,t]),createResource:Object(k.useCallback)(r=>(o({loading:!0}),M.a.post({endpoint:\"/api/v1/\"+e+\"/\",body:y()(r),headers:{\"Content-Type\":\"application/json\"}}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.id),Object(N.d)(e=>{n(Object(R.e)(\"An error occurred while creating %ss: %s\",t,y()(e))),o({error:e})})).finally(()=>{o({loading:!1})})),[n,e,t]),updateResource:Object(k.useCallback)((r,a)=>(o({loading:!0}),M.a.put({endpoint:\"/api/v1/\"+e+\"/\"+r,body:y()(a),headers:{\"Content-Type\":\"application/json\"}}).then(({json:e={}})=>(o({resource:e.result,error:null}),e.result),Object(N.d)(e=>(n(Object(R.e)(\"An error occurred while fetching %ss: %s\",t,y()(e))),o({error:e}),e))).finally(()=>{o({loading:!1})})),[n,e,t]),clearError:()=>o({error:null})}}function B(e,t,n){const[r,a]=Object(k.useState)({loading:!1,passwordsNeeded:[],alreadyExists:[]});function o(e){a(t=>S()({},t,e))}const i=e=>\"object\"==typeof e&&v()(e._schema)&&1===e._schema.length&&\"Must provide a password for the database\"===e._schema[0],l=e=>\"string\"==typeof e&&g()(e).call(e,\"already exists and `overwrite=true` was not passed\"),u=e=>{var t,n;return w()(t=f()(n=d()(e)).call(n,([,e])=>i(e))).call(t,([e])=>e)},p=e=>{var t,n;return w()(t=f()(n=d()(e)).call(n,([,e])=>l(e))).call(t,([e])=>e)};return{state:r,importResource:Object(k.useCallback)((r,a={},d=!1)=>{o({loading:!0});const f=new FormData;return f.append(\"formData\",r),a&&f.append(\"passwords\",y()(a)),d&&f.append(\"overwrite\",\"true\"),M.a.post({endpoint:\"/api/v1/\"+e+\"/import/\",body:f}).then(()=>!0).catch(e=>Object(I.a)(e).then(e=>{const r=e.message||e.error;return\"string\"==typeof r?(n(Object(R.e)(\"An error occurred while importing %s: %s\",t,r)),!1):((e=>{var t;return c()(t=s()(e)).call(t,e=>!i(e)&&!l(e))})(r)?n(Object(R.e)(\"An error occurred while importing %s: %s\",t,y()(r))):o({passwordsNeeded:u(r),alreadyExists:p(r)}),!1)})).finally(()=>{o({loading:!1})})},[])}}!function(e){e.CHART=\"slice\",e.DASHBOARD=\"Dashboard\"}(r||(r={}));const U={chart:Object(P.a)({requestType:\"search\",method:\"GET\",endpoint:\"/api/v1/chart/favorite_status\"}),dashboard:Object(P.a)({requestType:\"search\",method:\"GET\",endpoint:\"/api/v1/dashboard/favorite_status\"})};function V(e,t,n){const[a,i]=Object(k.useState)({}),s=e=>i(t=>S()({},t,e));return Object(k.useEffect)(()=>{t.length&&U[e](\"q=\"+D.a.encode(t)).then(({result:e})=>{const t=o()(e).call(e,(e,t)=>(e[t.id]=t.value,e),{});s(t)},Object(N.d)(e=>n(Object(R.e)(\"There was an error fetching the favorite status: %s\",e))))},[t]),[Object(k.useCallback)((t,a)=>{const o=a?\"unselect\":\"select\";M.a.get({endpoint:\"/superset/favstar/\"+(\"chart\"===e?r.CHART:r.DASHBOARD)+\"/\"+t+\"/\"+o+\"/\"}).then(({json:e})=>{s({[t]:(null==e?void 0:e.count)>0})},Object(N.d)(e=>n(Object(R.e)(\"There was an error saving the favorite status: %s\",e))))},[e]),a]}const H=(e,t)=>{const[n,r]=Object(k.useState)(null);return{sliceCurrentlyEditing:n,handleChartUpdated:function(n){const r=w()(t).call(t,e=>e.id===n.id?S()({},e,n):e);e(r)},openChartEditModal:function(e){r({slice_id:e.id,slice_name:e.slice_name,description:e.description,cache_timeout:e.cache_timeout})},closeChartEditModal:function(){r(null)}}},q=(e,t,n)=>{Object(A.a)(window.location.origin+\"/superset/sqllab?savedQueryId=\"+e).then(()=>{n(Object(R.e)(\"Link Copied!\"))}).catch(()=>{t(Object(R.e)(\"Sorry, your browser does not support copying.\"))})}},1654:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=4)}([function(e,t){e.exports=n(0)},function(e,t){e.exports=n(18)},function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=n(12)},function(e,t,n){e.exports=n(7)},function(e,t,n){\"use strict\";var r=n(6);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw s.name=\"Invariant Violation\",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(e,t,n){\"use strict\";n.r(t);var r=n(2),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){var t=e.onClickPrev,n=e.onClickSwitch,r=e.onClickNext,a=e.switchContent,o=e.switchColSpan,i=e.switchProps;return l.a.createElement(\"tr\",null,l.a.createElement(\"th\",{className:\"rdtPrev\",onClick:t},l.a.createElement(\"span\",null,\"‹\")),l.a.createElement(\"th\",c({className:\"rdtSwitch\",colSpan:o,onClick:n},i),a),l.a.createElement(\"th\",{className:\"rdtNext\",onClick:r},l.a.createElement(\"span\",null,\"›\")))}function d(e){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||\"object\"!==d(t)&&\"function\"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r=function(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}(a);function a(){var e;p(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return m(b(e=r.call.apply(r,[this].concat(n))),\"_setDate\",(function(t){e.props.updateDate(t)})),e}return t=a,(n=[{key:\"render\",value:function(){var e=this.props.viewDate,t=e.localeData(),n=e.clone().startOf(\"month\"),r=e.clone().endOf(\"month\");return l.a.createElement(\"div\",{className:\"rdtDays\"},l.a.createElement(\"table\",null,l.a.createElement(\"thead\",null,this.renderNavigation(e,t),this.renderDayHeaders(t)),l.a.createElement(\"tbody\",null,this.renderDays(e,n,r)),this.renderFooter(e)))}},{key:\"renderNavigation\",value:function(e,t){var n=this;return l.a.createElement(u,{onClickPrev:function(){return n.props.navigate(-1,\"months\")},onClickSwitch:function(){return n.props.showView(\"months\")},onClickNext:function(){return n.props.navigate(1,\"months\")},switchContent:t.months(e)+\" \"+e.year(),switchColSpan:5,switchProps:{\"data-value\":this.props.viewDate.month()}})}},{key:\"renderDayHeaders\",value:function(e){var t=this.getDaysOfWeek(e).map((function(e,t){return l.a.createElement(\"th\",{key:e+t,className:\"dow\"},e)}));return l.a.createElement(\"tr\",null,t)}},{key:\"renderDays\",value:function(e,t,n){var r=[[],[],[],[],[],[]],a=e.clone().subtract(1,\"months\");a.date(a.daysInMonth()).startOf(\"week\");for(var o=a.clone().add(42,\"d\"),i=0;a.isBefore(o);)this.getRow(r,i++).push(this.renderDay(a,t,n)),a.add(1,\"d\");return r.map((function(e,t){return l.a.createElement(\"tr\",{key:\"\".concat(o.month(),\"_\").concat(t)},e)}))}},{key:\"renderDay\",value:function(e,t,n){var r=this.props.selectedDate,a={key:e.format(\"M_D\"),\"data-value\":e.date(),\"data-month\":e.month(),\"data-year\":e.year()},o=\"rdtDay\";return e.isBefore(t)?o+=\" rdtOld\":e.isAfter(n)&&(o+=\" rdtNew\"),r&&e.isSame(r,\"day\")&&(o+=\" rdtActive\"),e.isSame(this.props.moment(),\"day\")&&(o+=\" rdtToday\"),this.props.isValidDate(e)?a.onClick=this._setDate:o+=\" rdtDisabled\",a.className=o,this.props.renderDay?this.props.renderDay(a,e.clone(),r&&r.clone()):l.a.createElement(\"td\",a,e.date())}},{key:\"renderFooter\",value:function(e){var t=this;if(this.props.timeFormat)return l.a.createElement(\"tfoot\",null,l.a.createElement(\"tr\",null,l.a.createElement(\"td\",{onClick:function(){return t.props.showView(\"time\")},colSpan:7,className:\"rdtTimeToggle\"},e.format(this.props.timeFormat))))}},{key:\"getDaysOfWeek\",value:function(e){var t=e.firstDayOfWeek(),n=[],r=0;return e._weekdaysMin.forEach((function(e){n[(7+r++-t)%7]=e})),n}},{key:\"getRow\",value:function(e,t){return e[Math.floor(t/7)]}}])&&f(t.prototype,n),a}(l.a.Component);function O(e){return(O=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||\"object\"!==O(t)&&\"function\"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m(y,\"defaultProps\",{isValidDate:function(){return!0}});var T=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,r=function(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}(a);function a(){var e;C(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return S(_(e=r.call.apply(r,[this].concat(n))),\"_updateSelectedMonth\",(function(t){e.props.updateDate(t)})),e}return t=a,(n=[{key:\"render\",value:function(){return l.a.createElement(\"div\",{className:\"rdtMonths\"},l.a.createElement(\"table\",null,l.a.createElement(\"thead\",null,this.renderNavigation())),l.a.createElement(\"table\",null,l.a.createElement(\"tbody\",null,this.renderMonths())))}},{key:\"renderNavigation\",value:function(){var e=this,t=this.props.viewDate.year();return l.a.createElement(u,{onClickPrev:function(){return e.props.navigate(-1,\"years\")},onClickSwitch:function(){return e.props.showView(\"years\")},onClickNext:function(){return e.props.navigate(1,\"years\")},switchContent:t,switchColSpan:\"2\"})}},{key:\"renderMonths\",value:function(e){for(var t=[[],[],[]],n=0;n<12;n++)this.getRow(t,n).push(this.renderMonth(n,this.props.selectedDate));return t.map((function(e,t){return l.a.createElement(\"tr\",{key:t},e)}))}},{key:\"renderMonth\",value:function(e,t){var n,r=\"rdtMonth\";this.isDisabledMonth(e)?r+=\" rdtDisabled\":n=this._updateSelectedMonth,t&&t.year()===this.props.viewDate.year()&&t.month()===e&&(r+=\" rdtActive\");var a={key:e,className:r,\"data-value\":e,onClick:n};return this.props.renderMonth?this.props.renderMonth(a,e,this.props.viewDate.year(),this.props.selectedDate&&this.props.selectedDate.clone()):l.a.createElement(\"td\",a,this.getMonthText(e))}},{key:\"getRow\",value:function(e,t){return t<4?e[0]:t<8?e[1]:e[2]}},{key:\"capitalize\",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:\"isDisabledMonth\",value:function(e){var t=this.props.isValidDate;if(!t)return!1;for(var n=this.props.viewDate.clone().set({month:e}),r=n.endOf(\"month\").date()+1;r-- >1;)if(t(n.date(r)))return!1;return!0}},{key:\"getMonthText\",value:function(e){var t=this.props.viewDate,n=t.localeData().monthsShort(t.month(e));return this.capitalize(n.substring(0,3))}}])&&x(t.prototype,n),a}(l.a.Component);function D(e){return(D=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||\"object\"!==D(t)&&\"function\"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r=function(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var a=A(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}(a);function a(){var e;k(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return I(N(e=r.call.apply(r,[this].concat(n))),\"disabledYearsCache\",{}),I(N(e),\"_updateSelectedYear\",(function(t){e.props.updateDate(t)})),e}return t=a,(n=[{key:\"render\",value:function(){var e=10*parseInt(this.props.viewDate.year()/10,10);return l.a.createElement(\"div\",{className:\"rdtYears\"},l.a.createElement(\"table\",null,l.a.createElement(\"thead\",null,this.renderNavigation(e))),l.a.createElement(\"table\",null,l.a.createElement(\"tbody\",null,this.renderYears(e))))}},{key:\"renderNavigation\",value:function(e){var t=this;return l.a.createElement(u,{onClickPrev:function(){return t.props.navigate(-10,\"years\")},onClickSwitch:function(){return t.props.showView(\"years\")},onClickNext:function(){return t.props.navigate(10,\"years\")},switchContent:\"\".concat(e,\"-\").concat(e+9)})}},{key:\"renderYears\",value:function(e){for(var t=[[],[],[]],n=this.props.selectedDate&&this.props.selectedDate.year(),r=e-1;r<e+11;r++)this.getRow(t,r-e).push(this.renderYear(r,n));return t.map((function(e,t){return l.a.createElement(\"tr\",{key:t},e)}))}},{key:\"renderYear\",value:function(e,t){var n,r=\"rdtYear\";this.isDisabledYear(e)?r+=\" rdtDisabled\":n=this._updateSelectedYear,t===e&&(r+=\" rdtActive\");var a={key:e,className:r,\"data-value\":e,onClick:n};return this.props.renderYear?this.props.renderYear(a,e,this.props.selectedDate&&this.props.selectedDate.clone()):l.a.createElement(\"td\",a,e)}},{key:\"getRow\",value:function(e,t){return t<3?e[0]:t<7?e[1]:e[2]}},{key:\"isDisabledYear\",value:function(e){var t=this.disabledYearsCache;if(void 0!==t[e])return t[e];var n=this.props.isValidDate;if(!n)return!1;for(var r=this.props.viewDate.clone().set({year:e}),a=r.endOf(\"year\").dayOfYear()+1;a-- >1;)if(n(r.dayOfYear(a)))return t[e]=!1,!1;return t[e]=!0,!0}}])&&M(t.prototype,n),a}(l.a.Component);function L(e){return(L=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return!t||\"object\"!==L(t)&&\"function\"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},X=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(a,e);var t,n,r=function(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var a=z(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),W(G(t=r.call(this,e)),\"padValues\",{hours:1,minutes:2,seconds:2,milliseconds:3}),t.constraints=t.createConstraints(e),t.state=t.getTimeParts(e.selectedDate||e.viewDate),t}return t=a,(n=[{key:\"createConstraints\",value:function(e){var t={};return Object.keys(Y).forEach((function(n){t[n]=U(U({},Y[n]),e.timeConstraints[n]||{})})),t}},{key:\"render\",value:function(){var e=this,t=[],n=this.state;return this.getCounters().forEach((function(r,a){a&&\"ampm\"!==r&&t.push(l.a.createElement(\"div\",{key:\"sep\".concat(a),className:\"rdtCounterSeparator\"},\":\")),t.push(e.renderCounter(r,n[r]))})),l.a.createElement(\"div\",{className:\"rdtTime\"},l.a.createElement(\"table\",null,this.renderHeader(),l.a.createElement(\"tbody\",null,l.a.createElement(\"tr\",null,l.a.createElement(\"td\",null,l.a.createElement(\"div\",{className:\"rdtCounters\"},t))))))}},{key:\"renderCounter\",value:function(e,t){var n=this;return\"hours\"===e&&this.isAMPM()&&0==(t=(t-1)%12+1)&&(t=12),\"ampm\"===e&&(t=-1!==this.props.timeFormat.indexOf(\" A\")?this.props.viewDate.format(\"A\"):this.props.viewDate.format(\"a\")),l.a.createElement(\"div\",{key:e,className:\"rdtCounter\"},l.a.createElement(\"span\",{className:\"rdtBtn\",onMouseDown:function(t){return n.onStartClicking(t,\"increase\",e)}},\"▲\"),l.a.createElement(\"div\",{className:\"rdtCount\"},t),l.a.createElement(\"span\",{className:\"rdtBtn\",onMouseDown:function(t){return n.onStartClicking(t,\"decrease\",e)}},\"▼\"))}},{key:\"renderHeader\",value:function(){var e=this;if(this.props.dateFormat){var t=this.props.selectedDate||this.props.viewDate;return l.a.createElement(\"thead\",null,l.a.createElement(\"tr\",null,l.a.createElement(\"td\",{className:\"rdtSwitch\",colSpan:\"4\",onClick:function(){return e.props.showView(\"days\")}},t.format(this.props.dateFormat))))}}},{key:\"onStartClicking\",value:function(e,t,n){var r=this;if(!e||!e.button||0===e.button){if(\"ampm\"===n)return this.toggleDayPart();var a={},o=document.body;a[n]=this[t](n),this.setState(a),this.timer=setTimeout((function(){r.increaseTimer=setInterval((function(){a[n]=r[t](n),r.setState(a)}),70)}),500),this.mouseUpListener=function(){clearTimeout(r.timer),clearInterval(r.increaseTimer),r.props.setTime(n,parseInt(r.state[n],10)),o.removeEventListener(\"mouseup\",r.mouseUpListener),o.removeEventListener(\"touchend\",r.mouseUpListener)},o.addEventListener(\"mouseup\",this.mouseUpListener),o.addEventListener(\"touchend\",this.mouseUpListener)}}},{key:\"toggleDayPart\",value:function(){var e=parseInt(this.state.hours,10);e>=12?e-=12:e+=12,this.props.setTime(\"hours\",e)}},{key:\"increase\",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)+t.step;return n>t.max&&(n=t.min+(n-(t.max+1))),this.pad(e,n)}},{key:\"decrease\",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)-t.step;return n<t.min&&(n=t.max+1-(t.min-n)),this.pad(e,n)}},{key:\"pad\",value:function(e,t){for(var n=t+\"\";n.length<this.padValues[e];)n=\"0\"+n;return n}},{key:\"getCounters\",value:function(){var e=[],t=this.props.timeFormat;return-1!==t.toLowerCase().indexOf(\"h\")&&(e.push(\"hours\"),-1!==t.indexOf(\"m\")&&(e.push(\"minutes\"),-1!==t.indexOf(\"s\")&&(e.push(\"seconds\"),-1!==t.indexOf(\"S\")&&e.push(\"milliseconds\")))),this.isAMPM()&&e.push(\"ampm\"),e}},{key:\"isAMPM\",value:function(){return-1!==this.props.timeFormat.toLowerCase().indexOf(\" a\")}},{key:\"getTimeParts\",value:function(e){var t=e.hours();return{hours:this.pad(\"hours\",t),minutes:this.pad(\"minutes\",e.minutes()),seconds:this.pad(\"seconds\",e.seconds()),milliseconds:this.pad(\"milliseconds\",e.milliseconds()),ampm:t<12?\"am\":\"pm\"}}},{key:\"componentDidUpdate\",value:function(e){this.props.selectedDate?this.props.selectedDate!==e.selectedDate&&this.setState(this.getTimeParts(this.props.selectedDate)):e.viewDate!==this.props.viewDate&&this.setState(this.getTimeParts(this.props.viewDate))}}])&&V(t.prototype,n),a}(l.a.Component),Q=n(3);function K(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var Z,$,J=(void 0===Z&&(Z=0),function(){return++Z}),ee={},te={},ne=[\"touchstart\",\"touchmove\"];function re(e,t){var n=null;return-1!==ne.indexOf(t)&&$&&(n={passive:!e.props.preventDefault}),n}function ae(e){return(ae=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),e}function ue(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function de(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var a=he(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||\"object\"!==ae(t)&&\"function\"!=typeof t?fe(e):t}function fe(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"default\",(function(){return xe}));var be=\"years\",ve=\"months\",me=\"days\",ye=a.a,Oe=function(){},Ce=ye.oneOfType([ye.instanceOf(i.a),ye.instanceOf(Date),ye.string]),xe=function(e){ue(n,e);var t=de(n);function n(e){var r;return se(this,n),ge(fe(r=t.call(this,e)),\"_renderCalendar\",(function(e){var t=r.props,n={viewDate:r.state.viewDate.clone(),selectedDate:r.getSelectedDate(),isValidDate:t.isValidDate,updateDate:r._updateDate,navigate:r._viewNavigate,moment:i.a,showView:r._showView};switch(e){case be:return n.renderYear=t.renderYear,l.a.createElement(F,n);case ve:return n.renderMonth=t.renderMonth,l.a.createElement(T,n);case me:return n.renderDay=t.renderDay,n.timeFormat=r.getFormat(\"time\"),l.a.createElement(y,n);default:return n.dateFormat=r.getFormat(\"date\"),n.timeFormat=r.getFormat(\"time\"),n.timeConstraints=t.timeConstraints,n.setTime=r._setTime,l.a.createElement(X,n)}})),ge(fe(r),\"_showView\",(function(e,t){var n=(t||r.state.viewDate).clone(),a=r.props.onBeforeNavigate(e,r.state.currentView,n);a&&r.state.currentView!==a&&(r.props.onNavigate(a),r.setState({currentView:a}))})),ge(fe(r),\"viewToMethod\",{days:\"date\",months:\"month\",years:\"year\"}),ge(fe(r),\"nextView\",{days:\"time\",months:\"days\",years:\"months\"}),ge(fe(r),\"_updateDate\",(function(e){var t=r.state.currentView,n=r.getUpdateOn(r.getFormat(\"date\")),a=r.state.viewDate.clone();a[r.viewToMethod[t]](parseInt(e.target.getAttribute(\"data-value\"),10)),\"days\"===t&&(a.month(parseInt(e.target.getAttribute(\"data-month\"),10)),a.year(parseInt(e.target.getAttribute(\"data-year\"),10)));var o={viewDate:a};t===n?(o.selectedDate=a.clone(),o.inputValue=a.format(r.getFormat(\"datetime\")),void 0===r.props.open&&r.props.input&&r.props.closeOnSelect&&r._closeCalendar(),r.props.onChange(a.clone())):r._showView(r.nextView[t],a),r.setState(o)})),ge(fe(r),\"_viewNavigate\",(function(e,t){var n=r.state.viewDate.clone();n.add(e,t),e>0?r.props.onNavigateForward(e,t):r.props.onNavigateBack(-e,t),r.setState({viewDate:n})})),ge(fe(r),\"_setTime\",(function(e,t){var n=(r.getSelectedDate()||r.state.viewDate).clone();n[e](t),r.props.value||r.setState({selectedDate:n,viewDate:n.clone(),inputValue:n.format(r.getFormat(\"datetime\"))}),r.props.onChange(n)})),ge(fe(r),\"_openCalendar\",(function(){r.isOpen()||r.setState({open:!0},r.props.onOpen)})),ge(fe(r),\"_closeCalendar\",(function(){r.isOpen()&&r.setState({open:!1},(function(){r.props.onClose(r.state.selectedDate||r.state.inputValue)}))})),ge(fe(r),\"_handleClickOutside\",(function(){var e=r.props;e.input&&r.state.open&&void 0===e.open&&e.closeOnClickOutside&&r._closeCalendar()})),ge(fe(r),\"_onInputFocus\",(function(e){r.callHandler(r.props.inputProps.onFocus,e)&&r._openCalendar()})),ge(fe(r),\"_onInputChange\",(function(e){if(r.callHandler(r.props.inputProps.onChange,e)){var t=e.target?e.target.value:e,n=r.localMoment(t,r.getFormat(\"datetime\")),a={inputValue:t};n.isValid()?(a.selectedDate=n,a.viewDate=n.clone().startOf(\"month\")):a.selectedDate=null,r.setState(a,(function(){r.props.onChange(n.isValid()?n:r.state.inputValue)}))}})),ge(fe(r),\"_onInputKeyDown\",(function(e){r.callHandler(r.props.inputProps.onKeyDown,e)&&9===e.which&&r.props.closeOnTab&&r._closeCalendar()})),ge(fe(r),\"_onInputClick\",(function(e){console.log(\"CLICKING 2!\"),r.callHandler(r.props.inputProps.onClick,e)&&r._openCalendar()})),r.state=r.getInitialState(e),r}return ce(n,[{key:\"render\",value:function(){return l.a.createElement(we,{className:this.getClassName(),onClickOut:this._handleClickOutside},this.renderInput(),l.a.createElement(\"div\",{className:\"rdtPicker\"},this.renderView(this.state.currentView,this._renderCalendar)))}},{key:\"renderInput\",value:function(){if(this.props.input){var e=ie(ie({type:\"text\",className:\"form-control\",value:this.getInputValue()},this.props.inputProps),{},{onFocus:this._onInputFocus,onChange:this._onInputChange,onKeyDown:this._onInputKeyDown,onClick:this._onInputClick});return this.props.renderInput?l.a.createElement(\"div\",null,this.props.renderInput(e,this._openCalendar,this._closeCalendar)):l.a.createElement(\"input\",e)}}},{key:\"renderView\",value:function(e,t){return this.props.renderView?this.props.renderView(e,(function(){return t(e)})):t(this.state.currentView)}},{key:\"getInitialState\",value:function(e){var t=e||this.props,n=this.getFormat(\"datetime\"),r=this.parseDate(t.value||t.initialValue,n);return this.checkTZ(t),{open:!t.input,currentView:t.initialViewMode||this.getInitialView(this.getFormat(\"date\")),viewDate:this.getInitialViewDate(t.initialViewDate,r,n),selectedDate:r&&r.isValid()?r:void 0,inputValue:this.getInitialInputValue(t,r,n)}}},{key:\"getInitialViewDate\",value:function(e,t,n){var r;if(e){if((r=this.parseDate(e,n))&&r.isValid())return r;this.log('The initialViewDated given \"'+e+'\" is not valid. Using current date instead.')}else if(t&&t.isValid())return t.clone();return this.getInitialDate()}},{key:\"getInitialDate\",value:function(){var e=this.localMoment();return e.hour(0).minute(0).second(0).millisecond(0),e}},{key:\"getInitialView\",value:function(e){return e?this.getUpdateOn(e):\"time\"}},{key:\"parseDate\",value:function(e,t){var n;return e&&\"string\"==typeof e?n=this.localMoment(e,t):e&&(n=this.localMoment(e)),n&&!n.isValid()&&(n=null),n}},{key:\"getClassName\",value:function(){var e=\"rdt\",t=this.props,n=t.className;return Array.isArray(n)?e+=\" \"+n.join(\" \"):n&&(e+=\" \"+n),t.input||(e+=\" rdtStatic\"),this.isOpen()&&(e+=\" rdtOpen\"),e}},{key:\"isOpen\",value:function(){return!this.props.input||(void 0===this.props.open?this.state.open:this.props.open)}},{key:\"getUpdateOn\",value:function(e){return this.props.updateOnView?this.props.updateOnView:e.match(/[lLD]/)?me:-1!==e.indexOf(\"M\")?ve:-1!==e.indexOf(\"Y\")?be:me}},{key:\"getLocaleData\",value:function(e){var t=e||this.props;return this.localMoment(t.value||t.defaultValue||new Date).localeData()}},{key:\"getDateFormat\",value:function(e){var t=this.props.dateFormat;return!0===t?e.longDateFormat(\"L\"):t||\"\"}},{key:\"getTimeFormat\",value:function(e){var t=this.props.timeFormat;return!0===t?e.longDateFormat(\"LT\"):t||\"\"}},{key:\"getFormat\",value:function(e){if(\"date\"===e)return this.getDateFormat(this.getLocaleData());if(\"time\"===e)return this.getTimeFormat(this.getLocaleData());var t=this.getLocaleData(),n=this.getDateFormat(t),r=this.getTimeFormat(t);return n&&r?n+\" \"+r:n||r}},{key:\"updateTime\",value:function(e,t,n,r){var a={},o=r?\"selectedDate\":\"viewDate\";a[o]=this.state[o].clone()[e](t,n),this.setState(a)}},{key:\"localMoment\",value:function(e,t,n){var r=null;return r=(n=n||this.props).utc?i.a.utc(e,t,n.strictParsing):n.displayTimeZone?i.a.tz(e,t,n.displayTimeZone):i()(e,t,n.strictParsing),n.locale&&r.locale(n.locale),r}},{key:\"checkTZ\",value:function(e){!e.displayTimeZone||this.tzWarning||i.a.tz||(this.tzWarning=!0,this.log('displayTimeZone prop with value \"'+e.displayTimeZone+'\" is used but moment.js timezone is not loaded.',\"error\"))}},{key:\"componentDidUpdate\",value:function(e){if(e!==this.props){var t=!1,n=this.props;[\"locale\",\"utc\",\"displayZone\",\"dateFormat\",\"timeFormat\"].forEach((function(r){e[r]!==n[r]&&(t=!0)})),t&&this.regenerateDates(this.props),n.value&&n.value!==e.value&&this.setViewDate(n.value),this.checkTZ(this.props)}}},{key:\"regenerateDates\",value:function(e){var t=this.state.viewDate.clone(),n=this.state.selectedDate&&this.state.selectedDate.clone();e.locale&&(t.locale(e.locale),n&&n.locale(e.locale)),e.utc?(t.utc(),n&&n.utc()):e.displayTimeZone?(t.tz(e.displayTimeZone),n&&n.tz(e.displayTimeZone)):(t.locale(),n&&n.locale());var r={viewDate:t,selectedDate:n};n&&n.isValid()&&(r.inputValue=n.format(this.getFormat(\"datetime\"))),this.setState(r)}},{key:\"getSelectedDate\",value:function(){if(void 0===this.props.value)return this.state.selectedDate;var e=this.parseDate(this.props.value,this.getFormat(\"datetime\"));return!(!e||!e.isValid())&&e}},{key:\"getInitialInputValue\",value:function(e,t,n){return e.inputProps.value?e.inputProps.value:t&&t.isValid()?t.format(n):e.value&&\"string\"==typeof e.value?e.value:e.initialValue&&\"string\"==typeof e.initialValue?e.initialValue:\"\"}},{key:\"getInputValue\",value:function(){var e=this.getSelectedDate();return e?e.format(this.getFormat(\"datetime\")):this.state.inputValue}},{key:\"setViewDate\",value:function(e){var t,n=this;return e&&(t=\"string\"==typeof e?this.localMoment(e,this.getFormat(\"datetime\")):this.localMoment(e))&&t.isValid()?void this.setState({viewDate:t}):n.log(\"Invalid date passed to the `setViewDate` method: \"+e)}},{key:\"navigate\",value:function(e){this._showView(e)}},{key:\"log\",value:function(e,t){var n=\"undefined\"!=typeof window&&window.console;n&&(t||(t=\"warn\"),n[t](\"***react-datetime:\"+e))}},{key:\"callHandler\",value:function(e,t){return!e||!1!==e(t)}}]),n}(l.a.Component);ge(xe,\"propTypes\",{value:Ce,initialValue:Ce,initialViewDate:Ce,initialViewMode:ye.oneOf([be,ve,me,\"time\"]),onOpen:ye.func,onClose:ye.func,onChange:ye.func,onNavigate:ye.func,onBeforeNavigate:ye.func,onNavigateBack:ye.func,onNavigateForward:ye.func,updateOnView:ye.string,locale:ye.string,utc:ye.bool,displayTimeZone:ye.string,input:ye.bool,dateFormat:ye.oneOfType([ye.string,ye.bool]),timeFormat:ye.oneOfType([ye.string,ye.bool]),inputProps:ye.object,timeConstraints:ye.object,isValidDate:ye.func,open:ye.bool,strictParsing:ye.bool,closeOnSelect:ye.bool,closeOnTab:ye.bool,renderView:ye.func,renderInput:ye.func,renderDay:ye.func,renderMonth:ye.func,renderYear:ye.func}),ge(xe,\"defaultProps\",{onOpen:Oe,onClose:Oe,onCalendarOpen:Oe,onCalendarClose:Oe,onChange:Oe,onNavigate:Oe,onBeforeNavigate:function(e){return e},onNavigateBack:Oe,onNavigateForward:Oe,dateFormat:!0,timeFormat:!0,utc:!1,className:\"\",input:!0,inputProps:{},timeConstraints:{},isValidDate:function(){return!0},strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,closeOnClickOutside:!0}),ge(xe,\"moment\",i.a);var we=function(e,t){var n,r,a=e.displayName||e.name||\"Component\";return r=n=function(n){var r,o;function i(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if(\"function\"!=typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if(\"function\"!=typeof t.props.handleClickOutside){if(\"function\"!=typeof t.handleClickOutside)throw new Error(\"WrappedComponent: \"+a+\" lacks a handleClickOutside(event) function for processing outside click events.\");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&\"function\"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):\"function\"==typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(Q.findDOMNode)(e)},r.enableOnClickOutside=function(){if(\"undefined\"!=typeof document&&!te[r._uid]){void 0===$&&($=function(){if(\"undefined\"!=typeof window&&\"function\"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},\"passive\",{get:function(){e=!0}}),n=function(){};return window.addEventListener(\"testPassiveEventSupport\",n,t),window.removeEventListener(\"testPassiveEventSupport\",n,t),e}}()),te[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),ee[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(K(e,t,n))return!0;e=e.parentNode}return e}(e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,ee[r._uid],re(r,e))}))}},r.disableOnClickOutside=function(){delete te[r._uid];var e=ee[r._uid];if(e&&\"undefined\"!=typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,re(r,t))})),delete ee[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=J(),r}o=n,(r=i).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o;var l=i.prototype;return l.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},l.componentDidMount=function(){if(\"undefined\"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&\"function\"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),\"function\"!=typeof this.__clickOutsideHandlerProp))throw new Error(\"WrappedComponent: \"+a+\" lacks a function for processing outside click events specified by the handleClickOutside config option.\");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},l.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},l.componentWillUnmount=function(){this.disableOnClickOutside()},l.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,[\"excludeScrollbar\"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(s.createElement)(e,n)},i}(s.Component),n.displayName=\"OnClickOutside(\"+a+\")\",n.defaultProps={eventTypes:[\"mousedown\",\"touchstart\"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:\"ignore-react-onclickoutside\",preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},r}(function(e){ue(n,e);var t=de(n);function n(){var e;se(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return ge(fe(e=t.call.apply(t,[this].concat(a))),\"container\",l.a.createRef()),e}return ce(n,[{key:\"render\",value:function(){return l.a.createElement(\"div\",{className:this.props.className,ref:this.container},this.props.children)}},{key:\"handleClickOutside\",value:function(e){this.props.onClickOut(e)}},{key:\"setClickOutsideRef\",value:function(){return this.container.current}}]),n}(l.a.Component))}])},173:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(1377);Object.defineProperty(t,\"Alpha\",{enumerable:!0,get:function(){return d(r).default}});var a=n(1125);Object.defineProperty(t,\"Checkboard\",{enumerable:!0,get:function(){return d(a).default}});var o=n(1380);Object.defineProperty(t,\"EditableInput\",{enumerable:!0,get:function(){return d(o).default}});var i=n(1381);Object.defineProperty(t,\"Hue\",{enumerable:!0,get:function(){return d(i).default}});var s=n(1383);Object.defineProperty(t,\"Raised\",{enumerable:!0,get:function(){return d(s).default}});var l=n(1384);Object.defineProperty(t,\"Saturation\",{enumerable:!0,get:function(){return d(l).default}});var c=n(1126);Object.defineProperty(t,\"ColorWrap\",{enumerable:!0,get:function(){return d(c).default}});var u=n(1386);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"Swatch\",{enumerable:!0,get:function(){return d(u).default}})},180:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(8),a=n.n(r),o=(n(0),n(61)),i=n(1);function s(){const e=a()([\"\\n  z-index: 99;\\n  width: 50px;\\n  position: relative;\\n  margin: 10px;\\n  &.inline {\\n    margin: 0px;\\n    width: 30px;\\n  }\\n  &.floating {\\n    padding: 0;\\n    margin: 0;\\n    position: absolute;\\n    left: 50%;\\n    top: 50%;\\n    transform: translate(-50%, -50%);\\n  }\\n\"]);return s=function(){return e},e}const l=o.c.img(s());function c({position:e=\"floating\"}){return Object(i.f)(l,{className:\"loading \"+e,alt:\"Loading...\",src:\"/static/assets/images/loading.gif\"})}},187:function(e,t,n){\"use strict\";n.d(t,\"n\",(function(){return r})),n.d(t,\"o\",(function(){return a})),n.d(t,\"q\",(function(){return o})),n.d(t,\"i\",(function(){return i})),n.d(t,\"j\",(function(){return s})),n.d(t,\"m\",(function(){return l})),n.d(t,\"c\",(function(){return c})),n.d(t,\"a\",(function(){return u})),n.d(t,\"d\",(function(){return d})),n.d(t,\"e\",(function(){return p})),n.d(t,\"g\",(function(){return f})),n.d(t,\"f\",(function(){return h})),n.d(t,\"l\",(function(){return g})),n.d(t,\"k\",(function(){return b})),n.d(t,\"h\",(function(){return v})),n.d(t,\"p\",(function(){return m})),n.d(t,\"b\",(function(){return y}));const r={offline:\"danger\",failed:\"danger\",pending:\"info\",fetching:\"info\",running:\"warning\",stopped:\"danger\",success:\"success\"},a={success:\"success\",failed:\"failed\",running:\"running\",offline:\"offline\",pending:\"pending\"},o=[\"now\",\"1 hour ago\",\"1 day ago\",\"7 days ago\",\"28 days ago\",\"90 days ago\",\"1 year ago\"],i=5,s=3,l=51,c=1024,u=2,d=864e5,p=5120,f=.9,h=8e3,g=100,b=90,v=60,m=55,y=50},188:function(e,t,n){\"use strict\";const r=n(11).r;t.a=r},195:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return h})),n.d(t,\"a\",(function(){return g}));var r=n(4),a=n.n(r),o=n(8),i=n.n(o),s=n(61),l=n(11);function c(){const e=i()([\"\\n  &.ant-select-single {\\n    .ant-select-selector {\\n      height: 36px;\\n      padding: 0 11px;\\n      background-color: \",\";\\n      border: none;\\n\\n      .ant-select-selection-search-input {\\n        height: 100%;\\n      }\\n\\n      .ant-select-selection-item,\\n      .ant-select-selection-placeholder {\\n        line-height: 35px;\\n        color: \",\";\\n      }\\n    }\\n  }\\n\"]);return c=function(){return e},e}function u(){const e=i()([\"\\n  display: block;\\n\"]);return u=function(){return e},e}const d=Object(s.c)(l.u)(u()),p=Object(s.c)(d)(c(),({theme:e})=>e.colors.grayscale.light3,({theme:e})=>e.colors.grayscale.dark1),f=l.u.Option,h=a()(d,{Option:f}),g=a()(p,{Option:f})},212:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var r=n(7),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n.n(s),c=n(92),u=n(35),d=n(1);const p={dialogClassName:l.a.string,triggerNode:l.a.node.isRequired,modalTitle:l.a.node,modalBody:l.a.node,modalFooter:l.a.node,beforeOpen:l.a.func,onExit:l.a.func,isButton:l.a.bool,className:l.a.string,tooltip:l.a.string,width:l.a.string,maxWidth:l.a.string,responsive:l.a.bool};class f extends i.a.Component{constructor(e){var t,n;super(e),this.state={showModal:!1},this.open=a()(t=this.open).call(t,this),this.close=a()(n=this.close).call(n,this)}close(){this.setState(()=>({showModal:!1}))}open(e){e.preventDefault(),this.props.beforeOpen(),this.setState(()=>({showModal:!0}))}renderModal(){return Object(d.f)(c.b,{wrapClassName:this.props.dialogClassName,className:this.props.className,show:this.state.showModal,onHide:this.close,afterClose:this.props.onExit,title:this.props.modalTitle,footer:this.props.modalFooter,hideFooter:!this.props.modalFooter,width:this.props.width,maxWidth:this.props.maxWidth,responsive:this.props.responsive},this.props.modalBody)}render(){return this.props.isButton?Object(d.f)(i.a.Fragment,null,Object(d.f)(u.a,{className:\"modal-trigger\",tooltip:this.props.tooltip,onClick:this.open},this.props.triggerNode),this.renderModal()):Object(d.f)(i.a.Fragment,null,Object(d.f)(\"span\",{onClick:this.open,role:\"button\"},this.props.triggerNode),this.renderModal())}}f.propTypes=p,f.defaultProps={beforeOpen:()=>{},onExit:()=>{},isButton:!1,className:\"\",modalTitle:\"\"}},213:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return _})),n.d(t,\"c\",(function(){return E})),n.d(t,\"e\",(function(){return S})),n.d(t,\"g\",(function(){return T})),n.d(t,\"b\",(function(){return D})),n.d(t,\"d\",(function(){return k})),n.d(t,\"a\",(function(){return M}));n(108),n(280),n(36);var r=n(28),a=n.n(r),o=n(167),i=n.n(o),s=n(273),l=n.n(s),c=n(41),u=n.n(c),d=n(237),p=n.n(d),f=n(66),h=n.n(f),g=n(6),b=n.n(g),v=n(65),m=n.n(v),y=n(0),O=n.n(y),C=n(385),x=n(1);const w={\"mode/sql\":()=>n.e(77).then(n.t.bind(null,1462,7)),\"mode/markdown\":()=>Promise.all([n.e(11),n.e(10),n.e(19),n.e(61)]).then(n.t.bind(null,1463,7)),\"mode/css\":()=>Promise.all([n.e(10),n.e(74)]).then(n.t.bind(null,1464,7)),\"mode/json\":()=>n.e(60).then(n.t.bind(null,1465,7)),\"mode/yaml\":()=>n.e(78).then(n.t.bind(null,1466,7)),\"mode/html\":()=>Promise.all([n.e(11),n.e(10),n.e(19),n.e(75)]).then(n.t.bind(null,1467,7)),\"mode/javascript\":()=>Promise.all([n.e(11),n.e(76)]).then(n.t.bind(null,1468,7)),\"theme/textmate\":()=>n.e(80).then(n.t.bind(null,1469,7)),\"theme/github\":()=>n.e(79).then(n.t.bind(null,1470,7)),\"ext/language_tools\":()=>n.e(73).then(n.t.bind(null,1471,7))};function j(e,{defaultMode:t,defaultTheme:r,defaultTabSize:o=2,placeholder:s}={}){return Object(C.a)(async()=>{var s,c;const{default:d}=await Promise.all([n.e(0),n.e(18)]).then(n.t.bind(null,1365,7)),{default:f}=await Promise.all([n.e(0),n.e(18),n.e(45)]).then(n.t.bind(null,1472,7));await m.a.all(b()(e).call(e,e=>w[e]()));const g=t||(null==(s=h()(e).call(e,e=>p()(e).call(e,\"mode/\")))?void 0:s.replace(\"mode/\",\"\")),v=r||(null==(c=h()(e).call(e,e=>p()(e).call(e,\"theme/\")))?void 0:c.replace(\"theme/\",\"\"));return O.a.forwardRef((function(e,t){let{keywords:n,mode:r=g,theme:s=v,tabSize:c=o}=e,p=u()(e,[\"keywords\",\"mode\",\"theme\",\"tabSize\"]);if(n){const e={getCompletions:(e,t,a,o,s)=>{l()(i()(o,10))&&t.getMode().$id===\"ace/mode/\"+r&&s(null,n)}};d.acequire(\"ace/ext/language_tools\").setCompleters([e])}return Object(x.f)(f,a()({ref:t,mode:r,theme:s,tabSize:c},p))}))},s)}const _=j([\"mode/sql\",\"theme/github\",\"ext/language_tools\"]),E=j([\"mode/sql\",\"theme/github\",\"ext/language_tools\"],{placeholder:()=>Object(x.f)(\"div\",{style:{height:\"100%\"}},Object(x.f)(\"div\",{style:{width:41,height:\"100%\",background:\"#e8e8e8\"}}),Object(x.f)(\"div\",{className:\"ace_content\"}))}),S=j([\"mode/markdown\",\"theme/textmate\"]),T=j([\"mode/markdown\",\"mode/sql\",\"mode/json\",\"mode/html\",\"mode/javascript\",\"theme/textmate\"]),D=j([\"mode/css\",\"theme/github\"]),k=j([\"mode/json\",\"theme/github\"]),M=j([\"mode/json\",\"mode/yaml\",\"theme/github\"])},2164:function(e,t,n){},2165:function(e,t,n){},2166:function(e,t,n){},252:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));n(208);var r=n(0),a=n.n(r),o=n(2),i=n.n(o),s=n(9),l=n(488),c=n(1);const u={children:i.a.node.isRequired,onError:i.a.func,showMessage:i.a.bool};class d extends a.a.Component{constructor(e){super(e),this.state={error:null,info:null}}componentDidCatch(e,t){this.props.onError(e,t),this.setState({error:e,info:t})}render(){const{error:e,info:t}=this.state;if(e){const n=e.toString(),r=Object(c.f)(\"span\",null,Object(c.f)(\"strong\",null,Object(s.e)(\"Unexpected error\")),n?\": \"+n:\"\");return this.props.showMessage?Object(c.f)(l.a,{subtitle:r,copyText:r,stackTrace:t?t.componentStack:null}):null}return this.props.children}}d.propTypes=u,d.defaultProps={onError:()=>{},showMessage:!0}},267:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(106),a=n.n(r),o=n(93),i=n.n(o);function s(e){const t=new i.a;return a()(e,(e,n)=>{if(\"object\"==typeof n&&null!==n){if(t.has(n))try{return JSON.parse(a()(n))}catch(e){return}t.add(n)}return n})}},268:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o})),n.d(t,\"b\",(function(){return i})),n.d(t,\"c\",(function(){return l}));n(280),n(196);var r=n(6),a=n.n(r);const o=\" : \",i=(e,t)=>\"\"+e+o+t,s=(e,t)=>e.replace(\"T00:00:00\",\"\")||(t?\"-∞\":\"∞\"),l=(e,t)=>{var n;const r=e.split(o);if(1===r.length)return e;const i=a()(n=t||[\"unknown\",\"unknown\"]).call(n,e=>\"inclusive\"===e?\"≤\":\"<\");return s(r[0],!0)+\" \"+i[0]+\" col \"+i[1]+\" \"+s(r[1])}},318:function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return U})),n.d(t,\"c\",(function(){return H})),n.d(t,\"a\",(function(){return q})),n.d(t,\"d\",(function(){return G})),n.d(t,\"f\",(function(){return W})),n.d(t,\"b\",(function(){return Y}));var r={};n.r(r),n.d(r,\"druidTimeSeries\",(function(){return N})),n.d(r,\"datasourceAndVizType\",(function(){return A})),n.d(r,\"colorScheme\",(function(){return I})),n.d(r,\"sqlaTimeSeries\",(function(){return F})),n.d(r,\"annotations\",(function(){return L})),n.d(r,\"NVD3TimeSeries\",(function(){return B}));n(36);var a=n(29),o=n.n(a),i=n(84),s=n.n(i),l=n(152),c=n.n(l),u=n(56),d=n.n(u),p=n(68),f=n.n(p),h=n(26),g=n.n(h),b=n(6),v=n.n(b),m=n(1109),y=n.n(m),O=n(66),C=n.n(O),x=n(4),w=n.n(x),j=n(44),_=n.n(j),E=n(17),S=n.n(E),T=n(132),D=n(346),k=n(814),M=(n(0),n(9)),R=n(239),P=n(1);const N={label:Object(M.e)(\"Time\"),expanded:!0,description:Object(M.e)(\"Time related form attributes\"),controlSetRows:[[\"time_range\"]]},A={label:Object(M.e)(\"Chart Type\"),expanded:!0,controlSetRows:[[\"datasource\"],[\"viz_type\"],[{name:\"slice_id\",config:{type:\"HiddenControl\",label:Object(M.e)(\"Chart ID\"),hidden:!0,description:Object(M.e)(\"The id of the active chart\")}},{name:\"cache_timeout\",config:{type:\"HiddenControl\",label:Object(M.e)(\"Cache Timeout (seconds)\"),hidden:!0,description:Object(M.e)(\"The number of seconds before expiring the cache\")}},{name:\"url_params\",config:{type:\"HiddenControl\",label:Object(M.e)(\"URL Parameters\"),hidden:!0,description:Object(M.e)(\"Extra parameters for use in jinja templated queries\")}},{name:\"time_range_endpoints\",config:{type:\"HiddenControl\",label:Object(M.e)(\"Time range endpoints\"),hidden:!0,description:Object(M.e)(\"Time range endpoints (SIP-15)\")}}]]},I={label:Object(M.e)(\"Color Scheme\"),controlSetRows:[[\"color_scheme\",\"label_colors\"]]},F={label:Object(M.e)(\"Time\"),description:Object(M.e)(\"Time related form attributes\"),expanded:!0,controlSetRows:[[\"granularity_sqla\"],[\"time_range\"]]},L={label:Object(M.e)(\"Annotations and Layers\"),tabOverride:\"data\",expanded:!0,controlSetRows:[[{name:\"annotation_layers\",config:{type:\"AnnotationLayerControl\",label:\"\",default:[],description:\"Annotation Layers\",renderTrigger:!0,tabOverride:\"data\"}}]]},B=[{label:Object(M.e)(\"Query\"),expanded:!0,controlSetRows:[[\"metrics\"],[\"adhoc_filters\"],[\"groupby\"],[\"limit\",\"timeseries_limit_metric\"],[{name:\"order_desc\",config:{type:\"CheckboxControl\",label:Object(M.e)(\"Sort Descending\"),default:!0,description:Object(M.e)(\"Whether to sort descending or ascending\")}},{name:\"contribution\",config:{type:\"CheckboxControl\",label:Object(M.e)(\"Contribution\"),default:!1,description:Object(M.e)(\"Compute the contribution to the total\")}}],[\"row_limit\",null]]},{label:Object(M.e)(\"Advanced Analytics\"),tabOverride:\"data\",description:Object(M.e)(\"This section contains options that allow for advanced analytical post processing of query results\"),controlSetRows:[[Object(P.f)(\"h1\",{className:\"section-header\"},Object(M.e)(\"Rolling Window\"))],[{name:\"rolling_type\",config:{type:\"SelectControl\",label:Object(M.e)(\"Rolling Function\"),default:\"None\",choices:Object(R.a)([\"None\",\"mean\",\"sum\",\"std\",\"cumsum\"]),description:Object(M.e)(\"Defines a rolling window function to apply, works along with the [Periods] text box\")}},{name:\"rolling_periods\",config:{type:\"TextControl\",label:Object(M.e)(\"Periods\"),isInt:!0,description:Object(M.e)(\"Defines the size of the rolling window function, relative to the time granularity selected\")}},{name:\"min_periods\",config:{type:\"TextControl\",label:Object(M.e)(\"Min Periods\"),isInt:!0,description:Object(M.e)('The minimum number of rolling periods required to show a value. For instance if you do a cumulative sum on 7 days you may want your \"Min Period\" to be 7, so that all data points shown are the total of 7 periods. This will hide the \"ramp up\" taking place over the first 7 periods')}}],[Object(P.f)(\"h1\",{className:\"section-header\"},Object(M.e)(\"Time Comparison\"))],[{name:\"time_compare\",config:{type:\"SelectControl\",multi:!0,freeForm:!0,label:Object(M.e)(\"Time Shift\"),choices:Object(R.a)([\"1 day\",\"1 week\",\"28 days\",\"30 days\",\"52 weeks\",\"1 year\",\"104 weeks\",\"2 years\"]),description:Object(M.e)(\"Overlay one or more timeseries from a relative time period. Expects relative time deltas in natural language (example:  24 hours, 7 days, 52 weeks, 365 days). Free text is supported.\")}},{name:\"comparison_type\",config:{type:\"SelectControl\",label:Object(M.e)(\"Calculation type\"),default:\"values\",choices:[[\"values\",\"Actual Values\"],[\"absolute\",\"Absolute difference\"],[\"percentage\",\"Percentage change\"],[\"ratio\",\"Ratio\"]],description:Object(M.e)(\"How to display time shifts: as individual lines; as the absolute difference between the main time series and each time shift; as the percentage change; or as the ratio between series and time shifts.\")}}],[Object(P.f)(\"h1\",{className:\"section-header\"},Object(M.e)(\"Python Functions\"))],[Object(P.f)(\"h2\",{className:\"section-header\"},\"pandas.resample\")],[{name:\"resample_rule\",config:{type:\"SelectControl\",freeForm:!0,label:Object(M.e)(\"Rule\"),default:null,choices:Object(R.a)([\"1T\",\"1H\",\"1D\",\"7D\",\"1M\",\"1AS\"]),description:Object(M.e)(\"Pandas resample rule\")}},{name:\"resample_method\",config:{type:\"SelectControl\",freeForm:!0,label:Object(M.e)(\"Method\"),default:null,choices:Object(R.a)([\"asfreq\",\"bfill\",\"ffill\",\"median\",\"mean\",\"sum\"]),description:Object(M.e)(\"Pandas resample method\")}}]]}];function U(e){var t;const n={};return S()(t=_()(e)).call(t,t=>{const r=e[t];n[t]=r.value}),n}const V=Object(T.a)((e,t)=>{const{controlOverrides:n={},controlPanelSections:r=[]}=t,a=Object(k.a)(function(e,t){var n,r,a;return null!=(n=C()(r=y()(a=v()(e).call(e,e=>e.controlSetRows)).call(a,2)).call(r,e=>t===e||null!==e&&\"object\"==typeof e&&e.name===t))?n:null}(r,e),n);return(null==a?void 0:a.config)||a}),H=function(e,t){const n=Object(D.a)().get(t)||{};return V(e,n)};function q(e,t){const{mapStateToProps:n}=e;let r=w()({},e),{value:a}=r;return n&&t&&(r=w()({},e,n(t,e)),a=a||r.value),\"function\"==typeof r.default&&(r.default=r.default(r,t),\"function\"==typeof r.default&&delete r.default),r.default&&void 0===a&&(a=r.default),a&&r.multi&&!d()(a)&&(a=[a]),r.value=a,function(e,t){const{validators:n}=e,r=[];return n&&n.length>0&&S()(n).call(n,n=>{const a=n.call(e,e.value,t);a&&r.push(a)}),w()({},e,{validationErrors:r})}(function(e){const{value:t}=e;if(\"SelectControl\"===e.type&&!e.freeForm&&e.choices&&t){var n;const r=w()({},e),a=v()(n=e.choices).call(n,e=>e[0]);if(e.multi&&t.length>0)return r.value=g()(t).call(t,e=>f()(a).call(a,e)>-1),r;if(!e.multi&&f()(a).call(a,t)<0)return r.value=null,r}return e}(r),r)}function G(e,t,n){if(!e)return null;const r=w()({},e,{value:n});return t&&t.controls||null===t?q(r,t):r}const z=Object(T.a)((e,t)=>{var n,a,i,l;const{sectionOverrides:u={},controlOverrides:d,controlPanelSections:p=[]}=t,f=w()({},r);S()(n=c()(u)).call(n,([e,t])=>{\"object\"==typeof t&&t.constructor===Object?f[e]=w()({},f[e],t):f[e]=t});const{datasourceAndVizType:h}=f,b=\"table\"===e?[\"granularity\",\"druid_time_origin\"]:[\"granularity_sqla\",\"time_grain_sqla\"];return v()(a=g()(i=s()(l=[]).call(l,h,p)).call(i,e=>!!e)).call(a,e=>{const{controlSetRows:t}=e;return w()({},e,{controlSetRows:(null==t?void 0:v()(t).call(t,e=>{var t;return v()(t=g()(e).call(e,e=>!o()(b).call(b,e))).call(t,e=>Object(k.a)(e,d))}))||[]})})}),W=function(e,t){const n=Object(D.a)().get(e)||{};return z(t,n)};function Y(e,t,n,r){var a;const o={};return S()(a=W(e,t)).call(a,e=>{var t;return S()(t=e.controlSetRows).call(t,e=>S()(e).call(e,e=>{if(e&&e.config&&e.name){const{config:t,name:a}=e;o[a]=G(t,n,r[a])}}))}),o}},347:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"LOG_EVENT\",(function(){return r})),n.d(t,\"logEvent\",(function(){return a}));const r=\"LOG_EVENT\";function a(e,t){return n=>n({type:r,payload:{eventName:e,eventData:t}})}},358:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.red=void 0;var r=o(n(1766)),a=o(n(636));function o(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,r.default)([\"r\",\"g\",\"b\",\"a\",\"h\",\"s\",\"l\",\"v\"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),\"s\"===r||\"l\"===r)){/^\\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},toState:function(e,t){var n=e.hex?(0,a.default)(e.hex):(0,a.default)(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:\"000000\"===s&&0===i.a?\"transparent\":\"#\"+s,rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t=\"#\"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,a.default)(e).isValid()},getContrastingColor:function(e){if(!e)return\"#fff\";var t=this.toState(e);return\"transparent\"===t.hex?\"rgba(0,0,0,0.4)\":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?\"#000\":\"#fff\"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:\"#ff0000\",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},385:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h}));n(36);var r=n(28),a=n.n(r),o=n(65),i=n.n(o),s=n(4),l=n.n(s),c=n(0),u=n.n(c),d=n(180),p=n(1);function f({width:e,height:t,showLoadingForImport:n=!1,placeholderStyle:r}){return t&&Object(p.f)(\"div\",{key:\"async-asm-placeholder\",style:l()({width:e,height:t},r)},n&&Object(p.f)(d.a,{position:\"floating\"}))||null}function h(e,t=f){let n,r;function o(){return n||(n=e instanceof i.a?e:e()),r||n.then(e=>{r=e.default||e}),n}const s=u.a.forwardRef((function(e,n){const[i,s]=Object(c.useState)(void 0!==r);Object(c.useEffect)(()=>{let e=!0;return i||o().then(()=>{e&&s(!0)}),()=>{e=!1}});const l=r||t;return l?Object(p.f)(l,a()({ref:l===r?n:null},e)):null}));return s.preload=o,s}},436:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return u})),n.d(t,\"a\",(function(){return d}));var r=n(830),a=n.n(r),o=n(17),i=n.n(o),s=n(93),l=n.n(s),c=n(42);const u=function(){var e;const t=document.getElementById(\"app\");if(!t)return[];const n=JSON.parse(t.getAttribute(\"data-bootstrap\"));Object(c.b)(null==n?void 0:null==(e=n.common)?void 0:e.feature_flags);const r=new l.a([window.location.hostname]);var o;return Object(c.c)(c.a.ALLOW_DASHBOARD_DOMAIN_SHARDING)&&n&&n.common&&n.common.conf&&n.common.conf.SUPERSET_WEBSERVER_DOMAINS&&i()(o=n.common.conf.SUPERSET_WEBSERVER_DOMAINS).call(o,e=>{r.add(e)}),a()(r)}(),d=u.length>1},452:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return g})),n.d(t,\"a\",(function(){return b}));n(196);var r,a=n(44),o=n.n(a),i=n(84),s=n.n(i),l=n(17),c=n.n(l),u=n(4),d=n.n(u),p=n(346),f=n(318),h=n(734);function g(e,t){const n=d()({},t),r=n.viz_type||\"table\";!function(e){e.y_axis_zero&&(e.y_axis_bounds=[0,null])}(n);const a=Object(f.b)(r,e.datasource.type,e,n),o=Object(p.a)().get(r)||{};return o.onInit?o.onInit(a):a}function b(e){var t,n;const r=e.datasource.split(\"__\")[1],a=e.viz_type,i=Object(f.b)(a,r,null,d()({},e)),l=Object(f.e)(i),u={};return c()(t=s()(n=o()(i)).call(n,o()(e))).call(t,t=>{void 0===e[t]?u[t]=l[t]:u[t]=e[t]}),u}const v=d()({},h.a);c()(r=o()(h.a)).call(r,e=>{v[e].value=h.a[e].default});Object(f.e)(v)},460:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(1128);Object.defineProperty(t,\"DragDropContext\",{enumerable:!0,get:function(){return l(r).default}});var a=n(1435);Object.defineProperty(t,\"DragDropContextProvider\",{enumerable:!0,get:function(){return l(a).default}});var o=n(1436);Object.defineProperty(t,\"DragLayer\",{enumerable:!0,get:function(){return l(o).default}});var i=n(1437);Object.defineProperty(t,\"DragSource\",{enumerable:!0,get:function(){return l(i).default}});var s=n(1447);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"DropTarget\",{enumerable:!0,get:function(){return l(s).default}})},461:function(e,t,n){\"use strict\";var r=n(6),a=n.n(r),o=n(84),i=n.n(o),s=n(187);const l=[\"AND\",\"AS\",\"ASC\",\"AVG\",\"BY\",\"CASE\",\"COUNT\",\"CREATE\",\"CROSS\",\"DATABASE\",\"DEFAULT\",\"DELETE\",\"DESC\",\"DISTINCT\",\"DROP\",\"ELSE\",\"END\",\"FOREIGN\",\"FROM\",\"GRANT\",\"GROUP\",\"HAVING\",\"IF\",\"INNER\",\"INSERT\",\"JOIN\",\"KEY\",\"LEFT\",\"LIMIT\",\"MAX\",\"MIN\",\"NATURAL\",\"NOT\",\"NULL\",\"OFFSET\",\"ON\",\"OR\",\"ORDER\",\"OUTER\",\"PRIMARY\",\"REFERENCES\",\"RIGHT\",\"SELECT\",\"SUM\",\"TABLE\",\"THEN\",\"TYPE\",\"UNION\",\"UPDATE\",\"WHEN\",\"WHERE\"],c=i()(l).call(l,[\"BIGINT\",\"BINARY\",\"BIT\",\"CHAR\",\"DATE\",\"DECIMAL\",\"DOUBLE\",\"FLOAT\",\"INT\",\"INTEGER\",\"MONEY\",\"NUMBER\",\"NUMERIC\",\"REAL\",\"SET\",\"TEXT\",\"TIMESTAMP\",\"VARCHAR\"]),u=a()(c).call(c,e=>({meta:\"sql\",name:e,score:s.l,value:e}));t.a=u},488:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(0),a=n.n(r),o=n(9),i=n(345),s=n(174),l=n(1);const c=Object(o.e)(\"Unexpected Error\");function u({title:e=c,error:t,subtitle:n,copyText:r,link:o,stackTrace:u,source:d}){if(t){const e=Object(i.a)().get(t.error_type);if(e)return Object(l.f)(e,{error:t,source:d})}return Object(l.f)(s.a,{level:\"warning\",title:e,subtitle:n,copyText:r,source:d,body:o||u?Object(l.f)(a.a.Fragment,null,o&&Object(l.f)(\"a\",{href:o,target:\"_blank\",rel:\"noopener noreferrer\"},\"(Request Access)\"),Object(l.f)(\"br\",null),u&&Object(l.f)(\"pre\",null,u)):void 0})}},54:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l})),n.d(t,\"b\",(function(){return c})),n.d(t,\"j\",(function(){return u})),n.d(t,\"k\",(function(){return d})),n.d(t,\"l\",(function(){return p})),n.d(t,\"e\",(function(){return f})),n.d(t,\"h\",(function(){return h})),n.d(t,\"i\",(function(){return g})),n.d(t,\"c\",(function(){return b})),n.d(t,\"d\",(function(){return v})),n.d(t,\"o\",(function(){return m})),n.d(t,\"p\",(function(){return y})),n.d(t,\"n\",(function(){return O})),n.d(t,\"m\",(function(){return C})),n.d(t,\"f\",(function(){return x})),n.d(t,\"g\",(function(){return w}));var r=n(93),a=n.n(r),o=n(79),i=n.n(o),s=n(9);const l={AVG:\"AVG\",COUNT:\"COUNT\",COUNT_DISTINCT:\"COUNT_DISTINCT\",MAX:\"MAX\",MIN:\"MIN\",SUM:\"SUM\"},c=i()(l),u={\"==\":\"==\",\"!=\":\"!=\",\">\":\">\",\"<\":\"<\",\">=\":\">=\",\"<=\":\"<=\",IN:\"IN\",\"NOT IN\":\"NOT IN\",LIKE:\"LIKE\",REGEX:\"REGEX\",\"IS NOT NULL\":\"IS NOT NULL\",\"IS NULL\":\"IS NULL\",\"LATEST PARTITION\":\"LATEST PARTITION\"},d=i()(u),p=[u.LIKE],f=[u.REGEX],h=[u[\"==\"],u[\"!=\"],u[\">\"],u[\"<\"],u[\">=\"],u[\"<=\"]],g=new a.a([u.in,u[\"not in\"],u.IN,u[\"NOT IN\"]]),b=new a.a([u[\"LATEST PARTITION\"]]),v=[u[\"IS NOT NULL\"],u[\"IS NULL\"],u[\"LATEST PARTITION\"]],m=/^(sum|min|max|avg|count|count_distinct)__.*$/i,y=/^(LONG|DOUBLE|FLOAT)?(SUM|AVG|MAX|MIN|COUNT)\\([A-Z0-9_.\"]*\\)$/i,O=/^(LONG|DOUBLE|FLOAT)?(SUM|MAX|MIN|COUNT)\\([A-Z0-9_.\"]*\\)$/i,C={time_range:Object(s.e)(\"Time Range\"),granularity_sqla:Object(s.e)(\"Time Column\"),time_grain_sqla:Object(s.e)(\"Time Grain\"),druid_time_origin:Object(s.e)(\"Origin\"),granularity:Object(s.e)(\"Time Granularity\")},x={DEFAULT_VALUE:\"defaultValue\",MULTIPLE:\"multiple\",SEARCH_ALL_OPTIONS:\"searchAllOptions\",CLEARABLE:\"clearable\"},w=1e3},59:function(e,t,n){\"use strict\";n.d(t,\"g\",(function(){return E})),n.d(t,\"f\",(function(){return S})),n.d(t,\"e\",(function(){return T})),n.d(t,\"d\",(function(){return D})),n.d(t,\"j\",(function(){return k})),n.d(t,\"h\",(function(){return M})),n.d(t,\"i\",(function(){return R})),n.d(t,\"k\",(function(){return P})),n.d(t,\"m\",(function(){return N})),n.d(t,\"l\",(function(){return I})),n.d(t,\"a\",(function(){return F})),n.d(t,\"b\",(function(){return L})),n.d(t,\"c\",(function(){return B}));n(108),n(196),n(36);var r=n(8),a=n.n(r),o=n(47),i=n.n(o),s=n(65),l=n.n(s),c=n(84),u=n.n(c),d=n(6),p=n.n(d),f=n(4),h=n.n(f),g=n(57),b=n(9),v=n(166),m=n(61),y=n(103),O=n.n(y),C=n(69);function x(){const e=a()([\"\\n  svg {\\n    vertical-align: -7px;\\n    color: \",\";\\n  }\\n\"]);return x=function(){return e},e}function w(){const e=a()([\"\\n  cursor: pointer;\\n  a {\\n    text-decoration: none;\\n  }\\n\"]);return w=function(){return e},e}function j(){const e=a()([\"\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(31%, 31%));\\n  \",\" {\\n    grid-template-columns: repeat(auto-fit, minmax(31%, 31%));\\n  }\\n\\n  \",\" {\\n    grid-template-columns: repeat(auto-fit, minmax(48%, 48%));\\n  }\\n\\n  \",\" {\\n    grid-template-columns: repeat(auto-fit, minmax(50%, 80%));\\n  }\\n  grid-gap: \",\"px;\\n  justify-content: left;\\n  padding: \",\"px;\\n  padding-top: \",\"px;\\n\"]);return j=function(){return e},e}const _=e=>(t,n,r,a)=>async(o=\"\",i,s)=>{const l=\"/api/v1/\"+t+\"/\"+e+\"/\"+n,c=a&&0===i?[{label:\"me\",value:a}]:[];try{var d;const e=O.a.encode(h()({},i?{page:i}:{},s?{page_size:s}:{},o?{filter:o}:{})),{json:t={}}=await g.a.get({endpoint:l+\"?q=\"+e}),n=null==t?void 0:null==(d=t.result)?void 0:p()(d).call(d,({text:e,value:t})=>({label:e,value:t}));return u()(c).call(c,n)}catch(e){r(e)}return[]},E=(e,t,n)=>{const r=e=>{const t={order_column:\"changed_on_delta_humanized\",order_direction:\"desc\",page:0,page_size:3,filters:e};return e||delete t.filters,O.a.encode(t)},a={edited:[{col:\"changed_by\",opr:\"rel_o_m\",value:\"\"+e}],created:[{col:\"created_by\",opr:\"rel_o_m\",value:\"\"+e}]},o=[g.a.get({endpoint:t}),g.a.get({endpoint:\"/api/v1/dashboard/?q=\"+r(a.edited)}),g.a.get({endpoint:\"/api/v1/chart/?q=\"+r(a.edited)}),g.a.get({endpoint:\"/api/v1/dashboard/?q=\"+r(a.created)}),g.a.get({endpoint:\"/api/v1/chart/?q=\"+r(a.created)}),g.a.get({endpoint:\"/api/v1/saved_query/?q=\"+r(a.created)})];return l.a.all(o).then(([e,t,a,o,s,c])=>{var u,d,p,f,h,v,m,y,O,C;const x={editedDash:null==(u=t.json)?void 0:i()(d=u.result).call(d,0,3),editedChart:null==(p=a.json)?void 0:i()(f=p.result).call(f,0,3),createdByDash:null==(h=o.json)?void 0:i()(v=h.result).call(v,0,3),createdByChart:null==(m=s.json)?void 0:i()(y=m.result).call(y,0,3),createdByQuery:null==(O=c.json)?void 0:i()(C=O.result).call(C,0,3)};if(0===e.json.length){const e=[g.a.get({endpoint:\"/api/v1/chart/?q=\"+r()}),g.a.get({endpoint:\"/api/v1/dashboard/?q=\"+r()})];return l.a.all(e).then(([e,t])=>(x.examples=[...e.json.result,...t.json.result],x)).catch(e=>n(Object(b.e)(\"There was an error fetching your recent activity:\"),e))}return x.viewed=e.json,x})},S=_(\"related\"),T=_(\"distinct\");function D(e){return async t=>{const n=await Object(C.a)(t);v.a.error(t),e(n.message||n.error)}}function k({id:e,slice_name:t},n,r,a,o,i){const s={pageIndex:0,pageSize:3,sortBy:[{id:\"changed_on_delta_humanized\",desc:!0}],filters:[{id:\"created_by\",operator:\"rel_o_m\",value:\"\"+i}]};g.a.delete({endpoint:\"/api/v1/chart/\"+e}).then(()=>{\"Mine\"===o?a(s):a(),n(Object(b.e)(\"Deleted: %s\",t))},()=>{r(Object(b.e)(\"There was an issue deleting: %s\",t))})}function M(e){return window.location.assign(\"/api/v1/chart/export/?q=\"+O.a.encode(p()(e).call(e,({id:e})=>e)))}function R(e){return window.location.assign(\"/api/v1/dashboard/export/?q=\"+O.a.encode(p()(e).call(e,({id:e})=>e)))}function P({id:e,dashboard_title:t},n,r,a,o,i){return g.a.delete({endpoint:\"/api/v1/dashboard/\"+e}).then(()=>{\"Mine\"===o?n({pageIndex:0,pageSize:3,sortBy:[{id:\"changed_on_delta_humanized\",desc:!0}],filters:[{id:\"owners\",operator:\"rel_m_m\",value:\"\"+i}]}):n(),r(Object(b.e)(\"Deleted: %s\",t))},D(e=>a(Object(b.e)(\"There was an issue deleting %s: %s\",t,e))))}function N(e,t){let n=e.split(\"\\n\");return n.length>=t&&(n=i()(n).call(n,0,t),n.push(\"...\")),n.join(\"\\n\")}const A=[576,768,992,1200],I=p()(A).call(A,e=>\"@media (max-width: \"+e+\"px)\"),F=m.c.div(j(),[I[3]],[I[2]],[I[1]],({theme:e})=>8*e.gridUnit,({theme:e})=>6*e.gridUnit,({theme:e})=>2*e.gridUnit),L=m.c.div(w()),B=m.c.div(x(),({theme:e})=>e.colors.primary.dark1)},637:function(e,t,n){\"use strict\";var r=n(28),a=n.n(r),o=n(7),i=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n.n(c),d=n(76),p=n(9),f=n(57),h=n(69),g=n(1);const b={dataEndpoint:u.a.string.isRequired,onChange:u.a.func.isRequired,mutator:u.a.func.isRequired,onAsyncError:u.a.func,value:u.a.oneOfType([u.a.number,u.a.arrayOf(u.a.number)]),valueRenderer:u.a.func,placeholder:u.a.string,autoSelect:u.a.bool},v={placeholder:Object(p.e)(\"Select ...\"),onAsyncError:()=>{}};class m extends l.a.PureComponent{constructor(e){var t;super(e),this.state={isLoading:!1,options:[]},this.onChange=i()(t=this.onChange).call(t,this)}componentDidMount(){this.fetchOptions()}onChange(e){this.props.onChange(e)}fetchOptions(){this.setState({isLoading:!0});const{mutator:e,dataEndpoint:t}=this.props;return f.a.get({endpoint:t}).then(({json:t})=>{const n=e?e(t):t;this.setState({options:n,isLoading:!1}),!this.props.value&&this.props.autoSelect&&n.length>0&&this.onChange(n[0])}).catch(e=>Object(h.a)(e).then(e=>{this.props.onAsyncError(e.error||e.statusText||e),this.setState({isLoading:!1})}))}render(){return Object(g.f)(d.f,a()({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}m.propTypes=b,m.defaultProps=v,t.a=m},696:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"TIME_FILTER_MAP\",(function(){return Le})),n.d(t,\"TIME_RANGE\",(function(){return Be}));n(108),n(196);var r=n(93),a=n.n(r),o=n(44),i=n.n(o),s=n(17),l=n.n(s),c=n(237),u=n.n(c),d=n(277),p=n.n(d),f=n(26),h=n.n(f),g=n(66),b=n.n(g),v=n(6),m=n.n(v),y=n(56),O=n.n(y),C=n(4),x=n.n(C),w=n(7),j=n.n(w),_=n(8),E=n.n(_),S=n(190),T=n.n(S),D=n(0),k=n.n(D),M=n(2),R=n.n(M),P=n(279),N=n(76),A=n(35),I=n(61),F=n(57),L=n(9),B=n(735),U=n(128),V=(n(280),n(36),n(28)),H=n.n(V),q=n(68),G=n.n(q),z=n(1352),W=n.n(z),Y=n(739),X=n(3107),Q=n(703),K=n(3085),Z=n(64),$=n(188),J=n(11),ee=n(1654),te=n.n(ee),ne=(n(2164),n(18)),re=n.n(ne),ae=n(197),oe=n(131),ie=n(268),se=n(141),le=(n(2165),n(107)),ce=n(442),ue=n(1);function de(){const e=E()([\"\\n  width: \",\"px;\\n\\n  .timeframes-container {\\n    margin-left: \",\"px;\\n  }\\n\\n  .relative-timerange-container {\\n    display: flex;\\n    margin-top: \",\"px;\\n  }\\n\\n  .timerange-input {\\n    width: \",\"px;\\n    margin: 0 \",\"px;\\n  }\\n\\n  .datetime {\\n    margin: \",\"px 0;\\n  }\\n\\n  .ant-tabs {\\n    overflow: visible;\\n    & > .ant-tabs-content-holder {\\n      overflow: visible;\\n    }\\n  }\\n\"]);return de=function(){return e},e}function pe(){const e=E()([\"\\n  .radio {\\n    margin: \",\"px 0;\\n  }\\n\"]);return pe=function(){return e},e}const fe=W()({DEFAULTS:\"defaults\",CUSTOM_START_END:\"custom_start_end\",CUSTOM_RANGE:\"custom_range\"}),he=W()({DEFAULTS:\"defaults\",CUSTOM:\"custom\"}),ge=W()({LAST:\"Last\",NEXT:\"Next\"}),be=[\"Last day\",\"Last week\",\"Last month\",\"Last quarter\",\"Last year\",\"No filter\"],ve=[\"seconds\",\"minutes\",\"hours\",\"days\",\"weeks\",\"months\",\"years\"],me=\"YYYY-MM-DD[T]HH:mm:ss\",ye=re()().utc().startOf(\"day\").subtract(7,\"days\").format(me),Oe=re()().utc().startOf(\"day\").format(me),Ce=Object(L.e)(\"Superset supports smart date parsing. Strings like `3 weeks ago`, `last sunday`, or `2 weeks from now` can be used.\"),xe={animation:R.a.bool,name:R.a.string.isRequired,label:R.a.string,description:R.a.string,onChange:R.a.func,value:R.a.string,height:R.a.number,onOpenDateFilterControl:R.a.func,onCloseDateFilterControl:R.a.func,endpoints:R.a.arrayOf(R.a.string)},we={animation:!0,onChange:()=>{},value:\"Last week\",onOpenDateFilterControl:()=>{},onCloseDateFilterControl:()=>{}};function je(e){return e===re()(e,me).format(me)}function _e(e){const t=e.split(\" \")[1]+\"s\";let n;return n=\"No filter\"===e?\"\":\"years\"===t?re()().utc().startOf(t).subtract(1,t):re()().utc().startOf(\"day\").subtract(1,t),{tab:he.DEFAULTS,type:fe.DEFAULTS,common:e,since:\"\"===n?\"\":n.format(me),until:\"\"===n?\"\":n.add(1,t).format(me)}}function Ee(e){const[t,n,r]=e.split(\" \",3);let a,o;return t===ge.LAST?(o=re()().utc().startOf(\"day\").format(me),a=re()().utc().startOf(\"day\").subtract(n,r).format(me)):(o=re()().utc().startOf(\"day\").add(n,r).format(me),a=re()().startOf(\"day\").format(me)),{tab:he.CUSTOM,type:fe.CUSTOM_RANGE,common:null,rel:t,num:n,grain:r,since:a,until:o}}const Se=I.c.div(pe(),({theme:e})=>e.gridUnit),Te=I.c.div(de(),({theme:e})=>60*e.gridUnit,({theme:e})=>2*e.gridUnit,({theme:e})=>2*e.gridUnit,({theme:e})=>15*e.gridUnit,({theme:e})=>e.gridUnit,({theme:e})=>e.gridUnit);class De extends k.a.Component{constructor(e){var t,n,r,a,o,i,s,l,c,u,d,p,f;super(e),this.state={type:fe.DEFAULTS,tab:he.DEFAULTS,common:be[0],rel:ge.LAST,num:\"7\",grain:ve[3],since:ye,until:Oe,showSinceCalendar:!1,showUntilCalendar:!1,sinceViewMode:\"days\",untilViewMode:\"days\",popoverVisible:!1};const{value:h}=e;h&&G()(h).call(h,\" : \")>=0?this.state=x()({},this.state,function(e){const[t,n]=e.split(\" : \",2);return{since:t,until:n,type:fe.CUSTOM_START_END,tab:he.CUSTOM}}(h)):G()(be).call(be,h)>=0?this.state=x()({},this.state,_e(h)):h&&(this.state=x()({},this.state,Ee(h))),this.close=j()(t=this.close).call(t,this),this.handleClick=j()(n=this.handleClick).call(n,this),this.isValidSince=j()(r=this.isValidSince).call(r,this),this.isValidUntil=j()(a=this.isValidUntil).call(a,this),this.onEnter=j()(o=this.onEnter).call(o,this),this.renderInput=j()(i=this.renderInput).call(i,this),this.setCustomRange=j()(s=this.setCustomRange).call(s,this),this.setCustomStartEnd=j()(l=this.setCustomStartEnd).call(l,this),this.setTypeCustomRange=j()(c=this.setTypeCustomRange).call(c,this),this.setTypeCustomStartEnd=j()(u=this.setTypeCustomStartEnd).call(u,this),this.toggleCalendar=j()(d=this.toggleCalendar).call(d,this),this.changeTab=j()(p=this.changeTab).call(p,this),this.handleVisibleChange=j()(f=this.handleVisibleChange).call(f,this)}componentDidMount(){document.addEventListener(\"click\",this.handleClick)}componentWillUnmount(){document.removeEventListener(\"click\",this.handleClick)}onEnter(e){\"Enter\"===e.key&&this.close()}setCustomRange(e,t){const n=x()({},this.state,{[e]:t}),r=[n.rel,n.num,n.grain].join(\" \");this.setState(Ee(r))}setCustomStartEnd(e,t){const n=\"since\"===e&&\"days\"===this.state.sinceViewMode||\"until\"===e&&\"days\"===this.state.untilViewMode;this.setState(r=>({type:fe.CUSTOM_START_END,[e]:\"string\"==typeof t?t:t.format(me),showSinceCalendar:r.showSinceCalendar&&!n,showUntilCalendar:r.showUntilCalendar&&!n,sinceViewMode:n?\"days\":r.sinceViewMode,untilViewMode:n?\"days\":r.untilViewMode}))}setTypeCustomRange(){this.setState({type:fe.CUSTOM_RANGE})}setTypeCustomStartEnd(){this.setState({type:fe.CUSTOM_START_END})}changeTab(){const{tab:e}=this.state;e===he.CUSTOM?this.setState({tab:he.DEFAULTS}):e===he.DEFAULTS&&this.setState({tab:he.CUSTOM})}handleClick(e){const{target:t}=e;this.startEndSectionRef&&this.startEndSectionRef.contains(t)&&this.setTypeCustomStartEnd(),\"popover-trigger\"!==t.getAttribute(\"name\")&&this.popoverContainer&&!this.popoverContainer.contains(t)&&this.props.onCloseDateFilterControl()}close(){let e;e=this.state.type===fe.DEFAULTS||this.state.tab===he.DEFAULTS?this.state.common:this.state.type===fe.CUSTOM_RANGE?this.state.rel+\" \"+this.state.num+\" \"+this.state.grain:[this.state.since,this.state.until].join(\" : \"),this.props.onCloseDateFilterControl(),this.props.onChange(e),this.setState({showSinceCalendar:!1,showUntilCalendar:!1,popoverVisible:!1})}isValidSince(e){return!je(this.state.until)||e<=re()(this.state.until,me)}isValidUntil(e){return!je(this.state.since)||e>=re()(this.state.since,me)}toggleCalendar(e){const t={};\"showSinceCalendar\"===e?(t.showSinceCalendar=!this.state.showSinceCalendar,this.state.showSinceCalendar||(t.showUntilCalendar=!1)):\"showUntilCalendar\"===e&&(t.showUntilCalendar=!this.state.showUntilCalendar,this.state.showUntilCalendar||(t.showSinceCalendar=!1)),this.setState(t)}handleVisibleChange(e){e?this.props.onOpenDateFilterControl():this.props.onCloseDateFilterControl(),this.setState({popoverVisible:e})}renderInput(e,t){return Object(ue.f)(Y.a,null,Object(ue.f)(X.a,{bsSize:\"small\"},Object(ue.f)(Q.a,H()({},e,{type:\"text\",onKeyPress:this.onEnter,onFocus:this.setTypeCustomStartEnd,onClick:()=>{}})),Object(ue.f)(X.a.Button,{onClick:()=>this.toggleCalendar(t)},Object(ue.f)(A.a,null,Object(ue.f)(\"i\",{className:\"fa fa-calendar\"})))))}renderPopover(){const e=m()(ve).call(ve,e=>Object(ue.f)(J.u.Option,{key:e,value:e,active:e===this.state.grain},e)),t=m()(be).call(be,e=>{const t=_e(e),n=Object(ie.b)(t.since,t.until);return Object(ue.f)(Se,{key:e},Object(ue.f)(Z.a,{id:\"tooltip-\"+e,key:e,placement:\"right\",title:Object(ie.c)(n,this.props.endpoints)},Object(ue.f)(\"div\",{style:{display:\"inline-block\"}},Object(ue.f)(K.a,{key:e.replace(\" \",\"\").toLowerCase(),checked:this.state.common===e,onChange:()=>this.setState(t)},e))))});return Object(ue.f)(Te,{id:\"filter-popover\",ref:e=>{this.popoverContainer=e}},Object(ue.f)(oe.c,{defaultActiveKey:this.state.tab===he.DEFAULTS?\"1\":\"2\",id:\"type\",className:\"time-filter-tabs\",onChange:this.changeTab},Object(ue.f)(oe.c.TabPane,{key:\"1\",tab:\"Defaults\",forceRender:!0},Object(ue.f)(\"div\",{className:\"timeframes-container\"},Object(ue.f)(Y.a,null,t))),Object(ue.f)(oe.c.TabPane,{key:\"2\",tab:\"Custom\"},Object(ue.f)(Y.a,null,Object(ue.f)(ce.a,{title:\"Relative to today\",isSelected:this.state.type===fe.CUSTOM_RANGE,onSelect:this.setTypeCustomRange},Object(ue.f)(\"div\",{className:\"relative-timerange-container clearfix centered\"},Object(ue.f)(J.u,{value:this.state.rel,onSelect:e=>this.setCustomRange(\"rel\",e),onFocus:this.setTypeCustomRange},Object(ue.f)(J.u.Option,{value:ge.LAST},\"Last\"),Object(ue.f)(J.u.Option,{value:ge.NEXT},\"Next\")),Object(ue.f)(J.m,{className:\"timerange-input\",type:\"text\",onChange:e=>this.setCustomRange(\"num\",e.target.value),onFocus:this.setTypeCustomRange,onPressEnter:this.close,value:this.state.num}),Object(ue.f)(J.u,{value:this.state.grain,onFocus:this.setTypeCustomRange,onSelect:e=>this.setCustomRange(\"grain\",e),dropdownMatchSelectWidth:!1},e))),Object(ue.f)(ce.a,{title:\"Start / end\",isSelected:this.state.type===fe.CUSTOM_START_END,onSelect:this.setTypeCustomStartEnd,info:Ce},Object(ue.f)(\"div\",{ref:e=>{this.startEndSectionRef=e}},Object(ue.f)(X.a,null,Object(ue.f)(te.a,{className:\"datetime\",inputProps:{\"data-test\":\"date-from-input\"},value:this.state.since,defaultValue:this.state.since,viewDate:this.state.since,onChange:e=>this.setCustomStartEnd(\"since\",e),isValidDate:this.isValidSince,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,\"showSinceCalendar\"),open:this.state.showSinceCalendar,viewMode:this.state.sinceViewMode,onViewModeChange:e=>this.setState({sinceViewMode:e})}),Object(ue.f)(te.a,{className:\"datetime\",inputProps:{\"data-test\":\"date-to-input\"},value:this.state.until,defaultValue:this.state.until,viewDate:this.state.until,onChange:e=>this.setCustomStartEnd(\"until\",e),isValidDate:this.isValidUntil,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,\"showUntilCalendar\"),open:this.state.showUntilCalendar,viewMode:this.state.untilViewMode,onViewModeChange:e=>this.setState({untilViewMode:e})}))))))),Object(ue.f)(\"div\",{className:\"clearfix\"},Object(ue.f)(A.a,{buttonSize:\"small\",className:\"float-right ok\",buttonStyle:\"primary\",onClick:this.close},\"Ok\")))}render(){const e=this.props.value||we.value;return Object(ue.f)(\"div\",null,Object(ue.f)(le.a,this.props),Object(ue.f)($.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(),visible:this.state.popoverVisible,onVisibleChange:this.handleVisibleChange},Object(ue.f)(se.a,{name:\"popover-trigger\",className:\"pointer\"},Object(ie.c)(e,this.props.endpoints))))}}var ke=Object(ae.c)(De);De.propTypes=xe,De.defaultProps=we;var Me=n(1106),Re=n(940),Pe=n(734),Ne=n(142),Ae=n(458),Ie=n(54);n(2166);function Fe(){const e=E()([\"\\n  height: 100%;\\n  min-height: 100%;\\n  max-height: 100%;\\n  overflow: visible;\\n\"]);return Fe=function(){return e},e}const Le={time_range:\"__time_range\",granularity_sqla:\"__time_col\",time_grain_sqla:\"__time_grain\",druid_time_origin:\"__time_origin\",granularity:\"__granularity\"},Be=Le.time_range,Ue={chartId:R.a.number.isRequired,origSelectedValues:R.a.object,datasource:R.a.object.isRequired,instantFiltering:R.a.bool,filtersFields:R.a.arrayOf(R.a.shape({field:R.a.string,label:R.a.string})),filtersChoices:R.a.objectOf(R.a.arrayOf(R.a.shape({id:R.a.string,text:R.a.string,filter:R.a.string,metric:R.a.number}))),onChange:R.a.func,onFilterMenuOpen:R.a.func,onFilterMenuClose:R.a.func,showDateFilter:R.a.bool,showSqlaTimeGrain:R.a.bool,showSqlaTimeColumn:R.a.bool,showDruidTimeGrain:R.a.bool,showDruidTimeOrigin:R.a.bool},Ve=I.c.div(Fe());class He extends k.a.PureComponent{constructor(e){var t,n,r,a;super(e),this.onCloseDateFilterControl=()=>this.onFilterMenuClose(Be),this.state={selectedValues:e.origSelectedValues,hasChanged:!1},this.debouncerCache={},this.maxValueCache={},this.changeFilter=j()(t=this.changeFilter).call(t,this),this.onFilterMenuOpen=j()(n=this.onFilterMenuOpen).call(n,this),this.onOpenDateFilterControl=j()(r=this.onOpenDateFilterControl).call(r,this),this.onFilterMenuClose=j()(a=this.onFilterMenuClose).call(a,this)}onFilterMenuOpen(e){return this.props.onFilterMenuOpen(this.props.chartId,e)}onFilterMenuClose(e){return this.props.onFilterMenuClose(this.props.chartId,e)}onOpenDateFilterControl(){return this.onFilterMenuOpen(Be)}getControlData(e){const{selectedValues:t}=this.state,n=x()({},Pe.a[e],{name:e,key:\"control-\"+e,value:t[Le[e]],actions:{setControlValue:this.changeFilter}}),r=n.mapStateToProps;return r?x()({},n,r(this.props)):n}getKnownMax(e,t){return this.maxValueCache[e]=Math.max(this.maxValueCache[e]||0,Object(P.max)(t||this.props.filtersChoices[e]||[],e=>e.metric)),this.maxValueCache[e]}clickApply(){const{selectedValues:e}=this.state;this.setState({hasChanged:!1},()=>{this.props.onChange(e,!1)})}changeFilter(e,t){const n=Le[e]||e;let r=null;null!==t&&(r=O()(t)?m()(t).call(t,e=>\"string\"==typeof e?e:e.value):t.value?t.value:t),this.setState(e=>({selectedValues:x()({},e.selectedValues,{[n]:r}),hasChanged:!0}),()=>{this.props.instantFiltering&&this.props.onChange({[n]:r},!1)})}debounceLoadOptions(e){return e in this.debouncerCache||(this.debouncerCache[e]=T()((t,n)=>{this.loadOptions(e,t).then(n)},500)),this.debouncerCache[e]}transformOptions(e,t){const n=void 0===t?Object(P.max)(e,e=>e.metric):t;return m()(e).call(e,e=>{const t=Math.round(e.metric/n*100),r={backgroundImage:\"linear-gradient(to right, lightgrey, lightgrey \"+t+\"%, rgba(0,0,0,0) \"+t+\"%\"};let a=e.id;return!0===a?a=B.b:!1===a&&(a=B.a),{value:e.id,label:a,style:r}})}async loadOptions(e,t=\"\"){var n,r,a;const o=t.toLowerCase(),i=b()(n=this.props.filtersFields).call(n,t=>t.key===e).asc,s=x()({},this.props.rawFormData,{adhoc_filters:t?[{clause:\"WHERE\",comparator:null,expressionType:\"SQL\",sqlExpression:\"lower(\"+e+\") like '%\"+o+\"%'\"}]:null}),{json:l}=await F.a.get({url:Object(Ne.h)({formData:s,endpointType:\"json\",method:\"GET\"})}),c=h()(r=(null==l?void 0:null==(a=l.data)?void 0:a[e])||[]).call(r,e=>e.id);return c&&0!==c.length?(o&&p()(c).call(c,(e,t)=>{const n=e.id.toLowerCase(),r=t.id.toLowerCase(),a=u()(r).call(r,o)-u()(n).call(n,o);return 0===a?(e.metric-t.metric)*(i?1:-1):a}),this.transformOptions(c,this.getKnownMax(e,c))):[]}renderDateFilter(){const{showDateFilter:e}=this.props,t=Ie.m.time_range;return e?Object(ue.f)(\"div\",{className:\"row space-1\"},Object(ue.f)(\"div\",{className:\"col-lg-12 col-xs-12 filter-container\"},Object(ue.f)(ke,{name:Be,label:t,description:Object(L.e)(\"Select start and end date\"),onChange:e=>{this.changeFilter(Be,e)},onOpenDateFilterControl:this.onOpenDateFilterControl,onCloseDateFilterControl:this.onCloseDateFilterControl,value:this.state.selectedValues[Be]||\"No filter\"}))):null}renderDatasourceFilters(){const{showSqlaTimeGrain:e,showSqlaTimeColumn:t,showDruidTimeGrain:n,showDruidTimeOrigin:r}=this.props,a=[],o=[],i=[];return e&&o.push(\"time_grain_sqla\"),t&&o.push(\"granularity_sqla\"),n&&i.push(\"granularity\"),r&&i.push(\"druid_time_origin\"),o.length&&a.push(Object(ue.f)(Me.a,{key:\"sqla-filters\",className:\"control-row\",controls:m()(o).call(o,e=>Object(ue.f)(Re.a,this.getControlData(e)))})),i.length&&a.push(Object(ue.f)(Me.a,{key:\"druid-filters\",className:\"control-row\",controls:m()(i).call(i,e=>Object(ue.f)(Re.a,this.getControlData(e)))})),a}renderSelect(e){var t,n;const{filtersChoices:r}=this.props,{selectedValues:o}=this.state;this.debouncerCache={},this.maxValueCache={},l()(t=h()(n=i()(o)).call(n,e=>o.hasOwnProperty(e)&&e in r)).call(t,e=>{var t;const n=r[e]||(r[e]=[]),i=new a.a(m()(n).call(n,e=>e.id)),s=O()(o[e])?o[e]:[o[e]];l()(t=h()(s).call(s,e=>null!==e&&!i.has(e))).call(t,t=>{n.unshift({filter:e,id:t,text:t,metric:0})})});const{key:s,label:c}=e,u=r[s]||[];let d=o[s]||null;return void 0===d&&e[Ie.f.DEFAULT_VALUE]&&(d=e[Ie.f.MULTIPLE]?e[Ie.f.DEFAULT_VALUE].split(\";\"):e[Ie.f.DEFAULT_VALUE]),Object(ue.f)(Ae.a,{cacheOptions:!0,loadOptions:this.debounceLoadOptions(s),defaultOptions:this.transformOptions(u),key:s,placeholder:Object(L.e)(\"Type or Select [%s]\",c),isMulti:e[Ie.f.MULTIPLE],isClearable:e[Ie.f.CLEARABLE],value:d,options:this.transformOptions(u),onChange:e=>{e!==d&&this.changeFilter(s,e)},onMenuOpen:()=>this.onFilterMenuOpen(s),onBlur:()=>this.onFilterMenuClose(s),onMenuClose:()=>this.onFilterMenuClose(s),selectWrap:e[Ie.f.SEARCH_ALL_OPTIONS]&&u.length>=Ie.g?N.a:N.c,noResultsText:Object(L.e)(\"No results found\")})}renderFilters(){const{filtersFields:e=[]}=this.props;return m()(e).call(e,e=>{const{label:t,key:n}=e;return Object(ue.f)(\"div\",{key:n,className:\"m-b-5 filter-container\"},Object(ue.f)(U.a,{htmlFor:\"LABEL-\"+n},t),this.renderSelect(e))})}render(){var e;const{instantFiltering:t}=this.props;return Object(ue.f)(Ve,null,this.renderDateFilter(),this.renderDatasourceFilters(),this.renderFilters(),!t&&Object(ue.f)(A.a,{buttonSize:\"small\",buttonStyle:\"primary\",onClick:j()(e=this.clickApply).call(e,this),disabled:!this.state.hasChanged},Object(L.e)(\"Apply\")))}}He.propTypes=Ue,He.defaultProps={origSelectedValues:{},onChange:()=>{},onFilterMenuOpen:()=>{},onFilterMenuClose:()=>{},showDateFilter:!1,showSqlaTimeGrain:!1,showSqlaTimeColumn:!1,showDruidTimeGrain:!1,showDruidTimeOrigin:!1,instantFiltering:!1};t.default=He},734:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return k}));var r=n(338),a=n.n(r),o=n(269),i=n.n(o),s=n(6),l=n.n(s),c=(n(277),n(4)),u=n.n(c),d=n(26),p=n.n(d),f=n(68),h=n.n(f),g=(n(0),n(289)),b=n(459),v=n(9),m=n(484),y=n(449),O=n(217),C=n(239),x=n(54),w=n(1);const j=Object(g.a)(),_=Object(b.a)(),E={verbose_name:\"Time\",column_name:\"__timestamp\",description:Object(v.e)(\"A reference to the [Time] configuration, taking granularity into account\")},S={type:\"SelectControl\",multi:!0,freeForm:!0,label:Object(v.e)(\"Group by\"),default:[],includeTime:!1,description:Object(v.e)(\"One or many controls to group by\"),optionRenderer:e=>Object(w.f)(O.a,{column:e,showType:!0}),valueRenderer:e=>Object(w.f)(O.a,{column:e}),valueKey:\"column_name\",allowAll:!0,filterOption:({data:e},t)=>{var n,r;return e.column_name&&h()(n=e.column_name.toLowerCase()).call(n,t.toLowerCase())>=0||e.verbose_name&&h()(r=e.verbose_name.toLowerCase()).call(r,t.toLowerCase())>=0},promptTextCreator:e=>e,mapStateToProps:(e,t)=>{const n={};var r;e.datasource&&(n.options=p()(r=e.datasource.columns).call(r,e=>e.groupby),t&&t.includeTime&&n.options.push(E));return n},commaChoosesOption:!1},T={type:\"MetricsControl\",multi:!0,label:Object(v.e)(\"Metrics\"),validators:[m.a],default:e=>{const t=Object(C.d)(e.savedMetrics);return t?[t]:null},mapStateToProps:e=>{const{datasource:t}=e;return{columns:t?t.columns:[],savedMetrics:t?t.metrics:[],datasourceType:t&&t.type}},description:Object(v.e)(\"One or many metrics to display\")},D=u()({},T,{multi:!1,label:Object(v.e)(\"Metric\"),description:Object(v.e)(\"Metric\"),default:e=>Object(C.d)(e.savedMetrics)});const k={metrics:T,metric:D,datasource:{type:\"DatasourceControl\",label:Object(v.e)(\"Dataset\"),default:null,description:null,mapStateToProps:({datasource:e})=>({datasource:e,isEditable:!!e})},viz_type:{type:\"VizTypeControl\",label:Object(v.e)(\"Visualization Type\"),default:\"table\",description:Object(v.e)(\"The type of visualization to display\")},color_picker:{label:Object(v.e)(\"Fixed Color\"),description:Object(v.e)(\"Use this to define a static color for all circles\"),type:\"ColorPickerControl\",default:{r:0,g:122,b:135,a:1},renderTrigger:!0},metric_2:u()({},D,{label:Object(v.e)(\"Right Axis Metric\"),clearable:!0,description:Object(v.e)(\"Choose a metric for right axis\")}),linear_color_scheme:{type:\"ColorSchemeControl\",label:Object(v.e)(\"Linear Color Scheme\"),choices:()=>{var e;return l()(e=i()(_).call(_)).call(e,e=>[e.id,e.label])},default:_.getDefaultKey(),clearable:!1,description:\"\",renderTrigger:!0,schemes:()=>_.getMap(),isLinear:!0},secondary_metric:u()({},D,{label:Object(v.e)(\"Color Metric\"),default:null,validators:[],description:Object(v.e)(\"A metric to use for color\")}),groupby:S,columns:u()({},S,{label:Object(v.e)(\"Columns\"),description:Object(v.e)(\"One or many controls to pivot as columns\")}),druid_time_origin:{type:\"SelectControl\",freeForm:!0,label:x.m.druid_time_origin,choices:[[\"\",\"default\"],[\"now\",\"now\"]],default:null,description:Object(v.e)(\"Defines the origin where time buckets start, accepts natural dates as in `now`, `sunday` or `1970-01-01`\")},granularity:{type:\"SelectControl\",freeForm:!0,label:x.m.granularity,default:\"one day\",choices:[[null,\"all\"],[\"PT5S\",\"5 seconds\"],[\"PT30S\",\"30 seconds\"],[\"PT1M\",\"1 minute\"],[\"PT5M\",\"5 minutes\"],[\"PT30M\",\"30 minutes\"],[\"PT1H\",\"1 hour\"],[\"PT6H\",\"6 hour\"],[\"P1D\",\"1 day\"],[\"P7D\",\"7 days\"],[\"P1W\",\"week\"],[\"week_starting_sunday\",\"week starting Sunday\"],[\"week_ending_saturday\",\"week ending Saturday\"],[\"P1M\",\"month\"],[\"P3M\",\"quarter\"],[\"P1Y\",\"year\"]],description:Object(v.e)(\"The time granularity for the visualization. Note that you can type and use simple natural language as in `10 seconds`, `1 day` or `56 weeks`\")},granularity_sqla:{type:\"SelectControl\",label:x.m.granularity_sqla,description:Object(v.e)(\"The time column for the visualization. Note that you can define arbitrary expression that return a DATETIME column in the table. Also note that the filter below is applied against this column or expression\"),clearable:!1,optionRenderer:e=>Object(w.f)(O.a,{column:e,showType:!0}),valueRenderer:e=>Object(w.f)(O.a,{column:e}),valueKey:\"column_name\",mapStateToProps:e=>{const t={};return e.datasource&&(t.choices=e.datasource.granularity_sqla,t.default=null,e.datasource.main_dttm_col?t.default=e.datasource.main_dttm_col:t.choices&&t.choices.length>0&&(t.default=t.choices[0].column_name)),t}},time_grain_sqla:{type:\"SelectControl\",label:x.m.time_grain_sqla,default:\"P1D\",description:Object(v.e)(\"The time granularity for the visualization. This applies a date transformation to alter your time column and defines a new time granularity. The options here are defined on a per database engine basis in the Superset source code.\"),mapStateToProps:e=>({choices:e.datasource?e.datasource.time_grain_sqla:null})},time_range:{type:\"DateFilterControl\",freeForm:!0,label:x.m.time_range,default:Object(v.e)(\"Last week\"),description:Object(v.e)('The time range for the visualization. All relative times, e.g. \"Last month\", \"Last 7 days\", \"now\", etc. are evaluated on the server using the server\\'s local time (sans timezone). All tooltips and placeholder times are expressed in UTC (sans timezone). The timestamps are then evaluated by the database using the engine\\'s local timezone. Note one can explicitly set the timezone per the ISO 8601 format if specifying either the start and/or end time.'),mapStateToProps:e=>({endpoints:e.form_data?e.form_data.time_range_endpoints:null})},row_limit:{type:\"SelectControl\",freeForm:!0,label:Object(v.e)(\"Row limit\"),validators:[y.a],default:1e4,choices:Object(C.a)([10,50,100,250,500,1e3,5e3,1e4,5e4])},limit:{type:\"SelectControl\",freeForm:!0,label:Object(v.e)(\"Series limit\"),validators:[y.a],choices:Object(C.a)([0,5,10,25,50,100,500]),description:Object(v.e)(\"Limits the number of time series that get displayed. A sub query (or an extra phase where sub queries are not supported) is applied to limit the number of time series that get fetched and displayed. This feature is useful when grouping by high cardinality dimension(s).\")},timeseries_limit_metric:{type:\"MetricsControl\",label:Object(v.e)(\"Sort By\"),default:null,clearable:!0,description:Object(v.e)(\"Metric used to define the top series\"),mapStateToProps:e=>({columns:e.datasource?e.datasource.columns:[],savedMetrics:e.datasource?e.datasource.metrics:[],datasourceType:e.datasource&&e.datasource.type})},series:u()({},S,{label:Object(v.e)(\"Series\"),multi:!1,default:null,description:Object(v.e)(\"Defines the grouping of entities. Each series is shown as a specific color on the chart and has a legend toggle\")}),entity:u()({},S,{label:Object(v.e)(\"Entity\"),default:null,multi:!1,validators:[m.a],description:Object(v.e)(\"This defines the element to be plotted on the chart\")}),x:u()({},D,{label:Object(v.e)(\"X Axis\"),description:Object(v.e)(\"Metric assigned to the [X] axis\"),default:null}),y:u()({},D,{label:Object(v.e)(\"Y Axis\"),default:null,description:Object(v.e)(\"Metric assigned to the [Y] axis\")}),size:u()({},D,{label:Object(v.e)(\"Bubble Size\"),default:null}),y_axis_format:{type:\"SelectControl\",freeForm:!0,label:Object(v.e)(\"Y Axis Format\"),renderTrigger:!0,default:\"SMART_NUMBER\",choices:[[\"SMART_NUMBER\",\"Adaptative formating\"],[\"~g\",\"Original value\"],[\",d\",\",d (12345.432 => 12,345)\"],[\".1s\",\".1s (12345.432 => 10k)\"],[\".3s\",\".3s (12345.432 => 12.3k)\"],[\",.1%\",\",.1% (12345.432 => 1,234,543.2%)\"],[\".3%\",\".3% (12345.432 => 1234543.200%)\"],[\".4r\",\".4r (12345.432 => 12350)\"],[\",.3f\",\",.3f (12345.432 => 12,345.432)\"],[\"+,\",\"+, (12345.432 => +12,345.432)\"],[\"$,.2f\",\"$,.2f (12345.432 => $12,345.43)\"],[\"DURATION\",\"Duration in ms (66000 => 1m 6s)\"],[\"DURATION_SUB\",\"Duration in ms (100.40008 => 100ms 400µs 80ns)\"]],description:\"D3 format syntax: https://github.com/d3/d3-format\",mapStateToProps:e=>{const t=e.controls&&e.controls.comparison_type&&\"percentage\"===e.controls.comparison_type.value;return{warning:t?Object(v.e)('When `Calculation type` is set to \"Percentage change\", the Y Axis Format is forced to `.1%`'):null,disabled:t}}},adhoc_filters:{type:\"AdhocFilterControl\",label:Object(v.e)(\"Filters\"),default:null,description:\"\",mapStateToProps:e=>{var t;return{columns:e.datasource?p()(t=e.datasource.columns).call(t,e=>e.filterable):[],savedMetrics:e.datasource?e.datasource.metrics:[],datasource:e.datasource}},provideFormDataToProps:!0},color_scheme:{type:\"ColorSchemeControl\",label:Object(v.e)(\"Color Scheme\"),default:j.getDefaultKey(),renderTrigger:!0,choices:()=>{var e;return l()(e=a()(j).call(j)).call(e,e=>[e,e])},description:Object(v.e)(\"The color scheme for rendering chart\"),schemes:()=>j.getMap()},label_colors:{type:\"ColorMapControl\",label:Object(v.e)(\"Color Map\"),default:{},renderTrigger:!0,mapStateToProps:e=>({colorNamespace:e.form_data.color_namespace,colorScheme:e.form_data.color_scheme})}}},735:function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return r})),n.d(t,\"d\",(function(){return a})),n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return i}));const r=\"YYYY-MM-DD HH:mm:ssZ\",a=\"HH:mm:ss.SSS\",o=\"True\",i=\"False\"},853:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return m}));n(36);var r=n(6),a=n.n(r),o=n(7),i=n.n(o),s=n(733),l=n.n(s),c=n(0),u=n.n(c),d=n(2),p=n.n(d),f=n(76),h=n(107),g=n(121),b=(n(1139),n(1));const v={description:p.a.string,label:p.a.string.isRequired,name:p.a.string.isRequired,onChange:p.a.func,value:p.a.string,clearable:p.a.bool,default:p.a.string,choices:p.a.oneOfType([p.a.arrayOf(p.a.array),p.a.func]),schemes:p.a.oneOfType([p.a.object,p.a.func]),isLinear:p.a.bool};class m extends u.a.PureComponent{constructor(e){var t,n;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.renderOption=i()(n=this.renderOption).call(n,this)}onChange(e){const t=e?e.value:null;this.props.onChange(t)}renderOption(e){const{isLinear:t}=this.props,n=this.schemes[e.value];let r=[];return n&&(r=t?n.getColors(10):n.colors),Object(b.f)(g.a,{label:n.id+\"-tooltip\",tooltip:n.label},Object(b.f)(\"ul\",{className:\"color-scheme-container\"},a()(r).call(r,(e,t)=>Object(b.f)(\"li\",{key:n.id+\"-\"+t,style:{backgroundColor:e,border:\"1px solid \"+(\"white\"===e?\"black\":e)}},\" \"))))}render(){var e;const{schemes:t,choices:n}=this.props;this.schemes=l()(t)?t():t;const r=a()(e=l()(n)?n():n).call(e,([e,t])=>{var n;return{value:e,label:(null==(n=this.schemes[e])?void 0:n.label)||t}}),o={multi:!1,name:\"select-\"+this.props.name,placeholder:\"Select (\"+r.length+\")\",default:this.props.default,options:r,value:this.props.value,autosize:!1,clearable:this.props.clearable,onChange:this.onChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption};return Object(b.f)(\"div\",null,Object(b.f)(h.a,this.props),Object(b.f)(f.f,o))}}m.propTypes=v,m.defaultProps={choices:[],schemes:{},clearable:!1,onChange:()=>{}}},870:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.END_DRAG=t.DROP=t.HOVER=t.PUBLISH_DRAG_SOURCE=t.BEGIN_DRAG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.beginDrag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},n=t.publishSource,r=t.clientOffset,s=t.getSourceClientOffset;(0,a.default)((0,o.default)(e),\"Expected sourceIds to be an array.\");var l=this.getMonitor(),u=this.getRegistry();(0,a.default)(!l.isDragging(),\"Cannot call beginDrag while dragging.\");for(var d=0;d<e.length;d++)(0,a.default)(u.getSource(e[d]),\"Expected sourceIds to be registered.\");for(var p=null,f=e.length-1;f>=0;f--)if(l.canDragSource(e[f])){p=e[f];break}if(null===p)return;var h=null;r&&((0,a.default)(\"function\"==typeof s,\"When clientOffset is provided, getSourceClientOffset must be a function.\"),h=s(p));var g=u.getSource(p),b=g.beginDrag(l,p);(0,a.default)((0,i.default)(b),\"Item must be an object.\"),u.pinSource(p);var v=u.getSourceType(p);return{type:c,itemType:v,item:b,sourceId:p,clientOffset:r,sourceClientOffset:h,isSourcePublic:n}},t.publishDragSource=function(){if(!this.getMonitor().isDragging())return;return{type:u}},t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clientOffset,r=void 0===n?null:n;(0,a.default)((0,o.default)(e),\"Expected targetIds to be an array.\");var i=e.slice(0),l=this.getMonitor(),c=this.getRegistry();(0,a.default)(l.isDragging(),\"Cannot call hover while not dragging.\"),(0,a.default)(!l.didDrop(),\"Cannot call hover after drop.\");for(var u=0;u<i.length;u++){var p=i[u];(0,a.default)(i.lastIndexOf(p)===u,\"Expected targetIds to be unique in the passed array.\");var f=c.getTarget(p);(0,a.default)(f,\"Expected targetIds to be registered.\")}for(var h=l.getItemType(),g=i.length-1;g>=0;g--){var b=i[g],v=c.getTargetType(b);(0,s.default)(v,h)||i.splice(g,1)}for(var m=0;m<i.length;m++){var y=i[m],O=c.getTarget(y);O.hover(l,y)}return{type:d,targetIds:i,clientOffset:r}},t.drop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getMonitor(),o=this.getRegistry();(0,a.default)(n.isDragging(),\"Cannot call drop while not dragging.\"),(0,a.default)(!n.didDrop(),\"Cannot call drop twice during one drag operation.\");var s=n.getTargetIds().filter(n.canDropOnTarget,n);s.reverse(),s.forEach((function(s,l){var c=o.getTarget(s).drop(n,s);(0,a.default)(void 0===c||(0,i.default)(c),\"Drop result must either be an object or undefined.\"),void 0===c&&(c=0===l?{}:n.getDropResult()),e.store.dispatch({type:p,dropResult:r({},t,c)})}))},t.endDrag=function(){var e=this.getMonitor(),t=this.getRegistry();(0,a.default)(e.isDragging(),\"Cannot call endDrag while not dragging.\");var n=e.getSourceId();return t.getSource(n,true).endDrag(e,n),t.unpinSource(),{type:f}};var a=l(n(143)),o=l(n(257)),i=l(n(472)),s=l(n(1130));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.BEGIN_DRAG=\"dnd-core/BEGIN_DRAG\",u=t.PUBLISH_DRAG_SOURCE=\"dnd-core/PUBLISH_DRAG_SOURCE\",d=t.HOVER=\"dnd-core/HOVER\",p=t.DROP=\"dnd-core/DROP\",f=t.END_DRAG=\"dnd-core/END_DRAG\"},871:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.addSource=function(e){return{type:r,sourceId:e}},t.addTarget=function(e){return{type:a,targetId:e}},t.removeSource=function(e){return{type:o,sourceId:e}},t.removeTarget=function(e){return{type:i,targetId:e}};var r=t.ADD_SOURCE=\"dnd-core/ADD_SOURCE\",a=t.ADD_TARGET=\"dnd-core/ADD_TARGET\",o=t.REMOVE_SOURCE=\"dnd-core/REMOVE_SOURCE\",i=t.REMOVE_TARGET=\"dnd-core/REMOVE_TARGET\"},872:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){0}},896:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getEmptyImage=t.NativeTypes=void 0,t.default=function(e){return new r.default(e)};var r=i(n(1452)),a=i(n(1458)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1004));function i(e){return e&&e.__esModule?e:{default:e}}t.NativeTypes=o,t.getEmptyImage=a.default},925:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return O}));var r=n(7),a=n.n(r),o=n(190),i=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n.n(c),d=n(739),p=n(703),f=n(9),h=n(35),g=n(213),b=n(212),v=n(107),m=n(1);const y={name:u.a.string,onChange:u.a.func,value:u.a.string,height:u.a.number,minLines:u.a.number,maxLines:u.a.number,offerEditInModal:u.a.bool,language:u.a.oneOf([null,\"json\",\"html\",\"sql\",\"markdown\",\"javascript\"]),aboveEditorSection:u.a.node,readOnly:u.a.bool};class O extends l.a.Component{constructor(){super(),this.onAceChangeDebounce=i()(e=>{this.onAceChange(e)},300)}onControlChange(e){this.props.onChange(e.target.value)}onAceChange(e){this.props.onChange(e)}renderEditor(e=!1){var t;const n=this.props.value||\"\",r=e?40:this.props.minLines||12;if(this.props.language){const t={border:\"1px solid #CCC\"};return this.props.readOnly&&(t.backgroundColor=\"#f2f2f2\"),Object(m.f)(g.g,{mode:this.props.language,style:t,minLines:r,maxLines:e?1e3:this.props.maxLines,onChange:this.onAceChangeDebounce,width:\"100%\",height:r+\"em\",editorProps:{$blockScrolling:!0},value:n,readOnly:this.props.readOnly})}return Object(m.f)(d.a,{controlId:\"formControlsTextarea\"},Object(m.f)(p.a,{componentClass:\"textarea\",placeholder:Object(f.e)(\"textarea\"),onChange:a()(t=this.onControlChange).call(t,this),value:n,disabled:this.props.readOnly,style:{height:this.props.height}}))}renderModalBody(){return Object(m.f)(\"div\",null,Object(m.f)(\"div\",null,this.props.aboveEditorSection),this.renderEditor(!0))}render(){const e=Object(m.f)(v.a,this.props);return Object(m.f)(\"div\",null,e,this.renderEditor(),this.props.offerEditInModal&&Object(m.f)(b.a,{modalTitle:e,triggerNode:Object(m.f)(h.a,{buttonSize:\"small\",className:\"m-t-5\"},Object(f.e)(\"Edit\"),\" \",Object(m.f)(\"strong\",null,this.props.language),\" \",Object(f.e)(\"in modal\")),modalBody:this.renderModalBody(!0),responsive:!0}))}}O.propTypes=y,O.defaultProps={onChange:()=>{},value:\"\",height:250,minLines:3,maxLines:10,offerEditInModal:!0,readOnly:!1}},932:function(e,t,n){\"use strict\";n(36);var r=n(47),a=n.n(r),o=n(29),i=n.n(o),s=n(1105),l=n.n(s),c=n(6),u=n.n(c),d=n(84),p=n.n(d),f=n(26),h=n.n(f),g=n(93),b=n.n(g),v=n(0),m=n.n(v),y=n(2),O=n.n(y),C=n(1249),x=n(1071),w=n(703),j=n(225),_=n(9),E=n(360),S=n(64),T=n(92),D=n(141),k=n(107),M=(n(1138),n(1));const R={description:O.a.string,label:O.a.string,name:O.a.string.isRequired,onChange:O.a.func,value:O.a.string.isRequired,labelBsStyle:O.a.string},P=Object(j.a)(),N=[\"line\",\"big_number\",\"table\",\"filter_box\",\"dist_bar\",\"area\",\"bar\",\"deck_polygon\",\"pie\",\"time_table\",\"pivot_table\",\"histogram\",\"big_number_total\",\"deck_scatter\",\"deck_hex\",\"time_pivot\",\"deck_arc\",\"heatmap\",\"deck_grid\",\"dual_line\",\"deck_screengrid\",\"line_multi\",\"treemap\",\"box_plot\",\"sunburst\",\"sankey\",\"word_cloud\",\"mapbox\",\"kepler\",\"cal_heatmap\",\"rose\",\"bubble\",\"deck_geojson\",\"horizon\",\"deck_multi\",\"compare\",\"partition\",\"event_flow\",\"deck_path\",\"directed_force\",\"world_map\",\"paired_ttest\",\"para\",\"country_map\"],A=new b.a(N);function I({vizType:e}){return Object(E.c)().loading||P.has(e)?null:Object(M.f)(\"div\",{className:\"text-danger\"},Object(M.f)(\"i\",{className:\"fa fa-exclamation-circle text-danger\"}),\" \",Object(M.f)(\"small\",null,Object(_.e)(\"This visualization type is not supported.\")))}const F=e=>{var t,n,r,o,s,c;const[d,f]=Object(v.useState)(!1),[g,b]=Object(v.useState)(\"\"),y=Object(v.useRef)(null);Object(v.useEffect)(()=>{var e;d&&(null==y||null==(e=y.current)||e.focus())},[d]);const O=()=>{f(e=>!e)},j=t=>{const{value:n}=e,{key:r,value:a}=t,o=r===n;return Object(M.f)(\"div\",{role:\"button\",tabIndex:0,className:\"viztype-selector-container \"+(o?\"selected\":\"\"),onClick:()=>{return t=r,e.onChange(t),void f(!1);var t}},Object(M.f)(\"img\",{alt:a.name,width:\"100%\",className:\"viztype-selector \"+(o?\"selected\":\"\"),src:a.thumbnail}),Object(M.f)(\"div\",{className:\"viztype-label\"},a.name))},{value:E,labelBsStyle:R}=e,F=g.toLowerCase(),L=h()(t=p()(n=u()(r=h()(o=h()(N).call(N,e=>P.has(e))).call(o,e=>!P.get(e).isNativeFilter)).call(r,e=>({key:e,value:P.get(e)}))).call(n,h()(s=h()(c=l()(P).call(P)).call(c,e=>!e.value.isNativeFilter)).call(s,({key:e})=>!A.has(e)))).call(t,e=>{var t;return i()(t=e.value.name.toLowerCase()).call(t,F)}),B=[];for(let e=0;e<=L.length;e+=6){var U;B.push(Object(M.f)(C.a,{key:\"row-\"+e},u()(U=a()(L).call(L,e,e+6)).call(U,e=>Object(M.f)(x.a,{md:2,key:\"grid-col-\"+e.key},j(e)))))}return Object(M.f)(\"div\",null,Object(M.f)(k.a,e),Object(M.f)(S.a,{id:\"error-tooltip\",placement:\"right\",title:Object(_.e)(\"Click to change visualization type\")},Object(M.f)(m.a.Fragment,null,Object(M.f)(D.a,{onClick:O,bsStyle:R},P.has(E)?P.get(E).name:\"\"+E),Object(M.f)(I,{vizType:E}))),Object(M.f)(T.b,{show:d,onHide:O,onEnter:()=>{y&&y.focus()},title:Object(_.e)(\"Select a visualization type\"),responsive:!0,hideFooter:!0,forceRender:!0},Object(M.f)(\"div\",{className:\"viztype-control-search-box\"},Object(M.f)(w.a,{inputRef:e=>{y.current=e},type:\"text\",value:g,placeholder:Object(_.e)(\"Search\"),onChange:e=>{b(e.target.value)}})),B))};F.propTypes=R,F.defaultProps={onChange:()=>{},labelBsStyle:\"default\"},t.a=F},933:function(e,t,n){\"use strict\";n(108),n(36);var r=n(6),a=n.n(r),o=n(4),i=n.n(o),s=n(106),l=n.n(s),c=n(8),u=n.n(c),d=n(0),p=n.n(d),f=n(1761),h=n(35),g=n(61),b=n(57),v=n(9),m=n(92),y=n(385),O=n(42),C=n(69),x=n(80),w=n(1);function j(){const e=u()([\"\\n  .modal-content {\\n    height: 900px;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: stretch;\\n  }\\n\\n  .modal-header {\\n    flex: 0 1 auto;\\n  }\\n  .modal-body {\\n    flex: 1 1 auto;\\n    overflow: auto;\\n  }\\n\\n  .modal-footer {\\n    flex: 0 1 auto;\\n  }\\n\"]);return j=function(){return e},e}const _=Object(y.a)(()=>Promise.all([n.e(0),n.e(13),n.e(43)]).then(n.bind(null,1764))),E=Object(g.c)(m.b)(j());function S(e){var t,n;return(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)?l()({certification:{certified_by:null!=(t=null==e?void 0:e.certified_by)?t:null,details:null!=(n=null==e?void 0:e.certification_details)?n:null}}):null}t.a=Object(x.a)(({addSuccessToast:e,datasource:t,onDatasourceSave:n,onHide:r,show:o})=>{const[s,l]=Object(d.useState)(t),[c,u]=Object(d.useState)([]),[g,y]=Object(d.useState)(!1),x=Object(d.useRef)(null),[j,T]=m.b.useModal(),D=()=>{var t,o,l;const c=(null==(t=s.tableSelector)?void 0:t.schema)||(null==(o=s.databaseSelector)?void 0:o.schema)||s.schema;y(!0),b.a.post({endpoint:\"/datasource/save/\",postPayload:{data:i()({},s,{schema:c,metrics:null==s?void 0:null==(l=s.metrics)?void 0:a()(l).call(l,e=>i()({},e,{extra:S(e)})),type:s.type||s.datasource_type})}}).then(({json:t})=>{e(Object(v.e)(\"The dataset has been saved\")),n(t),r()}).catch(e=>{y(!1),Object(C.a)(e).then(({error:e})=>{j.error({title:\"Error\",content:e||Object(v.e)(\"An error has occurred\"),okButtonProps:{danger:!0,className:\"btn-danger\"}})})})},k=()=>{var e;null==(e=x.current)||e.destroy()};return Object(w.f)(E,{show:o,onHide:r,title:Object(w.f)(\"span\",null,Object(v.e)(\"Edit Dataset \"),Object(w.f)(\"strong\",null,s.table_name)),footer:Object(w.f)(p.a.Fragment,null,Object(O.c)(O.a.ENABLE_REACT_CRUD_VIEWS)&&Object(w.f)(h.a,{buttonSize:\"sm\",buttonStyle:\"default\",className:\"m-r-5\",onClick:()=>{window.location.href=s.edit_url||s.url}},Object(v.e)(\"Use Legacy Datasource Editor\")),Object(w.f)(h.a,{buttonSize:\"sm\",buttonStyle:\"primary\",className:\"m-r-5\",onClick:()=>{x.current=j.confirm({title:Object(v.e)(\"Confirm save\"),content:Object(w.f)(\"div\",null,Object(w.f)(f.a,{bsStyle:\"warning\",className:\"pointer\",onClick:k},Object(w.f)(\"div\",null,Object(w.f)(\"i\",{className:\"fa fa-exclamation-triangle\"}),\" \",Object(v.e)(\"The dataset configuration exposed here\\n                affects all the charts using this dataset.\\n                Be mindful that changing settings\\n                here may affect other charts\\n                in undesirable ways.\"))),Object(v.e)(\"Are you sure you want to save and apply changes?\")),onOk:D,icon:null})},disabled:g||c.length>0},Object(v.e)(\"Save\")),Object(w.f)(h.a,{buttonSize:\"sm\",onClick:r},Object(v.e)(\"Cancel\"))),responsive:!0},Object(w.f)(_,{showLoadingForImport:!0,height:500,datasource:s,onChange:(e,t)=>{var n;l(i()({},e,{metrics:null==e?void 0:a()(n=e.metrics).call(n,e=>i()({},e,{is_certified:(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)}))})),u(t)}}),T)})},940:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return ho}));var r=n(28),a=n.n(r),o=n(7),i=n.n(o),s=n(0),l=n.n(s),c=(n(108),n(36),n(26)),u=n.n(c),d=n(4),p=n.n(d),f=n(6),h=n.n(f),g=n(29),b=n.n(g),v=n(44),m=n.n(v),y=n(2),O=n.n(y),C=n(1757),x=n(3084),w=n(85),j=n(9),_=n(197),E=n(149),S=n(188),T=n(385),D=n(142),k=n(123),M=n(1);const R=Object(T.a)(()=>n.e(58).then(n.bind(null,3604)),()=>Object(M.f)(\"div\",{style:{width:450,height:368}})),P={colorScheme:O.a.string.isRequired,annotationError:O.a.object,annotationQuery:O.a.object,vizType:O.a.string,validationErrors:O.a.array,name:O.a.string.isRequired,actions:O.a.object,value:O.a.arrayOf(O.a.object),onChange:O.a.func,refreshAnnotationData:O.a.func};class N extends l.a.PureComponent{constructor(e){var t,n,r;super(e),this.state={popoverVisible:{},addedAnnotationIndex:null},this.addAnnotationLayer=i()(t=this.addAnnotationLayer).call(t,this),this.removeAnnotationLayer=i()(n=this.removeAnnotationLayer).call(n,this),this.handleVisibleChange=i()(r=this.handleVisibleChange).call(r,this)}componentDidMount(){R.preload()}UNSAFE_componentWillReceiveProps(e){const{name:t,annotationError:n,validationErrors:r,value:a}=e;m()(n).length&&!r.length&&this.props.actions.setControlValue(t,a,m()(n)),!m()(n).length&&r.length&&this.props.actions.setControlValue(t,a,[])}addAnnotationLayer(e,t){let n=this.props.value;b()(n).call(n,e)?n=h()(n).call(n,n=>n===e?t:n):(n=[...n,t],this.setState({addedAnnotationIndex:n.length-1})),this.props.refreshAnnotationData(t),this.props.onChange(n)}handleVisibleChange(e,t){this.setState(n=>({popoverVisible:p()({},n.popoverVisible,{[t]:e})}))}removeAnnotationLayer(e){var t;const n=u()(t=this.props.value).call(t,t=>t!==e);this.props.onChange(n)}renderPopover(e,t,n){const r=(null==t?void 0:t.name)||\"_new\";return Object(M.f)(\"div\",{id:\"annotation-pop-\"+r},Object(M.f)(R,a()({},t,{error:n,colorScheme:this.props.colorScheme,vizType:this.props.vizType,addAnnotationLayer:e=>this.addAnnotationLayer(t,e),removeAnnotationLayer:()=>this.removeAnnotationLayer(t),close:()=>{this.handleVisibleChange(!1,e),this.setState({addedAnnotationIndex:null})}})))}renderInfo(e){const{annotationError:t,annotationQuery:n}=this.props;return n[e.name]?Object(M.f)(\"i\",{className:\"fa fa-refresh\",style:{color:\"orange\"},\"aria-hidden\":!0}):t[e.name]?Object(M.f)(E.a,{label:\"validation-errors\",bsStyle:\"danger\",tooltip:t[e.name]}):e.show?\"\":Object(M.f)(\"span\",{style:{color:\"red\"}},\" Hidden \")}render(){var e;const{addedAnnotationIndex:t}=this.state,n=this.props.value[t],r=h()(e=this.props.value).call(e,(e,t)=>Object(M.f)(S.a,{key:t,trigger:\"click\",placement:\"right\",title:Object(j.e)(\"Edit Annotation Layer\"),content:this.renderPopover(t,e,this.props.annotationError[e.name]),visible:this.state.popoverVisible[t],onVisibleChange:e=>this.handleVisibleChange(e,t)},Object(M.f)(C.a,null,Object(M.f)(\"span\",null,e.name),Object(M.f)(\"span\",{style:{float:\"right\"}},this.renderInfo(e)))));return Object(M.f)(\"div\",null,Object(M.f)(x.a,null,r,Object(M.f)(S.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(\"add\",n),title:Object(j.e)(\"Add Annotation Layer\"),visible:this.state.popoverVisible.add,destroyTooltipOnHide:!0,onVisibleChange:e=>this.handleVisibleChange(e,\"add\")},Object(M.f)(C.a,null,Object(M.f)(\"i\",{className:\"fa fa-plus\"}),\" \",\"  \",Object(j.e)(\"Add Annotation Layer\")))))}}N.propTypes=P,N.defaultProps={vizType:\"\",value:[],annotationError:{},annotationQuery:{},onChange:()=>{}};const A=Object(_.c)(N);var I=Object(w.b)((function({charts:e,explore:t}){var n,r;const a=e[Object(D.f)(t)]||e[0]||{};return{colorScheme:null==(n=t.controls)?void 0:null==(r=n.color_scheme)?void 0:r.value,annotationError:a.annotationError,annotationQuery:a.annotationQuery,vizType:t.controls.viz_type.value}}),(function(e){return{refreshAnnotationData:t=>e(Object(k.runAnnotationQuery)(t))}}))(A),F=n(644),L=n.n(F),B=n(273),U=n.n(B),V=n(739),H=n(1249),q=n(1071),G=n(703),z=n(107);const W={onChange:O.a.func,value:O.a.array};class Y extends l.a.Component{constructor(e){var t,n,r;super(e),this.state={minMax:[null===e.value[0]?\"\":e.value[0],null===e.value[1]?\"\":e.value[1]]},this.onChange=i()(t=this.onChange).call(t,this),this.onMinChange=i()(n=this.onMinChange).call(n,this),this.onMaxChange=i()(r=this.onMaxChange).call(r,this)}onMinChange(e){const t=e.target.value;this.setState(e=>({minMax:[t,e.minMax[1]]}),this.onChange)}onMaxChange(e){const t=e.target.value;this.setState(e=>({minMax:[e.minMax[0],t]}),this.onChange)}onChange(){const e=this.state.minMax,t=[];e[0]&&U()(Number(e[0]))&&t.push(Object(j.e)(\"`Min` value should be numeric or empty\")),e[1]&&U()(Number(e[1]))&&t.push(Object(j.e)(\"`Max` value should be numeric or empty\")),0===t.length?this.props.onChange([L()(e[0]),L()(e[1])],t):this.props.onChange([null,null],t)}render(){return Object(M.f)(\"div\",null,Object(M.f)(z.a,this.props),Object(M.f)(V.a,{bsSize:\"small\"},Object(M.f)(H.a,null,Object(M.f)(q.a,{xs:6},Object(M.f)(G.a,{type:\"text\",placeholder:Object(j.e)(\"Min\"),onChange:this.onMinChange,value:this.state.minMax[0]})),Object(M.f)(q.a,{xs:6},Object(M.f)(G.a,{type:\"text\",placeholder:Object(j.e)(\"Max\"),onChange:this.onMaxChange,value:this.state.minMax[1]})))))}}Y.propTypes=W,Y.defaultProps={onChange:()=>{},value:[null,null]};var X=n(431),Q=n(41),K=n.n(Q),Z=n(84),$=n.n(Z),J=n(127),ee=n.n(J),te=n(349);n(1369);const ne={name:O.a.string.isRequired,label:O.a.string,description:O.a.string,placeholder:O.a.string,addTooltip:O.a.string,itemGenerator:O.a.func,keyAccessor:O.a.func,onChange:O.a.func,value:O.a.oneOfType([O.a.array]),isFloat:O.a.bool,isInt:O.a.bool,controlName:O.a.string.isRequired},re={label:null,description:null,onChange:()=>{},placeholder:\"Empty collection\",itemGenerator:()=>({key:ee.a.generate()}),keyAccessor:e=>e.key,value:[],addTooltip:\"Add an item\"},ae=Object(te.b)(C.a),oe=Object(te.a)(x.a),ie=Object(te.c)(()=>Object(M.f)(\"i\",{className:\"fa fa-bars text-primary\",style:{cursor:\"ns-resize\"}}));class se extends l.a.Component{constructor(e){var t;super(e),this.onAdd=i()(t=this.onAdd).call(t,this)}onChange(e,t){p()(this.props.value[e],t),this.props.onChange(this.props.value)}onAdd(){var e;this.props.onChange($()(e=this.props.value).call(e,[this.props.itemGenerator()]))}onSortEnd({oldIndex:e,newIndex:t}){this.props.onChange(Object(te.d)(this.props.value,e,t))}removeItem(e){var t;this.props.onChange(u()(t=this.props.value).call(t,(t,n)=>e!==n))}renderList(){var e,t;if(0===this.props.value.length)return Object(M.f)(\"div\",{className:\"text-muted\"},this.props.placeholder);const n=fo[this.props.controlName];return Object(M.f)(oe,{useDragHandle:!0,lockAxis:\"y\",onSortEnd:i()(e=this.onSortEnd).call(e,this)},h()(t=this.props.value).call(t,(e,t)=>{var r,o;const s=this.props,l=K()(s,[\"label\"]);return Object(M.f)(ae,{className:\"clearfix\",key:this.props.keyAccessor(e),index:t},Object(M.f)(\"div\",{className:\"pull-left m-r-5\"},Object(M.f)(ie,null)),Object(M.f)(\"div\",{className:\"pull-left\"},Object(M.f)(n,a()({},l,e,{onChange:i()(r=this.onChange).call(r,this,t)}))),Object(M.f)(\"div\",{className:\"pull-right\"},Object(M.f)(E.a,{icon:\"times\",label:\"remove-item\",tooltip:\"remove item\",bsStyle:\"primary\",onClick:i()(o=this.removeItem).call(o,this,t)})))}))}render(){return Object(M.f)(\"div\",{className:\"CollectionControl\"},Object(M.f)(z.a,this.props),this.renderList(),Object(M.f)(E.a,{icon:\"plus-circle\",label:\"add-item\",tooltip:this.props.addTooltip,bsStyle:\"primary\",className:\"fa-lg\",onClick:this.onAdd}))}}se.propTypes=ne,se.defaultProps=re;var le=n(17),ce=n.n(le),ue=n(809);const de={onChange:O.a.func,value:O.a.object,colorScheme:O.a.string,colorNamespace:O.a.string},pe={onChange:()=>{},value:{},colorScheme:void 0,colorNamespace:void 0};class fe extends l.a.PureComponent{constructor(e){var t;super(e),ce()(t=m()(this.props.value)).call(t,e=>{ue.b.getScale(this.props.colorScheme,this.props.colorNamespace).setColor(e,this.props.value[e])})}render(){return null}}fe.propTypes=de,fe.defaultProps=pe;var he=n(1140),ge=n(289);const be={onChange:O.a.func,value:O.a.object},ve={position:\"absolute\",width:\"50px\",height:\"20px\",top:\"0px\",left:\"0px\",right:\"0px\",bottom:\"0px\"},me={swatch:{width:\"50px\",height:\"20px\",position:\"relative\",padding:\"5px\",borderRadius:\"1px\",display:\"inline-block\",cursor:\"pointer\",boxShadow:\"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset\"},color:p()({},ve,{borderRadius:\"2px\"}),checkboard:p()({},ve,{background:'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==\") left center'})};class ye extends l.a.Component{constructor(e){var t;super(e),this.onChange=i()(t=this.onChange).call(t,this)}onChange(e){this.props.onChange(e.rgb)}renderPopover(){var e;const t=u()(e=Object(ge.a)().get().colors).call(e,(e,t)=>t<7);return Object(M.f)(\"div\",{id:\"filter-popover\",className:\"color-popover\"},Object(M.f)(he.SketchPicker,{color:this.props.value,onChange:this.onChange,presetColors:t}))}render(){const e=this.props.value||{r:0,g:0,b:0,a:0},t=p()({},me.color,{background:\"rgba(\"+e.r+\", \"+e.g+\", \"+e.b+\", \"+e.a+\")\"});return Object(M.f)(\"div\",null,Object(M.f)(z.a,this.props),Object(M.f)(S.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover()},Object(M.f)(\"div\",{style:me.swatch},Object(M.f)(\"div\",{style:me.checkboard}),Object(M.f)(\"div\",{style:t}))))}}ye.propTypes=be,ye.defaultProps={onChange:()=>{}};var Oe,Ce=n(853),xe=n(8),we=n.n(xe),je=n(61),_e=n(11),Ee=n(64),Se=n(33),Te=n(1761),De=n(57),ke=n(450),Me=n(92),Re=n(35),Pe=n(162),Ne=n(69),Ae=n(180),Ie=n(80);function Fe(){const e=we()([\"\\n  cursor: pointer;\\n  color: \",\";\\n  &: hover {\\n    color: \",\";\\n  }\\n\"]);return Fe=function(){return e},e}function Le(){const e=we()([\"\\n  .btn-container {\\n    display: flex;\\n    justify-content: flex-end;\\n    padding: 0px 15px;\\n    margin: 10px 0 0 0;\\n  }\\n\\n  .confirm-modal-container {\\n    margin: 9px;\\n  }\\n\"]);return Le=function(){return e},e}const Be=Object(j.e)(\"Warning! Changing the dataset may break the chart if the metadata does not exist.\"),Ue=Object(j.e)(\"Changing the dataset may break the chart if the chart relies on columns or metadata that does not exist in the target dataset\"),Ve=je.c.div(Le()),He=je.c.span(Fe(),({theme:e})=>e.colors.primary.dark1,({theme:e})=>e.colors.primary.dark2),qe=h()(Oe=[\"name\",\"type\",\"schema\",\"connection\",\"creator\"]).call(Oe,e=>({accessor:e,Header:e})),Ge={pageIndex:0,pageSize:20,filters:[],sortBy:[{id:\"changed_on_delta_humanized\"}]};var ze=Object(Ie.a)(({addDangerToast:e,addSuccessToast:t,onChange:n,onDatasourceSave:r,onHide:a,show:o})=>{const[i,c]=Object(s.useState)(void 0),[u,d]=Object(s.useState)(!1),[f,g]=Object(s.useState)();let b=Object(s.useRef)(null);const{state:{loading:v,resourceCollection:m},fetchData:y}=Object(Pe.e)(\"dataset\",Object(j.e)(\"dataset\"),e),O=Object(s.useCallback)(e=>{d(!0),g(e)},[]);Object(D.n)(()=>{i&&y(p()({},Ge,{filters:[{id:\"table_name\",operator:\"ct\",value:i}]}))},1e3,[i]),Object(s.useEffect)(()=>{o&&(async()=>{b&&b.current&&b.current.focus(),await y(Ge)})()},[e,y,n,r,a,O,o]);return Object(M.f)(Me.b,{show:o,onHide:a,responsive:!0,title:Object(j.e)(\"Change Dataset\"),footer:Object(M.f)(l.a.Fragment,null,u&&Object(M.f)(Ve,null,Object(M.f)(\"div\",{className:\"btn-container\"},Object(M.f)(Re.a,{onClick:()=>{d(!1)}},\"Cancel\"),Object(M.f)(Re.a,{className:\"proceed-btn\",buttonStyle:\"primary\",onClick:()=>{De.a.get({endpoint:\"/datasource/get/\"+(null==f?void 0:f.type)+\"/\"+(null==f?void 0:f.id)}).then(({json:e})=>{r(e),n((null==f?void 0:f.id)+\"__table\")}).catch(t=>{Object(Ne.a)(t).then(({error:t,message:n})=>{const r=t?t.error||t.statusText||t:n;e(r)})}),a(),t(\"Successfully changed dataset!\")}},\"Proceed\"))))},Object(M.f)(l.a.Fragment,null,!u&&Object(M.f)(l.a.Fragment,null,Object(M.f)(Te.a,{bsStyle:\"warning\"},Object(M.f)(\"strong\",null,Object(j.e)(\"Warning!\")),\" \",Ue),Object(M.f)(\"div\",null,Object(M.f)(G.a,{inputRef:e=>{(e=>{b=e})(e)},type:\"text\",bsSize:\"sm\",value:i,placeholder:Object(j.e)(\"Search / Filter\"),onChange:e=>{var t,n;const r=null!=(t=null==(n=e.currentTarget)?void 0:n.value)?t:\"\";c(r)}})),v&&Object(M.f)(Ae.a,null),!v&&Object(M.f)(ke.b,{columns:qe,data:h()(m).call(m,e=>({rawName:e.table_name,connection:e.database.database_name,schema:e.schema,name:Object(M.f)(He,{role:\"button\",tabIndex:0,onClick:()=>O(p()({type:\"table\"},e))},e.table_name),type:e.kind})),pageSize:20,className:\"table-condensed\"})),u&&Object(M.f)(l.a.Fragment,null,Be)))}),We=n(933);function Ye(){const e=we()([\"\\n  .data-container {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    border-bottom: 1px solid \",\";\\n    padding: \",\"px;\\n  }\\n  .ant-dropdown-trigger {\\n    margin-left: \",\"px;\\n    box-shadow: none;\\n    &:active {\\n      box-shadow: none;\\n    }\\n  }\\n  .btn-group .open .dropdown-toggle {\\n    box-shadow: none;\\n    &.button-default {\\n      background: none;\\n    }\\n  }\\n  i.angle {\\n    color: \",\";\\n  }\\n  svg.datasource-modal-trigger {\\n    color: \",\";\\n    cursor: pointer;\\n  }\\n  .title-select {\\n    flex: 1 1 100%;\\n    display: inline-block;\\n    background-color: \",\";\\n    padding: \",\"px;\\n    border-radius: \",\"px;\\n    text-align: center;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n    overflow: hidden;\\n  }\\n  .dataset-svg {\\n    margin-right: \",\"px;\\n  }\\n\"]);return Ye=function(){return e},e}const Xe={actions:O.a.object.isRequired,onChange:O.a.func,value:O.a.string,datasource:O.a.object.isRequired,isEditable:O.a.bool,onDatasourceSave:O.a.func},Qe=je.c.div(Ye(),({theme:e})=>e.colors.grayscale.light2,({theme:e})=>2*e.gridUnit,({theme:e})=>2*e.gridUnit,({theme:e})=>e.colors.primary.base,({theme:e})=>e.colors.primary.base,({theme:e})=>e.colors.grayscale.light3,({theme:e})=>2*e.gridUnit,({theme:e})=>e.borderRadius,({theme:e})=>2*e.gridUnit);class Ke extends l.a.PureComponent{constructor(e){var t,n,r,a,o;super(e),this.state={showEditDatasourceModal:!1,showChangeDatasourceModal:!1},this.onDatasourceSave=i()(t=this.onDatasourceSave).call(t,this),this.toggleChangeDatasourceModal=i()(n=this.toggleChangeDatasourceModal).call(n,this),this.toggleEditDatasourceModal=i()(r=this.toggleEditDatasourceModal).call(r,this),this.toggleShowDatasource=i()(a=this.toggleShowDatasource).call(a,this),this.handleMenuItemClick=i()(o=this.handleMenuItemClick).call(o,this)}onDatasourceSave(e){this.props.actions.setDatasource(e),this.props.onDatasourceSave&&this.props.onDatasourceSave(e)}toggleShowDatasource(){this.setState(({showDatasource:e})=>({showDatasource:!e}))}toggleChangeDatasourceModal(){this.setState(({showChangeDatasourceModal:e})=>({showChangeDatasourceModal:!e}))}toggleEditDatasourceModal(){this.setState(({showEditDatasourceModal:e})=>({showEditDatasourceModal:!e}))}handleMenuItemClick({key:e}){if(\"change_dataset\"===e&&this.toggleChangeDatasourceModal(),\"edit_dataset\"===e&&this.toggleEditDatasourceModal(),\"view_in_sql_lab\"===e){const{datasource:e}=this.props,t={datasourceKey:e.id+\"__\"+e.type,sql:e.sql};Object(D.l)(\"/superset/sqllab\",t)}}render(){const{showChangeDatasourceModal:e,showEditDatasourceModal:t}=this.state,{datasource:n,onChange:r}=this.props,a=Object(M.f)(_e.o,{onClick:this.handleMenuItemClick},this.props.isEditable&&Object(M.f)(_e.o.Item,{key:\"edit_dataset\"},Object(j.e)(\"Edit Dataset\")),Object(M.f)(_e.o.Item,{key:\"change_dataset\"},Object(j.e)(\"Change Dataset\")),Object(M.f)(_e.o.Item,{key:\"view_in_sql_lab\"},Object(j.e)(\"View in SQL Lab\"))),{health_check_message:o}=n;return Object(M.f)(Qe,{className:\"DatasourceControl\"},Object(M.f)(\"div\",{className:\"data-container\"},Object(M.f)(Se.a,{name:\"dataset-physical\",className:\"dataset-svg\"}),Object(M.f)(Ee.a,{title:n.name},Object(M.f)(\"span\",{className:\"title-select\"},n.name)),o&&Object(M.f)(Ee.a,{title:o},Object(M.f)(Se.a,{name:\"alert-solid\",color:je.d.colors.warning.base})),Object(M.f)(_e.j,{overlay:a,trigger:[\"click\"]},Object(M.f)(Ee.a,{title:Object(j.e)(\"More dataset related options\")},Object(M.f)(Se.a,{className:\"datasource-modal-trigger\",name:\"more-horiz\"})))),t&&Object(M.f)(We.a,{datasource:n,show:t,onDatasourceSave:this.onDatasourceSave,onHide:this.toggleEditDatasourceModal}),e&&Object(M.f)(ze,{onDatasourceSave:this.onDatasourceSave,onHide:this.toggleChangeDatasourceModal,show:e,onChange:r}))}}Ke.propTypes=Xe,Ke.defaultProps={onChange:()=>{},onDatasourceSave:null,value:null,isEditable:!0};var Ze=Ke,$e=n(237),Je=n.n($e),et=n(103),tt=n.n(et),nt=n(268),rt=n(141),at=n(76),ot=n(47),it=n.n(ot),st=n(93),lt=n.n(st),ct=n(18),ut=n.n(ct);const dt=[{value:\"Common\",label:Object(j.e)(\"Last\")},{value:\"Calendar\",label:Object(j.e)(\"Previous\")},{value:\"Custom\",label:Object(j.e)(\"Custom\")},{value:\"Advanced\",label:Object(j.e)(\"Advanced\")},{value:\"No Filter\",label:Object(j.e)(\"No Filter\")}],pt=[{value:\"Last day\",label:Object(j.e)(\"last day\")},{value:\"Last week\",label:Object(j.e)(\"last week\")},{value:\"Last month\",label:Object(j.e)(\"last month\")},{value:\"Last quarter\",label:Object(j.e)(\"last quarter\")},{value:\"Last year\",label:Object(j.e)(\"last year\")}],ft=new lt.a(h()(pt).call(pt,({value:e})=>e)),ht=[{value:\"previous calendar week\",label:Object(j.e)(\"previous calendar week\")},{value:\"previous calendar month\",label:Object(j.e)(\"previous calendar month\")},{value:\"previous calendar year\",label:Object(j.e)(\"previous calendar year\")}],gt=new lt.a(h()(ht).call(ht,({value:e})=>e)),bt=[{value:\"second\",label:e=>Object(j.e)(\"Seconds\")+\" \"+e},{value:\"minute\",label:e=>Object(j.e)(\"Minutes\")+\" \"+e},{value:\"hour\",label:e=>Object(j.e)(\"Hours\")+\" \"+e},{value:\"day\",label:e=>Object(j.e)(\"Days\")+\" \"+e},{value:\"week\",label:e=>Object(j.e)(\"Weeks\")+\" \"+e},{value:\"month\",label:e=>Object(j.e)(\"Months\")+\" \"+e},{value:\"quarter\",label:e=>Object(j.e)(\"Quarters\")+\" \"+e},{value:\"year\",label:e=>Object(j.e)(\"Years\")+\" \"+e}],vt=h()(bt).call(bt,e=>({value:e.value,label:e.label(Object(j.e)(\"Before\"))})),mt=h()(bt).call(bt,e=>({value:e.value,label:e.label(Object(j.e)(\"After\"))})),yt=[{value:\"specific\",label:Object(j.e)(\"Specific Date/Time\")},{value:\"relative\",label:Object(j.e)(\"Relative Date/Time\")},{value:\"now\",label:Object(j.e)(\"Now\")},{value:\"today\",label:Object(j.e)(\"Midnight\")}],Ot=it()(yt).call(yt),Ct=new lt.a([\"Last day\",\"Last week\",\"Last month\",\"Last quarter\",\"Last year\"]),xt=new lt.a([\"previous calendar week\",\"previous calendar month\",\"previous calendar year\"]),wt=\"YYYY-MM-DD[T]HH:mm:ss\",jt=ut()().utc().startOf(\"day\").subtract(7,\"days\").format(wt),_t=ut()().utc().startOf(\"day\").format(wt);n(760),n(208),n(1256),n(196);var Et=n(167),St=n.n(Et),Tt=n(697),Dt=n.n(Tt);function kt(){const e=we()([\"^\",\"$|^\",\"$\"]);return kt=function(){return e},e}function Mt(){const e=we()(['^DATEADD(DATETIME(\"(',\"|\",')\"),s(',\"),s(\",\"))$\"],['^DATEADD\\\\(DATETIME\\\\(\"(',\"|\",')\"\\\\),\\\\s(',\"),\\\\s(\",\")\\\\)$\"]);return Mt=function(){return e},e}function Rt(){const e=we()([\"YEAR|QUARTER|MONTH|WEEK|DAY|HOUR|MINUTE|SECOND\"]);return Rt=function(){return e},e}function Pt(){const e=we()([\"[+-]?[1-9][0-9]*\"]);return Pt=function(){return e},e}function Nt(){const e=we()([\"TODAY|NOW\"]);return Nt=function(){return e},e}function At(){const e=we()([\"d{4}-dd-ddTdd:dd:dd(?:.d+)?(?:(?:[+-]dd:dd)|Z)?\"],[\"\\\\d{4}-\\\\d\\\\d-\\\\d\\\\dT\\\\d\\\\d:\\\\d\\\\d:\\\\d\\\\d(?:\\\\.\\\\d+)?(?:(?:[+-]\\\\d\\\\d:\\\\d\\\\d)|Z)?\"]);return At=function(){return e},e}const It=Dt()(At()),Ft=Dt()(Nt()),Lt=Dt()(Pt()),Bt=Dt()(Rt()),Ut=RegExp(Dt()(Mt(),It,Ft,Lt,Bt),\"i\"),Vt=RegExp(Dt()(kt(),It,Ft),\"i\"),Ht=[\"now\",\"today\"],qt={sinceDatetime:jt,sinceMode:\"relative\",sinceGrain:\"day\",sinceGrainValue:-7,untilDatetime:_t,untilMode:\"specific\",untilGrain:\"day\",untilGrainValue:7,anchorMode:\"now\",anchorValue:\"now\"},Gt=[\"specific\",\"today\",\"now\"],zt=e=>{const t=e.split(nt.a);if(2===t.length){const[e,n]=t;if(Vt.test(e)&&Vt.test(n)){const t=b()(Ht).call(Ht,e)?e:\"specific\",r=b()(Ht).call(Ht,n)?n:\"specific\";return{customRange:p()({},qt,{sinceDatetime:e,untilDatetime:n,sinceMode:t,untilMode:r}),matchedFlag:!0}}const r=e.match(Ut);if(r&&Vt.test(n)&&b()(e).call(e,n)){const[e,t,a]=it()(r).call(r,1),o=b()(Ht).call(Ht,n)?n:\"specific\";return{customRange:p()({},qt,{sinceGrain:a,sinceGrainValue:St()(t,10),untilDatetime:e,sinceMode:\"relative\",untilMode:o}),matchedFlag:!0}}const a=n.match(Ut);if(Vt.test(e)&&a&&b()(n).call(n,e)){const[t,n,r]=[...it()(a).call(a,1)],o=b()(Ht).call(Ht,e)?e:\"specific\";return{customRange:p()({},qt,{untilGrain:r,untilGrainValue:St()(n,10),sinceDatetime:t,untilMode:\"relative\",sinceMode:o}),matchedFlag:!0}}if(r&&a){const[e,t,n]=[...it()(r).call(r,1)],[o,i,s]=[...it()(a).call(a,1)];if(e===o)return{customRange:p()({},qt,{sinceGrain:n,sinceGrainValue:St()(t,10),untilGrain:s,untilGrainValue:St()(i,10),anchorValue:e,sinceMode:\"relative\",untilMode:\"relative\",anchorMode:\"now\"===e?\"now\":\"specific\"}),matchedFlag:!0}}}return{customRange:qt,matchedFlag:!1}},Wt=e=>{const{sinceDatetime:t,sinceMode:n,sinceGrain:r,sinceGrainValue:a,untilDatetime:o,untilMode:i,untilGrain:s,untilGrainValue:l,anchorValue:c}=p()({},e);if(b()(Gt).call(Gt,n)&&b()(Gt).call(Gt,i)){return(\"specific\"===n?t:n)+\" : \"+(\"specific\"===i?o:i)}if(b()(Gt).call(Gt,n)&&\"relative\"===i){const e=\"specific\"===n?t:n;return e+\" : \"+('DATEADD(DATETIME(\"'+e+'\"), '+l+\", \"+s+\")\")}if(\"relative\"===n&&b()(Gt).call(Gt,i)){const e=\"specific\"===i?o:i;return'DATEADD(DATETIME(\"'+e+'\"), '+-Math.abs(a)+\", \"+r+\")\"+\" : \"+e}return'DATEADD(DATETIME(\"'+c+'\"), '+-Math.abs(a)+\", \"+r+\")\"+\" : \"+('DATEADD(DATETIME(\"'+c+'\"), '+l+\", \"+s+\")\")};function Yt(e){let t=\"Last week\";return Ct.has(e.value)?t=e.value:e.onChange(t),Object(M.f)(l.a.Fragment,null,Object(M.f)(\"div\",{className:\"section-title\"},Object(j.e)(\"Configure Time Range: Last...\")),Object(M.f)(_e.s.Group,{value:t,onChange:t=>e.onChange(t.target.value)},h()(pt).call(pt,({value:e,label:t})=>Object(M.f)(_e.s,{key:e,value:e,className:\"vertical-radio\"},t))))}function Xt(e){let t=\"previous calendar week\";return xt.has(e.value)?t=e.value:e.onChange(t),Object(M.f)(l.a.Fragment,null,Object(M.f)(\"div\",{className:\"section-title\"},Object(j.e)(\"Configure Time Range: Previous...\")),Object(M.f)(_e.s.Group,{value:t,onChange:t=>e.onChange(t.target.value)},h()(ht).call(ht,({value:e,label:t})=>Object(M.f)(_e.s,{key:e,value:e,className:\"vertical-radio\"},t))))}var Qt=n(1315),Kt=n.n(Qt);const Zt=e=>\"now\"===e?ut()().utc().startOf(\"second\"):\"today\"===e?ut()().utc().startOf(\"day\"):ut()(e);function $t(e){const{customRange:t,matchedFlag:n}=zt(e.value);n||e.onChange(Wt(t));const{sinceDatetime:r,sinceMode:a,sinceGrain:o,sinceGrainValue:i,untilDatetime:s,untilMode:l,untilGrain:c,untilGrainValue:d,anchorValue:f,anchorMode:h}=p()({},t);function g(n,r){e.onChange(Wt(p()({},t,{[n]:r})))}function b(n,r){Kt()(r)&&r>0&&e.onChange(Wt(p()({},t,{[n]:r})))}return Object(M.f)(\"div\",null,Object(M.f)(\"div\",{className:\"section-title\"},Object(j.e)(\"Configure Custom Time Range\")),Object(M.f)(_e.t,{gutter:24},Object(M.f)(_e.f,{span:12},Object(M.f)(\"div\",{className:\"control-label\"},Object(j.e)(\"START\")),Object(M.f)(at.f,{options:yt,value:u()(yt).call(yt,e=>e.value===a),onChange:e=>g(\"sinceMode\",e.value)}),\"specific\"===a&&Object(M.f)(_e.t,null,Object(M.f)(_e.h,{showTime:!0,value:Zt(r),onChange:e=>g(\"sinceDatetime\",e.format(wt)),allowClear:!1})),\"relative\"===a&&Object(M.f)(_e.t,{gutter:8},Object(M.f)(_e.f,{span:11},Object(M.f)(_e.n,{placeholder:Object(j.e)(\"Relative quantity\"),value:Math.abs(i),min:1,defaultValue:1,onChange:e=>b(\"sinceGrainValue\",e||1),onStep:e=>b(\"sinceGrainValue\",e||1)})),Object(M.f)(_e.f,{span:13},Object(M.f)(at.f,{options:vt,value:u()(vt).call(vt,e=>e.value===o),onChange:e=>g(\"sinceGrain\",e.value)})))),Object(M.f)(_e.f,{span:12},Object(M.f)(\"div\",{className:\"control-label\"},Object(j.e)(\"END\")),Object(M.f)(at.f,{options:Ot,value:u()(Ot).call(Ot,e=>e.value===l),onChange:e=>g(\"untilMode\",e.value)}),\"specific\"===l&&Object(M.f)(_e.t,null,Object(M.f)(_e.h,{showTime:!0,value:Zt(s),onChange:e=>g(\"untilDatetime\",e.format(wt)),allowClear:!1})),\"relative\"===l&&Object(M.f)(_e.t,{gutter:8},Object(M.f)(_e.f,{span:11},Object(M.f)(_e.n,{placeholder:Object(j.e)(\"Relative quantity\"),value:d,min:1,defaultValue:1,onChange:e=>b(\"untilGrainValue\",e||1),onStep:e=>b(\"untilGrainValue\",e||1)})),Object(M.f)(_e.f,{span:13},Object(M.f)(at.f,{options:mt,value:u()(mt).call(mt,e=>e.value===c),onChange:e=>g(\"untilGrain\",e.value)}))))),\"relative\"===a&&\"relative\"===l&&Object(M.f)(\"div\",{className:\"control-anchor-to\"},Object(M.f)(\"div\",{className:\"control-label\"},Object(j.e)(\"ANCHOR TO\")),Object(M.f)(_e.t,{align:\"middle\"},Object(M.f)(_e.f,null,Object(M.f)(_e.s.Group,{onChange:function(n){const r=n.target.value;\"now\"===r?e.onChange(Wt(p()({},t,{anchorValue:\"now\",anchorMode:r}))):e.onChange(Wt(p()({},t,{anchorValue:_t,anchorMode:r})))},defaultValue:\"now\",value:h},Object(M.f)(_e.s,{key:\"now\",value:\"now\"},Object(j.e)(\"NOW\")),Object(M.f)(_e.s,{key:\"specific\",value:\"specific\"},Object(j.e)(\"Date/Time\")))),\"now\"!==h&&Object(M.f)(_e.f,null,Object(M.f)(_e.h,{showTime:!0,value:Zt(f),onChange:e=>g(\"anchorValue\",e.format(wt)),allowClear:!1,className:\"control-anchor-to-datetime\"})))))}function Jt(e){const[t,n]=function(e){if(b()(e).call(e,nt.a))return e;if(Je()(e).call(e,\"Last\"))return[e,\"\"].join(nt.a);if(Je()(e).call(e,\"Next\"))return[\"\",e].join(nt.a);return nt.a}(e.value||\"\").split(nt.a);function r(r,a){\"since\"===r?e.onChange(\"\"+a+nt.a+n):e.onChange(\"\"+t+nt.a+a)}return Object(M.f)(l.a.Fragment,null,Object(M.f)(\"div\",{className:\"section-title\"},Object(j.e)(\"Configure Advanced Time Range\")),Object(M.f)(\"div\",{className:\"control-label\"},Object(j.e)(\"START\")),Object(M.f)(_e.m,{key:\"since\",value:t,onChange:e=>r(\"since\",e.target.value)}),Object(M.f)(\"div\",{className:\"control-label\"},Object(j.e)(\"END\")),Object(M.f)(_e.m,{key:\"until\",value:n,onChange:e=>r(\"until\",e.target.value)}))}function en(){const e=we()([\"\\n  svg {\\n    margin-right: \",\"px;\\n    vertical-align: middle;\\n  }\\n  .text {\\n    vertical-align: middle;\\n  }\\n  .error {\\n    color: \",\";\\n  }\\n\"]);return en=function(){return e},e}function tn(){const e=we()([\"\\n  .ant-row {\\n    margin-top: 8px;\\n  }\\n\\n  .ant-input-number {\\n    width: 100%;\\n  }\\n\\n  .frame-dropdown {\\n    width: 272px;\\n  }\\n\\n  .ant-picker {\\n    padding: 4px 17px 4px;\\n    border-radius: 4px;\\n    width: 100%;\\n  }\\n\\n  .ant-divider-horizontal {\\n    margin: 16px 0;\\n  }\\n\\n  .control-label {\\n    font-size: 11px;\\n    font-weight: 500;\\n    color: #b2b2b2;\\n    line-height: 16px;\\n    text-transform: uppercase;\\n    margin: 8px 0;\\n  }\\n\\n  .vertical-radio {\\n    display: block;\\n    height: 40px;\\n    line-height: 40px;\\n  }\\n\\n  .section-title {\\n    font-style: normal;\\n    font-weight: 500;\\n    font-size: 15px;\\n    line-height: 24px;\\n    margin-bottom: 8px;\\n  }\\n\\n  .control-anchor-to {\\n    margin-top: 16px;\\n  }\\n\\n  .control-anchor-to-datetime {\\n    width: 217px;\\n  }\\n\\n  .footer {\\n    text-align: right;\\n  }\\n\"]);return tn=function(){return e},e}function nn(){const e=we()([\"\"]);return nn=function(){return e},e}const rn=e=>ft.has(e)?\"Common\":gt.has(e)?\"Calendar\":\"No filter\"===e?\"No Filter\":zt(e).matchedFlag?\"Custom\":\"Advanced\",an=async(e,t)=>{const n=\"/api/v1/time_range/?q=\"+tt.a.encode(e);try{var r,a,o,i;const e=await De.a.get({endpoint:n}),s=Object(nt.b)((null==e?void 0:null==(r=e.json)?void 0:null==(a=r.result)?void 0:a.since)||\"\",(null==e?void 0:null==(o=e.json)?void 0:null==(i=o.result)?void 0:i.until)||\"\");return{value:Object(nt.c)(s,t)}}catch(e){const t=await Object(Ne.a)(e);return{error:t.message||t.error}}},on=Object(je.c)(S.a)(nn()),sn=je.c.div(tn()),ln=je.c.span(en(),({theme:e})=>2*e.gridUnit,({theme:e})=>e.colors.error.base);var cn=n(3099),un=n(426),dn=n(68),pn=n.n(dn),fn=n(1316),hn=n.n(fn),gn=n(67),bn=n.n(gn),vn=n(66),mn=n.n(vn),yn=n(362),On=n.n(yn),Cn=n(56),xn=n.n(Cn),wn=n(941),jn=n.n(wn),_n=n(348),En=n.n(_n),Sn=n(813),Tn=n(217),Dn=n(326),kn=O.a.shape({aggregate_name:O.a.string.isRequired});const Mn={aggregate:kn,showType:O.a.bool};function Rn({aggregate:e,showType:t}){return Object(M.f)(\"div\",null,t&&Object(M.f)(Dn.a,{type:\"aggregate\"}),Object(M.f)(\"span\",{className:\"m-r-5 option-label\"},e.aggregate_name))}Rn.propTypes=Mn;var Pn=O.a.shape({column_name:O.a.string.isRequired,type:O.a.string}),Nn=O.a.shape({metric_name:O.a.string.isRequired,verbose_name:O.a.string,expression:O.a.string.isRequired});const An={option:O.a.oneOfType([Pn,Nn,kn]).isRequired,addWarningToast:O.a.func.isRequired};function In({option:e,addWarningToast:t}){return e.metric_name?Object(M.f)(Sn.a,{metric:e,showType:!0}):e.column_name?Object(M.f)(Tn.a,{column:e,showType:!0}):e.aggregate_name?Object(M.f)(Rn,{aggregate:e,showType:!0}):(t(\"You must supply either a saved metric, column or aggregate to MetricDefinitionOption\"),null)}In.propTypes=An;var Fn=Object(Ie.a)(In),Ln=n(1317),Bn=n.n(Ln),Un=n(54);const Vn=\"SIMPLE\",Hn=\"SQL\";function qn(e){if(e.sqlExpression&&Un.p.test(e.sqlExpression)){var t,n;const r=pn()(t=e.sqlExpression).call(t,\")\"),a=Bn()(n=e.sqlExpression.substring(0,r)).call(n,\"(\");if(r>0&&a>0)return e.sqlExpression.substring(a+1,r)}return null}function Gn(e){if(e.sqlExpression&&Un.p.test(e.sqlExpression)){var t;const n=pn()(t=e.sqlExpression).call(t,\"(\");if(n>0)return e.sqlExpression.substring(0,n)}return null}class zn{constructor(e){if(this.expressionType=e.expressionType||Vn,this.expressionType===Vn){const t=qn(e);this.column=e.column||t&&{column_name:t},this.aggregate=e.aggregate||Gn(e),this.sqlExpression=null}else this.expressionType===Hn&&(this.sqlExpression=e.sqlExpression,this.column=null,this.aggregate=null);this.isNew=!!e.isNew,this.hasCustomLabel=!(!e.hasCustomLabel||!e.label),this.label=this.hasCustomLabel?e.label:this.getDefaultLabel(),this.optionName=e.optionName||\"metric_\"+Math.random().toString(36).substring(2,15)+\"_\"+Math.random().toString(36).substring(2,15)}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+\"...\"}translateToSql(){if(this.expressionType===Vn){var e;return(this.aggregate||\"\")+((null==(e=this.column)?void 0:e.column_name)?\"(\"+this.column.column_name+\")\":\"\")}return this.expressionType===Hn?this.sqlExpression:\"\"}duplicateWith(e){return new zn(p()({},this,{isNew:!1},e))}equals(e){return e.label===this.label&&e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.aggregate===this.aggregate&&(e.column&&e.column.column_name)===(this.column&&this.column.column_name)}isValid(){return this.expressionType===Vn?!(!this.column||!this.aggregate):this.expressionType===Hn&&!!this.sqlExpression}inferSqlExpressionAggregate(){return Gn(this)}inferSqlExpressionColumn(){return qn(this)}}var Wn=n(12),Yn=n(460);function Xn(){const e=we()([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: \",\"px;\\n  width: \",\"px;\\n  padding: 0;\\n  background-color: \",\";\\n  border: none;\\n  border-radius: 2px;\\n\\n  :disabled {\\n    cursor: not-allowed;\\n    background-color: \",\";\\n  }\\n\"]);return Xn=function(){return e},e}function Qn(){const e=we()([\"\\n  display: flex;\\n  align-items: center;\\n  width: 100%;\\n  height: \",\"px;\\n  padding-left: \",\"px;\\n  font-size: \",\"px;\\n  color: \",\";\\n  border: dashed 1px \",\";\\n  border-radius: 3px;\\n  cursor: pointer;\\n\\n  :hover {\\n    background-color: \",\";\\n  }\\n\\n  :active {\\n    background-color: \",\";\\n  }\\n\"]);return Qn=function(){return e},e}function Kn(){const e=we()([\"\\n  padding: \",\"px;\\n  border: solid 1px \",\";\\n  border-radius: 3px;\\n\"]);return Kn=function(){return e},e}function Zn(){const e=we()([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n\"]);return Zn=function(){return e},e}function $n(){const e=we()([\"\\n  height: 100%;\\n  width: \",\"px;\\n  border-right: solid 1px \",\"0C;\\n  cursor: pointer;\\n\"]);return $n=function(){return e},e}function Jn(){const e=we()([\"\\n  height: 100%;\\n  border-left: solid 1px \",\"0C;\\n  margin-left: auto;\\n\"]);return Jn=function(){return e},e}function er(){const e=we()([\"\\n  display: inline-block;\\n  max-width: 100%;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  align-items: center;\\n  white-space: nowrap;\\n  padding-left: \",\"px;\\n  svg {\\n    margin-right: \",\"px;\\n  }\\n  .option-label {\\n    display: inline;\\n  }\\n\"]);return er=function(){return e},e}function tr(){const e=we()([\"\\n  display: flex;\\n  align-items: center;\\n  width: 100%;\\n  font-size: \",\"px;\\n  height: \",\"px;\\n  background-color: \",\";\\n  border-radius: 3px;\\n  cursor: \",\";\\n\"]);return tr=function(){return e},e}function nr(){const e=we()([\"\\n  margin-bottom: \",\"px;\\n  :last-child {\\n    margin-bottom: 0;\\n  }\\n\"]);return nr=function(){return e},e}const rr=je.c.div(nr(),({theme:e})=>e.gridUnit),ar=je.c.div(tr(),({theme:e})=>e.typography.sizes.s,({theme:e})=>6*e.gridUnit,({theme:e})=>e.colors.grayscale.light3,({isAdhoc:e})=>e?\"pointer\":\"default\"),or=je.c.div(er(),({theme:e})=>e.gridUnit,({theme:e})=>e.gridUnit),ir=je.c.div(Jn(),({theme:e})=>e.colors.grayscale.dark2),sr=je.c.div($n(),({theme:e})=>6*e.gridUnit,({theme:e})=>e.colors.grayscale.dark2),lr=je.c.div(Zn()),cr=je.c.div(Kn(),({theme:e})=>e.gridUnit,({theme:e})=>e.colors.grayscale.light2),ur=je.c.div(Qn(),({theme:e})=>6*e.gridUnit,({theme:e})=>e.gridUnit,({theme:e})=>e.typography.sizes.s,({theme:e})=>e.colors.grayscale.light1,({theme:e})=>e.colors.grayscale.light2,({theme:e})=>e.colors.grayscale.light4,({theme:e})=>e.colors.grayscale.light3),dr=je.c.button(Xn(),({theme:e})=>4*e.gridUnit,({theme:e})=>4*e.gridUnit,({theme:e})=>e.colors.primary.dark1,({theme:e})=>e.colors.grayscale.light1),pr={beginDrag:({index:e,type:t})=>({index:e,type:t})},fr={hover(e,t,n){var r;const{index:a,type:o}=t.getItem(),{index:i,type:s}=e;if(a===i||o!==s)return;const l=null==(r=Object(Wn.findDOMNode)(n))?void 0:r.getBoundingClientRect(),c=(l.bottom-l.top)/2,u=t.getClientOffset().y-l.top;a<i&&u<c||a>i&&u>c||(null==e.onMoveLabel||e.onMoveLabel(a,i),t.getItem().index=i)},drop:e=>null==e.onDropLabel?void 0:e.onDropLabel()},hr=Object(Yn.DropTarget)(\"label-dnd\",fr,e=>({connectDropTarget:e.dropTarget()}))(Object(Yn.DragSource)(\"label-dnd\",pr,e=>({connectDragSource:e.dragSource(),isDraggable:!0}))(e=>{let{label:t,savedMetric:n,onRemove:r,isAdhoc:o,isFunction:i,isDraggable:s,connectDragSource:l,connectDropTarget:c}=e,u=K()(e,[\"label\",\"savedMetric\",\"onRemove\",\"isAdhoc\",\"isFunction\",\"isDraggable\",\"connectDragSource\",\"connectDropTarget\"]);const d=Object(je.e)(),f=()=>Object(M.f)(ar,a()({isAdhoc:o},u),Object(M.f)(sr,{role:\"button\",onClick:r},Object(M.f)(Se.a,{name:\"x-small\",color:d.colors.grayscale.light1})),Object(M.f)(or,null,i&&Object(M.f)(Se.a,{name:\"function\",viewBox:\"0 0 16 11\"}),(()=>{if(null==n?void 0:n.metric_name){const e=p()({},n,{column_name:\"\"});return e.verbose_name||(e.verbose_name=e.metric_name),Object(M.f)(Tn.a,{column:e})}return t})()),o&&Object(M.f)(ir,null,Object(M.f)(Se.a,{name:\"caret-right\",color:d.colors.grayscale.light1})));return Object(M.f)(rr,null,s?l(c(Object(M.f)(\"div\",null,f()))):f())}));hr.displayName=\"DraggableOptionControlLabel\";const gr={title:O.a.shape({label:O.a.string,hasCustomLabel:O.a.bool}),onChange:O.a.func.isRequired};class br extends l.a.Component{constructor(e){var t,n,r,a,o;super(e),this.onMouseOver=i()(t=this.onMouseOver).call(t,this),this.onMouseOut=i()(n=this.onMouseOut).call(n,this),this.onClick=i()(r=this.onClick).call(r,this),this.onBlur=i()(a=this.onBlur).call(a,this),this.onInputBlur=i()(o=this.onInputBlur).call(o,this),this.state={isHovered:!1,isEditable:!1}}onMouseOver(){this.setState({isHovered:!0})}onMouseOut(){this.setState({isHovered:!1})}onClick(){this.setState({isEditable:!0})}onBlur(){this.setState({isEditable:!1})}onInputBlur(e){\"\"===e.target.value&&this.props.onChange(e),this.onBlur()}render(){const{title:e,onChange:t}=this.props;return this.state.isEditable?Object(M.f)(G.a,{className:\"metric-edit-popover-label-input\",type:\"text\",placeholder:e.label,value:e.hasCustomLabel?e.label:\"\",autoFocus:!0,onChange:t,onBlur:this.onInputBlur}):Object(M.f)(Ee.a,{placement:\"top\",title:\"Click to edit label\"},Object(M.f)(\"span\",{className:\"AdhocMetricEditPopoverTitle inline-editable\",onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick,onBlur:this.onBlur,role:\"button\",tabIndex:0},e.hasCustomLabel?e.label:\"My Metric\",\" \",Object(M.f)(\"i\",{className:\"fa fa-pencil\",style:{color:this.state.isHovered?\"black\":\"grey\"}})))}}br.propTypes=gr;var vr=n(155),mr=n.n(vr),yr=n(131),Or=n(195),Cr=n(128),xr=n(213),wr=n(461);function jr(){const e=we()([\"\\n  .option-label {\\n    display: inline;\\n  }\\n\"]);return jr=function(){return e},e}function _r(){const e=we()([\"\\n  margin-left: \",\"px;\\n\"]);return _r=function(){return e},e}const Er={adhocMetric:O.a.instanceOf(zn).isRequired,onChange:O.a.func.isRequired,onClose:O.a.func.isRequired,onResize:O.a.func.isRequired,columns:O.a.arrayOf(Pn),savedMetrics:O.a.arrayOf(Nn),savedMetric:Nn,datasourceType:O.a.string,title:O.a.shape({label:O.a.string,hasCustomLabel:O.a.bool})},Sr=je.c.i(_r(),({theme:e})=>2*e.gridUnit),Tr=je.c.span(jr());class Dr extends l.a.Component{constructor(e){var t,n,r,a,o,s,l,c,u,d,p;super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onResetStateAndClose=i()(n=this.onResetStateAndClose).call(n,this),this.onColumnChange=i()(r=this.onColumnChange).call(r,this),this.onAggregateChange=i()(a=this.onAggregateChange).call(a,this),this.onSavedMetricChange=i()(o=this.onSavedMetricChange).call(o,this),this.onSqlExpressionChange=i()(s=this.onSqlExpressionChange).call(s,this),this.onDragDown=i()(l=this.onDragDown).call(l,this),this.onMouseMove=i()(c=this.onMouseMove).call(c,this),this.onMouseUp=i()(u=this.onMouseUp).call(u,this),this.handleAceEditorRef=i()(d=this.handleAceEditorRef).call(d,this),this.refreshAceEditor=i()(p=this.refreshAceEditor).call(p,this),this.state={adhocMetric:this.props.adhocMetric,savedMetric:this.props.savedMetric,width:320,height:240},document.addEventListener(\"mouseup\",this.onMouseUp)}componentWillUnmount(){document.removeEventListener(\"mouseup\",this.onMouseUp),document.removeEventListener(\"mousemove\",this.onMouseMove)}onSave(){var e;const{title:t}=this.props,{hasCustomLabel:n}=t;let{label:r}=t;const{adhocMetric:a,savedMetric:o}=this.state,i=a.label;n||(r=i);const s=(null==o?void 0:o.metric_name)?o:a,l=(null==(e=this.props.savedMetric)?void 0:e.metric_name)?this.props.savedMetric:this.props.adhocMetric;this.props.onChange(p()({},s,{label:r,hasCustomLabel:n}),l),this.props.onClose()}onResetStateAndClose(){this.setState({adhocMetric:this.props.adhocMetric,savedMetric:this.props.savedMetric},this.props.onClose)}onColumnChange(e){var t;const n=mn()(t=this.props.columns).call(t,t=>t.id===e);this.setState(e=>({adhocMetric:e.adhocMetric.duplicateWith({column:n,expressionType:Vn}),savedMetric:void 0}))}onAggregateChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({aggregate:e,expressionType:Vn}),savedMetric:void 0}))}onSavedMetricChange(e){var t;const n=mn()(t=this.props.savedMetrics).call(t,t=>t.id===e);this.setState(e=>({savedMetric:n,adhocMetric:e.adhocMetric.duplicateWith({column:void 0,aggregate:void 0,sqlExpression:void 0,expressionType:Vn})}))}onSqlExpressionChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({sqlExpression:e,expressionType:Hn}),savedMetric:void 0}))}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener(\"mousemove\",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),320),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),240)})}onMouseUp(){document.removeEventListener(\"mousemove\",this.onMouseMove)}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}refreshAceEditor(){mr()(()=>{this.aceEditorRef&&this.aceEditorRef.editor.resize()},0)}renderColumnOption(e){const t=p()({},e);return t.metric_name&&!t.verbose_name&&(t.verbose_name=t.metric_name),Object(M.f)(Tr,null,Object(M.f)(Tn.a,{column:t,showType:!0}))}render(){var e;const t=this.props,{adhocMetric:n,savedMetric:r,columns:o,savedMetrics:i}=t,s=K()(t,[\"adhocMetric\",\"savedMetric\",\"columns\",\"savedMetrics\",\"onChange\",\"onClose\",\"onResize\",\"datasourceType\"]),{adhocMetric:l,savedMetric:c}=this.state,d=$()(wr.a).call(wr.a,h()(o).call(o,e=>({name:e.column_name,value:e.column_name,score:50,meta:\"column\"}))),p=l.column&&l.column.column_name||l.inferSqlExpressionColumn(),f={placeholder:Object(j.e)(\"%s column(s)\",o.length),value:p,onChange:this.onColumnChange,allowClear:!0,showSearch:!0,autoFocus:!p,filterOption:(e,t)=>{var n;return pn()(n=t.filterBy.toLowerCase()).call(n,e.toLowerCase())>=0}},g={placeholder:Object(j.e)(\"%s aggregates(s)\",Un.b.length),value:l.aggregate||l.inferSqlExpressionAggregate(),onChange:this.onAggregateChange,allowClear:!0,autoFocus:!!p,showSearch:!0},b={placeholder:Object(j.e)(\"%s saved metric(s)\",null!=(e=null==i?void 0:i.length)?e:0),value:(null==c?void 0:c.verbose_name)||(null==c?void 0:c.metric_name),onChange:this.onSavedMetricChange,allowClear:!0,showSearch:!0,autoFocus:!0,filterOption:(e,t)=>{var n;return pn()(n=t.filterBy.toLowerCase()).call(n,e.toLowerCase())>=0}};var v;\"druid\"===this.props.datasourceType&&(g.options=u()(v=g.options).call(v,e=>\"AVG\"!==e));const m=l.isValid()||(null==c?void 0:c.metric_name),y=!l.equals(n)||!(void 0===(null==c?void 0:c.metric_name)&&void 0===(null==r?void 0:r.metric_name))&&(null==c?void 0:c.metric_name)!==(null==r?void 0:r.metric_name);return Object(M.f)(\"div\",a()({id:\"metrics-edit-popover\"},s),Object(M.f)(yr.c,{id:\"adhoc-metric-edit-tabs\",defaultActiveKey:r.metric_name?\"SAVED\":l.expressionType,className:\"adhoc-metric-edit-tabs\",style:{height:this.state.height,width:this.state.width},onChange:this.refreshAceEditor,allowOverflow:!0},Object(M.f)(yr.c.TabPane,{key:Vn,tab:Object(j.e)(\"Simple\")},Object(M.f)(V.a,null,Object(M.f)(Cr.a,null,Object(M.f)(\"strong\",null,Object(j.e)(\"column\"))),Object(M.f)(Or.b,a()({name:\"select-column\"},f),h()(o).call(o,e=>Object(M.f)(Or.b.Option,{value:e.id,filterBy:e.verbose_name||e.column_name,key:e.id},this.renderColumnOption(e))))),Object(M.f)(V.a,null,Object(M.f)(Cr.a,null,Object(M.f)(\"strong\",null,Object(j.e)(\"aggregate\"))),Object(M.f)(Or.b,a()({name:\"select-aggregate\"},g),h()(Un.b).call(Un.b,e=>Object(M.f)(Or.b.Option,{value:e,key:e},e))))),Object(M.f)(yr.c.TabPane,{key:\"SAVED\",tab:Object(j.e)(\"Saved\")},Object(M.f)(V.a,null,Object(M.f)(Cr.a,null,Object(M.f)(\"strong\",null,Object(j.e)(\"Saved metric\"))),Object(M.f)(Or.b,a()({name:\"select-saved\"},b),xn()(i)&&h()(i).call(i,e=>Object(M.f)(Or.b.Option,{value:e.id,filterBy:e.verbose_name||e.metric_name,key:e.id},this.renderColumnOption(e)))))),Object(M.f)(yr.c.TabPane,{key:Hn,tab:Object(j.e)(\"Custom SQL\")},\"druid\"!==this.props.datasourceType?Object(M.f)(V.a,null,Object(M.f)(xr.f,{showLoadingForImport:!0,ref:this.handleAceEditorRef,keywords:d,height:this.state.height-80+\"px\",onChange:this.onSqlExpressionChange,width:\"100%\",showGutter:!1,value:l.sqlExpression||l.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:\"adhoc-filter-sql-editor\",wrapEnabled:!0})):Object(M.f)(\"div\",{className:\"custom-sql-disabled-message\"},\"Custom SQL Metrics are not available on druid datasources\"))),Object(M.f)(\"div\",null,Object(M.f)(Re.a,{buttonSize:\"small\",onClick:this.onResetStateAndClose,cta:!0},Object(j.e)(\"Close\")),Object(M.f)(Re.a,{disabled:!m,buttonStyle:y&&m?\"primary\":\"default\",buttonSize:\"small\",onClick:this.onSave,cta:!0},Object(j.e)(\"Save\")),Object(M.f)(Sr,{role:\"button\",\"aria-label\":\"Resize\",tabIndex:0,onMouseDown:this.onDragDown,className:\"fa fa-expand edit-popover-resize text-muted\"})))}}Dr.propTypes=Er,Dr.defaultProps={columns:[]};class kr extends l.a.PureComponent{constructor(e){var t,n,r,a;super(e),this.onPopoverResize=i()(t=this.onPopoverResize).call(t,this),this.onLabelChange=i()(n=this.onLabelChange).call(n,this),this.closePopover=i()(r=this.closePopover).call(r,this),this.togglePopover=i()(a=this.togglePopover).call(a,this),this.state={popoverVisible:!1,title:{label:e.adhocMetric.label,hasCustomLabel:e.adhocMetric.hasCustomLabel},labelModified:!1}}onLabelChange(e){const t=e.target.value;this.setState({title:{label:t||this.props.adhocMetric.label,hasCustomLabel:!!t},labelModified:!0})}onPopoverResize(){this.forceUpdate()}closePopover(){this.togglePopover(!1),this.setState({labelModified:!1})}togglePopover(e){this.setState({popoverVisible:e})}render(){const{adhocMetric:e}=this.props,{label:t,hasCustomLabel:n}=e,r=this.state.labelModified?this.state.title:{label:t,hasCustomLabel:n},a=Object(M.f)(Dr,{adhocMetric:e,title:r,columns:this.props.columns,savedMetrics:this.props.savedMetrics,savedMetric:this.props.savedMetric,datasourceType:this.props.datasourceType,onResize:this.onPopoverResize,onClose:this.closePopover,onChange:this.props.onMetricEdit}),o=Object(M.f)(br,{title:r,onChange:this.onLabelChange});return Object(M.f)(S.a,{placement:\"right\",trigger:\"click\",content:a,defaultVisible:this.state.popoverVisible,visible:this.state.popoverVisible,onVisibleChange:this.togglePopover,title:o,destroyTooltipOnHide:this.props.createNew},this.props.children)}}var Mr=kr;const Rr={metric:\"metric\",filter:\"filter\"},Pr={adhocMetric:O.a.instanceOf(zn),onMetricEdit:O.a.func.isRequired,onRemoveMetric:O.a.func,columns:O.a.arrayOf(Pn),savedMetrics:O.a.arrayOf(Nn),savedMetric:Nn,datasourceType:O.a.string,onMoveLabel:O.a.func,onDropLabel:O.a.func,index:O.a.number};class Nr extends l.a.PureComponent{constructor(e){var t;super(e),this.onRemoveMetric=i()(t=this.onRemoveMetric).call(t,this)}onRemoveMetric(e){e.stopPropagation(),this.props.onRemoveMetric()}render(){const{adhocMetric:e,onMetricEdit:t,columns:n,savedMetrics:r,savedMetric:a,datasourceType:o,onMoveLabel:i,onDropLabel:s,index:l}=this.props;return Object(M.f)(Mr,{adhocMetric:e,onMetricEdit:t,columns:n,savedMetrics:r,savedMetric:a,datasourceType:o},Object(M.f)(Ee.a,{placement:\"top\",title:a.expression||e.label},Object(M.f)(hr,{savedMetric:a,label:e.label,onRemove:this.onRemoveMetric,onMoveLabel:i,onDropLabel:s,index:l,type:Rr.metric,isAdhoc:!0,isFunction:!0})))}}var Ar=Nr;Nr.propTypes=Pr;var Ir=O.a.oneOfType([O.a.shape({expressionType:O.a.oneOf([Vn]).isRequired,column:Pn.isRequired,aggregate:O.a.oneOf(m()(Un.a)).isRequired,label:O.a.string.isRequired}),O.a.shape({expressionType:O.a.oneOf([Hn]).isRequired,sqlExpression:O.a.string.isRequired,label:O.a.string.isRequired})]);const Fr={option:O.a.oneOfType([Nn,Ir]).isRequired,index:O.a.number.isRequired,onMetricEdit:O.a.func,onRemoveMetric:O.a.func,onMoveLabel:O.a.func,onDropLabel:O.a.func,columns:O.a.arrayOf(Pn),savedMetrics:O.a.arrayOf(Nn),multi:O.a.bool,datasourceType:O.a.string};function Lr({option:e,onMetricEdit:t,onRemoveMetric:n,columns:r,savedMetrics:a,datasourceType:o,onMoveLabel:i,onDropLabel:s,index:l}){let c;var u;if(e.metric_name?c=e:\"string\"==typeof e&&(u=e,c=mn()(a).call(a,e=>e.metric_name===u)),e instanceof zn||c){var d;const u=e instanceof zn?e:new zn({}),p={onMetricEdit:t,onRemoveMetric:n,columns:r,savedMetrics:a,datasourceType:o,adhocMetric:u,onMoveLabel:i,onDropLabel:s,index:l,savedMetric:null!=(d=c)?d:{}};return Object(M.f)(Ar,p)}return\"string\"==typeof e?Object(M.f)(hr,{label:e,onRemove:n,onMoveLabel:i,onDropLabel:s,type:Rr.metric,index:l,isFunction:!0}):null}Lr.propTypes=Fr;var Br=n(896),Ur=n.n(Br),Vr=Object(Yn.DragDropContext)(Ur.a);const Hr={name:O.a.string.isRequired,onChange:O.a.func,value:O.a.oneOfType([O.a.arrayOf(O.a.oneOfType([O.a.string,Ir])),O.a.oneOfType([O.a.string,Ir])]),columns:O.a.arrayOf(Pn),savedMetrics:O.a.arrayOf(Nn),isLoading:O.a.bool,multi:O.a.bool,clearable:O.a.bool,datasourceType:O.a.string};function qr(e){return e&&!(e instanceof zn)&&e.expressionType}function Gr(e){return e?xn()(e)?h()(e).call(e,e=>qr(e)?new zn(e):e):qr(e)?[new zn(e)]:[e]:[]}class zr extends l.a.PureComponent{constructor(e){var t,n,r,a,o,s,l,c,u;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.onMetricEdit=i()(n=this.onMetricEdit).call(n,this),this.onNewMetric=i()(r=this.onNewMetric).call(r,this),this.onRemoveMetric=i()(a=this.onRemoveMetric).call(a,this),this.moveLabel=i()(o=this.moveLabel).call(o,this),this.checkIfAggregateInInput=i()(s=this.checkIfAggregateInInput).call(s,this),this.optionsForSelect=i()(l=this.optionsForSelect).call(l,this),this.selectFilterOption=i()(c=this.selectFilterOption).call(c,this),this.isAutoGeneratedMetric=i()(u=this.isAutoGeneratedMetric).call(u,this),this.optionRenderer=e=>Object(M.f)(Fn,{option:e}),this.valueRenderer=(e,t)=>Object(M.f)(Lr,{key:t,index:t,option:e,onMetricEdit:this.onMetricEdit,onRemoveMetric:()=>this.onRemoveMetric(t),columns:this.props.columns,savedMetrics:this.props.savedMetrics,datasourceType:this.props.datasourceType,onMoveLabel:this.moveLabel,onDropLabel:()=>this.props.onChange(this.state.value)}),this.select=null,this.selectRef=e=>{this.select=e?e.select:null},this.state={aggregateInInput:null,options:this.optionsForSelect(this.props),value:Gr(this.props.value)}}UNSAFE_componentWillReceiveProps(e){const{value:t}=this.props;if(!En()(this.props.columns,e.columns)||!En()(this.props.savedMetrics,e.savedMetrics)){this.setState({options:this.optionsForSelect(e)}),function(e,t){var n,r,a,o,i;const s=new lt.a(h()(n=[...t.columns||[],...t.savedMetrics||[]]).call(n,({column_name:e,metric_name:t})=>e||t));return jn()(r=u()(a=h()(o=u()(i=xn()(e)?e:[e]).call(i,e=>e)).call(o,e=>e.column?e.column.column_name:e.column_name||e)).call(a,e=>e&&\"string\"==typeof e)).call(r,e=>s.has(e))}(t,e)||this.props.onChange([])}t!==e.value&&this.setState({value:Gr(e.value)})}onNewMetric(e){this.setState(t=>p()({},t,{value:[...t.value,e]}),()=>{this.onChange(this.state.value)})}onMetricEdit(e,t){this.setState(n=>{var r;return{value:h()(r=n.value).call(r,n=>n===t.metric_name||n.optionName===t.optionName?e:n)}},()=>{this.onChange(this.state.value)})}onRemoveMetric(e){if(!xn()(this.state.value))return;const t=[...this.state.value];On()(t).call(t,e,1),this.setState(e=>p()({},e,{value:t})),this.props.onChange(t)}onChange(e){var t;if(null===e)return void this.props.onChange(null);let n;n=xn()(e)?e:e?[e]:[];const r=u()(t=h()(n).call(n,e=>e.metric_name?e.metric_name:e)).call(t,e=>e);this.props.onChange(this.props.multi?r:r[0])}moveLabel(e,t){const{value:n}=this.state,r=[...n];[r[t],r[e]]=[r[e],r[t]],this.setState({value:r})}isAddNewMetricDisabled(){return!this.props.multi&&this.state.value.length>0}addNewMetricPopoverTrigger(e){return this.isAddNewMetricDisabled()?e:Object(M.f)(Mr,{adhocMetric:new zn({}),onMetricEdit:this.onNewMetric,columns:this.props.columns,savedMetrics:this.props.savedMetrics,savedMetric:{},datasourceType:this.props.datasourceType,createNew:!0},e)}checkIfAggregateInInput(e){const t=e.toLowerCase(),n=mn()(Un.b).call(Un.b,e=>Je()(t).call(t,e.toLowerCase()+\"(\"))||null;this.clearedAggregateInInput=this.state.aggregateInInput,this.setState({aggregateInInput:n})}optionsForSelect(e){const{columns:t,savedMetrics:n}=e,r=[...t||[],...t&&t.length?h()(Un.b).call(Un.b,e=>({aggregate_name:e})):[],...n||[]];return bn()(r).call(r,(e,t)=>(t.metric_name?e.push(p()({},t,{optionName:t.metric_name})):t.column_name?e.push(p()({},t,{optionName:\"_col_\"+t.column_name})):t.aggregate_name&&e.push(p()({},t,{optionName:\"_aggregate_\"+t.aggregate_name})),e),[])}isAutoGeneratedMetric(e){return\"druid\"===this.props.datasourceType?Un.n.test(e.verbose_name):Un.o.test(e.metric_name)}selectFilterOption({data:e},t){var n,r;if(this.state.aggregateInInput){var a;let n=t.length;hn()(t).call(t,\")\")&&(n=t.length-1);const r=t.substring(pn()(t).call(t,\"(\")+1,n);return e.column_name&&pn()(a=e.column_name.toLowerCase()).call(a,r)>=0}return e.optionName&&(!e.metric_name||!this.isAutoGeneratedMetric(e)||e.verbose_name)&&(pn()(n=e.optionName.toLowerCase()).call(n,t)>=0||e.verbose_name&&pn()(r=e.verbose_name.toLowerCase()).call(r,t)>=0)}render(){var e;const{theme:t}=this.props;return Object(M.f)(\"div\",{className:\"metrics-select\"},Object(M.f)(lr,null,Object(M.f)(z.a,this.props),this.addNewMetricPopoverTrigger(Object(M.f)(dr,{disabled:this.isAddNewMetricDisabled()},Object(M.f)(Se.a,{name:\"plus-large\",width:3*t.gridUnit,height:3*t.gridUnit,color:t.colors.grayscale.light5})))),Object(M.f)(cr,null,this.state.value.length>0?h()(e=this.state.value).call(e,(e,t)=>this.valueRenderer(e,t)):this.addNewMetricPopoverTrigger(Object(M.f)(ur,null,Object(M.f)(Se.a,{name:\"plus-small\",color:t.colors.grayscale.light1}),Object(j.e)(\"Add metric\")))))}}zr.propTypes=Hr,zr.defaultProps={onChange:()=>{},clearable:!0,savedMetrics:[],columns:[]};var Wr=Vr(Object(_.c)(zr)),Yr=n(442);const Xr=\"fix\",Qr=\"metric\",Kr={onChange:O.a.func,value:O.a.object,isFloat:O.a.bool,datasource:O.a.object.isRequired,default:O.a.shape({type:O.a.oneOf([\"fix\",\"metric\"]),value:O.a.oneOfType([O.a.string,O.a.number])})},Zr={onChange:()=>{},default:{type:Xr,value:5}};class $r extends l.a.Component{constructor(e){var t,n,r,a,o;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.setType=i()(n=this.setType).call(n,this),this.setFixedValue=i()(r=this.setFixedValue).call(r,this),this.setMetric=i()(a=this.setMetric).call(a,this),this.toggle=i()(o=this.toggle).call(o,this);const s=(e.value?e.value.type:e.default.type)||Xr,l=(e.value?e.value.value:e.default.value)||\"100\";this.state={type:s,fixedValue:s===Xr?l:\"\",metricValue:s===Qr?l:null}}onChange(){this.props.onChange({type:this.state.type,value:this.state.type===Xr?this.state.fixedValue:this.state.metricValue})}setType(e){this.setState({type:e},this.onChange)}setFixedValue(e){this.setState({fixedValue:e},this.onChange)}setMetric(e){this.setState({metricValue:e},this.onChange)}toggle(){this.setState(e=>({expanded:!e.expanded}))}render(){const e=(this.props.value||this.props.default).type||Xr,t=this.props.datasource?this.props.datasource.columns:null,n=this.props.datasource?this.props.datasource.metrics:null;return Object(M.f)(\"div\",null,Object(M.f)(z.a,this.props),Object(M.f)(rt.a,{onClick:this.toggle},this.state.type===Xr&&Object(M.f)(\"span\",null,this.state.fixedValue),this.state.type===Qr&&Object(M.f)(\"span\",null,Object(M.f)(\"span\",{style:{fontWeight:\"normal\"}},\"metric: \"),Object(M.f)(\"strong\",null,this.state.metricValue?this.state.metricValue.label:null))),Object(M.f)(cn.a,{className:\"panel-spreaded\",collapsible:!0,expanded:this.state.expanded,onToggle:this.toggle},Object(M.f)(cn.a.Collapse,null,Object(M.f)(cn.a.Body,null,Object(M.f)(\"div\",{className:\"well\"},Object(M.f)(Yr.a,{title:\"Fixed\",isSelected:e===Xr,onSelect:()=>{this.setType(Xr)}},Object(M.f)(un.a,{isFloat:!0,onChange:this.setFixedValue,onFocus:()=>{this.setType(Xr)},value:this.state.fixedValue})),Object(M.f)(Yr.a,{title:\"Based on a metric\",isSelected:e===Qr,onSelect:()=>{this.setType(Qr)}},Object(M.f)(Wr,{name:\"metric\",columns:t,savedMetrics:n,multi:!1,onFocus:()=>{this.setType(Qr)},onChange:this.setMetric,value:this.state.metricValue})))))))}}$r.propTypes=Kr,$r.defaultProps=Zr;const Jr={onChange:O.a.func,value:O.a.oneOfType([O.a.string,O.a.number,O.a.object,O.a.bool,O.a.array,O.a.func])};function ea(e){return Object(M.f)(G.a,{type:\"hidden\",value:e.value})}ea.propTypes=Jr,ea.defaultProps={onChange:()=>{}};var ta=n(1143),na=n(482),ra=n(1254),aa=n.n(ra);n(1363),n(1459);function oa(e){return Object(M.f)(\"span\",{className:\"BootstrapSliderWrapper\"},Object(M.f)(aa.a,e))}const ia={onChange:O.a.func,value:O.a.oneOfType([O.a.string,O.a.number])};function sa(e){return Object(M.f)(\"div\",null,Object(M.f)(z.a,e),Object(M.f)(oa,a()({},e,{change:t=>{e.onChange(t.target.value)}})))}sa.propTypes=ia,sa.defaultProps={onChange:()=>{}};var la=n(1145),ca=n(925);const ua={label:O.a.string,tooltip:O.a.string,colType:O.a.string,width:O.a.string,height:O.a.string,timeLag:O.a.oneOfType([O.a.string,O.a.number]),timeRatio:O.a.string,comparisonType:O.a.string,showYAxis:O.a.bool,yAxisBounds:O.a.array,bounds:O.a.array,d3format:O.a.string,dateFormat:O.a.string,onChange:O.a.func},da={label:Object(j.e)(\"Time Series Columns\"),tooltip:\"\",colType:\"\",width:\"\",height:\"\",timeLag:\"\",timeRatio:\"\",comparisonType:\"\",showYAxis:!1,yAxisBounds:[null,null],bounds:[null,null],d3format:\"\",dateFormat:\"\",onChange:()=>{}},pa=[{value:\"value\",label:\"Actual value\"},{value:\"diff\",label:\"Difference\"},{value:\"perc\",label:\"Percentage\"},{value:\"perc_change\",label:\"Percentage Change\"}],fa=[{value:\"time\",label:\"Time Comparison\"},{value:\"contrib\",label:\"Contribution\"},{value:\"spark\",label:\"Sparkline\"},{value:\"avg\",label:\"Period Average\"}];class ha extends l.a.Component{constructor(e){var t;super(e);const n={label:this.props.label,tooltip:this.props.tooltip,colType:this.props.colType,width:this.props.width,height:this.props.height,timeLag:this.props.timeLag||0,timeRatio:this.props.timeRatio,comparisonType:this.props.comparisonType,showYAxis:this.props.showYAxis,yAxisBounds:this.props.yAxisBounds,bounds:this.props.bounds,d3format:this.props.d3format,dateFormat:this.props.dateFormat};delete n.onChange,this.state=n,this.onChange=i()(t=this.onChange).call(t,this)}onChange(){this.props.onChange(this.state)}onSelectChange(e,t){this.setState({[e]:t.value},this.onChange)}onTextInputChange(e,t){this.setState({[e]:t.target.value},this.onChange)}onCheckboxChange(e,t){this.setState({[e]:t},this.onChange)}onBoundsChange(e){this.setState({bounds:e},this.onChange)}onYAxisBoundsChange(e){this.setState({yAxisBounds:e},this.onChange)}setType(){}textSummary(){return\"\"+this.state.label}edit(){}formRow(e,t,n,r){return Object(M.f)(H.a,{style:{marginTop:\"5px\"}},Object(M.f)(q.a,{md:5},e+\" \",Object(M.f)(E.a,{placement:\"top\",tooltip:t,label:n})),Object(M.f)(q.a,{md:7},r))}renderPopover(){var e,t,n,r,a,o,s,l,c,u,d,p,f,h,g;return Object(M.f)(\"div\",{id:\"ts-col-popo\",style:{width:300}},this.formRow(\"Label\",\"The column header label\",\"time-lag\",Object(M.f)(G.a,{value:this.state.label,onChange:i()(e=this.onTextInputChange).call(e,this,\"label\"),bsSize:\"small\",placeholder:\"Label\"})),this.formRow(\"Tooltip\",\"Column header tooltip\",\"col-tooltip\",Object(M.f)(G.a,{value:this.state.tooltip,onChange:i()(t=this.onTextInputChange).call(t,this,\"tooltip\"),bsSize:\"small\",placeholder:\"Tooltip\"})),this.formRow(\"Type\",\"Type of comparison, value difference or percentage\",\"col-type\",Object(M.f)(at.g,{value:this.state.colType,clearable:!1,onChange:i()(n=this.onSelectChange).call(n,this,\"colType\"),options:fa})),Object(M.f)(\"hr\",null),\"spark\"===this.state.colType&&this.formRow(\"Width\",\"Width of the sparkline\",\"spark-width\",Object(M.f)(G.a,{value:this.state.width,onChange:i()(r=this.onTextInputChange).call(r,this,\"width\"),bsSize:\"small\",placeholder:\"Width\"})),\"spark\"===this.state.colType&&this.formRow(\"Height\",\"Height of the sparkline\",\"spark-width\",Object(M.f)(G.a,{value:this.state.height,onChange:i()(a=this.onTextInputChange).call(a,this,\"height\"),bsSize:\"small\",placeholder:\"height\"})),pn()(o=[\"time\",\"avg\"]).call(o,this.state.colType)>=0&&this.formRow(\"Time Lag\",\"Number of periods to compare against\",\"time-lag\",Object(M.f)(G.a,{value:this.state.timeLag,onChange:i()(s=this.onTextInputChange).call(s,this,\"timeLag\"),bsSize:\"small\",placeholder:\"Time Lag\"})),pn()(l=[\"spark\"]).call(l,this.state.colType)>=0&&this.formRow(\"Time Ratio\",\"Number of periods to ratio against\",\"time-ratio\",Object(M.f)(G.a,{value:this.state.timeRatio,onChange:i()(c=this.onTextInputChange).call(c,this,\"timeRatio\"),bsSize:\"small\",placeholder:\"Time Ratio\"})),\"time\"===this.state.colType&&this.formRow(\"Type\",\"Type of comparison, value difference or percentage\",\"comp-type\",Object(M.f)(at.g,{value:this.state.comparisonType,clearable:!1,onChange:i()(u=this.onSelectChange).call(u,this,\"comparisonType\"),options:pa})),\"spark\"===this.state.colType&&this.formRow(\"Show Y-axis\",\"Show Y-axis on the sparkline. Will display the manually set min/max if set or min/max values in the data otherwise.\",\"show-y-axis-bounds\",Object(M.f)(X.a,{value:this.state.showYAxis,onChange:i()(d=this.onCheckboxChange).call(d,this,\"showYAxis\")})),\"spark\"===this.state.colType&&this.formRow(\"Y-axis bounds\",\"Manually set min/max values for the y-axis.\",\"y-axis-bounds\",Object(M.f)(Y,{value:this.state.yAxisBounds,onChange:i()(p=this.onYAxisBoundsChange).call(p,this)})),\"spark\"!==this.state.colType&&this.formRow(\"Color bounds\",\"Number bounds used for color encoding from red to blue.\\n              Reverse the numbers for blue to red. To get pure red or blue,\\n              you can enter either only min or max.\",\"bounds\",Object(M.f)(Y,{value:this.state.bounds,onChange:i()(f=this.onBoundsChange).call(f,this)})),this.formRow(\"Number format\",\"Optional d3 number format string\",\"d3-format\",Object(M.f)(G.a,{value:this.state.d3format,onChange:i()(h=this.onTextInputChange).call(h,this,\"d3format\"),bsSize:\"small\",placeholder:\"Number format string\"})),\"spark\"===this.state.colType&&this.formRow(\"Date format\",\"Optional d3 date format string\",\"date-format\",Object(M.f)(G.a,{value:this.state.dateFormat,onChange:i()(g=this.onTextInputChange).call(g,this,\"dateFormat\"),bsSize:\"small\",placeholder:\"Date format string\"})))}render(){var e;return Object(M.f)(\"span\",null,this.textSummary(),\" \",Object(M.f)(S.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(),title:\"Column Configuration\"},Object(M.f)(E.a,{icon:\"edit\",className:\"text-primary\",onClick:i()(e=this.edit).call(e,this),label:\"edit-ts-column\"})))}}ha.propTypes=ua,ha.defaultProps=da;var ga=n(1059);const ba=[\"longitude\",\"latitude\",\"zoom\",\"bearing\",\"pitch\"],va={onChange:O.a.func,value:O.a.shape({longitude:O.a.number,latitude:O.a.number,zoom:O.a.number,bearing:O.a.number,pitch:O.a.number}),default:O.a.object,name:O.a.string.isRequired},ma={onChange:()=>{},default:{type:\"fix\",value:5},value:{longitude:6.85236157047845,latitude:31.222656842808707,zoom:1,bearing:0,pitch:0}};class ya extends l.a.Component{constructor(e){var t;super(e),this.onChange=i()(t=this.onChange).call(t,this)}onChange(e,t){this.props.onChange(p()({},this.props.value,{[e]:t}))}renderTextControl(e){var t;return Object(M.f)(\"div\",{key:e},Object(M.f)(Cr.a,null,e),Object(M.f)(un.a,{value:this.props.value[e],onChange:i()(t=this.onChange).call(t,this,e),isFloat:!0}))}renderPopover(){return Object(M.f)(\"div\",{id:\"filter-popover-\"+this.props.name},h()(ba).call(ba,e=>this.renderTextControl(e)))}renderLabel(){return this.props.value.longitude&&this.props.value.latitude?Object(ga.decimal2sexagesimal)(this.props.value.longitude)+\" | \"+Object(ga.decimal2sexagesimal)(this.props.value.latitude):\"N/A\"}render(){return Object(M.f)(\"div\",null,Object(M.f)(z.a,this.props),Object(M.f)(S.a,{container:document.body,trigger:\"click\",placement:\"right\",content:this.renderPopover(),title:\"Viewport\"},Object(M.f)(rt.a,{className:\"pointer\"},this.renderLabel())))}}ya.propTypes=va,ya.defaultProps=ma;var Oa=n(932),Ca=n(277),xa=n.n(Ca),wa=n(269),ja=n.n(wa),_a=n(166);const Ea=\"SIMPLE\",Sa=\"SQL\",Ta={HAVING:\"HAVING\",WHERE:\"WHERE\"},Da={\"==\":\"=\",\"!=\":\"<>\",\">\":\">\",\"<\":\"<\",\">=\":\">=\",\"<=\":\"<=\",IN:\"IN\",\"NOT IN\":\"NOT IN\",LIKE:\"LIKE\",REGEX:\"REGEX\",\"IS NOT NULL\":\"IS NOT NULL\",\"IS NULL\":\"IS NULL\",\"LATEST PARTITION\":({datasource:e})=>\"= '{{ presto.latest_partition('\"+e.schema+\".\"+e.datasource_name+\"') }}'\"};function ka(e,{useSimple:t}={}){if(e.expressionType===Ea||t){const{subject:t,comparator:n}=e,r=e.operator&&Un.c.has(e.operator)?Da[e.operator](e):Da[e.operator];return Object(D.j)(t,r,n)}return e.expressionType===Sa?e.sqlExpression:\"\"}class Ma{constructor(e){var t;(this.expressionType=e.expressionType||Ea,this.expressionType===Ea)?(this.subject=e.subject,this.operator=null==(t=e.operator)?void 0:t.toUpperCase(),this.comparator=e.comparator,this.clause=e.clause||Ta.WHERE,this.sqlExpression=null):this.expressionType===Sa&&(this.sqlExpression=\"string\"==typeof e.sqlExpression?e.sqlExpression:ka(e,{useSimple:!0}),this.clause=e.clause,e.operator&&Un.c.has(e.operator)?(this.subject=e.subject,this.operator=e.operator):(this.subject=null,this.operator=null),this.comparator=null);this.isExtra=!!e.isExtra,this.isNew=!!e.isNew,this.filterOptionName=e.filterOptionName||\"filter_\"+Math.random().toString(36).substring(2,15)+\"_\"+Math.random().toString(36).substring(2,15)}duplicateWith(e){return new Ma(p()({},this,{isNew:!1},e))}equals(e){return e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.operator===this.operator&&e.comparator===this.comparator&&e.subject===this.subject}isValid(){if(this.expressionType===Ea){if(\"IS NOT NULL\"===this.operator||\"IS NULL\"===this.operator)return!(!this.operator||!this.subject);if(this.operator&&this.subject&&this.clause)if(xn()(this.comparator)){if(this.comparator.length>0)return!0}else if(null!==this.comparator)return!0}else if(this.expressionType===Sa)return!(!this.sqlExpression||!this.clause);return!1}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+\"...\"}translateToSql(){return ka(this)}}var Ra=O.a.oneOfType([O.a.shape({expressionType:O.a.oneOf([Ea]).isRequired,clause:O.a.oneOf([Ta.HAVING,Ta.WHERE]).isRequired,subject:O.a.string.isRequired,operator:O.a.oneOf(m()(Un.j)).isRequired,comparator:O.a.oneOfType([O.a.string,O.a.arrayOf(O.a.string)]).isRequired}),O.a.shape({expressionType:O.a.oneOf([Sa]).isRequired,clause:O.a.oneOf([Ta.WHERE,Ta.HAVING]).isRequired,sqlExpression:O.a.string.isRequired})]),Pa=n(252);const Na={adhocMetric:Ir,showType:O.a.bool};function Aa({adhocMetric:e,showType:t=!1}){return Object(M.f)(\"div\",null,t&&Object(M.f)(Dn.a,{type:\"expression\"}),Object(M.f)(\"span\",{className:\"option-label\"},e.label))}Aa.propTypes=Na;const Ia={option:O.a.oneOfType([Pn,O.a.shape({saved_metric_name:O.a.string.isRequired}),Ir]).isRequired};function Fa({option:e}){return e.saved_metric_name?Object(M.f)(\"div\",null,Object(M.f)(Dn.a,{type:\"expression\"}),Object(M.f)(\"span\",{className:\"option-label\"},e.saved_metric_name)):e.column_name?Object(M.f)(Tn.a,{column:e,showType:!0}):e.label?Object(M.f)(Aa,{adhocMetric:e,showType:!0}):void 0}function La(){const e=we()([\"\\n  .ant-select-selector::after {\\n    content: '\",\"';\\n    display: inline-block;\\n    white-space: nowrap;\\n    color: \",\";\\n    width: max-content;\\n  }\\n\"]);return La=function(){return e},e}Fa.propTypes=Ia;const Ba=Object(je.c)(Or.b)(La(),({labelText:e})=>e||\"\\\\A0\",({theme:e})=>e.colors.grayscale.light1),Ua={adhocFilter:O.a.instanceOf(Ma).isRequired,onChange:O.a.func.isRequired,options:O.a.arrayOf(O.a.oneOfType([Pn,O.a.shape({saved_metric_name:O.a.string.isRequired}),Ir])).isRequired,onHeightChange:O.a.func.isRequired,datasource:O.a.object,partitionColumn:O.a.string,popoverRef:O.a.object};class Va extends l.a.Component{constructor(e){var t,n,r,a,o,s;super(e),this.onSubjectChange=i()(t=this.onSubjectChange).call(t,this),this.onOperatorChange=i()(n=this.onOperatorChange).call(n,this),this.onComparatorChange=i()(r=this.onComparatorChange).call(r,this),this.onInputComparatorChange=i()(a=this.onInputComparatorChange).call(a,this),this.isOperatorRelevant=i()(o=this.isOperatorRelevant).call(o,this),this.refreshComparatorSuggestions=i()(s=this.refreshComparatorSuggestions).call(s,this),this.state={suggestions:[],abortActiveRequest:null},this.selectProps={name:\"select-column\",showSearch:!0}}UNSAFE_componentWillMount(){this.refreshComparatorSuggestions()}componentDidUpdate(e){e.adhocFilter.subject!==this.props.adhocFilter.subject&&this.refreshComparatorSuggestions()}onSubjectChange(e){var t;const n=mn()(t=this.props.options).call(t,t=>t.id===e||t.optionName===e);let r,a;n&&n.column_name?(r=n.column_name,a=Ta.WHERE):n&&(n.saved_metric_name||n.label)&&(r=n.saved_metric_name||n.label,a=Ta.HAVING);const{operator:o}=this.props.adhocFilter;this.props.onChange(this.props.adhocFilter.duplicateWith({subject:r,clause:a,operator:o&&this.isOperatorRelevant(o,r)?o:null,expressionType:Ea}))}onOperatorChange(e){const t=this.props.adhocFilter.comparator;let n;var r;Un.i.has(e)?n=xn()(t)?t:u()(r=[t]).call(r,e=>e):n=xn()(t)?t[0]:t;e&&Un.c.has(e)?this.props.onChange(this.props.adhocFilter.duplicateWith({subject:this.props.adhocFilter.subject,clause:Ta.WHERE,operator:e,expressionType:Sa,datasource:this.props.datasource})):this.props.onChange(this.props.adhocFilter.duplicateWith({operator:e,comparator:n,expressionType:Ea}))}onInputComparatorChange(e){this.onComparatorChange(e.target.value)}onComparatorChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({comparator:e,expressionType:Ea}))}refreshComparatorSuggestions(){const{datasource:e}=this.props,t=this.props.adhocFilter.subject,n=this.props.adhocFilter.clause===Ta.HAVING;if(t&&e&&e.filter_select&&!n){this.state.abortActiveRequest&&this.state.abortActiveRequest();const n=new AbortController,{signal:r}=n;this.setState({abortActiveRequest:n.abort,loading:!0}),De.a.get({signal:r,endpoint:\"/superset/filter/\"+e.type+\"/\"+e.id+\"/\"+t+\"/\"}).then(({json:e})=>{this.setState(()=>({suggestions:e,abortActiveRequest:null,loading:!1}))}).catch(()=>{this.setState(()=>({suggestions:[],abortActiveRequest:null,loading:!1}))})}}isOperatorRelevant(e,t){if(e&&Un.c.has(e)){const{partitionColumn:e}=this.props;return e&&t&&t===e}return!(\"druid\"===this.props.datasource.type&&pn()(Un.l).call(Un.l,e)>=0||\"table\"===this.props.datasource.type&&pn()(Un.e).call(Un.e,e)>=0||this.props.adhocFilter.clause===Ta.HAVING&&-1===pn()(Un.h).call(Un.h,e))}focusComparator(e,t){e&&t&&e.focus()}optionsRemaining(){var e;const{suggestions:t}=this.state,{comparator:n}=this.props.adhocFilter,r=xn()(n)?u()(n).call(n,e=>b()(t).call(t,e)).length:0;return null!=(e=(null==t?void 0:t.length)-r)?e:0}createSuggestionsPlaceholder(){const e=this.optionsRemaining(),t=Object(j.e)(\"%s option(s)\",e);return e?t:\"\"}renderSubjectOptionLabel(e){return Object(M.f)(Fa,{option:e})}render(){var e,t;const{adhocFilter:n,options:r,datasource:o}=this.props;let i=r;const{subject:s,operator:c,comparator:d}=n,p={value:null!=s?s:void 0,onChange:this.onSubjectChange,notFoundContent:Object(j.e)(\"No such column found. To filter on a metric, try the Custom SQL tab.\"),filterOption:(e,t)=>{var n;return pn()(n=t.filterBy.toLowerCase()).call(n,e.toLowerCase())>=0},autoFocus:!s};\"druid\"===o.type?p.placeholder=Object(j.e)(\"%s column(s) and metric(s)\",i.length):(p.placeholder=n.clause===Ta.WHERE?Object(j.e)(\"%s column(s)\",i.length):Object(j.e)(\"To filter on a metric, use Custom SQL tab.\"),i=u()(r).call(r,e=>e.column_name));const f={placeholder:Object(j.e)(\"%s operators(s)\",Un.k.length),value:c,onChange:this.onOperatorChange,filterOption:(e,t)=>{var n;return pn()(n=t.value.toLowerCase()).call(n,e.toLowerCase())>=0},autoFocus:!!p.value&&!c},g=!!p.value&&!!f.value,v={allowClear:!0,showSearch:!0,mode:Un.i.has(c)&&\"tags\",tokenSeparators:[\",\",\" \",\";\"],loading:this.state.loading,value:d,onChange:this.onComparatorChange,notFoundContent:Object(j.e)(\"type a value here\"),disabled:b()(Un.d).call(Un.d,c),placeholder:this.createSuggestionsPlaceholder(),labelText:(null==d?void 0:d.length)>0&&this.createSuggestionsPlaceholder(),autoFocus:g};return Object(M.f)(l.a.Fragment,null,Object(M.f)(V.a,{className:\"adhoc-filter-simple-column-dropdown\"},Object(M.f)(Or.b,a()({},this.selectProps,p,{name:\"filter-column\"}),h()(i).call(i,e=>Object(M.f)(Or.b.Option,{value:e.id||e.optionName,filterBy:e.saved_metric_name||e.column_name||e.label,key:e.id||e.optionName},this.renderSubjectOptionLabel(e))))),Object(M.f)(V.a,null,Object(M.f)(Or.b,a()({},this.selectProps,f,{name:\"filter-operator\"}),h()(e=u()(Un.k).call(Un.k,e=>this.isOperatorRelevant(e,s))).call(e,e=>Object(M.f)(Or.b.Option,{value:e,key:e},function(e){return e===Un.j[\"==\"]?\"equals\":e===Un.j[\"!=\"]?\"not equal to\":e===Un.j.LIKE?\"LIKE\":e===Un.j[\"LATEST PARTITION\"]?\"use latest_partition template\":e}(e))))),Object(M.f)(V.a,null,Un.i.has(c)||this.state.suggestions.length>0?Object(M.f)(Ba,a()({name:\"filter-value\"},v),h()(t=this.state.suggestions).call(t,e=>Object(M.f)(Or.b.Option,{value:e,key:e},e))):Object(M.f)(_e.m,{name:\"filter-value\",ref:e=>this.focusComparator(e,g),onChange:this.onInputComparatorChange,value:d,placeholder:Object(j.e)(\"Filter value (case sensitive)\"),disabled:b()(Un.d).call(Un.d,c)})))}}Va.propTypes=Ua,Va.defaultProps={datasource:{}};const Ha={adhocFilter:O.a.instanceOf(Ma).isRequired,onChange:O.a.func.isRequired,options:O.a.arrayOf(O.a.oneOfType([Pn,O.a.shape({saved_metric_name:O.a.string.isRequired}),Ir])).isRequired,height:O.a.number.isRequired};class qa extends l.a.Component{constructor(e){var t,n,r;super(e),this.onSqlExpressionChange=i()(t=this.onSqlExpressionChange).call(t,this),this.onSqlExpressionClauseChange=i()(n=this.onSqlExpressionClauseChange).call(n,this),this.handleAceEditorRef=i()(r=this.handleAceEditorRef).call(r,this),this.selectProps={name:\"select-column\"}}componentDidUpdate(){this.aceEditorRef&&this.aceEditorRef.editor.resize()}onSqlExpressionClauseChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({clause:e,expressionType:Sa}))}onSqlExpressionChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({sqlExpression:e,expressionType:Sa}))}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}render(){var e,t;const{adhocFilter:n,height:r,options:o}=this.props,i={placeholder:Object(j.e)(\"choose WHERE or HAVING...\"),value:n.clause,onChange:this.onSqlExpressionClauseChange},s=$()(wr.a).call(wr.a,u()(e=h()(o).call(o,e=>e.column_name?{name:e.column_name,value:e.column_name,score:50,meta:\"option\"}:null)).call(e,Boolean));return Object(M.f)(\"span\",null,Object(M.f)(V.a,{className:\"filter-edit-clause-section\"},Object(M.f)(Or.b,a()({},this.selectProps,i,{className:\"filter-edit-clause-dropdown\"}),h()(t=m()(Ta)).call(t,e=>Object(M.f)(Or.b.Option,{value:e,key:e},e))),Object(M.f)(\"span\",{className:\"filter-edit-clause-info\"},Object(M.f)(\"strong\",null,\"WHERE\"),\" \",Object(j.e)(\"filters by columns\"),Object(M.f)(\"br\",null),Object(M.f)(\"strong\",null,\"HAVING\"),\" \",Object(j.e)(\"filters by metrics\"))),Object(M.f)(V.a,null,Object(M.f)(xr.f,{ref:this.handleAceEditorRef,keywords:s,height:r-130+\"px\",onChange:this.onSqlExpressionChange,width:\"100%\",showGutter:!1,value:n.sqlExpression||n.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:\"adhoc-filter-sql-editor\",wrapEnabled:!0})))}}function Ga(){const e=we()([\"\\n  margin-left: \",\"px;\\n\"]);return Ga=function(){return e},e}qa.propTypes=Ha;const za={adhocFilter:O.a.instanceOf(Ma).isRequired,onChange:O.a.func.isRequired,onClose:O.a.func.isRequired,onResize:O.a.func.isRequired,options:O.a.arrayOf(O.a.oneOfType([Pn,O.a.shape({saved_metric_name:O.a.string.isRequired}),Ir])).isRequired,datasource:O.a.object,partitionColumn:O.a.string,theme:O.a.object},Wa=je.c.i(Ga(),({theme:e})=>2*e.gridUnit);class Ya extends l.a.Component{constructor(e){var t,n,r,a,o,s;super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onDragDown=i()(n=this.onDragDown).call(n,this),this.onMouseMove=i()(r=this.onMouseMove).call(r,this),this.onMouseUp=i()(a=this.onMouseUp).call(a,this),this.onAdhocFilterChange=i()(o=this.onAdhocFilterChange).call(o,this),this.adjustHeight=i()(s=this.adjustHeight).call(s,this),this.state={adhocFilter:this.props.adhocFilter,width:320,height:240},this.popoverContentRef=l.a.createRef()}componentDidMount(){document.addEventListener(\"mouseup\",this.onMouseUp)}componentWillUnmount(){document.removeEventListener(\"mouseup\",this.onMouseUp),document.removeEventListener(\"mousemove\",this.onMouseMove)}onAdhocFilterChange(e){this.setState({adhocFilter:e})}onSave(){this.props.onChange(this.state.adhocFilter),this.props.onClose()}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener(\"mousemove\",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),320),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),240)})}onMouseUp(){document.removeEventListener(\"mousemove\",this.onMouseMove)}adjustHeight(e){this.setState(t=>({height:t.height+e}))}render(){const e=this.props,{adhocFilter:t,options:n,datasource:r,partitionColumn:o}=e,i=K()(e,[\"adhocFilter\",\"options\",\"onChange\",\"onClose\",\"onResize\",\"datasource\",\"partitionColumn\",\"theme\"]),{adhocFilter:s}=this.state,l=s.isValid(),c=!s.equals(t);return Object(M.f)(\"div\",a()({id:\"filter-edit-popover\"},i,{ref:this.popoverContentRef}),Object(M.f)(yr.c,{id:\"adhoc-filter-edit-tabs\",defaultActiveKey:s.expressionType,className:\"adhoc-filter-edit-tabs\",style:{minHeight:this.state.height,width:this.state.width},allowOverflow:!0},Object(M.f)(yr.c.TabPane,{className:\"adhoc-filter-edit-tab\",key:Ea,tab:Object(j.e)(\"Simple\")},Object(M.f)(Pa.a,null,Object(M.f)(Va,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:n,datasource:r,onHeightChange:this.adjustHeight,partitionColumn:o,popoverRef:this.popoverContentRef.current}))),Object(M.f)(yr.c.TabPane,{className:\"adhoc-filter-edit-tab\",key:Sa,tab:Object(j.e)(\"Custom SQL\")},Object(M.f)(Pa.a,null,this.props.datasource&&\"druid\"===this.props.datasource.type?Object(M.f)(\"div\",{className:\"custom-sql-disabled-message\"},\"Custom SQL Filters are not available on druid datasources\"):Object(M.f)(qa,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,height:this.state.height})))),Object(M.f)(\"div\",null,Object(M.f)(Re.a,{buttonSize:\"small\",onClick:this.props.onClose,cta:!0},Object(j.e)(\"Close\")),Object(M.f)(Re.a,{disabled:!l,buttonStyle:c&&l?\"primary\":\"default\",buttonSize:\"small\",className:\"m-r-5\",onClick:this.onSave,cta:!0},Object(j.e)(\"Save\")),Object(M.f)(Wa,{role:\"button\",\"aria-label\":\"Resize\",tabIndex:0,onMouseDown:this.onDragDown,className:\"fa fa-expand edit-popover-resize text-muted\"})))}}Ya.propTypes=za;class Xa extends l.a.PureComponent{constructor(e){var t,n,r;super(e),this.onPopoverResize=i()(t=this.onPopoverResize).call(t,this),this.closePopover=i()(n=this.closePopover).call(n,this),this.togglePopover=i()(r=this.togglePopover).call(r,this),this.state={popoverVisible:!1}}onPopoverResize(){this.forceUpdate()}closePopover(){this.togglePopover(!1)}togglePopover(e){this.setState({popoverVisible:e})}render(){const{adhocFilter:e}=this.props,t=Object(M.f)(Ya,{adhocFilter:e,options:this.props.options,datasource:this.props.datasource,partitionColumn:this.props.partitionColumn,onResize:this.onPopoverResize,onClose:this.closePopover,onChange:this.props.onFilterEdit});return Object(M.f)(l.a.Fragment,null,e.isExtra&&Object(M.f)(E.a,{icon:\"exclamation-triangle\",placement:\"top\",className:\"m-r-5 text-muted\",tooltip:Object(j.e)(\"\\n                This filter was inherited from the dashboard's context.\\n                It won't be saved when saving the chart.\\n              \")}),Object(M.f)(S.a,{placement:\"right\",trigger:\"click\",content:t,defaultVisible:this.state.popoverVisible,visible:this.state.popoverVisible,onVisibleChange:this.togglePopover,destroyTooltipOnHide:this.props.createNew},this.props.children))}}var Qa=Xa;const Ka={adhocFilter:O.a.instanceOf(Ma).isRequired,onFilterEdit:O.a.func.isRequired,onRemoveFilter:O.a.func,options:O.a.arrayOf(O.a.oneOfType([Pn,O.a.shape({saved_metric_name:O.a.string.isRequired}),Ir])).isRequired,datasource:O.a.object,partitionColumn:O.a.string,onMoveLabel:O.a.func,onDropLabel:O.a.func,index:O.a.number},Za=({adhocFilter:e,options:t,datasource:n,onFilterEdit:r,onRemoveFilter:a,partitionColumn:o,onMoveLabel:i,onDropLabel:s,index:l})=>Object(M.f)(Qa,{adhocFilter:e,options:t,datasource:n,onFilterEdit:r,partitionColumn:o},Object(M.f)(hr,{label:e.getDefaultLabel(),onRemove:a,onMoveLabel:i,onDropLabel:s,index:l,type:u()(Rr),isAdhoc:!0}));var $a=Za;Za.propTypes=Ka;const Ja={name:O.a.string,onChange:O.a.func,value:O.a.arrayOf(Ra),datasource:O.a.object,columns:O.a.arrayOf(Pn),savedMetrics:O.a.arrayOf(Nn),formData:O.a.shape({metric:O.a.oneOfType([O.a.string,Ir]),metrics:O.a.arrayOf(O.a.oneOfType([O.a.string,Ir]))}),isLoading:O.a.bool};function eo(e){return e&&!(e instanceof Ma)&&e.expressionType}class to extends l.a.Component{constructor(e){var t,n,r,a,o,s,l,c,u;super(e),this.optionsForSelect=i()(t=this.optionsForSelect).call(t,this),this.onRemoveFilter=i()(n=this.onRemoveFilter).call(n,this),this.onNewFilter=i()(r=this.onNewFilter).call(r,this),this.onFilterEdit=i()(a=this.onFilterEdit).call(a,this),this.moveLabel=i()(o=this.moveLabel).call(o,this),this.onChange=i()(s=this.onChange).call(s,this),this.mapOption=i()(l=this.mapOption).call(l,this),this.getMetricExpression=i()(c=this.getMetricExpression).call(c,this);const d=h()(u=this.props.value||[]).call(u,e=>eo(e)?new Ma(e):e);this.optionRenderer=e=>Object(M.f)(Fa,{option:e}),this.valueRenderer=(e,t)=>Object(M.f)($a,{key:t,index:t,adhocFilter:e,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource,onRemoveFilter:()=>this.onRemoveFilter(t),onMoveLabel:this.moveLabel,onDropLabel:()=>this.props.onChange(ja()(this.state))}),this.state={values:d,options:this.optionsForSelect(this.props)}}componentDidMount(){const{datasource:e}=this.props;if(e&&\"table\"===e.type){var t;const n=null==(t=e.database)?void 0:t.id,{datasource_name:r,schema:a,is_sqllab_view:o}=e;!o&&n&&r&&a&&De.a.get({endpoint:\"/superset/extra_table_metadata/\"+n+\"/\"+r+\"/\"+a+\"/\"}).then(({json:e})=>{if(e&&e.partitions){const{partitions:t}=e;if(t&&t.cols&&1===m()(t.cols).length){const e=t.cols[0];this.valueRenderer=(t,n)=>Object(M.f)($a,{adhocFilter:t,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource,partitionColumn:e,onRemoveFilter:()=>this.onRemoveFilter(n),key:n})}}}).catch(e=>{_a.a.error(\"fetch extra_table_metadata:\",e.statusText)})}}UNSAFE_componentWillReceiveProps(e){var t;(this.props.columns===e.columns&&this.props.formData===e.formData||this.setState({options:this.optionsForSelect(e)}),this.props.value!==e.value)&&this.setState({values:h()(t=e.value||[]).call(t,e=>eo(e)?new Ma(e):e)})}onRemoveFilter(e){const t=[...ja()(this.state)];On()(t).call(t,e,1),this.setState(e=>p()({},e,{values:t})),this.props.onChange(t)}onNewFilter(e){const t=this.mapOption(e);t&&this.setState(e=>p()({},e,{values:[...ja()(e),t]}),()=>{this.props.onChange(ja()(this.state))})}onFilterEdit(e){var t;this.props.onChange(h()(t=ja()(this.state)).call(t,t=>t.filterOptionName===e.filterOptionName?e:t))}onChange(e){var t,n;const r=u()(t=h()(n=e||[]).call(n,e=>this.mapOption(e))).call(t,e=>e);this.props.onChange(r)}getMetricExpression(e){var t;return mn()(t=this.props.savedMetrics).call(t,t=>t.metric_name===e).expression}moveLabel(e,t){const{values:n}=this.state,r=[...n];[r[t],r[e]]=[r[e],r[t]],this.setState({values:r})}mapOption(e){return e instanceof Ma?e:e.saved_metric_name?new Ma({expressionType:\"druid\"===this.props.datasource.type?Ea:Sa,subject:\"druid\"===this.props.datasource.type?e.saved_metric_name:this.getMetricExpression(e.saved_metric_name),operator:Un.j[\">\"],comparator:0,clause:Ta.HAVING}):e.label?new Ma({expressionType:\"druid\"===this.props.datasource.type?Ea:Sa,subject:\"druid\"===this.props.datasource.type?e.label:new zn(e).translateToSql(),operator:Un.j[\">\"],comparator:0,clause:Ta.HAVING}):e.column_name?new Ma({expressionType:Ea,subject:e.column_name,operator:Un.j[\"==\"],comparator:\"\",clause:Ta.WHERE,isNew:!0}):null}optionsForSelect(e){var t,n,r;const a=u()(t=[...e.columns,...h()(n=[...e.formData.metrics||[],e.formData.metric]).call(n,e=>e&&(\"string\"==typeof e?{saved_metric_name:e}:new zn(e)))]).call(t,e=>e);return xa()(r=bn()(a).call(a,(e,t)=>(t.saved_metric_name?e.push(p()({},t,{filterOptionName:t.saved_metric_name})):t.column_name?e.push(p()({},t,{filterOptionName:\"_col_\"+t.column_name})):t instanceof zn&&e.push(p()({},t,{filterOptionName:\"_adhocmetric_\"+t.label})),e),[])).call(r,(e,t)=>(e.saved_metric_name||e.column_name||e.label).localeCompare(t.saved_metric_name||t.column_name||t.label))}addNewFilterPopoverTrigger(e){return Object(M.f)(Qa,{adhocFilter:new Ma({}),datasource:this.props.datasource,options:this.state.options,onFilterEdit:this.onNewFilter,createNew:!0},e)}render(){var e;const{theme:t}=this.props;return Object(M.f)(\"div\",{className:\"metrics-select\"},Object(M.f)(lr,null,Object(M.f)(z.a,this.props),this.addNewFilterPopoverTrigger(Object(M.f)(dr,null,Object(M.f)(Se.a,{name:\"plus-large\",width:3*t.gridUnit,height:3*t.gridUnit,color:t.colors.grayscale.light5})))),Object(M.f)(cr,null,ja()(this.state).length>0?h()(e=ja()(this.state)).call(e,(e,t)=>this.valueRenderer(e,t)):this.addNewFilterPopoverTrigger(Object(M.f)(ur,null,Object(M.f)(Se.a,{name:\"plus-small\",color:t.colors.grayscale.light1}),Object(j.e)(\"Add filter\")))))}}to.propTypes=Ja,to.defaultProps={name:\"\",onChange:()=>{},columns:[],savedMetrics:[],formData:{}};var no=Vr(Object(_.c)(to));const ro={marginTop:\"5px\",minHeight:\"30px\"},ao={textAlign:\"right\"},oo={label:O.a.string.isRequired,tooltip:O.a.string,control:O.a.node.isRequired,isCheckbox:O.a.bool};function io({label:e,tooltip:t,control:n,isCheckbox:r}){const a=Object(M.f)(\"span\",null,e,\" \",t&&Object(M.f)(E.a,{placement:\"top\",label:e,tooltip:t}));return r?Object(M.f)(H.a,{style:ro},Object(M.f)(q.a,{md:4,style:ao},n),Object(M.f)(q.a,{md:8},a)):Object(M.f)(H.a,{style:ro},Object(M.f)(q.a,{md:4,style:ao},a),Object(M.f)(q.a,{md:8},n))}io.propTypes=oo,io.defaultProps={tooltip:null,isCheckbox:!1};const so=new lt.a([\"TINYINT\",\"SMALLINT\",\"INT\",\"INTEGER\",\"BIGINT\",\"LONG\"]),lo=new lt.a([\"FLOAT\",\"DOUBLE\",\"REAL\",\"NUMERIC\",\"DECIMAL\",\"MONEY\"]),co={datasource:O.a.object.isRequired,onChange:O.a.func,asc:O.a.bool,clearable:O.a.bool,multiple:O.a.bool,column:O.a.string,label:O.a.string,metric:O.a.string,searchAllOptions:O.a.bool,defaultValue:O.a.string},uo={width:350};class po extends l.a.Component{constructor(e){var t,n;super(e);const{column:r,metric:a,asc:o,clearable:s,multiple:l,searchAllOptions:c,label:u,defaultValue:d}=e;this.state={column:r,metric:a,label:u,asc:o,clearable:s,multiple:l,searchAllOptions:c,defaultValue:d},this.onChange=i()(t=this.onChange).call(t,this),this.onControlChange=i()(n=this.onControlChange).call(n,this)}onChange(){this.props.onChange(this.state)}onControlChange(e,t){let n=t;const{column:r,multiple:a}=this.state;if(t&&!a&&e===Un.f.DEFAULT_VALUE){var o;const{datasource:e}=this.props,a=mn()(o=e.columns).call(o,e=>e.column_name===r);if(a&&a.type){const e=a.type.toUpperCase();\"BOOLEAN\"===e?n=\"true\"===t:so.has(e)?n=U()(Number(t))?null:St()(t,10):lo.has(e)&&(n=U()(Number(t))?null:L()(t))}}this.setState({[e]:n},this.onChange)}setType(){}textSummary(){return this.state.column||\"N/A\"}renderForm(){var e,t,n,r,a,o;return Object(M.f)(\"div\",null,Object(M.f)(io,{label:Object(j.e)(\"Column\"),control:Object(M.f)(na.a,{value:this.state.column,name:\"column\",clearable:!1,options:$()(e=h()(t=u()(n=this.props.datasource.columns).call(n,e=>e!==this.state.column)).call(t,e=>({value:e.column_name,label:e.column_name}))).call(e,[{value:this.state.column,label:this.state.column}]),onChange:e=>this.onControlChange(\"column\",e)})}),Object(M.f)(io,{label:Object(j.e)(\"Label\"),control:Object(M.f)(un.a,{value:this.state.label,name:\"label\",onChange:e=>this.onControlChange(\"label\",e)})}),Object(M.f)(io,{label:Object(j.e)(\"Default\"),tooltip:Object(j.e)(\"(optional) default value for the filter, when using the multiple option, you can use a semicolon-delimited list of options.\"),control:Object(M.f)(un.a,{value:this.state.defaultValue,name:\"defaultValue\",onChange:e=>this.onControlChange(Un.f.DEFAULT_VALUE,e)})}),Object(M.f)(io,{label:Object(j.e)(\"Sort Metric\"),tooltip:Object(j.e)(\"Metric to sort the results by\"),control:Object(M.f)(na.a,{value:this.state.metric,name:\"column\",options:$()(r=h()(a=u()(o=this.props.datasource.metrics).call(o,e=>e!==this.state.metric)).call(a,e=>({value:e.metric_name,label:e.metric_name}))).call(r,[{value:this.state.metric,label:this.state.metric}]),onChange:e=>this.onControlChange(\"metric\",e)})}),Object(M.f)(io,{label:Object(j.e)(\"Sort Ascending\"),tooltip:Object(j.e)(\"Check for sorting ascending\"),isCheckbox:!0,control:Object(M.f)(X.a,{value:this.state.asc,onChange:e=>this.onControlChange(\"asc\",e)})}),Object(M.f)(io,{label:Object(j.e)(\"Allow Multiple Selections\"),isCheckbox:!0,tooltip:Object(j.e)(\"Multiple selections allowed, otherwise filter is limited to a single value\"),control:Object(M.f)(X.a,{value:this.state.multiple,onChange:e=>this.onControlChange(Un.f.MULTIPLE,e)})}),Object(M.f)(io,{label:Object(j.e)(\"Search All Filter Options\"),tooltip:Object(j.e)(\"By default, each filter loads at most 1000 choices at the initial page load. Check this box if you have more than 1000 filter values and want to enable dynamically searching that loads filter values as users type (may add stress to your database).\"),isCheckbox:!0,control:Object(M.f)(X.a,{value:this.state.searchAllOptions,onChange:e=>this.onControlChange(Un.f.SEARCH_ALL_OPTIONS,e)})}),Object(M.f)(io,{label:Object(j.e)(\"Required\"),tooltip:Object(j.e)(\"User must select a value for this filter\"),isCheckbox:!0,control:Object(M.f)(X.a,{value:!this.state.clearable,onChange:e=>this.onControlChange(\"clearable\",!e)})}))}renderPopover(){return Object(M.f)(\"div\",{id:\"ts-col-popo\",style:uo},this.renderForm())}render(){return Object(M.f)(\"span\",null,this.textSummary(),\" \",Object(M.f)(S.a,{trigger:\"click\",placement:\"right\",content:this.renderPopover(),title:Object(j.e)(\"Filter Configuration\")},Object(M.f)(E.a,{icon:\"edit\",className:\"text-primary\",label:\"edit-ts-column\"})))}}po.propTypes=co,po.defaultProps={onChange:()=>{},asc:!0,clearable:!0,multiple:!0,searchAllOptions:!1};var fo={AnnotationLayerControl:I,BoundsControl:Y,CheckboxControl:X.a,CollectionControl:se,ColorMapControl:fe,ColorPickerControl:ye,ColorSchemeControl:Ce.a,DatasourceControl:Ze,DateFilterControl:function(e){const{value:t=\"Last week\",endpoints:n,onChange:r}=e,[a,o]=Object(s.useState)(t),[i,c]=Object(s.useState)(!1),[d,p]=Object(s.useState)(rn(t)),[f,h]=Object(s.useState)(t),[g,b]=Object(s.useState)(!1),[v,m]=Object(s.useState)(t),[y,O]=Object(s.useState)(t);function C(){p(rn(t)),h(t),c(!1)}Object(s.useEffect)(()=>{an(t,n).then(({value:e,error:n})=>{if(n)m(n||\"\"),b(!1),O(t||\"\");else{const n=t.toLowerCase();Je()(n).call(n,\"last\")||Je()(n).call(n,\"next\")||Je()(n).call(n,\"previous\")?(o(t),O(e||\"\")):(o(e||\"\"),O(t||\"\")),b(!0)}})},[t]),Object(s.useEffect)(()=>{an(f,n).then(({value:e,error:t})=>{t?(m(t||\"\"),b(!1)):(m(e||\"\"),b(!0))})},[f]);const x=Object(M.f)(sn,null,Object(M.f)(\"div\",{className:\"control-label\"},Object(j.e)(\"RANGE TYPE\")),Object(M.f)(at.f,{options:dt,value:u()(dt).call(dt,({value:e})=>e===d),onChange:function(e){\"No Filter\"===e.value&&h(\"No filter\"),p(e.value)},className:\"frame-dropdown\"}),\"No Filter\"!==d&&Object(M.f)(_e.i,null),\"Common\"===d&&Object(M.f)(Yt,{value:f,onChange:h}),\"Calendar\"===d&&Object(M.f)(Xt,{value:f,onChange:h}),\"Advanced\"===d&&Object(M.f)(Jt,{value:f,onChange:h}),\"Custom\"===d&&Object(M.f)($t,{value:f,onChange:h}),\"No Filter\"===d&&Object(M.f)(\"div\",null),Object(M.f)(_e.i,null),Object(M.f)(\"div\",null,Object(M.f)(\"div\",{className:\"section-title\"},Object(j.e)(\"Actual Time Range\")),g&&Object(M.f)(\"div\",null,v),!g&&Object(M.f)(ln,{className:\"warning\"},Object(M.f)(Se.a,{name:\"error-solid-small\",color:je.d.colors.error.base}),Object(M.f)(\"span\",{className:\"text error\"},v))),Object(M.f)(_e.i,null),Object(M.f)(\"div\",{className:\"footer\"},Object(M.f)(Re.a,{buttonStyle:\"secondary\",cta:!0,key:\"cancel\",onClick:C},Object(j.e)(\"CANCEL\")),Object(M.f)(Re.a,{buttonStyle:\"primary\",cta:!0,disabled:!g,key:\"apply\",onClick:function(){r(f),c(!1)}},Object(j.e)(\"APPLY\")))),w=Object(M.f)(ln,null,Object(M.f)(Se.a,{name:\"edit-alt\"}),Object(M.f)(\"span\",{className:\"text\"},Object(j.e)(\"Edit Time Range\")));return Object(M.f)(l.a.Fragment,null,Object(M.f)(z.a,e),Object(M.f)(on,{placement:\"right\",trigger:\"click\",content:x,title:w,defaultVisible:i,visible:i,onVisibleChange:()=>{i?C():c(!0)},overlayStyle:{width:\"600px\"}},Object(M.f)(Ee.a,{placement:\"top\",title:y},Object(M.f)(rt.a,{className:\"pointer\",onClick:()=>c(!0)},a))))},FixedOrMetricControl:$r,HiddenControl:ea,SelectAsyncControl:ta.a,SelectControl:na.a,SliderControl:sa,SpatialControl:la.a,TextAreaControl:ca.a,TextControl:un.a,TimeSeriesColumnControl:ha,ViewportControl:ya,VizTypeControl:Oa.a,MetricsControl:Wr,AdhocFilterControl:no,FilterBoxItemControl:po};n(1460);class ho extends l.a.PureComponent{constructor(e){var t,n,r;super(e),this.state={hovered:!1},this.onChange=i()(t=this.onChange).call(t,this),this.onMouseEnter=i()(n=this.setHover).call(n,this,!0),this.onMouseLeave=i()(r=this.setHover).call(r,this,!1)}onChange(e,t){this.props.actions.setControlValue(this.props.name,e,t)}setHover(e){this.setState({hovered:e})}render(){const{type:e,hidden:t}=this.props;if(!e)return null;const n=\"string\"==typeof e?fo[e]:e;return Object(M.f)(\"div\",{className:\"Control\",style:t?{display:\"none\"}:void 0,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Object(M.f)(n,a()({onChange:this.onChange,hovered:this.state.hovered},this.props)))}}},96:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=c(n(1371)),a=c(n(1372)),o=c(n(1373)),i=c(n(1374)),s=c(n(1375)),l=c(n(1376));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=i.default,t.handleHover=i.default,t.handleActive=s.default,t.loop=l.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=(0,r.default)(n),l=(0,a.default)(e,s);return(0,o.default)(l)};t.default=u}}]);","extractedComments":["/*! geolib 2.0.23 by Manuel Bieh\n* Library to provide geo functions like distance calculation,\n* conversion of decimal coordinates to sexagesimal and vice versa, etc.\n* WGS 84 (World Geodetic System 1984)\n* \n* @author Manuel Bieh\n* @url http://www.manuelbieh.com/\n* @version 2.0.23\n* @license MIT \n**/"]}