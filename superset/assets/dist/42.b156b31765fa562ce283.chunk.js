(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{3042:function(t,r,n){},3091:function(t,r,n){"use strict";n.r(r);var e=n(1),a=n.n(e),o=n(0),i=n.n(o),c=function(t,r){var n,e;if(void 0===r){var a=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;null!=l&&(void 0===n?l>=l&&(n=e=l):(n>l&&(n=l),e<l&&(e=l)))}}catch(t){o=!0,i=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}}else{var s=-1,f=!0,h=!1,p=void 0;try{for(var m,d=t[Symbol.iterator]();!(f=(m=d.next()).done);f=!0){var v=m.value;null!=(v=r(v,++s,t))&&(void 0===n?v>=v&&(n=e=v):(n>v&&(n=v),e<v&&(e=v)))}}catch(t){h=!0,p=t}finally{try{f||null==d.return||d.return()}finally{if(h)throw p}}}return[n,e]};n(69);function u(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t)}return this}Symbol("implicit");var l=Math.sqrt(50),s=Math.sqrt(10),f=Math.sqrt(2),h=function(t,r,n){var e,a,o,i,c=-1;if(n=+n,(t=+t)===(r=+r)&&n>0)return[t];if((e=r<t)&&(a=t,t=r,r=a),0===(i=p(t,r,n))||!isFinite(i))return[];if(i>0)for(t=Math.ceil(t/i),r=Math.floor(r/i),o=new Array(a=Math.ceil(r-t+1));++c<a;)o[c]=(t+c)*i;else for(t=Math.floor(t*i),r=Math.ceil(r*i),o=new Array(a=Math.ceil(t-r+1));++c<a;)o[c]=(t-c)/i;return e&&o.reverse(),o};function p(t,r,n){var e=(r-t)/Math.max(0,n),a=Math.floor(Math.log(e)/Math.LN10),o=e/Math.pow(10,a);return a>=0?(o>=l?10:o>=s?5:o>=f?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=l?10:o>=s?5:o>=f?2:1)}function m(t,r,n){var e=Math.abs(r-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),o=e/a;return o>=l?a*=10:o>=s?a*=5:o>=f&&(a*=2),r<t?-a:a}var d=function(t,r){return t<r?-1:t>r?1:t>=r?0:NaN},v=function(t){var r;return 1===t.length&&(r=t,t=function(t,n){return d(r(t),n)}),{left:function(r,n,e,a){for(null==e&&(e=0),null==a&&(a=r.length);e<a;){var o=e+a>>>1;t(r[o],n)<0?e=o+1:a=o}return e},right:function(r,n,e,a){for(null==e&&(e=0),null==a&&(a=r.length);e<a;){var o=e+a>>>1;t(r[o],n)>0?a=o:e=o+1}return e}}};var y=v(d),g=y.right,M=(y.left,g),b=n(169),w=function(t){return function(){return t}},N=function(t){return+t},O=[0,1];function k(t){return t}function S(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:w(isNaN(r)?NaN:.5)}function j(t){var r,n=t[0],e=t[t.length-1];return n>e&&(r=n,n=e,e=r),function(t){return Math.max(n,Math.min(e,t))}}function x(t,r,n){var e=t[0],a=t[1],o=r[0],i=r[1];return a<e?(e=S(a,e),o=n(i,o)):(e=S(e,a),o=n(o,i)),function(t){return o(e(t))}}function _(t,r,n){var e=Math.min(t.length,r.length)-1,a=new Array(e),o=new Array(e),i=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++i<e;)a[i]=S(t[i],t[i+1]),o[i]=n(r[i],r[i+1]);return function(r){var n=M(t,r,1,e)-1;return o[n](a[n](r))}}function A(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function X(){var t,r,n,e,a,o,i=O,c=O,u=b.a,l=k;function s(){return e=Math.min(i.length,c.length)>2?_:x,a=o=null,f}function f(r){return isNaN(r=+r)?n:(a||(a=e(i.map(t),c,u)))(t(l(r)))}return f.invert=function(n){return l(r((o||(o=e(c,i.map(t),b.c)))(n)))},f.domain=function(t){return arguments.length?(i=Array.from(t,N),l===k||(l=j(i)),s()):i.slice()},f.range=function(t){return arguments.length?(c=Array.from(t),s()):c.slice()},f.rangeRound=function(t){return c=Array.from(t),u=b.d,s()},f.clamp=function(t){return arguments.length?(l=t?j(i):k,f):l!==k},f.interpolate=function(t){return arguments.length?(u=t,s()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,e){return t=n,r=e,s()}}function C(t,r){return X()(t,r)}var D=n(50),E=function(t,r,n,e){var a,o=m(t,r,n);switch((e=Object(D.d)(null==e?",f":e)).type){case"s":var i=Math.max(Math.abs(t),Math.abs(r));return null!=e.precision||isNaN(a=Object(D.f)(o,i))||(e.precision=a),Object(D.c)(e,i);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(a=Object(D.g)(o,Math.max(Math.abs(t),Math.abs(r))))||(e.precision=a-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(a=Object(D.e)(o))||(e.precision=a-2*("%"===e.type))}return Object(D.a)(e)};function R(t){var r=t.domain;return t.ticks=function(t){var n=r();return h(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var e=r();return E(e[0],e[e.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var e,a=r(),o=0,i=a.length-1,c=a[o],u=a[i];return u<c&&(e=c,c=u,u=e,e=o,o=i,i=e),(e=p(c,u,n))>0?e=p(c=Math.floor(c/e)*e,u=Math.ceil(u/e)*e,n):e<0&&(e=p(c=Math.ceil(c*e)/e,u=Math.floor(u*e)/e,n)),e>0?(a[o]=Math.floor(c/e)*e,a[i]=Math.ceil(u/e)*e,r(a)):e<0&&(a[o]=Math.ceil(c*e)/e,a[i]=Math.floor(u*e)/e,r(a)),t},t}n(14),n(223);function q(){return(q=Object.assign||function(t){for(var r,n=1;n<arguments.length;n++)for(var e in r=arguments[n])Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}).apply(this,arguments)}var P=["#313695","#4575b4","#74add1","#abd9e9","#fee090","#fdae61","#f46d43","#d73027"],H={className:i.a.string,width:i.a.number,height:i.a.number,data:i.a.arrayOf(i.a.shape({y:i.a.number})).isRequired,bands:i.a.number,colors:i.a.arrayOf(i.a.string),colorScale:i.a.string,mode:i.a.string,offsetX:i.a.number,title:i.a.string,yDomain:i.a.arrayOf(i.a.number)},T={className:"",width:800,height:20,bands:P.length>>1,colors:P,colorScale:"series",mode:"offset",offsetX:0,title:"",yDomain:void 0},z=function(t){function r(){return t.apply(this,arguments)||this}!function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}(r,t);var n=r.prototype;return n.componentDidMount=function(){this.drawChart()},n.componentDidUpdate=function(){this.drawChart()},n.componentWillUnmount=function(){this.canvas=null},n.drawChart=function(){if(this.canvas){var t=this.props,r=t.data,n=t.yDomain,e=t.width,a=t.height,o=t.bands,i=t.colors,l=t.colorScale,s=t.offsetX,f=t.mode,h="change"===l?r.map(function(t){return q({},t,{y:t.y-r[0].y})}):r,p=this.canvas.getContext("2d");p.imageSmoothingEnabled=!1,p.clearRect(0,0,e,a),p.setTransform(1,0,0,1,0,0),p.translate(.5,.5);var m=e/h.length,d=Math.floor(Math.max(0,-s/m)),v=Math.floor(Math.min(h.length,d+e/m));if(d>h.length)return;for(var y,g,M=n||c(h,function(t){return t.y}),b=M[0],w=M[1],N=function t(){var r=C(k,k);return r.copy=function(){return A(r,t())},u.apply(r,arguments),R(r)}().domain([0,Math.max(-b,w)]).range([0,a]),O=!1,S=0;S<o;S+=1){p.fillStyle=i[o+S],g=(S+1-o)*a,N.range([o*a+g,g]);for(var j=d;j<v;j++)0>=(y=h[j].y)?O=!0:void 0!==y&&p.fillRect(s+j*m,N(y),m+1,N(0)-N(y))}if(O){"offset"===f&&(p.translate(0,a),p.scale(1,-1));for(var x=0;x<o;x++){p.fillStyle=i[o-x-1],g=(x+1-o)*a,N.range([o*a+g,g]);for(var _=d;_<v;_++)!(0<=(y=h[_].y))&&p.fillRect(s+_*m,N(-y),m+1,N(0)-N(-y))}}}},n.render=function(){var t=this,r=this.props,n=r.className,e=r.title,o=r.width,i=r.height;return a.a.createElement("div",{className:"horizon-row "+n},a.a.createElement("span",{className:"title"},e),a.a.createElement("canvas",{width:o,height:i,ref:function(r){t.canvas=r}}))},r}(a.a.PureComponent);z.propTypes=H,z.defaultProps=T;var F=z;n(3042);var J={className:i.a.string,width:i.a.number,seriesHeight:i.a.number,data:i.a.arrayOf(i.a.shape({key:i.a.arrayOf(i.a.string),values:i.a.arrayOf(i.a.shape({y:i.a.number}))})).isRequired,bands:i.a.number,colors:i.a.arrayOf(i.a.string),colorScale:i.a.string,mode:i.a.string,offsetX:i.a.number},L={className:"",width:800,seriesHeight:20,bands:Math.floor(P.length/2),colors:P,colorScale:"series",mode:"offset",offsetX:0},U=function(t){function r(){return t.apply(this,arguments)||this}return function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}(r,t),r.prototype.render=function(){var t,r=this.props,n=r.className,e=r.width,o=r.data,i=r.seriesHeight,u=r.bands,l=r.colors,s=r.colorScale,f=r.mode,h=r.offsetX;if("overall"===s){var p=o.reduce(function(t,r){return t.concat(r.values)},[]);t=c(p,function(t){return t.y})}return a.a.createElement("div",{className:"superset-legacy-chart-horizon "+n},o.map(function(r){return a.a.createElement(F,{key:r.key,width:e,height:i,title:r.key.join(", "),data:r.values,bands:u,colors:l,colorScale:s,mode:f,offsetX:h,yDomain:t})}))},r}(a.a.PureComponent);U.propTypes=J,U.defaultProps=L;r.default=U}}]);