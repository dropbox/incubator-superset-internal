{"version":3,"file":"eebc4df9b567ec2657cd.chunk.js","mappings":"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","sources":["webpack://superset/./node_modules/d3-cloud/index.js","webpack://superset/./node_modules/d3-dispatch/src/dispatch.js","webpack://superset/./node_modules/reselect/es/index.js","webpack://superset/./packages/superset-ui-core/src/utils/random.ts","webpack://superset/./node_modules/encodable/esm/typeGuards/ChannelDef.js","webpack://superset/./node_modules/encodable/esm/typeGuards/Base.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/extent.js","webpack://superset/./node_modules/encodable/esm/types/scale/ScaleType.js","webpack://superset/./node_modules/encodable/esm/typeGuards/Channel.js","webpack://superset/./node_modules/encodable/esm/utils/keys.js","webpack://superset/./node_modules/encodable/esm/parsers/dateTimeToTimestamp.js","webpack://superset/./node_modules/encodable/esm/parsers/parseDateTime.js","webpack://superset/./node_modules/encodable/esm/typeGuards/DateTime.js","webpack://superset/./node_modules/encodable/esm/parsers/format/fallbackFormatter.js","webpack://superset/./node_modules/encodable/esm/parsers/format/createFormatter.js","webpack://superset/./node_modules/encodable/esm/encoders/ChannelEncoderAxis.js","webpack://superset/./node_modules/encodable/esm/utils/isEnabled.js","webpack://superset/./node_modules/encodable/esm/utils/isDisabled.js","webpack://superset/./node_modules/encodable/esm/fillers/expandLabelOverlapStrategy.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/scaleCategories.js","webpack://superset/./node_modules/encodable/esm/fillers/inferScaleType.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/isPropertySupportedByScaleType.js","webpack://superset/./node_modules/encodable/esm/typeGuards/ScaleConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/inferFieldType.js","webpack://superset/./node_modules/encodable/esm/fillers/completeChannelDef.js","webpack://superset/./node_modules/encodable/esm/fillers/completeScaleConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/completeFormatConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/completeAxisConfig.js","webpack://superset/./node_modules/encodable/esm/fillers/completeLegendConfig.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/ticks.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/ascending.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/bisector.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/number.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/bisect.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/basis.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/constant.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/color.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/rgb.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/array.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/date.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/number.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/object.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/basisClosed.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/string.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/numberArray.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/value.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/round.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/number.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/continuous.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/constant.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/init.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/linear.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/tickFormat.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/nice.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/log.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/pow.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/duration.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/interval.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/millisecond.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/second.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/minute.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/hour.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/day.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/week.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/month.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/year.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcMinute.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcHour.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcDay.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcWeek.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcMonth.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/utcYear.js","webpack://superset/./node_modules/encodable/node_modules/d3-time/src/ticks.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/time.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/quantile.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/quantile.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/quantize.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/threshold.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/ordinal.js","webpack://superset/./node_modules/encodable/node_modules/d3-array/src/range.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/band.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/symlog.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/createScaleFromScaleType.js","webpack://superset/./node_modules/encodable/node_modules/d3-scale/src/utcTime.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyNice.js","webpack://superset/./node_modules/encodable/esm/typeGuards/Scale.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyZero.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/hcl.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/hsl.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/cubehelix.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/createColorInterpolator.js","webpack://superset/./node_modules/encodable/node_modules/d3-interpolate/src/lab.js","webpack://superset/./node_modules/encodable/esm/parsers/domain/parseContinuousDomain.js","webpack://superset/./node_modules/encodable/esm/parsers/domain/parseDiscreteDomain.js","webpack://superset/./node_modules/encodable/esm/utils/removeUndefinedAndNull.js","webpack://superset/./node_modules/encodable/esm/parsers/parseDateTimeIn.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyDomain.js","webpack://superset/./node_modules/encodable/esm/utils/combineContinuousDomains.js","webpack://superset/./node_modules/encodable/esm/utils/combineCategories.js","webpack://superset/./node_modules/encodable/esm/typeGuards/SchemeParams.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyRange.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/updateScale.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyAlign.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyBase.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyClamp.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyExponent.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyInterpolate.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyPadding.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/applyRound.js","webpack://superset/./node_modules/encodable/esm/utils/identity.js","webpack://superset/./node_modules/encodable/esm/typeGuards/CompleteChannelDef.js","webpack://superset/./node_modules/encodable/esm/encoders/ChannelEncoder.js","webpack://superset/./node_modules/encodable/esm/parsers/createGetterFromChannelDef.js","webpack://superset/./node_modules/encodable/esm/parsers/scale/createScale.js","webpack://superset/./node_modules/encodable/esm/encoders/Encoder.js","webpack://superset/./plugins/plugin-chart-word-cloud/src/chart/WordCloud.tsx","webpack://superset/./node_modules/encodable/esm/encoders/createEncoderFactory.js","webpack://superset/./node_modules/encodable/esm/utils/mergeEncoding.js"],"sourcesContent":["// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\n\nvar dispatch = require(\"d3-dispatch\").dispatch;\n\nvar cloudRadians = Math.PI / 180,\n    cw = 1 << 11 >> 5,\n    ch = 1 << 11;\n\nmodule.exports = function() {\n  var size = [256, 256],\n      text = cloudText,\n      font = cloudFont,\n      fontSize = cloudFontSize,\n      fontStyle = cloudFontNormal,\n      fontWeight = cloudFontNormal,\n      rotate = cloudRotate,\n      padding = cloudPadding,\n      spiral = archimedeanSpiral,\n      words = [],\n      timeInterval = Infinity,\n      event = dispatch(\"word\", \"end\"),\n      timer = null,\n      random = Math.random,\n      cloud = {},\n      canvas = cloudCanvas;\n\n  cloud.canvas = function(_) {\n    return arguments.length ? (canvas = functor(_), cloud) : canvas;\n  };\n\n  cloud.start = function() {\n    var contextAndRatio = getContext(canvas()),\n        board = zeroArray((size[0] >> 5) * size[1]),\n        bounds = null,\n        n = words.length,\n        i = -1,\n        tags = [],\n        data = words.map(function(d, i) {\n          d.text = text.call(this, d, i);\n          d.font = font.call(this, d, i);\n          d.style = fontStyle.call(this, d, i);\n          d.weight = fontWeight.call(this, d, i);\n          d.rotate = rotate.call(this, d, i);\n          d.size = ~~fontSize.call(this, d, i);\n          d.padding = padding.call(this, d, i);\n          return d;\n        }).sort(function(a, b) { return b.size - a.size; });\n\n    if (timer) clearInterval(timer);\n    timer = setInterval(step, 0);\n    step();\n\n    return cloud;\n\n    function step() {\n      var start = Date.now();\n      while (Date.now() - start < timeInterval && ++i < n && timer) {\n        var d = data[i];\n        d.x = (size[0] * (random() + .5)) >> 1;\n        d.y = (size[1] * (random() + .5)) >> 1;\n        cloudSprite(contextAndRatio, d, data, i);\n        if (d.hasText && place(board, d, bounds)) {\n          tags.push(d);\n          event.call(\"word\", cloud, d);\n          if (bounds) cloudBounds(bounds, d);\n          else bounds = [{x: d.x + d.x0, y: d.y + d.y0}, {x: d.x + d.x1, y: d.y + d.y1}];\n          // Temporary hack\n          d.x -= size[0] >> 1;\n          d.y -= size[1] >> 1;\n        }\n      }\n      if (i >= n) {\n        cloud.stop();\n        event.call(\"end\", cloud, tags, bounds);\n      }\n    }\n  }\n\n  cloud.stop = function() {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n    return cloud;\n  };\n\n  function getContext(canvas) {\n    canvas.width = canvas.height = 1;\n    var ratio = Math.sqrt(canvas.getContext(\"2d\").getImageData(0, 0, 1, 1).data.length >> 2);\n    canvas.width = (cw << 5) / ratio;\n    canvas.height = ch / ratio;\n\n    var context = canvas.getContext(\"2d\");\n    context.fillStyle = context.strokeStyle = \"red\";\n    context.textAlign = \"center\";\n\n    return {context: context, ratio: ratio};\n  }\n\n  function place(board, tag, bounds) {\n    var perimeter = [{x: 0, y: 0}, {x: size[0], y: size[1]}],\n        startX = tag.x,\n        startY = tag.y,\n        maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\n        s = spiral(size),\n        dt = random() < .5 ? 1 : -1,\n        t = -dt,\n        dxdy,\n        dx,\n        dy;\n\n    while (dxdy = s(t += dt)) {\n      dx = ~~dxdy[0];\n      dy = ~~dxdy[1];\n\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\n\n      tag.x = startX + dx;\n      tag.y = startY + dy;\n\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 ||\n          tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\n      // TODO only check for collisions within current bounds.\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\n        if (!bounds || collideRects(tag, bounds)) {\n          var sprite = tag.sprite,\n              w = tag.width >> 5,\n              sw = size[0] >> 5,\n              lx = tag.x - (w << 4),\n              sx = lx & 0x7f,\n              msx = 32 - sx,\n              h = tag.y1 - tag.y0,\n              x = (tag.y + tag.y0) * sw + (lx >> 5),\n              last;\n          for (var j = 0; j < h; j++) {\n            last = 0;\n            for (var i = 0; i <= w; i++) {\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n            }\n            x += sw;\n          }\n          delete tag.sprite;\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  cloud.timeInterval = function(_) {\n    return arguments.length ? (timeInterval = _ == null ? Infinity : _, cloud) : timeInterval;\n  };\n\n  cloud.words = function(_) {\n    return arguments.length ? (words = _, cloud) : words;\n  };\n\n  cloud.size = function(_) {\n    return arguments.length ? (size = [+_[0], +_[1]], cloud) : size;\n  };\n\n  cloud.font = function(_) {\n    return arguments.length ? (font = functor(_), cloud) : font;\n  };\n\n  cloud.fontStyle = function(_) {\n    return arguments.length ? (fontStyle = functor(_), cloud) : fontStyle;\n  };\n\n  cloud.fontWeight = function(_) {\n    return arguments.length ? (fontWeight = functor(_), cloud) : fontWeight;\n  };\n\n  cloud.rotate = function(_) {\n    return arguments.length ? (rotate = functor(_), cloud) : rotate;\n  };\n\n  cloud.text = function(_) {\n    return arguments.length ? (text = functor(_), cloud) : text;\n  };\n\n  cloud.spiral = function(_) {\n    return arguments.length ? (spiral = spirals[_] || _, cloud) : spiral;\n  };\n\n  cloud.fontSize = function(_) {\n    return arguments.length ? (fontSize = functor(_), cloud) : fontSize;\n  };\n\n  cloud.padding = function(_) {\n    return arguments.length ? (padding = functor(_), cloud) : padding;\n  };\n\n  cloud.random = function(_) {\n    return arguments.length ? (random = _, cloud) : random;\n  };\n\n  cloud.on = function() {\n    var value = event.on.apply(event, arguments);\n    return value === event ? cloud : value;\n  };\n\n  return cloud;\n};\n\nfunction cloudText(d) {\n  return d.text;\n}\n\nfunction cloudFont() {\n  return \"serif\";\n}\n\nfunction cloudFontNormal() {\n  return \"normal\";\n}\n\nfunction cloudFontSize(d) {\n  return Math.sqrt(d.value);\n}\n\nfunction cloudRotate() {\n  return (~~(Math.random() * 6) - 3) * 30;\n}\n\nfunction cloudPadding() {\n  return 1;\n}\n\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n  if (d.sprite) return;\n  var c = contextAndRatio.context,\n      ratio = contextAndRatio.ratio;\n\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n  var x = 0,\n      y = 0,\n      maxh = 0,\n      n = data.length;\n  --di;\n  while (++di < n) {\n    d = data[di];\n    c.save();\n    c.font = d.style + \" \" + d.weight + \" \" + ~~((d.size + 1) / ratio) + \"px \" + d.font;\n    var w = c.measureText(d.text + \"m\").width * ratio,\n        h = d.size << 1;\n    if (d.rotate) {\n      var sr = Math.sin(d.rotate * cloudRadians),\n          cr = Math.cos(d.rotate * cloudRadians),\n          wcr = w * cr,\n          wsr = w * sr,\n          hcr = h * cr,\n          hsr = h * sr;\n      w = (Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5 << 5;\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n    } else {\n      w = (w + 0x1f) >> 5 << 5;\n    }\n    if (h > maxh) maxh = h;\n    if (x + w >= (cw << 5)) {\n      x = 0;\n      y += maxh;\n      maxh = 0;\n    }\n    if (y + h >= ch) break;\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\n    c.fillText(d.text, 0, 0);\n    if (d.padding) c.lineWidth = 2 * d.padding, c.strokeText(d.text, 0, 0);\n    c.restore();\n    d.width = w;\n    d.height = h;\n    d.xoff = x;\n    d.yoff = y;\n    d.x1 = w >> 1;\n    d.y1 = h >> 1;\n    d.x0 = -d.x1;\n    d.y0 = -d.y1;\n    d.hasText = true;\n    x += w;\n  }\n  var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\n      sprite = [];\n  while (--di >= 0) {\n    d = data[di];\n    if (!d.hasText) continue;\n    var w = d.width,\n        w32 = w >> 5,\n        h = d.y1 - d.y0;\n    // Zero the buffer\n    for (var i = 0; i < h * w32; i++) sprite[i] = 0;\n    x = d.xoff;\n    if (x == null) return;\n    y = d.yoff;\n    var seen = 0,\n        seenRow = -1;\n    for (var j = 0; j < h; j++) {\n      for (var i = 0; i < w; i++) {\n        var k = w32 * j + (i >> 5),\n            m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\n        sprite[k] |= m;\n        seen |= m;\n      }\n      if (seen) seenRow = j;\n      else {\n        d.y0++;\n        h--;\n        j--;\n        y++;\n      }\n    }\n    d.y1 = d.y0 + seenRow;\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n  }\n}\n\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n  sw >>= 5;\n  var sprite = tag.sprite,\n      w = tag.width >> 5,\n      lx = tag.x - (w << 4),\n      sx = lx & 0x7f,\n      msx = 32 - sx,\n      h = tag.y1 - tag.y0,\n      x = (tag.y + tag.y0) * sw + (lx >> 5),\n      last;\n  for (var j = 0; j < h; j++) {\n    last = 0;\n    for (var i = 0; i <= w; i++) {\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0))\n          & board[x + i]) return true;\n    }\n    x += sw;\n  }\n  return false;\n}\n\nfunction cloudBounds(bounds, d) {\n  var b0 = bounds[0],\n      b1 = bounds[1];\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\n}\n\nfunction collideRects(a, b) {\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n}\n\nfunction archimedeanSpiral(size) {\n  var e = size[0] / size[1];\n  return function(t) {\n    return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)];\n  };\n}\n\nfunction rectangularSpiral(size) {\n  var dy = 4,\n      dx = dy * size[0] / size[1],\n      x = 0,\n      y = 0;\n  return function(t) {\n    var sign = t < 0 ? -1 : 1;\n    // See triangular numbers: T_n = n * (n + 1) / 2.\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n      case 0:  x += dx; break;\n      case 1:  y += dy; break;\n      case 2:  x -= dx; break;\n      default: y -= dy; break;\n    }\n    return [x, y];\n  };\n}\n\n// TODO reuse arrays?\nfunction zeroArray(n) {\n  var a = [],\n      i = -1;\n  while (++i < n) a[i] = 0;\n  return a;\n}\n\nfunction cloudCanvas() {\n  return document.createElement(\"canvas\");\n}\n\nfunction functor(d) {\n  return typeof d === \"function\" ? d : function() { return d; };\n}\n\nvar spirals = {\n  archimedean: archimedeanSpiral,\n  rectangular: rectangularSpiral\n};\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport _seedrandom from 'seedrandom';\n\nexport function seed(seed: string) {\n  return _seedrandom(seed);\n}\n\nexport function seedRandom() {\n  return _seedrandom('superset-ui')();\n}\n","export function isValueDef(channelDef) {\n  return channelDef && 'value' in channelDef;\n}\nexport function isNonValueDef(channelDef) {\n  return channelDef && !('value' in channelDef);\n}\nexport function isFieldDef(channelDef) {\n  return channelDef && 'field' in channelDef && !!channelDef.field;\n}\nexport function isTypedFieldDef(channelDef) {\n  return isFieldDef(channelDef) && 'type' in channelDef && !!channelDef.type;\n}\nexport function isScaleFieldDef(channelDef) {\n  return isTypedFieldDef(channelDef) && 'scale' in channelDef;\n}\nexport function isPositionFieldDef(channelDef) {\n  return isTypedFieldDef(channelDef) && 'axis' in channelDef;\n}","export function isArray(maybeArray) {\n  return Array.isArray(maybeArray);\n}\nexport function isNotArray(maybeArray) {\n  return !Array.isArray(maybeArray);\n}\nexport function isDefined(value) {\n  return typeof value !== 'undefined' && value !== null;\n}\nexport function isEveryElementDefined(array) {\n  return array.every(isDefined);\n}","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","// Modified from vega-lite\n// because vega-lite uses namespace which has issues with babel and typescript\nexport const ScaleType = {\n  // Continuous - Quantitative\n  LINEAR: 'linear',\n  LOG: 'log',\n  POW: 'pow',\n  SQRT: 'sqrt',\n  SYMLOG: 'symlog',\n  // Continuous - Time\n  TIME: 'time',\n  UTC: 'utc',\n  // Discretizing scales\n  QUANTILE: 'quantile',\n  QUANTIZE: 'quantize',\n  THRESHOLD: 'threshold',\n  BIN_ORDINAL: 'bin-ordinal',\n  // Discrete scales\n  ORDINAL: 'ordinal',\n  POINT: 'point',\n  BAND: 'band'\n};","export function isX(channelType) {\n  return channelType === 'X' || channelType === 'XBand';\n}\nexport function isY(channelType) {\n  return channelType === 'Y' || channelType === 'YBand';\n}\nexport function isXOrY(channelType) {\n  return isX(channelType) || isY(channelType);\n}","/**\n * This is a stricter version of Object.keys but with better types.\n * See https://github.com/Microsoft/TypeScript/pull/12253#issuecomment-263132208\n */\nconst keys = Object.keys;\nexport default keys;","// Modified from vega-lite version\n// and remove unnecessary dependency\n\n/* eslint-disable no-param-reassign */\n\n/* eslint-disable no-negated-condition */\nimport keys from '../utils/keys';\n/**\n * Internal Object for defining datetime expressions.\n * This is an expression version of DateTime.\n * If both month and quarter are provided, month has higher precedence.\n * `day` cannot be combined with other date.\n */\n\nfunction invalidTimeUnit(unitName, value) {\n  return \"Invalid \" + unitName + \": \" + String(value) + \".\";\n}\n/*\n * A designated year that starts on Sunday.\n */\n\n\nconst SUNDAY_YEAR = 2006;\nconst MONTHS = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\nconst SHORT_MONTHS = MONTHS.map(m => m.slice(0, 3));\nconst DAYS = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\nconst SHORT_DAYS = DAYS.map(d => d.slice(0, 3));\n\nfunction isNumber(x) {\n  return typeof x === 'number';\n}\n/**\n * Returns whether the passed in value is a valid number.\n */\n\n\nfunction isNumeric(value) {\n  if (isNumber(value)) {\n    return true;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  return !isNaN(value) && !isNaN(parseFloat(value));\n}\n\nexport function normalizeQuarter(q) {\n  if (isNumeric(q)) {\n    q = Number(q);\n  }\n\n  if (isNumber(q)) {\n    if (q > 4) {\n      // eslint-disable-next-line no-console\n      console.warn(invalidTimeUnit('quarter', q));\n    } // We accept 1-based quarter, so need to readjust to 0-based quarter\n\n\n    return q - 1;\n  } // Invalid quarter\n\n\n  throw new Error(invalidTimeUnit('quarter', q));\n}\nexport function normalizeMonth(m) {\n  if (isNumeric(m)) {\n    m = Number(m);\n  }\n\n  if (isNumber(m)) {\n    // We accept 1-based month, so need to readjust to 0-based month\n    return m - 1;\n  }\n\n  const lowerM = m.toLowerCase();\n  const monthIndex = MONTHS.indexOf(lowerM);\n\n  if (monthIndex !== -1) {\n    return monthIndex; // 0 for january, ...\n  }\n\n  const shortM = lowerM.slice(0, 3);\n  const shortMonthIndex = SHORT_MONTHS.indexOf(shortM);\n\n  if (shortMonthIndex !== -1) {\n    return shortMonthIndex;\n  } // Invalid month\n\n\n  throw new Error(invalidTimeUnit('month', m));\n}\nexport function normalizeDay(d) {\n  if (isNumeric(d)) {\n    d = Number(d);\n  }\n\n  if (isNumber(d)) {\n    // mod so that this can be both 0-based where 0 = sunday\n    // and 1-based where 7=sunday\n    return d % 7;\n  }\n\n  const lowerD = d.toLowerCase();\n  const dayIndex = DAYS.indexOf(lowerD);\n\n  if (dayIndex !== -1) {\n    return dayIndex; // 0 for january, ...\n  }\n\n  const shortD = lowerD.slice(0, 3);\n  const shortDayIndex = SHORT_DAYS.indexOf(shortD);\n\n  if (shortDayIndex !== -1) {\n    return shortDayIndex;\n  } // Invalid day\n\n\n  throw new Error(invalidTimeUnit('day', d));\n}\n/**\n * @param d the date.\n * @param normalize whether to normalize quarter, month, day. This should probably be true if d is a DateTime.\n * @returns array of date time parts [year, month, day, hours, minutes, seconds, milliseconds]\n */\n\nexport function dateTimeParts(d, normalize) {\n  const parts = [];\n\n  if (normalize && d.day !== undefined) {\n    if (keys(d).length > 1) {\n      d = { ...d\n      };\n      delete d.day;\n    }\n  }\n\n  if (d.year !== undefined) {\n    parts.push(d.year);\n  } else if (d.day !== undefined) {\n    // Set year to 2006 for working with day since January 1 2006 is a Sunday\n    parts.push(SUNDAY_YEAR);\n  } else {\n    parts.push(0);\n  }\n\n  if (d.month !== undefined) {\n    const month = normalize ? normalizeMonth(d.month) : d.month;\n    parts.push(month);\n  } else if (d.quarter !== undefined) {\n    const quarter = normalize ? normalizeQuarter(d.quarter) : d.quarter;\n    parts.push(isNumber(quarter) ? quarter * 3 : quarter + \"*3\");\n  } else {\n    parts.push(0); // months start at zero in JS\n  }\n\n  if (d.date !== undefined) {\n    parts.push(d.date);\n  } else if (d.day !== undefined) {\n    // HACK: Day only works as a standalone unit\n    // This is only correct because we always set year to 2006 for day\n    const day = normalize ? normalizeDay(d.day) : d.day;\n    parts.push(isNumber(day) ? day + 1 : day + \"+1\");\n  } else {\n    parts.push(1); // Date starts at 1 in JS\n  }\n\n  ['hours', 'minutes', 'seconds', 'milliseconds'].forEach(timeUnit => {\n    const unit = d[timeUnit];\n    parts.push(typeof unit === 'undefined' ? 0 : unit);\n  });\n  return parts;\n}\n/**\n * @param d the date time.\n * @returns the timestamp.\n */\n\nexport default function dateTimeToTimestamp(d) {\n  const parts = dateTimeParts(d, true);\n\n  if (d.utc) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return Number(new Date(Date.UTC(...parts)));\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  return Number(new Date(...parts));\n}","import dateTimeToTimestamp from './dateTimeToTimestamp';\nexport default function parseDateTime(dateTime) {\n  if (typeof dateTime === 'number' || typeof dateTime === 'string') {\n    return new Date(dateTime);\n  }\n\n  return new Date(dateTimeToTimestamp(dateTime));\n}","// eslint-disable-next-line import/prefer-default-export\nexport function isDateTime(o) {\n  return !!o && !(o instanceof Date) && typeof o !== 'string' && typeof o !== 'boolean' && typeof o !== 'number' && ('year' in o && o.year != null || 'quarter' in o && o.quarter != null || 'month' in o && o.month != null || 'date' in o && o.date != null || 'day' in o && o.day != null || 'hours' in o && o.hours != null || 'minutes' in o && o.minutes != null || 'seconds' in o && o.seconds != null || 'milliseconds' in o && o.milliseconds != null);\n}","export default function fallbackFormatter(v) {\n  return \"\" + v;\n}","import fallbackFormatter from './fallbackFormatter';\nimport Encodable from '../../options/Encodable';\nexport default function createFormatter({\n  formatType,\n  format,\n  formatInLocalTime\n}) {\n  if (formatType === 'time') {\n    const formatter = Encodable.resolveTimeFormat({\n      format,\n      formatInLocalTime\n    });\n    return value => formatter(value);\n  }\n\n  if (formatType === 'number' || typeof format !== 'undefined' && format.length > 0) {\n    const formatter = Encodable.resolveNumberFormat(format);\n    return value => formatter(value);\n  }\n\n  return fallbackFormatter;\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport parseDateTime from '../parsers/parseDateTime';\nimport inferElementTypeFromUnionOfArrayTypes from '../utils/inferElementTypeFromUnionOfArrayTypes';\nimport { isDateTime } from '../typeGuards/DateTime';\nimport createFormatter from '../parsers/format/createFormatter';\nexport default class ChannelEncoderAxis {\n  constructor(channelEncoder) {\n    _defineProperty(this, \"channelEncoder\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    _defineProperty(this, \"formatValue\", void 0);\n\n    this.channelEncoder = channelEncoder;\n    this.config = channelEncoder.definition.axis;\n    this.formatValue = createFormatter(this.config);\n  }\n\n  getTitle() {\n    return this.config.title;\n  }\n\n  hasTitle() {\n    const {\n      title\n    } = this.config;\n    return title !== null && typeof title !== 'undefined' && title !== '';\n  }\n\n  getTickLabels() {\n    const {\n      tickCount,\n      values\n    } = this.config;\n\n    if (typeof values !== 'undefined') {\n      return inferElementTypeFromUnionOfArrayTypes(values).map(v => this.formatValue(isDateTime(v) ? parseDateTime(v) : v));\n    }\n\n    const {\n      scale\n    } = this.channelEncoder;\n\n    if (scale && 'domain' in scale) {\n      const ticks = 'ticks' in scale ? scale.ticks(tickCount) : scale.domain();\n      return ticks.map(this.formatValue);\n    }\n\n    return [];\n  }\n\n}","import isDisabled from './isDisabled';\nexport default function isEnabled(config) {\n  return !isDisabled(config);\n}","export default function isDisabled(config) {\n  return config === false || config === null;\n}","import { isX } from '../typeGuards/Channel';\nexport const STRATEGY_FLAT = {\n  strategy: 'flat'\n};\nconst STRATEGY_ROTATE = {\n  labelAngle: 40,\n  strategy: 'rotate'\n};\nexport default function expandLabelOverlapStrategy(channelType, labelOverlap = 'auto') {\n  let output;\n\n  switch (labelOverlap) {\n    case 'flat':\n      output = STRATEGY_FLAT;\n      break;\n\n    case 'rotate':\n      output = STRATEGY_ROTATE;\n      break;\n\n    case 'auto':\n      output = isX(channelType) ? STRATEGY_ROTATE : STRATEGY_FLAT;\n      break;\n\n    default:\n      output = labelOverlap;\n      break;\n  }\n\n  return { ...output\n  };\n}","import { ScaleType } from '../../types'; // Grouped by domain and range\n\nexport const continuousToContinuousScaleTypes = [ScaleType.LINEAR, ScaleType.POW, ScaleType.SQRT, ScaleType.SYMLOG, ScaleType.LOG, ScaleType.TIME, ScaleType.UTC];\nexport const continuousToContinuousScaleTypesSet = new Set(continuousToContinuousScaleTypes);\nexport const continuousToDiscreteScaleTypes = [ScaleType.QUANTILE, ScaleType.QUANTIZE, ScaleType.THRESHOLD];\nexport const continuousToDiscreteScaleTypesSet = new Set(continuousToDiscreteScaleTypes); // Grouped by Domain\n\nexport const continuousDomainScaleTypes = continuousToContinuousScaleTypes.concat(continuousToDiscreteScaleTypes);\nexport const continuousDomainScaleTypesSet = new Set(continuousDomainScaleTypes);\nexport const discreteDomainScaleTypes = [ScaleType.ORDINAL, ScaleType.BIN_ORDINAL, ScaleType.POINT, ScaleType.BAND];\nexport const discreteDomainScaleTypesSet = new Set(discreteDomainScaleTypes); // Three broad categories\n\nexport const continuousScaleTypes = continuousToContinuousScaleTypes;\nexport const continuousScaleTypesSet = continuousToContinuousScaleTypesSet;\nexport const discreteScaleTypes = [ScaleType.BAND, ScaleType.POINT, ScaleType.ORDINAL];\nexport const discreteScaleTypesSet = new Set(discreteScaleTypes);\nexport const discretizingScaleTypes = [ScaleType.BIN_ORDINAL, ScaleType.QUANTILE, ScaleType.QUANTIZE, ScaleType.THRESHOLD];\nexport const discretizingScaleTypesSet = new Set(discretizingScaleTypes); // Others\n\nexport const timeScaleTypes = [ScaleType.TIME, ScaleType.UTC];\nexport const timeScaleTypesSet = new Set(timeScaleTypes);\nexport const allScaleTypes = [ScaleType.LINEAR, ScaleType.LOG, ScaleType.POW, ScaleType.SQRT, ScaleType.SYMLOG, ScaleType.TIME, ScaleType.UTC, ScaleType.QUANTILE, ScaleType.QUANTIZE, ScaleType.THRESHOLD, ScaleType.BIN_ORDINAL, ScaleType.ORDINAL, ScaleType.POINT, ScaleType.BAND];\nexport const allScaleTypesSet = new Set(allScaleTypes);","import { ScaleType } from '../types';\n/**\n * Sometimes scale type is not specified but can be inferred\n * from other fields.\n * See https://vega.github.io/vega-lite/docs/scale.html\n * @param channelType type of the channel\n * @param fieldType type of the field\n * @param bin is value binned\n */\n\nexport default function inferScaleType(channelType, fieldType, bin = false) {\n  if (fieldType === 'nominal' || fieldType === 'ordinal') {\n    switch (channelType) {\n      // For positional (x and y) ordinal and ordinal fields,\n      // \"point\" is the default scale type for all marks\n      // except bar and rect marks, which use \"band\" scales.\n      // https://vega.github.io/vega-lite/docs/scale.html\n      case 'XBand':\n      case 'YBand':\n        return ScaleType.BAND;\n\n      case 'X':\n      case 'Y':\n      case 'Numeric':\n        return ScaleType.POINT;\n\n      case 'Color':\n      case 'Category':\n        return ScaleType.ORDINAL;\n\n      default:\n    }\n  } else if (fieldType === 'quantitative') {\n    switch (channelType) {\n      case 'XBand':\n      case 'YBand':\n      case 'X':\n      case 'Y':\n      case 'Numeric':\n        return ScaleType.LINEAR;\n\n      case 'Color':\n        return bin ? ScaleType.BIN_ORDINAL : ScaleType.LINEAR;\n\n      default:\n    }\n  } else if (fieldType === 'temporal') {\n    switch (channelType) {\n      case 'XBand':\n      case 'YBand':\n      case 'X':\n      case 'Y':\n      case 'Numeric':\n        return ScaleType.UTC;\n\n      case 'Color':\n        return ScaleType.LINEAR;\n\n      default:\n    }\n  }\n\n  return undefined;\n}","import { ScaleType } from '../../types';\nimport { allScaleTypesSet, allScaleTypes, continuousDomainScaleTypes, continuousScaleTypes, continuousScaleTypesSet } from './scaleCategories';\nconst pointOrBand = [ScaleType.POINT, ScaleType.BAND];\nconst pointOrBandSet = new Set(pointOrBand);\nconst exceptPointOrBand = allScaleTypes.filter(type => !pointOrBandSet.has(type));\nconst exceptPointOrBandSet = new Set(exceptPointOrBand);\nconst continuousOrPointOrBandSet = new Set(continuousScaleTypes.concat(pointOrBand));\nconst zeroSet = new Set(continuousDomainScaleTypes); // log scale cannot have zero value\n\nzeroSet.delete(ScaleType.LOG); // zero is not meaningful for time\n\nzeroSet.delete(ScaleType.TIME);\nzeroSet.delete(ScaleType.UTC); // threshold requires custom domain so zero does not matter\n\nzeroSet.delete(ScaleType.THRESHOLD); // quantile depends on distribution so zero does not matter\n\nzeroSet.delete(ScaleType.QUANTILE);\nconst supportedScaleTypes = {\n  align: pointOrBandSet,\n  base: new Set([ScaleType.LOG]),\n  clamp: continuousScaleTypesSet,\n  constant: new Set([ScaleType.SYMLOG]),\n  domain: allScaleTypesSet,\n  exponent: new Set([ScaleType.POW]),\n  interpolate: exceptPointOrBandSet,\n  nice: new Set(continuousScaleTypes.concat([ScaleType.QUANTIZE, ScaleType.THRESHOLD])),\n  padding: continuousOrPointOrBandSet,\n  paddingInner: new Set([ScaleType.BAND]),\n  paddingOuter: pointOrBandSet,\n  range: allScaleTypesSet,\n  reverse: allScaleTypesSet,\n  round: continuousOrPointOrBandSet,\n  scheme: exceptPointOrBandSet,\n  type: allScaleTypesSet,\n  unknown: new Set([ScaleType.ORDINAL]),\n  zero: zeroSet\n};\nexport default function isPropertySupportedByScaleType(property, scaleType) {\n  return supportedScaleTypes[property].has(scaleType);\n}","import isPropertySupportedByScaleType from '../parsers/scale/isPropertySupportedByScaleType';\nimport { continuousScaleTypesSet, discretizingScaleTypesSet, discreteScaleTypesSet } from '../parsers/scale/scaleCategories';\nexport function isContinuousScaleConfig(config) {\n  return continuousScaleTypesSet.has(config.type);\n}\nexport function isDiscretizingScaleConfig(config) {\n  return discretizingScaleTypesSet.has(config.type);\n}\nexport function isDiscreteScaleConfig(config) {\n  return discreteScaleTypesSet.has(config.type);\n}\nexport function isScaleConfigWithZero(config) {\n  return isPropertySupportedByScaleType('zero', config.type);\n}","import { isXOrY } from '../typeGuards/Channel';\nconst temporalFieldNames = new Set(['time', 'date', 'datetime', 'timestamp']);\nexport default function inferFieldType(channelType, field = '') {\n  if (isXOrY(channelType) || channelType === 'Numeric') {\n    return temporalFieldNames.has(field.toLowerCase()) ? 'temporal' : 'quantitative';\n  }\n\n  return 'nominal';\n}","import { isFieldDef, isValueDef, isTypedFieldDef } from '../typeGuards/ChannelDef';\nimport completeAxisConfig from './completeAxisConfig';\nimport completeFormatConfig from './completeFormatConfig';\nimport completeLegendConfig from './completeLegendConfig';\nimport completeScaleConfig from './completeScaleConfig';\nimport inferFieldType from './inferFieldType';\nexport default function completeChannelDef(channelType, channelDef) {\n  var _channelDef$title;\n\n  if (isValueDef(channelDef)) {\n    return { ...channelDef,\n      axis: false,\n      legend: false,\n      scale: false,\n      title: ''\n    };\n  } // Fill top-level properties\n\n\n  const copy = { ...channelDef,\n    title: isFieldDef(channelDef) ? (_channelDef$title = channelDef.title) != null ? _channelDef$title : channelDef.field : '',\n    type: isTypedFieldDef(channelDef) ? channelDef.type : inferFieldType(channelType, channelDef.field)\n  }; // Scale needs the top-level properties to be filled.\n\n  const scale = completeScaleConfig(channelType, copy); // Format needs scale.\n\n  const format = completeFormatConfig({ ...channelDef,\n    scaleType: scale ? scale.type : undefined\n  });\n  const copy2 = { ...copy,\n    ...format,\n    scale\n  }; // These need scale and format\n\n  const axis = completeAxisConfig(channelType, copy2);\n  const legend = completeLegendConfig(channelType, copy2);\n  return { ...copy2,\n    axis,\n    legend\n  };\n}","import inferScaleType from './inferScaleType';\nimport { isTypedFieldDef } from '../typeGuards/ChannelDef';\nimport { isContinuousScaleConfig, isScaleConfigWithZero } from '../typeGuards/ScaleConfig';\nimport isEnabled from '../utils/isEnabled';\nimport { timeScaleTypesSet } from '../parsers/scale/scaleCategories';\nexport default function completeScaleConfig(channelType, channelDef) {\n  if (isTypedFieldDef(channelDef) && isEnabled(channelDef.scale)) {\n    const {\n      scale = {},\n      type,\n      bin\n    } = channelDef;\n    const {\n      type: scaleType = inferScaleType(channelType, type, bin)\n    } = scale;\n\n    if (typeof scaleType === 'undefined') {\n      return false;\n    } // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n\n\n    const filledScale = { ...scale,\n      type: scaleType\n    };\n\n    if (isContinuousScaleConfig(filledScale)) {\n      if (typeof filledScale.nice === 'undefined') {\n        filledScale.nice = !timeScaleTypesSet.has(scaleType);\n      }\n\n      if (typeof filledScale.clamp === 'undefined') {\n        filledScale.clamp = true;\n      }\n    }\n\n    if (isScaleConfigWithZero(filledScale) && typeof filledScale.zero === 'undefined') {\n      filledScale.zero = true;\n    }\n\n    return filledScale;\n  }\n\n  return false;\n}","export default function completeFormatConfig(config) {\n  const {\n    formatType,\n    formatInLocalTime,\n    format,\n    type,\n    scaleType\n  } = config;\n  let resolvedFormatType;\n\n  if (typeof formatType !== 'undefined') {\n    resolvedFormatType = formatType;\n  } else if (type === 'quantitative') {\n    resolvedFormatType = 'number';\n  } else if (type === 'temporal' || scaleType === 'time' || scaleType === 'utc') {\n    resolvedFormatType = 'time';\n  } else if (typeof format !== 'undefined' && format.length > 0) {\n    resolvedFormatType = 'number';\n  }\n\n  if (resolvedFormatType === 'time') {\n    return {\n      formatType: 'time',\n      formatInLocalTime: formatInLocalTime || typeof formatInLocalTime === 'undefined' && scaleType === 'time',\n      format\n    };\n  }\n\n  return {\n    formatType: resolvedFormatType,\n    format\n  };\n}","import isEnabled from '../utils/isEnabled';\nimport { isXOrY, isX } from '../typeGuards/Channel';\nimport { isTypedFieldDef } from '../typeGuards/ChannelDef';\nimport expandLabelOverlapStrategy from './expandLabelOverlapStrategy';\nimport { continuousToContinuousScaleTypesSet } from '../parsers/scale/scaleCategories';\n\nfunction isChannelDefWithAxisSupport(channelType, channelDef) {\n  return isTypedFieldDef(channelDef) && isXOrY(channelType);\n}\n\nexport default function completeAxisConfig(channelType, channelDef) {\n  if (isChannelDefWithAxisSupport(channelType, channelDef) && isEnabled(channelDef.axis)) {\n    const axis = channelDef.axis === true || typeof channelDef.axis === 'undefined' ? {} : channelDef.axis;\n    const isXChannel = isX(channelType);\n    const {\n      format = channelDef.format,\n      formatType = channelDef.formatType,\n      formatInLocalTime = channelDef.formatInLocalTime,\n      labelAngle = 0,\n      labelFlush,\n      labelOverlap,\n      labelPadding = 4,\n      orient = isXChannel ? 'bottom' : 'left',\n      tickCount = 5,\n      ticks = true,\n      title = channelDef.title,\n      titlePadding = 4\n    } = axis;\n    const output = { ...axis,\n      format,\n      formatType,\n      labelAngle,\n      labelFlush: typeof labelFlush === 'undefined' ? channelDef.scale && typeof channelDef.scale.type !== 'undefined' && continuousToContinuousScaleTypesSet.has(channelDef.scale.type) : labelFlush,\n      labelOverlap: expandLabelOverlapStrategy(channelType, labelOverlap),\n      labelPadding,\n      orient,\n      tickCount,\n      ticks,\n      title,\n      titlePadding\n    };\n\n    if (typeof formatInLocalTime !== 'undefined') {\n      output.formatInLocalTime = formatInLocalTime;\n    }\n\n    return output;\n  }\n\n  return false;\n}","import { isXOrY } from '../typeGuards/Channel';\nexport default function completeLegendConfig(channelType, channelDef) {\n  if ('legend' in channelDef && channelDef.legend !== undefined) {\n    return channelDef.legend;\n  }\n\n  return isXOrY(channelType) || channelType === 'Text' ? false : {};\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport millisecond from \"./millisecond.js\";\nimport second from \"./second.js\";\nimport minute from \"./minute.js\";\nimport hour from \"./hour.js\";\nimport day from \"./day.js\";\nimport {sunday as week} from \"./week.js\";\nimport month from \"./month.js\";\nimport year from \"./year.js\";\nimport utcMinute from \"./utcMinute.js\";\nimport utcHour from \"./utcHour.js\";\nimport utcDay from \"./utcDay.js\";\nimport {utcSunday as utcWeek} from \"./utcWeek.js\";\nimport utcMonth from \"./utcMonth.js\";\nimport utcYear from \"./utcYear.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(year, month, week, day, hour, minute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import { scaleLinear, scaleLog, scalePow, scaleSqrt, scaleTime, scaleUtc, scaleQuantile, scaleQuantize, scaleThreshold, scaleOrdinal, scalePoint, scaleBand, scaleSymlog } from 'd3-scale';\nimport { ScaleType } from '../../types';\nexport default function createScaleFromScaleType(type) {\n  switch (type) {\n    case ScaleType.LINEAR:\n      return scaleLinear();\n\n    case ScaleType.LOG:\n      return scaleLog();\n\n    case ScaleType.POW:\n      return scalePow();\n\n    case ScaleType.SQRT:\n      return scaleSqrt();\n\n    case ScaleType.TIME:\n      return scaleTime();\n\n    case ScaleType.UTC:\n      return scaleUtc();\n\n    case ScaleType.QUANTILE:\n      return scaleQuantile();\n\n    case ScaleType.QUANTIZE:\n      return scaleQuantize();\n\n    case ScaleType.THRESHOLD:\n      return scaleThreshold();\n\n    case ScaleType.ORDINAL:\n      return scaleOrdinal();\n\n    case ScaleType.POINT:\n      return scalePoint();\n\n    case ScaleType.BAND:\n      return scaleBand();\n\n    case ScaleType.SYMLOG:\n      return scaleSymlog();\n\n    case ScaleType.BIN_ORDINAL:\n      // TODO: Pending scale.bins implementation\n      throw new Error(\"\\\"type = \" + type + \"\\\" is not supported yet.\");\n\n    default:\n      return scaleLinear();\n  }\n}","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import { timeSecond, timeMinute, timeHour, timeDay, timeYear, timeMonth, timeWeek, utcSecond, utcMinute, utcHour, utcDay, utcWeek, utcMonth, utcYear } from 'd3-time';\nimport { ScaleType } from '../../types';\nconst localTimeIntervals = {\n  day: timeDay,\n  hour: timeHour,\n  minute: timeMinute,\n  month: timeMonth,\n  second: timeSecond,\n  week: timeWeek,\n  year: timeYear\n};\nconst utcIntervals = {\n  day: utcDay,\n  hour: utcHour,\n  minute: utcMinute,\n  month: utcMonth,\n  second: utcSecond,\n  week: utcWeek,\n  year: utcYear\n};\nexport default function applyNice(config, scale) {\n  if ('nice' in config && typeof config.nice !== 'undefined' && 'nice' in scale) {\n    const {\n      nice\n    } = config;\n\n    if (typeof nice === 'boolean') {\n      if (nice) {\n        scale.nice();\n      }\n    } else if (typeof nice === 'number') {\n      scale.nice(nice);\n    } else {\n      const timeScale = scale;\n      const {\n        type\n      } = config;\n\n      if (typeof nice === 'string') {\n        timeScale.nice(type === ScaleType.UTC ? utcIntervals[nice] : localTimeIntervals[nice]);\n      } else {\n        const {\n          interval,\n          step\n        } = nice;\n        const parsedInterval = (type === ScaleType.UTC ? utcIntervals[interval] : localTimeIntervals[interval]).every(step);\n\n        if (parsedInterval !== null) {\n          timeScale.nice(parsedInterval);\n        }\n      }\n    }\n  }\n}","import { timeScaleTypesSet, continuousScaleTypesSet, discretizingScaleTypesSet, discreteScaleTypesSet } from '../parsers/scale/scaleCategories';\nexport function isContinuousScale(scale, scaleType) {\n  return scale && continuousScaleTypesSet.has(scaleType);\n}\nexport function isDiscretizingScale(scale, scaleType) {\n  return scale && discretizingScaleTypesSet.has(scaleType);\n}\nexport function isDiscreteScale(scale, scaleType) {\n  return scale && discreteScaleTypesSet.has(scaleType);\n}\nexport function isTimeScale(scale, scaleType) {\n  return scale && timeScaleTypesSet.has(scaleType);\n}","import { isContinuousScale } from '../../typeGuards/Scale';\nexport default function applyZero(config, scale) {\n  if ('zero' in config && config.zero === true && isContinuousScale(scale, config.type)) {\n    const domain = scale.domain();\n    const [a, b] = domain;\n    const isDescending = b < a;\n    const [min, max] = isDescending ? [b, a] : [a, b];\n    const domainWithZero = [Math.min(0, min), Math.max(0, max)];\n    scale.domain(isDescending ? domainWithZero.reverse() : domainWithZero);\n  }\n}","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import { interpolateRgb, interpolateLab, interpolateHcl, interpolateHclLong, interpolateHsl, interpolateHslLong, interpolateCubehelix, interpolateCubehelixLong } from 'd3-interpolate';\nconst interpolatorMap = {\n  lab: interpolateLab,\n  hcl: interpolateHcl,\n  'hcl-long': interpolateHclLong,\n  hsl: interpolateHsl,\n  'hsl-long': interpolateHslLong,\n  cubehelix: interpolateCubehelix,\n  'cubehelix-long': interpolateCubehelixLong,\n  rgb: interpolateRgb\n};\nexport default function createColorInterpolator(interpolate) {\n  switch (interpolate) {\n    case 'lab':\n    case 'hcl':\n    case 'hcl-long':\n    case 'hsl':\n    case 'hsl-long':\n    case 'cubehelix':\n    case 'cubehelix-long':\n    case 'rgb':\n      return interpolatorMap[interpolate];\n\n    default:\n  }\n\n  const {\n    type,\n    gamma\n  } = interpolate;\n  const interpolator = interpolatorMap[type];\n  return typeof gamma === 'undefined' ? interpolator : interpolator.gamma(gamma);\n}","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import { timeScaleTypesSet } from '../scale/scaleCategories';\n/**\n * Convert each element in the array into\n * - Date (for time scales)\n * - number (for other continuous scales)\n * @param domain\n * @param scaleType\n */\n\nexport default function parseContinuousDomain(domain, scaleType) {\n  if (timeScaleTypesSet.has(scaleType)) {\n    return domain.filter(d => typeof d !== 'boolean').map(d => typeof d === 'string' || typeof d === 'number' ? new Date(d) : d);\n  }\n\n  return domain.map(d => typeof d === 'string' || typeof d === 'boolean' ? Number(d) : d);\n}","/**\n * Discrete domains are converted into string[]\n * when using D3 scales\n * @param domain\n */\nexport default function parseDiscreteDomain(domain) {\n  return domain.map(d => \"\" + d);\n}","export default function removeUndefinedAndNull(array) {\n  return array.filter(x => typeof x !== 'undefined' && x !== null);\n}","import { isDateTime } from '../typeGuards/DateTime';\nimport parseDateTime from './parseDateTime';\n/**\n * Only parse elements that are DateTime to Date.\n * Leave the rest alone.\n * @param array\n */\n\nexport default function parseDateTimeIn(array) {\n  return array.map(d => !(d instanceof Date) && isDateTime(d) ? parseDateTime(d) : d);\n}","import { isContinuousScale, isDiscretizingScale, isDiscreteScale } from '../../typeGuards/Scale';\nimport { isContinuousScaleConfig, isDiscretizingScaleConfig, isDiscreteScaleConfig } from '../../typeGuards/ScaleConfig';\nimport parseContinuousDomain from '../domain/parseContinuousDomain';\nimport parseDiscreteDomain from '../domain/parseDiscreteDomain';\nimport combineCategories from '../../utils/combineCategories';\nimport combineContinuousDomains from '../../utils/combineContinuousDomains';\nimport removeUndefinedAndNull from '../../utils/removeUndefinedAndNull';\nimport parseDateTimeIn from '../parseDateTimeIn';\n\nfunction createOrderFunction(reverse) {\n  return reverse ? array => array.concat().reverse() : array => array;\n}\n\nfunction isCompleteDomain(domain) {\n  return domain.length !== 2 || domain[0] != null && domain[1] != null;\n}\n\nexport default function applyDomain(config, scale,\n/** domain from dataset */\ndataDomain) {\n  const {\n    reverse,\n    type\n  } = config;\n  const order = createOrderFunction(reverse);\n\n  if (isContinuousScale(scale, type) && isContinuousScaleConfig(config) || isDiscretizingScale(scale, type) && isDiscretizingScaleConfig(config)) {\n    // For continuous and discretizing scales\n    if (config.domain) {\n      // If config.domain is specified\n      if (isCompleteDomain(config.domain)) {\n        // If the config.domain is completed\n        // ignores the dataDomain\n        scale.domain(order(parseDateTimeIn(config.domain)));\n      } else if (dataDomain) {\n        // If it is incompleted, then try to combine\n        // with the dataDomain\n        scale.domain(order(combineContinuousDomains(parseContinuousDomain(parseDateTimeIn(config.domain), type), parseContinuousDomain(removeUndefinedAndNull(dataDomain), type))));\n      }\n    } else if (dataDomain) {\n      // If no config.domain then just use the dataDomain if any\n      scale.domain(order(parseContinuousDomain(removeUndefinedAndNull(dataDomain), type)));\n    }\n  } else if (isDiscreteScale(scale, type) && isDiscreteScaleConfig(config)) {\n    // For discrete scales\n    if (config.domain) {\n      const fixedDomain = parseDiscreteDomain(parseDateTimeIn(config.domain));\n      scale.domain(order(dataDomain ? combineCategories(fixedDomain, parseDiscreteDomain(dataDomain)) : fixedDomain));\n    } else if (dataDomain) {\n      // If no config.domain then just use the dataDomain if any\n      scale.domain(order(parseDiscreteDomain(dataDomain)));\n    }\n  }\n}","import { isEveryElementDefined, isDefined } from '../typeGuards/Base';\n/**\n * Combine two continuous domain and ensure that the output\n * does not go beyond fixedDomain\n * @param bounds\n * @param dataDomain\n */\n\nexport default function combineContinuousDomains(bounds, dataDomain) {\n  if (bounds.length > 0 && isEveryElementDefined(bounds)) {\n    return bounds;\n  }\n\n  if (bounds.length === 2 && dataDomain.length === 2 && bounds.filter(isDefined).length > 0) {\n    const [boundMin, boundMax] = bounds;\n    const [dataMin, dataMax] = dataDomain;\n    let min = dataMin;\n\n    if (isDefined(boundMin)) {\n      min = boundMin.valueOf() > dataMin.valueOf() ? boundMin : dataMin;\n    }\n\n    let max = dataMax;\n\n    if (isDefined(boundMax)) {\n      max = boundMax.valueOf() < dataMax.valueOf() ? boundMax : dataMax;\n    }\n\n    return [min, max];\n  }\n\n  return dataDomain;\n}","/**\n * Combine two arrays into a unique list\n * by keeping the order the fixedCategories\n * and append new categories at the end.\n * @param fixedCategories\n * @param inputCategories\n */\nexport default function combineCategories(fixedCategories, inputCategories = []) {\n  if (fixedCategories.length === 0) {\n    return inputCategories;\n  }\n\n  const fixedSet = new Set(fixedCategories);\n  return fixedCategories.concat(inputCategories.filter(d => !fixedSet.has(d)));\n}","// eslint-disable-next-line import/prefer-default-export\nexport function isSchemeParams(scheme) {\n  return Object.prototype.toString.call(scheme) !== '[object String]';\n}","import { wrapColorScheme } from '@encodable/color';\nimport Encodable from '../../options/Encodable';\nimport { isContinuousScaleConfig } from '../../typeGuards/ScaleConfig';\nimport { isSchemeParams } from '../../typeGuards/SchemeParams';\nexport default function applyRange(config, scale) {\n  const {\n    range,\n    domain\n  } = config;\n\n  if (typeof range === 'undefined') {\n    if ('scheme' in config && typeof config.scheme !== 'undefined') {\n      const {\n        scheme\n      } = config;\n      let name;\n      let count;\n\n      if (isContinuousScaleConfig(config) && domain) {\n        count = domain.length;\n      }\n\n      let extent;\n\n      if (isSchemeParams(scheme)) {\n        name = scheme.name;\n\n        if (scheme.count) {\n          count = scheme.count;\n        }\n\n        extent = scheme.extent;\n      } else {\n        name = scheme;\n      }\n\n      const schemeObject = Encodable.resolveColorScheme({\n        name,\n        type: 'sequential'\n      });\n\n      if (typeof schemeObject !== 'undefined' && schemeObject.type === 'sequential') {\n        const wrappedScheme = wrapColorScheme(schemeObject);\n        scale.range(wrappedScheme.getColors(count, extent));\n      }\n    }\n  } else {\n    // TODO: add type guard should fix this problem\n    // @ts-ignore\n    scale.range(range);\n  }\n}","import applyAlign from './applyAlign';\nimport applyBase from './applyBase';\nimport applyClamp from './applyClamp';\nimport applyExponent from './applyExponent';\nimport applyNice from './applyNice';\nimport applyZero from './applyZero';\nimport applyInterpolate from './applyInterpolate';\nimport applyRound from './applyRound';\nimport applyDomain from './applyDomain';\nimport applyRange from './applyRange';\nimport applyPadding from './applyPadding';\nexport default function updateScale(scale, config) {\n  // domain and range apply to all scales\n  applyDomain(config, scale);\n  applyRange(config, scale); // Sort other properties alphabetically.\n\n  applyAlign(config, scale);\n  applyBase(config, scale);\n  applyClamp(config, scale);\n  applyExponent(config, scale);\n  applyInterpolate(config, scale); // Nice depends on domain.\n\n  applyNice(config, scale);\n  applyPadding(config, scale);\n  applyRound(config, scale); // Zero depends on domain and nice.\n\n  applyZero(config, scale);\n  return scale;\n}","export default function applyAlign(config, scale) {\n  if ('align' in config && typeof config.align !== 'undefined' && 'align' in scale) {\n    scale.align(config.align);\n  }\n}","export default function applyBase(config, scale) {\n  if ('base' in config && typeof config.base !== 'undefined' && 'base' in scale) {\n    scale.base(config.base);\n  }\n}","export default function applyClamp(config, scale) {\n  if ('clamp' in config && config.clamp === true && 'clamp' in scale) {\n    scale.clamp(config.clamp);\n  }\n}","export default function applyExponent(config, scale) {\n  if ('exponent' in config && typeof config.exponent !== 'undefined' && 'exponent' in scale) {\n    scale.exponent(config.exponent);\n  }\n}","import createColorInterpolator from './createColorInterpolator';\nexport default function applyInterpolate(config, scale) {\n  if ('interpolate' in config && typeof config.interpolate !== 'undefined' && 'interpolate' in scale) {\n    scale.interpolate(createColorInterpolator(config.interpolate));\n  }\n}","export default function applyPadding(config, scale) {\n  if ('padding' in config && typeof config.padding !== 'undefined' && 'padding' in scale) {\n    scale.padding(config.padding);\n  }\n\n  if ('paddingInner' in config && typeof config.paddingInner !== 'undefined' && 'paddingInner' in scale) {\n    scale.paddingInner(config.paddingInner);\n  }\n\n  if ('paddingOuter' in config && typeof config.paddingOuter !== 'undefined' && 'paddingOuter' in scale) {\n    scale.paddingOuter(config.paddingOuter);\n  }\n}","import { interpolateRound } from 'd3-interpolate';\nexport default function applyRound(config, scale) {\n  if ('round' in config && config.round === true) {\n    const roundableScale = scale;\n\n    if ('round' in roundableScale) {\n      roundableScale.round(config.round);\n    } else {\n      roundableScale.interpolate(interpolateRound);\n    }\n  }\n}","export default function identity(x) {\n  return x;\n}","export function isCompleteValueDef(def) {\n  return 'value' in def;\n}\nexport function isCompleteFieldDef(def) {\n  return 'field' in def;\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { extent as d3Extent } from 'd3-array';\nimport { ScaleType } from '../types';\nimport { isTypedFieldDef, isValueDef, isFieldDef } from '../typeGuards/ChannelDef';\nimport { isX, isY, isXOrY } from '../typeGuards/Channel';\nimport ChannelEncoderAxis from './ChannelEncoderAxis';\nimport createGetterFromChannelDef from '../parsers/createGetterFromChannelDef';\nimport completeChannelDef from '../fillers/completeChannelDef';\nimport createScale from '../parsers/scale/createScale';\nimport identity from '../utils/identity';\nimport applyDomain from '../parsers/scale/applyDomain';\nimport applyRange from '../parsers/scale/applyRange';\nimport applyZero from '../parsers/scale/applyZero';\nimport applyNice from '../parsers/scale/applyNice';\nimport { isCompleteValueDef, isCompleteFieldDef } from '../typeGuards/CompleteChannelDef';\nimport fallbackFormatter from '../parsers/format/fallbackFormatter';\nimport createFormatter from '../parsers/format/createFormatter';\nexport default class ChannelEncoder {\n  constructor({\n    name,\n    channelType,\n    definition: originalDefinition\n  }) {\n    _defineProperty(this, \"name\", void 0);\n\n    _defineProperty(this, \"channelType\", void 0);\n\n    _defineProperty(this, \"originalDefinition\", void 0);\n\n    _defineProperty(this, \"definition\", void 0);\n\n    _defineProperty(this, \"scale\", void 0);\n\n    _defineProperty(this, \"axis\", void 0);\n\n    _defineProperty(this, \"getValue\", void 0);\n\n    _defineProperty(this, \"encodeFunc\", void 0);\n\n    _defineProperty(this, \"formatValue\", void 0);\n\n    _defineProperty(this, \"encodeValue\", (value, otherwise) => {\n      if (typeof otherwise !== 'undefined' && (value === null || typeof value === 'undefined')) {\n        return otherwise;\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      return this.encodeFunc(value);\n    });\n\n    _defineProperty(this, \"encodeDatum\", (datum, otherwise) => typeof otherwise === 'undefined' ? this.encodeValue(this.getValueFromDatum(datum)) : this.encodeValue(this.getValueFromDatum(datum), otherwise));\n\n    _defineProperty(this, \"formatDatum\", datum => this.formatValue(this.getValueFromDatum(datum)));\n\n    _defineProperty(this, \"getValueFromDatum\", (datum, otherwise) => {\n      const value = this.getValue(datum);\n      return otherwise !== undefined && (value === null || value === undefined) ? otherwise : value;\n    });\n\n    _defineProperty(this, \"getDomainFromDataset\", data => {\n      if (isValueDef(this.definition)) {\n        const {\n          value\n        } = this.definition;\n        return [value];\n      }\n\n      const {\n        type\n      } = this.definition;\n\n      if (type === 'nominal' || type === 'ordinal') {\n        return Array.from(new Set(data.map(d => this.getValueFromDatum(d))));\n      }\n\n      if (type === 'quantitative') {\n        // Quantile scale needs all items\n        // because it treats domain as a discrete set of sample values\n        // for computing the quantiles\n        if (this.definition.scale && this.definition.scale.type === 'quantile') {\n          return data.map(d => this.getValueFromDatum(d));\n        }\n\n        const extent = d3Extent(data, d => this.getValueFromDatum(d));\n        return typeof extent[0] === 'undefined' ? [0, 1] : extent;\n      }\n\n      if (type === 'temporal') {\n        const extent = d3Extent(data, d => this.getValueFromDatum(d));\n        return typeof extent[0] === 'undefined' ? [0, 1] : extent;\n      }\n\n      return [];\n    });\n\n    this.name = name;\n    this.channelType = channelType;\n    this.originalDefinition = originalDefinition;\n    this.definition = completeChannelDef(this.channelType, originalDefinition);\n    this.getValue = createGetterFromChannelDef(this.definition);\n    this.formatValue = isFieldDef(this.definition) ? createFormatter(this.definition) : fallbackFormatter;\n\n    if (this.definition.scale) {\n      const scale = createScale(this.definition.scale); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      this.encodeFunc = value => scale(value);\n\n      this.scale = scale;\n    } else {\n      const {\n        definition\n      } = this;\n      this.encodeFunc = isCompleteValueDef(definition) ? () => definition.value : identity;\n    }\n\n    if (this.definition.axis) {\n      this.axis = new ChannelEncoderAxis(this);\n    }\n  }\n\n  getDomain() {\n    if (this.scale && 'domain' in this.scale) {\n      return this.scale.domain();\n    }\n\n    return [];\n  }\n\n  setDomain(domain) {\n    if (this.definition.scale !== false && this.scale && !this.hasCategoricalColorScale() && 'domain' in this.scale) {\n      const config = this.definition.scale;\n      applyDomain(config, this.scale, domain);\n      applyRange(config, this.scale);\n      applyZero(config, this.scale);\n      applyNice(config, this.scale);\n    }\n\n    return this;\n  }\n\n  setDomainFromDataset(data) {\n    return this.scale && 'domain' in this.scale ? this.setDomain(this.getDomainFromDataset(data)) : this;\n  }\n\n  getTitle() {\n    return this.definition.title;\n  }\n\n  isGroupBy() {\n    if (isTypedFieldDef(this.definition)) {\n      const {\n        type\n      } = this.definition;\n      return this.channelType === 'Category' || this.channelType === 'Text' || this.channelType === 'Color' && (type === 'nominal' || type === 'ordinal') || isXOrY(this.channelType) && (type === 'nominal' || type === 'ordinal');\n    }\n\n    return false;\n  }\n\n  isX() {\n    return isX(this.channelType);\n  }\n\n  isXOrY() {\n    return isXOrY(this.channelType);\n  }\n\n  isY() {\n    return isY(this.channelType);\n  }\n\n  hasCategoricalColorScale() {\n    const config = this.definition.scale; // Scale type is ordinal with not given range\n    // (may have optional scheme)\n    // will become a categorical scale\n    // of named color scheme.\n    // A color scale from named color scheme may be shared among multiple components\n    // in the same namespace by default, so changing its domain affect all components.\n    // (Sounds like a bad idea.)\n    // This function is currently only being used to check\n    // whether to apply domain from dataset or not.\n    // An ordinal scale with user-specified color scheme as range array\n    // will return false from this function and be excluded from it.\n\n    return this.scale && config && config.type === ScaleType.ORDINAL && typeof config.range === 'undefined';\n  }\n\n  hasLegend() {\n    return this.definition.legend !== false;\n  }\n\n  hasValueDefinition() {\n    return isCompleteValueDef(this.definition);\n  }\n\n  hasFieldDefinition() {\n    return isCompleteFieldDef(this.definition);\n  }\n\n}","import get from 'lodash.get';\nimport { isValueDef } from '../typeGuards/ChannelDef';\nexport default function createGetterFromChannelDef(definition) {\n  if (isValueDef(definition)) {\n    return () => definition.value;\n  }\n\n  if (typeof definition.field !== 'undefined') {\n    return x => get(x, definition.field);\n  }\n\n  return () => undefined;\n}","import { ScaleType } from '../../types';\nimport createScaleFromScaleType from './createScaleFromScaleType';\nimport updateScale from './updateScale';\nimport Encodable from '../../options/Encodable';\nimport { isSchemeParams } from '../../typeGuards/SchemeParams';\nimport applyDomain from './applyDomain';\n\nfunction createScale(config) {\n  const {\n    range\n  } = config; // Handle categorical color scales\n  // An ordinal scale without specified range\n  // is assumed to be a color scale.\n\n  if (config.type === ScaleType.ORDINAL && typeof range === 'undefined') {\n    const scheme = 'scheme' in config ? config.scheme : undefined;\n    const resolve = Encodable.getCategoricalColorScaleResolver();\n    let colorScale;\n\n    if (typeof scheme === 'undefined') {\n      colorScale = resolve({});\n    } else if (isSchemeParams(scheme)) {\n      colorScale = resolve(scheme);\n    } else {\n      colorScale = resolve({\n        name: scheme\n      });\n    }\n\n    const castedColorScale = colorScale;\n    applyDomain(config, castedColorScale);\n    return castedColorScale;\n  }\n\n  const scale = createScaleFromScaleType(config.type);\n  return updateScale(scale, config);\n}\n\nexport default createScale;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isTypedFieldDef, isValueDef } from '../typeGuards/ChannelDef';\nimport { isNotArray } from '../typeGuards/Base';\nimport ChannelEncoder from './ChannelEncoder';\nexport default class Encoder {\n  constructor({\n    channelTypes,\n    encoding\n  }) {\n    _defineProperty(this, \"encoding\", void 0);\n\n    _defineProperty(this, \"channelTypes\", void 0);\n\n    _defineProperty(this, \"channels\", void 0);\n\n    _defineProperty(this, \"legends\", void 0);\n\n    this.channelTypes = channelTypes;\n    this.encoding = encoding;\n    const channelNames = this.getChannelNames(); // Create channel encoders\n\n    const channels = {};\n    channelNames.forEach(name => {\n      const channelEncoding = encoding[name];\n\n      if (Array.isArray(channelEncoding)) {\n        const definitions = channelEncoding;\n        channels[name] = definitions.map((definition, i) => new ChannelEncoder({\n          channelType: channelTypes[name],\n          definition,\n          name: name + \"[\" + i + \"]\"\n        }));\n      } else {\n        const definition = channelEncoding;\n        channels[name] = new ChannelEncoder({\n          channelType: channelTypes[name],\n          definition,\n          name: name\n        });\n      }\n    });\n    this.channels = channels; // Group the channels that use the same field together\n    // so they can share the same legend.\n\n    this.legends = {};\n    channelNames.map(name => this.channels[name]).forEach(c => {\n      if (isNotArray(c) && c.hasLegend() && isTypedFieldDef(c.definition)) {\n        const {\n          field\n        } = c.definition;\n        const channelEncoder = c;\n\n        if (this.legends[field]) {\n          this.legends[field].push(channelEncoder);\n        } else {\n          this.legends[field] = [channelEncoder];\n        }\n      }\n    });\n  }\n\n  getChannelNames() {\n    return Object.keys(this.channelTypes);\n  }\n\n  getChannelEncoders() {\n    return this.getChannelNames().flatMap(name => this.channels[name]);\n  }\n\n  getGroupBys() {\n    const fields = this.getChannelEncoders().filter(c => c.isGroupBy()).map(c => c.definition.field);\n    return Array.from(new Set(fields));\n  }\n\n  createLegendItemsFactory(field) {\n    const channelEncoders = this.getChannelEncoders().filter(e => isNotArray(e) && isValueDef(e.definition)).flat().concat(this.legends[field]);\n    return domain => domain.map(input => ({\n      input,\n      output: channelEncoders.reduce((prev, curr) => {\n        const map = prev;\n        map[curr.name] = curr.encodeValue(input);\n        return map;\n      }, {})\n    }));\n  }\n\n  getLegendInformation(data = []) {\n    return Object.keys(this.legends) // for each field that was encoded\n    .map(field => {\n      // get all the channels that use this field\n      const channelEncoders = this.legends[field];\n      const firstEncoder = channelEncoders[0];\n      const definition = firstEncoder.definition;\n      const createLegendItems = this.createLegendItemsFactory(field);\n\n      if (definition.type === 'nominal') {\n        return {\n          channelEncoders,\n          createLegendItems,\n          field,\n          items: createLegendItems(firstEncoder.getDomainFromDataset(data)),\n          type: definition.type\n        };\n      }\n\n      return {\n        channelEncoders,\n        createLegendItems,\n        field,\n        type: definition.type\n      };\n    });\n  }\n\n  setDomainFromDataset(data) {\n    this.getChannelEncoders().forEach(channelEncoder => {\n      channelEncoder.setDomainFromDataset(data);\n    });\n    return this;\n  }\n\n  hasLegend() {\n    return Object.keys(this.legends).length > 0;\n  }\n\n}","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport cloudLayout, { Word } from 'd3-cloud';\nimport {\n  PlainObject,\n  createEncoderFactory,\n  DeriveEncoding,\n  Encoder,\n} from 'encodable';\nimport {\n  SupersetThemeProps,\n  withTheme,\n  seed,\n  CategoricalColorScale,\n} from '@superset-ui/core';\n\nconst seedRandom = seed('superset-ui');\nexport const ROTATION = {\n  flat: () => 0,\n  // this calculates a random rotation between -90 and 90 degrees.\n  random: () => Math.floor(seedRandom() * 6 - 3) * 30,\n  square: () => Math.floor(seedRandom() * 2) * 90,\n};\n\nexport type RotationType = keyof typeof ROTATION;\n\nexport type WordCloudEncoding = DeriveEncoding<WordCloudEncodingConfig>;\n\ntype WordCloudEncodingConfig = {\n  color: ['Color', string];\n  fontFamily: ['Category', string];\n  fontSize: ['Numeric', number];\n  fontWeight: ['Category', string | number];\n  text: ['Text', string];\n};\n\n/**\n * These props should be stored when saving the chart.\n */\nexport interface WordCloudVisualProps {\n  encoding?: Partial<WordCloudEncoding>;\n  rotation?: RotationType;\n}\n\nexport interface WordCloudProps extends WordCloudVisualProps {\n  data: PlainObject[];\n  height: number;\n  width: number;\n  sliceId: number;\n}\n\nexport interface WordCloudState {\n  words: Word[];\n  scaleFactor: number;\n}\n\nconst defaultProps: Required<WordCloudVisualProps> = {\n  encoding: {},\n  rotation: 'flat',\n};\n\ntype FullWordCloudProps = WordCloudProps &\n  typeof defaultProps &\n  SupersetThemeProps;\n\nconst SCALE_FACTOR_STEP = 0.5;\nconst MAX_SCALE_FACTOR = 3;\n// Percentage of top results that will always be displayed.\n// Needed to avoid clutter when shrinking a chart with many records.\nconst TOP_RESULTS_PERCENTAGE = 0.1;\n\nclass WordCloud extends React.PureComponent<\n  FullWordCloudProps,\n  WordCloudState\n> {\n  static defaultProps = defaultProps;\n\n  // Cannot name it isMounted because of conflict\n  // with React's component function name\n  isComponentMounted = false;\n\n  wordCloudEncoderFactory = createEncoderFactory<WordCloudEncodingConfig>({\n    channelTypes: {\n      color: 'Color',\n      fontFamily: 'Category',\n      fontSize: 'Numeric',\n      fontWeight: 'Category',\n      text: 'Text',\n    },\n    defaultEncoding: {\n      color: { value: this.props.theme.colors.grayscale.dark2 },\n      fontFamily: { value: this.props.theme.typography.families.sansSerif },\n      fontSize: { value: 20 },\n      fontWeight: { value: 'bold' },\n      text: { value: '' },\n    },\n  });\n\n  createEncoder = this.wordCloudEncoderFactory.createSelector();\n\n  constructor(props: FullWordCloudProps) {\n    super(props);\n    this.state = {\n      words: [],\n      scaleFactor: 1,\n    };\n    this.setWords = this.setWords.bind(this);\n  }\n\n  componentDidMount() {\n    this.isComponentMounted = true;\n    this.update();\n  }\n\n  componentDidUpdate(prevProps: WordCloudProps) {\n    const { data, encoding, width, height, rotation } = this.props;\n\n    if (\n      prevProps.data !== data ||\n      prevProps.encoding !== encoding ||\n      prevProps.width !== width ||\n      prevProps.height !== height ||\n      prevProps.rotation !== rotation\n    ) {\n      this.update();\n    }\n  }\n\n  componentWillUnmount() {\n    this.isComponentMounted = false;\n  }\n\n  setWords(words: Word[]) {\n    if (this.isComponentMounted) {\n      this.setState({ words });\n    }\n  }\n\n  update() {\n    const { data, encoding } = this.props;\n\n    const encoder = this.createEncoder(encoding);\n    encoder.setDomainFromDataset(data);\n\n    const sortedData = [...data].sort(\n      (a, b) =>\n        encoder.channels.fontSize.encodeDatum(b, 0) -\n        encoder.channels.fontSize.encodeDatum(a, 0),\n    );\n    const topResultsCount = Math.max(\n      sortedData.length * TOP_RESULTS_PERCENTAGE,\n      10,\n    );\n    const topResults = sortedData.slice(0, topResultsCount);\n\n    // Ensure top results are always included in the final word cloud by scaling chart down if needed\n    this.generateCloud(encoder, 1, (words: Word[]) =>\n      topResults.every((d: PlainObject) =>\n        words.find(\n          ({ text }) => encoder.channels.text.getValueFromDatum(d) === text,\n        ),\n      ),\n    );\n  }\n\n  generateCloud(\n    encoder: Encoder<WordCloudEncodingConfig>,\n    scaleFactor: number,\n    isValid: (word: Word[]) => boolean,\n  ) {\n    const { data, width, height, rotation } = this.props;\n\n    cloudLayout()\n      .size([width * scaleFactor, height * scaleFactor])\n      // clone the data because cloudLayout mutates input\n      .words(data.map(d => ({ ...d })))\n      .padding(5)\n      .rotate(ROTATION[rotation] || ROTATION.flat)\n      .text(d => encoder.channels.text.getValueFromDatum(d))\n      .font(d =>\n        encoder.channels.fontFamily.encodeDatum(\n          d,\n          this.props.theme.typography.families.sansSerif,\n        ),\n      )\n      .fontWeight(d => encoder.channels.fontWeight.encodeDatum(d, 'normal'))\n      .fontSize(d => encoder.channels.fontSize.encodeDatum(d, 0))\n      .on('end', (words: Word[]) => {\n        if (isValid(words) || scaleFactor > MAX_SCALE_FACTOR) {\n          if (this.isComponentMounted) {\n            this.setState({ words, scaleFactor });\n          }\n        } else {\n          this.generateCloud(encoder, scaleFactor + SCALE_FACTOR_STEP, isValid);\n        }\n      })\n      .start();\n  }\n\n  render() {\n    const { scaleFactor } = this.state;\n    const { width, height, encoding, sliceId } = this.props;\n    const { words } = this.state;\n\n    const encoder = this.createEncoder(encoding);\n    encoder.channels.color.setDomainFromDataset(words);\n\n    const { getValueFromDatum } = encoder.channels.color;\n    const colorFn = encoder.channels.color.scale as CategoricalColorScale;\n\n    const viewBoxWidth = width * scaleFactor;\n    const viewBoxHeight = height * scaleFactor;\n\n    return (\n      <svg\n        width={width}\n        height={height}\n        viewBox={`-${viewBoxWidth / 2} -${\n          viewBoxHeight / 2\n        } ${viewBoxWidth} ${viewBoxHeight}`}\n      >\n        <g>\n          {words.map(w => (\n            <text\n              key={w.text}\n              fontSize={`${w.size}px`}\n              fontWeight={w.weight}\n              fontFamily={w.font}\n              fill={colorFn(getValueFromDatum(w) as string, sliceId)}\n              textAnchor=\"middle\"\n              transform={`translate(${w.x}, ${w.y}) rotate(${w.rotate})`}\n            >\n              {w.text}\n            </text>\n          ))}\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default withTheme(WordCloud);\n","import { createSelector } from 'reselect';\nimport Encoder from './Encoder';\nimport mergeEncoding from '../utils/mergeEncoding';\nexport default function createEncoderFactory(params) {\n  const {\n    channelTypes\n  } = params;\n  const completeEncoding = 'defaultEncoding' in params ? encoding => mergeEncoding(params.defaultEncoding, encoding) : params.completeEncoding;\n\n  const create = (encoding = {}) => new Encoder({\n    channelTypes,\n    encoding: completeEncoding(encoding)\n  });\n\n  return {\n    channelTypes,\n    create,\n    createSelector: () => createSelector(encoding => encoding, create),\n    DEFAULT_ENCODING: completeEncoding({})\n  };\n}","export default function mergeEncoding(defaultEncoding, encoding) {\n  return { ...defaultEncoding,\n    ...encoding\n  };\n}"],"names":["dispatch","cloudRadians","Math","PI","ch","cloudText","d","text","cloudFont","cloudFontNormal","cloudFontSize","sqrt","value","cloudRotate","random","cloudPadding","cloudSprite","contextAndRatio","data","di","sprite","c","context","ratio","clearRect","x","y","maxh","n","length","save","font","style","weight","size","w","measureText","width","h","rotate","sr","sin","cr","cos","wcr","wsr","hcr","hsr","max","abs","translate","fillText","padding","lineWidth","strokeText","restore","height","xoff","yoff","x1","y1","x0","y0","hasText","pixels","getImageData","w32","i","seen","seenRow","j","k","m","slice","cloudCollide","tag","board","sw","last","lx","sx","msx","cloudBounds","bounds","b0","b1","archimedeanSpiral","e","t","cloudCanvas","document","createElement","functor","module","exports","fontSize","fontStyle","fontWeight","spiral","words","timeInterval","Infinity","event","timer","cloud","canvas","place","dxdy","dx","dy","a","b","startX","startY","maxDelta","s","dt","min","_","arguments","start","getContext","fillStyle","strokeStyle","textAlign","zeroArray","tags","map","call","this","sort","clearInterval","setInterval","step","Date","now","push","stop","spirals","on","apply","archimedean","rectangular","sign","noop","test","Error","Dispatch","parseTypenames","typenames","types","trim","split","name","indexOf","hasOwnProperty","type","get","set","callback","concat","prototype","constructor","typename","T","copy","that","args","Array","defaultEqualityCheck","areArgumentsShallowlyEqual","equalityCheck","prev","next","getDependencies","funcs","dependencies","isArray","every","dep","dependencyTypes","join","createSelector","memoize","_len","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","undefined","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","seed","seedRandom","isValueDef","channelDef","isFieldDef","field","isTypedFieldDef","isNotArray","maybeArray","isDefined","values","valueof","index","ScaleType","isX","channelType","isY","isXOrY","Object","keys","invalidTimeUnit","unitName","String","MONTHS","SHORT_MONTHS","DAYS","SHORT_DAYS","isNumber","isNumeric","isNaN","parseFloat","parseDateTime","dateTime","parts","normalize","day","year","month","Number","lowerM","toLowerCase","monthIndex","shortM","shortMonthIndex","normalizeMonth","quarter","q","console","warn","normalizeQuarter","date","lowerD","dayIndex","shortD","shortDayIndex","normalizeDay","forEach","timeUnit","unit","dateTimeParts","utc","UTC","dateTimeToTimestamp","isDateTime","o","hours","minutes","seconds","milliseconds","fallbackFormatter","v","createFormatter","formatType","format","formatInLocalTime","formatter","Encodable","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","ChannelEncoderAxis","channelEncoder","config","definition","axis","formatValue","getTitle","title","hasTitle","getTickLabels","tickCount","scale","ticks","domain","isEnabled","isDisabled","STRATEGY_FLAT","strategy","STRATEGY_ROTATE","labelAngle","expandLabelOverlapStrategy","labelOverlap","output","continuousToContinuousScaleTypes","continuousToContinuousScaleTypesSet","Set","continuousToDiscreteScaleTypes","continuousDomainScaleTypes","continuousScaleTypes","continuousScaleTypesSet","discreteScaleTypesSet","discretizingScaleTypesSet","allScaleTypes","allScaleTypesSet","inferScaleType","fieldType","bin","pointOrBand","pointOrBandSet","exceptPointOrBand","filter","has","exceptPointOrBandSet","continuousOrPointOrBandSet","zeroSet","delete","supportedScaleTypes","align","base","clamp","constant","exponent","interpolate","nice","paddingInner","paddingOuter","range","reverse","round","scheme","unknown","zero","isContinuousScaleConfig","temporalFieldNames","inferFieldType","completeChannelDef","_channelDef$title","legend","scaleType","filledScale","isScaleConfigWithZero","completeScaleConfig","resolvedFormatType","completeFormatConfig","copy2","isChannelDefWithAxisSupport","isXChannel","labelFlush","labelPadding","orient","titlePadding","completeAxisConfig","completeLegendConfig","e10","e5","e2","count","tickIncrement","isFinite","r0","r1","power","floor","log","LN10","error","pow","tickStep","step0","step1","NaN","f","delta","compare","left","lo","hi","mid","ascending","ascendingComparator","center","right","ascendingBisect","bisector","bisectRight","number","basis","t1","v0","v1","v2","v3","t2","t3","linear","hue","nogamma","rgbGamma","color","exponential","gamma","rgb","end","r","g","opacity","rgbSpline","spline","colors","genericArray","nb","na","setTime","reA","reB","RegExp","source","am","bm","bs","bi","lastIndex","exec","one","string","ArrayBuffer","isView","DataView","valueOf","toString","object","identity","bimap","d0","d1","polymap","bisect","target","transformer","transform","untransform","piecewise","input","rescale","invert","from","rangeRound","u","continuous","initRange","linearish","tickFormat","specifier","precision","prestep","i0","i1","maxIter","ceil","interval","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","E","log10","log2","logp","powp","p","z","transformPow","transformSqrt","transformSquare","powish","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationYear","t0","newInterval","floori","offseti","offset","previous","millisecond","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","setMonth","getMonth","getFullYear","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","ticker","week","tickIntervals","tickInterval","utcTicks","utcTickInterval","timeTicks","timeTickInterval","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","quantileSorted","value0","thresholds","invertExtent","quantiles","quantize","threshold","implicit","Symbol","ordinal","Map","band","bandwidth","ordinalRange","pointish","transformSymlog","log1p","transformSymexp","expm1","symlogish","symlog","createScaleFromScaleType","localTimeIntervals","utcIntervals","applyNice","timeScale","parsedInterval","isContinuousScale","applyZero","isDescending","domainWithZero","hcl","l","hclLong","hsl","hslLong","cubehelix","cubehelixGamma","interpolatorMap","lab","parseContinuousDomain","parseDiscreteDomain","removeUndefinedAndNull","array","parseDateTimeIn","applyDomain","dataDomain","order","createOrderFunction","isDiscretizingScale","isDiscretizingScaleConfig","boundMin","boundMax","dataMin","dataMax","combineContinuousDomains","isDiscreteScale","isDiscreteScaleConfig","fixedDomain","fixedCategories","inputCategories","fixedSet","combineCategories","isSchemeParams","applyRange","extent","schemeObject","wrappedScheme","wrapColorScheme","getColors","updateScale","applyAlign","applyBase","applyClamp","applyExponent","interpolator","createColorInterpolator","applyInterpolate","applyPadding","roundableScale","applyRound","isCompleteValueDef","def","ChannelEncoder","originalDefinition","otherwise","encodeFunc","datum","encodeValue","getValueFromDatum","getValue","resolve","colorScale","castedColorScale","getDomain","setDomain","hasCategoricalColorScale","setDomainFromDataset","getDomainFromDataset","isGroupBy","hasLegend","hasValueDefinition","hasFieldDefinition","Encoder","channelTypes","encoding","channelNames","getChannelNames","channels","channelEncoding","definitions","legends","getChannelEncoders","flatMap","getGroupBys","fields","createLegendItemsFactory","channelEncoders","flat","reduce","curr","getLegendInformation","firstEncoder","createLegendItems","items","ROTATION","square","WordCloud","props","super","isComponentMounted","wordCloudEncoderFactory","completeEncoding","defaultEncoding","mergeEncoding","create","DEFAULT_ENCODING","createEncoderFactory","fontFamily","theme","grayscale","dark2","typography","families","sansSerif","createEncoder","state","scaleFactor","setWords","bind","componentDidMount","update","componentDidUpdate","prevProps","rotation","componentWillUnmount","setState","encoder","sortedData","encodeDatum","topResultsCount","topResults","generateCloud","find","isValid","render","sliceId","colorFn","viewBoxWidth","viewBoxHeight","viewBox","fill","textAnchor","defaultProps"],"sourceRoot":""}