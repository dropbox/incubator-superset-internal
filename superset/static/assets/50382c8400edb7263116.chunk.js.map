{"version":3,"file":"50382c8400edb7263116.chunk.js","mappings":"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","sources":["webpack://superset/./plugins/legacy-plugin-chart-heatmap/src/Heatmap.js","webpack://superset/./plugins/legacy-plugin-chart-heatmap/src/ReactHeatmap.jsx","webpack://superset/./node_modules/d3-svg-legend/index.js","webpack://superset/./node_modules/d3-svg-legend/no-extend.js","webpack://superset/./node_modules/d3-svg-legend/src/color.js","webpack://superset/./node_modules/d3-svg-legend/src/legend.js","webpack://superset/./node_modules/d3-svg-legend/src/size.js","webpack://superset/./node_modules/d3-svg-legend/src/symbol.js","webpack://superset/./packages/superset-ui-core/src/chart/components/reactify.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable func-names, react/sort-prop-types */\nimport d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport 'd3-svg-legend';\nimport d3tip from 'd3-tip';\nimport {\n  getColumnLabel,\n  getMetricLabel,\n  getNumberFormatter,\n  NumberFormats,\n  getSequentialSchemeRegistry,\n} from '@superset-ui/core';\n\nconst propTypes = {\n  data: PropTypes.shape({\n    records: PropTypes.arrayOf(\n      PropTypes.shape({\n        x: PropTypes.string,\n        y: PropTypes.string,\n        v: PropTypes.number,\n        perc: PropTypes.number,\n        rank: PropTypes.number,\n      }),\n    ),\n    extents: PropTypes.arrayOf(PropTypes.number),\n  }),\n  width: PropTypes.number,\n  height: PropTypes.number,\n  bottomMargin: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  colorScheme: PropTypes.string,\n  columnX: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  columnY: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  leftMargin: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  metric: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  normalized: PropTypes.bool,\n  valueFormatter: PropTypes.object,\n  showLegend: PropTypes.bool,\n  showPercentage: PropTypes.bool,\n  showValues: PropTypes.bool,\n  sortXAxis: PropTypes.string,\n  sortYAxis: PropTypes.string,\n  xScaleInterval: PropTypes.number,\n  yScaleInterval: PropTypes.number,\n  yAxisBounds: PropTypes.arrayOf(PropTypes.number),\n};\n\nfunction cmp(a, b) {\n  return a > b ? 1 : -1;\n}\n\nconst DEFAULT_PROPERTIES = {\n  minChartWidth: 150,\n  minChartHeight: 150,\n  marginLeft: 35,\n  marginBottom: 35,\n  marginTop: 10,\n  marginRight: 10,\n};\n\n// Inspired from http://bl.ocks.org/mbostock/3074470\n// https://jsfiddle.net/cyril123/h0reyumq/\nfunction Heatmap(element, props) {\n  const {\n    data,\n    width,\n    height,\n    bottomMargin,\n    canvasImageRendering,\n    colorScheme,\n    columnX,\n    columnY,\n    leftMargin,\n    metric,\n    normalized,\n    valueFormatter,\n    showLegend,\n    showPercentage,\n    showValues,\n    sortXAxis,\n    sortYAxis,\n    xScaleInterval,\n    yScaleInterval,\n    yAxisBounds,\n    xAxisFormatter,\n    yAxisFormatter,\n  } = props;\n\n  const { extents } = data;\n  const records = data.records.map(record => ({\n    ...record,\n    x: xAxisFormatter(record.x),\n    y: yAxisFormatter(record.y),\n  }));\n\n  const margin = {\n    top: 10,\n    right: 10,\n    bottom: 35,\n    left: 35,\n  };\n\n  let showY = true;\n  let showX = true;\n  const pixelsPerCharX = 4.5; // approx, depends on font size\n  let pixelsPerCharY = 6; // approx, depends on font size\n\n  // Dynamically adjusts  based on max x / y category lengths\n  function adjustMargins() {\n    let longestX = 1;\n    let longestY = 1;\n\n    records.forEach(datum => {\n      if (typeof datum.y === 'number') pixelsPerCharY = 7;\n      longestX = Math.max(\n        longestX,\n        (datum.x && datum.x.toString().length) || 1,\n      );\n      longestY = Math.max(\n        longestY,\n        (datum.y && datum.y.toString().length) || 1,\n      );\n    });\n\n    if (leftMargin === 'auto') {\n      margin.left = Math.ceil(Math.max(margin.left, pixelsPerCharY * longestY));\n    } else {\n      margin.left = leftMargin;\n    }\n\n    if (showLegend) {\n      margin.right += 40;\n    }\n\n    margin.bottom =\n      bottomMargin === 'auto'\n        ? Math.ceil(Math.max(margin.bottom, pixelsPerCharX * longestX))\n        : bottomMargin;\n  }\n\n  // Check if x axis \"x\" position is outside of the container and rotate labels 90deg\n  function checkLabelPosition(container) {\n    const xAxisNode = container.select('.x.axis').node();\n\n    if (!xAxisNode) {\n      return;\n    }\n\n    if (\n      xAxisNode.getBoundingClientRect().x + 4 <\n      container.node().getBoundingClientRect().x\n    ) {\n      container\n        .selectAll('.x.axis')\n        .selectAll('text')\n        .attr('transform', 'rotate(-90)')\n        .attr('x', -6)\n        .attr('y', 0)\n        .attr('dy', '0.3em');\n    }\n  }\n\n  function ordScale(k, rangeBands, sortMethod) {\n    let domain = {};\n    const actualKeys = {}; // hack to preserve type of keys when number\n    records.forEach(d => {\n      domain[d[k]] = (domain[d[k]] || 0) + d.v;\n      actualKeys[d[k]] = d[k];\n    });\n    // Not using object.keys() as it converts to strings\n    const keys = Object.keys(actualKeys).map(s => actualKeys[s]);\n    if (sortMethod === 'alpha_asc') {\n      domain = keys.sort(cmp);\n    } else if (sortMethod === 'alpha_desc') {\n      domain = keys.sort(cmp).reverse();\n    } else if (sortMethod === 'value_desc') {\n      domain = Object.keys(domain).sort((a, b) =>\n        domain[a] > domain[b] ? -1 : 1,\n      );\n    } else if (sortMethod === 'value_asc') {\n      domain = Object.keys(domain).sort((a, b) =>\n        domain[b] > domain[a] ? -1 : 1,\n      );\n    }\n\n    if (k === 'y' && rangeBands) {\n      domain.reverse();\n    }\n\n    if (rangeBands) {\n      return d3.scale.ordinal().domain(domain).rangeBands(rangeBands);\n    }\n\n    return d3.scale.ordinal().domain(domain).range(d3.range(domain.length));\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  element.innerHTML = '';\n  const matrix = {};\n\n  adjustMargins();\n\n  let hmWidth = width - (margin.left + margin.right);\n  let hmHeight = height - (margin.bottom + margin.top);\n  const hideYLabel = () => {\n    margin.left =\n      leftMargin === 'auto' ? DEFAULT_PROPERTIES.marginLeft : leftMargin;\n    hmWidth = width - (margin.left + margin.right);\n    showY = false;\n  };\n\n  const hideXLabel = () => {\n    margin.bottom =\n      bottomMargin === 'auto' ? DEFAULT_PROPERTIES.marginBottom : bottomMargin;\n    hmHeight = height - (margin.bottom + margin.top);\n    showX = false;\n  };\n\n  // Hide Y Labels\n  if (hmWidth < DEFAULT_PROPERTIES.minChartWidth) {\n    hideYLabel();\n  }\n\n  // Hide X Labels\n  if (\n    hmHeight < DEFAULT_PROPERTIES.minChartHeight ||\n    hmWidth < DEFAULT_PROPERTIES.minChartWidth\n  ) {\n    hideXLabel();\n  }\n\n  if (showY && hmHeight < DEFAULT_PROPERTIES.minChartHeight) {\n    hideYLabel();\n  }\n\n  const fp = getNumberFormatter(NumberFormats.PERCENT);\n\n  const xScale = ordScale('x', null, sortXAxis);\n  const yScale = ordScale('y', null, sortYAxis);\n  const xRbScale = ordScale('x', [0, hmWidth], sortXAxis);\n  const yRbScale = ordScale('y', [hmHeight, 0], sortYAxis);\n  const X = 0;\n  const Y = 1;\n  const heatmapDim = [xRbScale.domain().length, yRbScale.domain().length];\n\n  const minBound = yAxisBounds[0] || 0;\n  const maxBound = yAxisBounds[1] || 1;\n  const colorScale = getSequentialSchemeRegistry()\n    .get(colorScheme)\n    .createLinearScale([minBound, maxBound]);\n\n  const scale = [\n    d3.scale.linear().domain([0, heatmapDim[X]]).range([0, hmWidth]),\n    d3.scale.linear().domain([0, heatmapDim[Y]]).range([0, hmHeight]),\n  ];\n\n  const container = d3.select(element);\n  container.classed('superset-legacy-chart-heatmap', true);\n\n  const canvas = container\n    .append('canvas')\n    .attr('width', heatmapDim[X])\n    .attr('height', heatmapDim[Y])\n    .style('width', `${hmWidth}px`)\n    .style('height', `${hmHeight}px`)\n    .style('image-rendering', canvasImageRendering)\n    .style('left', `${margin.left}px`)\n    .style('top', `${margin.top}px`)\n    .style('position', 'absolute');\n\n  const svg = container\n    .append('svg')\n    .attr('width', width)\n    .attr('height', height)\n    .attr('class', 'heatmap-container')\n    .style('position', 'relative');\n\n  if (showValues) {\n    const cells = svg\n      .selectAll('rect')\n      .data(records)\n      .enter()\n      .append('g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    cells\n      .append('text')\n      .attr('transform', d => `translate(${xRbScale(d.x)}, ${yRbScale(d.y)})`)\n      .attr('y', yRbScale.rangeBand() / 2)\n      .attr('x', xRbScale.rangeBand() / 2)\n      .attr('text-anchor', 'middle')\n      .attr('dy', '.35em')\n      .text(d => valueFormatter(d.v))\n      .attr(\n        'font-size',\n        `${Math.min(yRbScale.rangeBand(), xRbScale.rangeBand()) / 3}px`,\n      )\n      .attr('fill', d => (d.v >= extents[1] / 2 ? 'white' : 'black'));\n  }\n\n  if (showLegend) {\n    const colorLegend = d3.legend\n      .color()\n      .labelFormat(valueFormatter)\n      .scale(colorScale)\n      .shapePadding(0)\n      .cells(10)\n      .shapeWidth(10)\n      .shapeHeight(10)\n      .labelOffset(3);\n\n    svg\n      .append('g')\n      .attr('transform', `translate(${width - 40}, ${margin.top})`)\n      .call(colorLegend);\n  }\n\n  const tip = d3tip()\n    .attr('class', 'd3-tip')\n    .offset(function () {\n      const k = d3.mouse(this);\n      const x = k[0] - hmWidth / 2;\n\n      return [k[1] - 20, x];\n    })\n    .html(function () {\n      let s = '';\n      const k = d3.mouse(this);\n      const m = Math.floor(scale[0].invert(k[0]));\n      const n = Math.floor(scale[1].invert(k[1]));\n      if (m in matrix && n in matrix[m]) {\n        const obj = matrix[m][n];\n        s += `<div><b>${getColumnLabel(columnX)}: </b>${obj.x}<div>`;\n        s += `<div><b>${getColumnLabel(columnY)}: </b>${obj.y}<div>`;\n        s += `<div><b>${getMetricLabel(metric)}: </b>${valueFormatter(\n          obj.v,\n        )}<div>`;\n        if (showPercentage) {\n          s += `<div><b>%: </b>${fp(normalized ? obj.rank : obj.perc)}<div>`;\n        }\n        tip.style('display', null);\n      } else {\n        // this is a hack to hide the tooltip because we have map it to a single <rect>\n        // d3-tip toggles opacity and calling hide here is undone by the lib after this call\n        tip.style('display', 'none');\n      }\n\n      return s;\n    });\n\n  const rect = svg\n    .append('g')\n    .attr('transform', `translate(${margin.left}, ${margin.top})`)\n    .append('rect')\n    .classed('background-rect', true)\n    .on('mousemove', tip.show)\n    .on('mouseout', tip.hide)\n    .attr('width', hmWidth)\n    .attr('height', hmHeight);\n\n  rect.call(tip);\n\n  if (showX) {\n    const xAxis = d3.svg\n      .axis()\n      .scale(xRbScale)\n      .outerTickSize(0)\n      .tickValues(xRbScale.domain().filter((d, i) => !(i % xScaleInterval)))\n      .orient('bottom');\n\n    svg\n      .append('g')\n      .attr('class', 'x axis')\n      .attr('transform', `translate(${margin.left},${margin.top + hmHeight})`)\n      .call(xAxis)\n      .selectAll('text')\n      .attr('x', -4)\n      .attr('y', 10)\n      .attr('dy', '0.3em')\n      .style('text-anchor', 'end')\n      .attr('transform', 'rotate(-45)');\n  }\n\n  if (showY) {\n    const yAxis = d3.svg\n      .axis()\n      .scale(yRbScale)\n      .outerTickSize(0)\n      .tickValues(yRbScale.domain().filter((d, i) => !(i % yScaleInterval)))\n      .orient('left');\n\n    svg\n      .append('g')\n      .attr('class', 'y axis')\n      .attr('transform', `translate(${margin.left},${margin.top})`)\n      .call(yAxis);\n  }\n\n  checkLabelPosition(container);\n  const context = canvas.node().getContext('2d');\n  context.imageSmoothingEnabled = false;\n\n  // Compute the pixel colors; scaled by CSS.\n  function createImageObj() {\n    const imageObj = new Image();\n    const image = context.createImageData(heatmapDim[0], heatmapDim[1]);\n    const pixs = {};\n    records.forEach(d => {\n      const c = d3.rgb(colorScale(normalized ? d.rank : d.perc));\n      const x = xScale(d.x);\n      const y = yScale(d.y);\n      pixs[x + y * xScale.domain().length] = c;\n      if (matrix[x] === undefined) {\n        matrix[x] = {};\n      }\n      if (matrix[x][y] === undefined) {\n        matrix[x][y] = d;\n      }\n    });\n\n    let p = 0;\n    for (let i = 0; i < heatmapDim[0] * heatmapDim[1]; i += 1) {\n      let c = pixs[i];\n      let alpha = 255;\n      if (c === undefined) {\n        c = d3.rgb('#F00');\n        alpha = 0;\n      }\n      image.data[p + 0] = c.r;\n      image.data[p + 1] = c.g;\n      image.data[p + 2] = c.b;\n      image.data[p + 3] = alpha;\n      p += 4;\n    }\n    context.putImageData(image, 0, 0);\n    imageObj.src = canvas.node().toDataURL();\n  }\n  createImageObj();\n}\n\nHeatmap.displayName = 'Heatmap';\nHeatmap.propTypes = propTypes;\n\nexport default Heatmap;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { reactify, css, styled } from '@superset-ui/core';\nimport { Global } from '@emotion/react';\nimport Component from './Heatmap';\n\nfunction componentWillUnmount() {\n  // Removes tooltips from the DOM\n  document.querySelectorAll('.d3-tip').forEach(t => t.remove());\n}\n\nconst ReactComponent = reactify(Component, { componentWillUnmount });\n\nconst Heatmap = ({ className, ...otherProps }) => (\n  <div className={className}>\n    <Global\n      styles={theme => css`\n        .d3-tip {\n          line-height: 1;\n          padding: ${theme.gridUnit * 3}px;\n          background: ${theme.colors.grayscale.dark2};\n          color: ${theme.colors.grayscale.light5};\n          border-radius: 4px;\n          pointer-events: none;\n          z-index: 1000;\n          font-size: ${theme.typography.sizes.s}px;\n        }\n\n        /* Creates a small triangle extender for the tooltip */\n        .d3-tip:after {\n          box-sizing: border-box;\n          display: inline;\n          font-size: ${theme.typography.sizes.xs};\n          width: 100%;\n          line-height: 1;\n          color: ${theme.colors.grayscale.dark2};\n          position: absolute;\n          pointer-events: none;\n        }\n\n        /* Northward tooltips */\n        .d3-tip.n:after {\n          content: '\\\\25BC';\n          margin: -${theme.gridUnit}px 0 0 0;\n          top: 100%;\n          left: 0;\n          text-align: center;\n        }\n\n        /* Eastward tooltips */\n        .d3-tip.e:after {\n          content: '\\\\25C0';\n          margin: -${theme.gridUnit}px 0 0 0;\n          top: 50%;\n          left: -${theme.gridUnit * 2}px;\n        }\n\n        /* Southward tooltips */\n        .d3-tip.s:after {\n          content: '\\\\25B2';\n          margin: 0;\n          top: -${theme.gridUnit * 2}px;\n          left: 0;\n          text-align: center;\n        }\n\n        /* Westward tooltips */\n        .d3-tip.w:after {\n          content: '\\\\25B6';\n          margin: -${theme.gridUnit}px 0 0 0px;\n          top: 50%;\n          left: 100%;\n        }\n      `}\n    />\n    <ReactComponent {...otherProps} />\n  </div>\n);\n\nexport default styled(Heatmap)`\n  ${({ theme }) => `\n    .superset-legacy-chart-heatmap {\n      position: relative;\n      top: 0;\n      left: 0;\n      height: 100%;\n    }\n\n    .superset-legacy-chart-heatmap .axis text {\n      font-size: ${theme.typography.sizes.xs}px;\n      text-rendering: optimizeLegibility;\n    }\n\n    .superset-legacy-chart-heatmap .background-rect {\n      stroke: ${theme.colors.grayscale.light2};\n      fill-opacity: 0;\n      pointer-events: all;\n    }\n\n    .superset-legacy-chart-heatmap .axis path,\n    .superset-legacy-chart-heatmap .axis line {\n      fill: none;\n      stroke: ${theme.colors.grayscale.light2};\n      shape-rendering: crispEdges;\n    }\n\n    .superset-legacy-chart-heatmap canvas,\n    .superset-legacy-chart-heatmap img {\n      image-rendering: optimizeSpeed; /* Older versions of FF */\n      image-rendering: -moz-crisp-edges; /* FF 6.0+ */\n      image-rendering: -webkit-optimize-contrast; /* Safari */\n      image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n      image-rendering: pixelated; /* Awesome future-browsers */\n      -ms-interpolation-mode: nearest-neighbor; /* IE */\n    }\n\n    .superset-legacy-chart-heatmap .legendCells text {\n      font-size: ${theme.typography.sizes.xs}px;\n      font-weight: ${theme.typography.weights.normal};\n      opacity: 0;\n    }\n\n    .superset-legacy-chart-heatmap .legendCells .cell:first-child text {\n      opacity: 1;\n    }\n\n    .superset-legacy-chart-heatmap .legendCells .cell:last-child text {\n      opacity: 1;\n    }\n\n    .dashboard .superset-legacy-chart-heatmap .axis text {\n      font-size: ${theme.typography.sizes.xs}px;\n      opacity: ${theme.opacity.heavy};\n    }\n  `}\n`;\n","var d3 = require('d3');\n\nd3.legend = require('./no-extend');\n\nmodule.exports = d3;\n","module.exports = {\n  color: require('./src/color'),\n  size: require('./src/size'),\n  symbol: require('./src/symbol')\n};\n","var helper = require('./legend');\n\nmodule.exports = function(){\n\n  var scale = d3.scale.linear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 2,\n    cells = [5],\n    labels = [],\n    classPrefix = \"\",\n    useClass = false,\n    title = \"\",\n    labelFormat = d3.format(\".01f\"),\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = \"to\",\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    legendDispatcher = d3.dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      var type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n\n      var cell = legendG.selectAll(\".\" + classPrefix + \"cell\").data(type.data),\n        cellEnter = cell.enter().append(\"g\", \".cell\").attr(\"class\", classPrefix + \"cell\").style(\"opacity\", 1e-6),\n        shapeEnter = cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\"),\n        shapes = cell.select(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path);\n\n      helper.d3_addText(legendG, cellEnter, type.labels, classPrefix)\n\n      // sets placement\n      var text = cell.select(\"text\"),\n        shapeSize = shapes[0].map( function(d){ return d.getBBox(); });\n\n      //sets scale\n      //everything is fill except for line which is stroke,\n      if (!useClass){\n        if (shape == \"line\"){\n          shapes.style(\"stroke\", type.feature);\n        } else {\n          shapes.style(\"fill\", type.feature);\n        }\n      } else {\n        shapes.attr(\"class\", function(d){ return classPrefix + \"swatch \" + type.feature(d); });\n      }\n\n      var cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n        cellTrans = function(d,i) { return \"translate(0, \" + (i * (shapeSize[i].height + shapePadding)) + \")\"; };\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width + shapeSize[i].x +\n          labelOffset) + \",\" + (shapeSize[i].y + shapeSize[i].height/2 + 5) + \")\"; };\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = function(d,i) { return \"translate(\" + (i * (shapeSize[i].width + shapePadding)) + \",0)\"; }\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) +\n          \",\" + (shapeSize[i].height + shapeSize[i].y + labelOffset + 8) + \")\"; };\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, legendG, title, classPrefix);\n\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" || (_ == \"path\" && (typeof d === 'string')) ){\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapeHeight = function(_) {\n    if (!arguments.length) return shapeHeight;\n    shapeHeight = +_;\n    return legend;\n  };\n\n  legend.shapeRadius = function(_) {\n    if (!arguments.length) return shapeRadius;\n    shapeRadius = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.useClass = function(_) {\n    if (!arguments.length) return useClass;\n    if (_ === true || _ === false){\n      useClass = _;\n    }\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  d3.rebind(legend, legendDispatcher, \"on\");\n\n  return legend;\n\n};\n","module.exports = {\n\n  d3_identity: function (d) {\n    return d;\n  },\n\n  d3_mergeLabels: function (gen, labels) {\n\n      if(labels.length === 0) return gen;\n\n      gen = (gen) ? gen : [];\n\n      var i = labels.length;\n      for (; i < gen.length; i++) {\n        labels.push(gen[i]);\n      }\n      return labels;\n    },\n\n  d3_linearLegend: function (scale, cells, labelFormat) {\n    var data = [];\n\n    if (cells.length > 1){\n      data = cells;\n\n    } else {\n      var domain = scale.domain(),\n      increment = (domain[domain.length - 1] - domain[0])/(cells - 1),\n      i = 0;\n\n      for (; i < cells; i++){\n        data.push(domain[0] + i*increment);\n      }\n    }\n\n    var labels = data.map(labelFormat);\n\n    return {data: data,\n            labels: labels,\n            feature: function(d){ return scale(d); }};\n  },\n\n  d3_quantLegend: function (scale, labelFormat, labelDelimiter) {\n    var labels = scale.range().map(function(d){\n      var invert = scale.invertExtent(d),\n      a = labelFormat(invert[0]),\n      b = labelFormat(invert[1]);\n\n      // if (( (a) && (a.isNan()) && b){\n      //   console.log(\"in initial statement\")\n        return labelFormat(invert[0]) + \" \" + labelDelimiter + \" \" + labelFormat(invert[1]);\n      // } else if (a || b) {\n      //   console.log('in else statement')\n      //   return (a) ? a : b;\n      // }\n\n    });\n\n    return {data: scale.range(),\n            labels: labels,\n            feature: this.d3_identity\n          };\n  },\n\n  d3_ordinalLegend: function (scale) {\n    return {data: scale.domain(),\n            labels: scale.domain(),\n            feature: function(d){ return scale(d); }};\n  },\n\n  d3_drawShapes: function (shape, shapes, shapeHeight, shapeWidth, shapeRadius, path) {\n    if (shape === \"rect\"){\n        shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth);\n\n    } else if (shape === \"circle\") {\n        shapes.attr(\"r\", shapeRadius)//.attr(\"cx\", shapeRadius).attr(\"cy\", shapeRadius);\n\n    } else if (shape === \"line\") {\n        shapes.attr(\"x1\", 0).attr(\"x2\", shapeWidth).attr(\"y1\", 0).attr(\"y2\", 0);\n\n    } else if (shape === \"path\") {\n      shapes.attr(\"d\", path);\n    }\n  },\n\n  d3_addText: function (svg, enter, labels, classPrefix){\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\");\n    svg.selectAll(\"g.\" + classPrefix + \"cell text.\" + classPrefix + \"label\")\n      .data(labels).text(this.d3_identity);\n  },\n\n  d3_calcType: function (scale, ascending, cells, labels, labelFormat, labelDelimiter){\n    var type = scale.ticks ?\n            this.d3_linearLegend(scale, cells, labelFormat) : scale.invertExtent ?\n            this.d3_quantLegend(scale, labelFormat, labelDelimiter) : this.d3_ordinalLegend(scale);\n\n    type.labels = this.d3_mergeLabels(type.labels, labels);\n\n    if (ascending) {\n      type.labels = this.d3_reverse(type.labels);\n      type.data = this.d3_reverse(type.data);\n    }\n\n    return type;\n  },\n\n  d3_reverse: function(arr) {\n    var mirror = [];\n    for (var i = 0, l = arr.length; i < l; i++) {\n      mirror[i] = arr[l-i-1];\n    }\n    return mirror;\n  },\n\n  d3_placement: function (orient, cell, cellTrans, text, textTrans, labelAlign) {\n    cell.attr(\"transform\", cellTrans);\n    text.attr(\"transform\", textTrans);\n    if (orient === \"horizontal\"){\n      text.style(\"text-anchor\", labelAlign);\n    }\n  },\n\n  d3_addEvents: function(cells, dispatcher){\n    var _ = this;\n\n      cells.on(\"mouseover.legend\", function (d) { _.d3_cellOver(dispatcher, d, this); })\n          .on(\"mouseout.legend\", function (d) { _.d3_cellOut(dispatcher, d, this); })\n          .on(\"click.legend\", function (d) { _.d3_cellClick(dispatcher, d, this); });\n  },\n\n  d3_cellOver: function(cellDispatcher, d, obj){\n    cellDispatcher.cellover.call(obj, d);\n  },\n\n  d3_cellOut: function(cellDispatcher, d, obj){\n    cellDispatcher.cellout.call(obj, d);\n  },\n\n  d3_cellClick: function(cellDispatcher, d, obj){\n    cellDispatcher.cellclick.call(obj, d);\n  },\n\n  d3_title: function(svg, cellsSvg, title, classPrefix){\n    if (title !== \"\"){\n\n      var titleText = svg.selectAll('text.' + classPrefix + 'legendTitle');\n\n      titleText.data([title])\n        .enter()\n        .append('text')\n        .attr('class', classPrefix + 'legendTitle');\n\n        svg.selectAll('text.' + classPrefix + 'legendTitle')\n            .text(title)\n\n      var yOffset = svg.select('.' + classPrefix + 'legendTitle')\n          .map(function(d) { return d[0].getBBox().height})[0],\n      xOffset = -cellsSvg.map(function(d) { return d[0].getBBox().x})[0];\n\n      cellsSvg.attr('transform', 'translate(' + xOffset + ',' + (yOffset + 10) + ')');\n\n    }\n  }\n}\n","var helper = require('./legend');\n\nmodule.exports =  function(){\n\n  var scale = d3.scale.linear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapePadding = 2,\n    cells = [5],\n    labels = [],\n    useStroke = false,\n    classPrefix = \"\",\n    title = \"\",\n    labelFormat = d3.format(\".01f\"),\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = \"to\",\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    legendDispatcher = d3.dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      var type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n\n      var cell = legendG.selectAll(\".\" + classPrefix + \"cell\").data(type.data),\n        cellEnter = cell.enter().append(\"g\", \".cell\").attr(\"class\", classPrefix + \"cell\").style(\"opacity\", 1e-6),\n        shapeEnter = cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\"),\n        shapes = cell.select(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      //creates shape\n      if (shape === \"line\"){\n        helper.d3_drawShapes(shape, shapes, 0, shapeWidth);\n        shapes.attr(\"stroke-width\", type.feature);\n      } else {\n        helper.d3_drawShapes(shape, shapes, type.feature, type.feature, type.feature, path);\n      }\n\n      helper.d3_addText(legendG, cellEnter, type.labels, classPrefix)\n\n      //sets placement\n      var text = cell.select(\"text\"),\n        shapeSize = shapes[0].map(\n          function(d, i){\n            var bbox = d.getBBox()\n            var stroke = scale(type.data[i]);\n\n            if (shape === \"line\" && orient === \"horizontal\") {\n              bbox.height = bbox.height + stroke;\n            } else if (shape === \"line\" && orient === \"vertical\"){\n              bbox.width = bbox.width;\n            }\n\n            return bbox;\n        });\n\n      var maxH = d3.max(shapeSize, function(d){ return d.height + d.y; }),\n      maxW = d3.max(shapeSize, function(d){ return d.width + d.x; });\n\n      var cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n\n        cellTrans = function(d,i) {\n            var height = d3.sum(shapeSize.slice(0, i + 1 ), function(d){ return d.height; });\n            return \"translate(0, \" + (height + i*shapePadding) + \")\"; };\n\n        textTrans = function(d,i) { return \"translate(\" + (maxW + labelOffset) + \",\" +\n          (shapeSize[i].y + shapeSize[i].height/2 + 5) + \")\"; };\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = function(d,i) {\n            var width = d3.sum(shapeSize.slice(0, i + 1 ), function(d){ return d.width; });\n            return \"translate(\" + (width + i*shapePadding) + \",0)\"; };\n\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) + \",\" +\n              (maxH + labelOffset ) + \")\"; };\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, legendG, title, classPrefix);\n\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" ){\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  d3.rebind(legend, legendDispatcher, \"on\");\n\n  return legend;\n\n};\n","var helper = require('./legend');\n\nmodule.exports = function(){\n\n  var scale = d3.scale.linear(),\n    shape = \"path\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 5,\n    cells = [5],\n    labels = [],\n    classPrefix = \"\",\n    useClass = false,\n    title = \"\",\n    labelFormat = d3.format(\".01f\"),\n    labelAlign = \"middle\",\n    labelOffset = 10,\n    labelDelimiter = \"to\",\n    orient = \"vertical\",\n    ascending = false,\n    legendDispatcher = d3.dispatch(\"cellover\", \"cellout\", \"cellclick\");\n\n    function legend(svg){\n\n      var type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n      var cell = legendG.selectAll(\".\" + classPrefix + \"cell\").data(type.data),\n        cellEnter = cell.enter().append(\"g\", \".cell\").attr(\"class\", classPrefix + \"cell\").style(\"opacity\", 1e-6),\n        shapeEnter = cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\"),\n        shapes = cell.select(\"g.\" + classPrefix + \"cell \" + shape);\n\n      //add event handlers\n      helper.d3_addEvents(cellEnter, legendDispatcher);\n\n      //remove old shapes\n      cell.exit().transition().style(\"opacity\", 0).remove();\n\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, type.feature);\n      helper.d3_addText(legendG, cellEnter, type.labels, classPrefix)\n\n      // sets placement\n      var text = cell.select(\"text\"),\n        shapeSize = shapes[0].map( function(d){ return d.getBBox(); });\n\n      var maxH = d3.max(shapeSize, function(d){ return d.height; }),\n      maxW = d3.max(shapeSize, function(d){ return d.width; });\n\n      var cellTrans,\n      textTrans,\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\n\n      //positions cells and text\n      if (orient === \"vertical\"){\n        cellTrans = function(d,i) { return \"translate(0, \" + (i * (maxH + shapePadding)) + \")\"; };\n        textTrans = function(d,i) { return \"translate(\" + (maxW + labelOffset) + \",\" +\n              (shapeSize[i].y + shapeSize[i].height/2 + 5) + \")\"; };\n\n      } else if (orient === \"horizontal\"){\n        cellTrans = function(d,i) { return \"translate(\" + (i * (maxW + shapePadding)) + \",0)\"; };\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) + \",\" +\n              (maxH + labelOffset ) + \")\"; };\n      }\n\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n      helper.d3_title(svg, legendG, title, classPrefix);\n      cell.transition().style(\"opacity\", 1);\n\n    }\n\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2 ){\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = _;\n    return legend;\n  };\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.orient = function(_){\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function(_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  d3.rebind(legend, legendDispatcher, \"on\");\n\n  return legend;\n\n};\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\n\n// TODO: Note that id and className can collide between Props and ReactifyProps\n// leading to (likely) unexpected behaviors. We should either require Props to not\n// contain an id/className, or not combine them (via intersection), instead preferring\n// wrapping (composition). As an example:\n// interface MyProps {\n//   id: number;\n// }\n// function myRender(container: HTMLDivElement, props: Readonly<MyProps>): void {\n//   props.id // unusable: id is string & number\n// }\n// new (reactify(myRender))({ id: 5 }); // error: id has to be string & number\n\nexport type ReactifyProps = {\n  id?: string;\n  className?: string;\n};\n\n// TODO: add more React lifecycle callbacks as needed\nexport type LifeCycleCallbacks = {\n  componentWillUnmount?: () => void;\n};\n\nexport interface RenderFuncType<Props> {\n  (container: HTMLDivElement, props: Readonly<Props & ReactifyProps>): void;\n  displayName?: string;\n  defaultProps?: Partial<Props & ReactifyProps>;\n  propTypes?: React.WeakValidationMap<Props & ReactifyProps>;\n}\n\nexport default function reactify<Props extends object>(\n  renderFn: RenderFuncType<Props>,\n  callbacks?: LifeCycleCallbacks,\n): React.ComponentClass<Props & ReactifyProps> {\n  class ReactifiedComponent extends React.Component<Props & ReactifyProps> {\n    container?: HTMLDivElement;\n\n    constructor(props: Props & ReactifyProps) {\n      super(props);\n      this.setContainerRef = this.setContainerRef.bind(this);\n    }\n\n    componentDidMount() {\n      this.execute();\n    }\n\n    componentDidUpdate() {\n      this.execute();\n    }\n\n    componentWillUnmount() {\n      this.container = undefined;\n      if (callbacks?.componentWillUnmount) {\n        callbacks.componentWillUnmount.bind(this)();\n      }\n    }\n\n    setContainerRef(ref: HTMLDivElement) {\n      this.container = ref;\n    }\n\n    execute() {\n      if (this.container) {\n        renderFn(this.container, this.props);\n      }\n    }\n\n    render() {\n      const { id, className } = this.props;\n\n      return <div ref={this.setContainerRef} id={id} className={className} />;\n    }\n  }\n\n  const ReactifiedClass: React.ComponentClass<Props & ReactifyProps> =\n    ReactifiedComponent;\n\n  if (renderFn.displayName) {\n    ReactifiedClass.displayName = renderFn.displayName;\n  }\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  if (renderFn.propTypes) {\n    ReactifiedClass.propTypes = {\n      ...ReactifiedClass.propTypes,\n      ...renderFn.propTypes,\n    };\n  }\n  if (renderFn.defaultProps) {\n    ReactifiedClass.defaultProps = renderFn.defaultProps;\n  }\n\n  return ReactifiedComponent;\n}\n"],"names":["propTypes","data","PropTypes","records","x","y","v","perc","rank","extents","width","height","bottomMargin","colorScheme","columnX","columnY","leftMargin","metric","normalized","valueFormatter","showLegend","showPercentage","showValues","sortXAxis","sortYAxis","xScaleInterval","yScaleInterval","yAxisBounds","cmp","a","b","Heatmap","element","props","canvasImageRendering","xAxisFormatter","yAxisFormatter","map","record","margin","top","right","bottom","left","showY","showX","pixelsPerCharY","ordScale","k","rangeBands","sortMethod","domain","actualKeys","forEach","d","keys","Object","s","sort","reverse","d3","ordinal","range","length","innerHTML","matrix","longestX","longestY","datum","Math","max","toString","ceil","adjustMargins","hmWidth","hmHeight","hideYLabel","fp","getNumberFormatter","NumberFormats","PERCENT","xScale","yScale","xRbScale","yRbScale","heatmapDim","minBound","maxBound","colorScale","getSequentialSchemeRegistry","get","createLinearScale","scale","linear","container","classed","canvas","append","attr","style","svg","selectAll","enter","rangeBand","text","min","colorLegend","color","labelFormat","shapePadding","cells","shapeWidth","shapeHeight","labelOffset","call","tip","d3tip","offset","this","html","m","floor","invert","n","obj","getColumnLabel","getMetricLabel","on","show","hide","xAxis","axis","outerTickSize","tickValues","filter","i","orient","yAxis","xAxisNode","select","node","getBoundingClientRect","checkLabelPosition","context","getContext","imageSmoothingEnabled","imageObj","Image","image","createImageData","pixs","c","undefined","p","alpha","r","g","putImageData","src","toDataURL","createImageObj","displayName","ReactComponent","reactify","Component","componentWillUnmount","document","querySelectorAll","t","remove","styled","_ref","className","otherProps","___EmotionJSX","Global","styles","theme","css","gridUnit","colors","grayscale","dark2","light5","typography","sizes","xs","_ref2","light2","weights","normal","opacity","heavy","legend","module","exports","size","symbol","helper","path","shape","shapeRadius","labels","classPrefix","useClass","title","format","labelAlign","labelDelimiter","ascending","legendDispatcher","dispatch","type","d3_calcType","legendG","cell","cellEnter","shapes","d3_addEvents","exit","transition","d3_drawShapes","d3_addText","shapeSize","getBBox","feature","cellTrans","textTrans","textAlign","d3_placement","d3_title","_","arguments","toLowerCase","rebind","d3_identity","d3_mergeLabels","gen","push","d3_linearLegend","increment","d3_quantLegend","invertExtent","d3_ordinalLegend","ticks","d3_reverse","arr","mirror","l","dispatcher","d3_cellOver","d3_cellOut","d3_cellClick","cellDispatcher","cellover","cellout","cellclick","cellsSvg","yOffset","xOffset","bbox","stroke","maxH","maxW","sum","slice","renderFn","callbacks","ReactifiedComponent","React","constructor","super","setContainerRef","bind","componentDidMount","execute","componentDidUpdate","ref","render","id","ReactifiedClass","defaultProps"],"sourceRoot":""}