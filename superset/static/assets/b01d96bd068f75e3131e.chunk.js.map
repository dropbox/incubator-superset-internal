{"version":3,"file":"b01d96bd068f75e3131e.chunk.js","mappings":"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BAAfC,WACTA,WAAWF,mBAAqB9H,EAEhCiI,SAAS,IAAK,yBAAdA,CAAwCjI,EAE5C,C,YCvvBA,IAAIkI,EAAe,CAClB,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,EAAK,IA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","sources":["webpack://superset/./node_modules/@react-icons/all-files/fa/FaSort.js","webpack://superset/./node_modules/@react-icons/all-files/fa/FaSortDown.js","webpack://superset/./node_modules/@react-icons/all-files/fa/FaSortUp.js","webpack://superset/./node_modules/@react-icons/all-files/lib/esm/iconsManifest.js","webpack://superset/./node_modules/@react-icons/all-files/lib/esm/iconContext.js","webpack://superset/./node_modules/@react-icons/all-files/lib/esm/iconBase.js","webpack://superset/./node_modules/match-sorter/dist/match-sorter.esm.js","webpack://superset/./node_modules/regenerator-runtime/runtime.js","webpack://superset/./node_modules/remove-accents/index.js","webpack://superset/./packages/superset-ui-core/src/utils/getSelectedText.ts","webpack://superset/./packages/superset-ui-core/src/utils/typedMemo.ts","webpack://superset/./plugins/plugin-chart-table/node_modules/d3-array/src/max.js","webpack://superset/./plugins/plugin-chart-table/src/DataTable/components/GlobalFilter.tsx","webpack://superset/./plugins/plugin-chart-table/src/DataTable/utils/useAsyncState.ts","webpack://superset/./plugins/plugin-chart-table/src/DataTable/components/SelectPageSize.tsx","webpack://superset/./plugins/plugin-chart-table/src/DataTable/components/Pagination.tsx","webpack://superset/./plugins/plugin-chart-table/src/DataTable/utils/getScrollBarSize.ts","webpack://superset/./plugins/plugin-chart-table/src/DataTable/hooks/useSticky.tsx","webpack://superset/./plugins/plugin-chart-table/src/DataTable/utils/needScrollBar.ts","webpack://superset/./plugins/plugin-chart-table/src/DataTable/utils/useMountedMemo.ts","webpack://superset/./plugins/plugin-chart-table/src/DataTable/utils/sortAlphanumericCaseInsensitive.ts","webpack://superset/./plugins/plugin-chart-table/src/DataTable/DataTable.tsx","webpack://superset/./plugins/plugin-chart-table/src/Styles.tsx","webpack://superset/./plugins/plugin-chart-table/src/utils/formatValue.ts","webpack://superset/./plugins/plugin-chart-table/src/TableChart.tsx","webpack://superset/./plugins/plugin-chart-table/node_modules/d3-array/src/extent.js"],"sourcesContent":["// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.FaSort = function FaSort (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 320 512\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"d\":\"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z\"}}]})(props);\n};\n","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.FaSortDown = function FaSortDown (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 320 512\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"d\":\"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z\"}}]})(props);\n};\n","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon\nmodule.exports.FaSortUp = function FaSortUp (props) {\n  return GenIcon({\"tag\":\"svg\",\"attr\":{\"viewBox\":\"0 0 320 512\"},\"child\":[{\"tag\":\"path\",\"attr\":{\"d\":\"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z\"}}]})(props);\n};\n","export var IconsManifest = [\n  {\n    \"id\": \"fa\",\n    \"name\": \"Font Awesome\",\n    \"projectUrl\": \"https://fontawesome.com/\",\n    \"license\": \"CC BY 4.0 License\",\n    \"licenseUrl\": \"https://creativecommons.org/licenses/by/4.0/\"\n  },\n  {\n    \"id\": \"io\",\n    \"name\": \"Ionicons 4\",\n    \"projectUrl\": \"https://ionicons.com/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/ionic-team/ionicons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"io5\",\n    \"name\": \"Ionicons 5\",\n    \"projectUrl\": \"https://ionicons.com/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/ionic-team/ionicons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"md\",\n    \"name\": \"Material Design icons\",\n    \"projectUrl\": \"http://google.github.io/material-design-icons/\",\n    \"license\": \"Apache License Version 2.0\",\n    \"licenseUrl\": \"https://github.com/google/material-design-icons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"ti\",\n    \"name\": \"Typicons\",\n    \"projectUrl\": \"http://s-ings.com/typicons/\",\n    \"license\": \"CC BY-SA 3.0\",\n    \"licenseUrl\": \"https://creativecommons.org/licenses/by-sa/3.0/\"\n  },\n  {\n    \"id\": \"go\",\n    \"name\": \"Github Octicons icons\",\n    \"projectUrl\": \"https://octicons.github.com/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/primer/octicons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"fi\",\n    \"name\": \"Feather\",\n    \"projectUrl\": \"https://feathericons.com/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/feathericons/feather/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"gi\",\n    \"name\": \"Game Icons\",\n    \"projectUrl\": \"https://game-icons.net/\",\n    \"license\": \"CC BY 3.0\",\n    \"licenseUrl\": \"https://creativecommons.org/licenses/by/3.0/\"\n  },\n  {\n    \"id\": \"wi\",\n    \"name\": \"Weather Icons\",\n    \"projectUrl\": \"https://erikflowers.github.io/weather-icons/\",\n    \"license\": \"SIL OFL 1.1\",\n    \"licenseUrl\": \"http://scripts.sil.org/OFL\"\n  },\n  {\n    \"id\": \"di\",\n    \"name\": \"Devicons\",\n    \"projectUrl\": \"https://vorillaz.github.io/devicons/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"ai\",\n    \"name\": \"Ant Design Icons\",\n    \"projectUrl\": \"https://github.com/ant-design/ant-design-icons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"bs\",\n    \"name\": \"Bootstrap Icons\",\n    \"projectUrl\": \"https://github.com/twbs/icons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"ri\",\n    \"name\": \"Remix Icon\",\n    \"projectUrl\": \"https://github.com/Remix-Design/RemixIcon\",\n    \"license\": \"Apache License Version 2.0\",\n    \"licenseUrl\": \"http://www.apache.org/licenses/\"\n  },\n  {\n    \"id\": \"fc\",\n    \"name\": \"Flat Color Icons\",\n    \"projectUrl\": \"https://github.com/icons8/flat-color-icons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"gr\",\n    \"name\": \"Grommet-Icons\",\n    \"projectUrl\": \"https://github.com/grommet/grommet-icons\",\n    \"license\": \"Apache License Version 2.0\",\n    \"licenseUrl\": \"http://www.apache.org/licenses/\"\n  },\n  {\n    \"id\": \"hi\",\n    \"name\": \"Heroicons\",\n    \"projectUrl\": \"https://github.com/refactoringui/heroicons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"si\",\n    \"name\": \"Simple Icons\",\n    \"projectUrl\": \"https://simpleicons.org/\",\n    \"license\": \"CC0 1.0 Universal\",\n    \"licenseUrl\": \"https://creativecommons.org/publicdomain/zero/1.0/\"\n  },\n  {\n    \"id\": \"im\",\n    \"name\": \"IcoMoon Free\",\n    \"projectUrl\": \"https://github.com/Keyamoon/IcoMoon-Free\",\n    \"license\": \"CC BY 4.0 License\"\n  },\n  {\n    \"id\": \"bi\",\n    \"name\": \"BoxIcons\",\n    \"projectUrl\": \"https://github.com/atisawd/boxicons\",\n    \"license\": \"CC BY 4.0 License\"\n  },\n  {\n    \"id\": \"cg\",\n    \"name\": \"css.gg\",\n    \"projectUrl\": \"https://github.com/astrit/css.gg\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"vsc\",\n    \"name\": \"VS Code Icons\",\n    \"projectUrl\": \"https://github.com/microsoft/vscode-codicons\",\n    \"license\": \"CC BY 4.0\",\n    \"licenseUrl\": \"https://creativecommons.org/licenses/by/4.0/\"\n  }\n]","import React from 'react';\nexport var DefaultContext = {\n  color: undefined,\n  size: undefined,\n  className: undefined,\n  style: undefined,\n  attr: undefined\n};\nexport var IconContext = React.createContext && React.createContext(DefaultContext);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport { IconContext, DefaultContext } from './iconContext';\n\nfunction Tree2Element(tree) {\n  return tree && tree.map(function (node, i) {\n    return React.createElement(node.tag, __assign({\n      key: i\n    }, node.attr), Tree2Element(node.child));\n  });\n}\n\nexport function GenIcon(data) {\n  return function (props) {\n    return React.createElement(IconBase, __assign({\n      attr: __assign({}, data.attr)\n    }, props), Tree2Element(data.child));\n  };\n}\nexport function IconBase(props) {\n  var elem = function (conf) {\n    var attr = props.attr,\n        size = props.size,\n        title = props.title,\n        svgProps = __rest(props, [\"attr\", \"size\", \"title\"]);\n\n    var computedSize = size || conf.size || \"1em\";\n    var className;\n    if (conf.className) className = conf.className;\n    if (props.className) className = (className ? className + ' ' : '') + props.className;\n    return React.createElement(\"svg\", __assign({\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\"\n    }, conf.attr, attr, svgProps, {\n      className: className,\n      style: __assign(__assign({\n        color: props.color || conf.color\n      }, conf.style), props.style),\n      height: computedSize,\n      width: computedSize,\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }), title && React.createElement(\"title\", null, title), props.children);\n  };\n\n  return IconContext !== undefined ? React.createElement(IconContext.Consumer, null, function (conf) {\n    return elem(conf);\n  }) : elem(DefaultContext);\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport removeAccents from 'remove-accents';\n\nvar rankings = {\n  CASE_SENSITIVE_EQUAL: 7,\n  EQUAL: 6,\n  STARTS_WITH: 5,\n  WORD_STARTS_WITH: 4,\n  CONTAINS: 3,\n  ACRONYM: 2,\n  MATCHES: 1,\n  NO_MATCH: 0\n};\nmatchSorter.rankings = rankings;\n\nvar defaultBaseSortFn = function defaultBaseSortFn(a, b) {\n  return String(a.rankedValue).localeCompare(String(b.rankedValue));\n};\n/**\n * Takes an array of items and a value and returns a new array with the items that match the given value\n * @param {Array} items - the items to sort\n * @param {String} value - the value to use for ranking\n * @param {Object} options - Some options to configure the sorter\n * @return {Array} - the new sorted array\n */\n\n\nfunction matchSorter(items, value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      keys = _options.keys,\n      _options$threshold = _options.threshold,\n      threshold = _options$threshold === void 0 ? rankings.MATCHES : _options$threshold,\n      _options$baseSort = _options.baseSort,\n      baseSort = _options$baseSort === void 0 ? defaultBaseSortFn : _options$baseSort,\n      _options$sorter = _options.sorter,\n      sorter = _options$sorter === void 0 ? function (matchedItems) {\n    return matchedItems.sort(function (a, b) {\n      return sortRankedValues(a, b, baseSort);\n    });\n  } : _options$sorter;\n  var matchedItems = items.reduce(reduceItemsToRanked, []);\n  return sorter(matchedItems).map(function (_ref) {\n    var item = _ref.item;\n    return item;\n  });\n\n  function reduceItemsToRanked(matches, item, index) {\n    var rankingInfo = getHighestRanking(item, keys, value, options);\n    var rank = rankingInfo.rank,\n        _rankingInfo$keyThres = rankingInfo.keyThreshold,\n        keyThreshold = _rankingInfo$keyThres === void 0 ? threshold : _rankingInfo$keyThres;\n\n    if (rank >= keyThreshold) {\n      matches.push(_extends({}, rankingInfo, {\n        item: item,\n        index: index\n      }));\n    }\n\n    return matches;\n  }\n}\n/**\n * Gets the highest ranking for value for the given item based on its values for the given keys\n * @param {*} item - the item to rank\n * @param {Array} keys - the keys to get values from the item for the ranking\n * @param {String} value - the value to rank against\n * @param {Object} options - options to control the ranking\n * @return {{rank: Number, keyIndex: Number, keyThreshold: Number}} - the highest ranking\n */\n\n\nfunction getHighestRanking(item, keys, value, options) {\n  if (!keys) {\n    // if keys is not specified, then we assume the item given is ready to be matched\n    var stringItem = item;\n    return {\n      // ends up being duplicate of 'item' in matches but consistent\n      rankedValue: stringItem,\n      rank: getMatchRanking(stringItem, value, options),\n      keyIndex: -1,\n      keyThreshold: options.threshold\n    };\n  }\n\n  var valuesToRank = getAllValuesToRank(item, keys);\n  return valuesToRank.reduce(function (_ref2, _ref3, i) {\n    var rank = _ref2.rank,\n        rankedValue = _ref2.rankedValue,\n        keyIndex = _ref2.keyIndex,\n        keyThreshold = _ref2.keyThreshold;\n    var itemValue = _ref3.itemValue,\n        attributes = _ref3.attributes;\n    var newRank = getMatchRanking(itemValue, value, options);\n    var newRankedValue = rankedValue;\n    var minRanking = attributes.minRanking,\n        maxRanking = attributes.maxRanking,\n        threshold = attributes.threshold;\n\n    if (newRank < minRanking && newRank >= rankings.MATCHES) {\n      newRank = minRanking;\n    } else if (newRank > maxRanking) {\n      newRank = maxRanking;\n    }\n\n    if (newRank > rank) {\n      rank = newRank;\n      keyIndex = i;\n      keyThreshold = threshold;\n      newRankedValue = itemValue;\n    }\n\n    return {\n      rankedValue: newRankedValue,\n      rank: rank,\n      keyIndex: keyIndex,\n      keyThreshold: keyThreshold\n    };\n  }, {\n    rankedValue: item,\n    rank: rankings.NO_MATCH,\n    keyIndex: -1,\n    keyThreshold: options.threshold\n  });\n}\n/**\n * Gives a rankings score based on how well the two strings match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @param {Object} options - options for the match (like keepDiacritics for comparison)\n * @returns {Number} the ranking for how well stringToRank matches testString\n */\n\n\nfunction getMatchRanking(testString, stringToRank, options) {\n  testString = prepareValueForComparison(testString, options);\n  stringToRank = prepareValueForComparison(stringToRank, options); // too long\n\n  if (stringToRank.length > testString.length) {\n    return rankings.NO_MATCH;\n  } // case sensitive equals\n\n\n  if (testString === stringToRank) {\n    return rankings.CASE_SENSITIVE_EQUAL;\n  } // Lower casing before further comparison\n\n\n  testString = testString.toLowerCase();\n  stringToRank = stringToRank.toLowerCase(); // case insensitive equals\n\n  if (testString === stringToRank) {\n    return rankings.EQUAL;\n  } // starts with\n\n\n  if (testString.startsWith(stringToRank)) {\n    return rankings.STARTS_WITH;\n  } // word starts with\n\n\n  if (testString.includes(\" \" + stringToRank)) {\n    return rankings.WORD_STARTS_WITH;\n  } // contains\n\n\n  if (testString.includes(stringToRank)) {\n    return rankings.CONTAINS;\n  } else if (stringToRank.length === 1) {\n    // If the only character in the given stringToRank\n    //   isn't even contained in the testString, then\n    //   it's definitely not a match.\n    return rankings.NO_MATCH;\n  } // acronym\n\n\n  if (getAcronym(testString).includes(stringToRank)) {\n    return rankings.ACRONYM;\n  } // will return a number between rankings.MATCHES and\n  // rankings.MATCHES + 1 depending  on how close of a match it is.\n\n\n  return getClosenessRanking(testString, stringToRank);\n}\n/**\n * Generates an acronym for a string.\n *\n * @param {String} string the string for which to produce the acronym\n * @returns {String} the acronym\n */\n\n\nfunction getAcronym(string) {\n  var acronym = '';\n  var wordsInString = string.split(' ');\n  wordsInString.forEach(function (wordInString) {\n    var splitByHyphenWords = wordInString.split('-');\n    splitByHyphenWords.forEach(function (splitByHyphenWord) {\n      acronym += splitByHyphenWord.substr(0, 1);\n    });\n  });\n  return acronym;\n}\n/**\n * Returns a score based on how spread apart the\n * characters from the stringToRank are within the testString.\n * A number close to rankings.MATCHES represents a loose match. A number close\n * to rankings.MATCHES + 1 represents a tighter match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @returns {Number} the number between rankings.MATCHES and\n * rankings.MATCHES + 1 for how well stringToRank matches testString\n */\n\n\nfunction getClosenessRanking(testString, stringToRank) {\n  var matchingInOrderCharCount = 0;\n  var charNumber = 0;\n\n  function findMatchingCharacter(matchChar, string, index) {\n    for (var j = index, J = string.length; j < J; j++) {\n      var stringChar = string[j];\n\n      if (stringChar === matchChar) {\n        matchingInOrderCharCount += 1;\n        return j + 1;\n      }\n    }\n\n    return -1;\n  }\n\n  function getRanking(spread) {\n    var spreadPercentage = 1 / spread;\n    var inOrderPercentage = matchingInOrderCharCount / stringToRank.length;\n    var ranking = rankings.MATCHES + inOrderPercentage * spreadPercentage;\n    return ranking;\n  }\n\n  var firstIndex = findMatchingCharacter(stringToRank[0], testString, 0);\n\n  if (firstIndex < 0) {\n    return rankings.NO_MATCH;\n  }\n\n  charNumber = firstIndex;\n\n  for (var i = 1, I = stringToRank.length; i < I; i++) {\n    var matchChar = stringToRank[i];\n    charNumber = findMatchingCharacter(matchChar, testString, charNumber);\n    var found = charNumber > -1;\n\n    if (!found) {\n      return rankings.NO_MATCH;\n    }\n  }\n\n  var spread = charNumber - firstIndex;\n  return getRanking(spread);\n}\n/**\n * Sorts items that have a rank, index, and keyIndex\n * @param {Object} a - the first item to sort\n * @param {Object} b - the second item to sort\n * @return {Number} -1 if a should come first, 1 if b should come first, 0 if equal\n */\n\n\nfunction sortRankedValues(a, b, baseSort) {\n  var aFirst = -1;\n  var bFirst = 1;\n  var aRank = a.rank,\n      aKeyIndex = a.keyIndex;\n  var bRank = b.rank,\n      bKeyIndex = b.keyIndex;\n  var same = aRank === bRank;\n\n  if (same) {\n    if (aKeyIndex === bKeyIndex) {\n      // use the base sort function as a tie-breaker\n      return baseSort(a, b);\n    } else {\n      return aKeyIndex < bKeyIndex ? aFirst : bFirst;\n    }\n  } else {\n    return aRank > bRank ? aFirst : bFirst;\n  }\n}\n/**\n * Prepares value for comparison by stringifying it, removing diacritics (if specified)\n * @param {String} value - the value to clean\n * @param {Object} options - {keepDiacritics: whether to remove diacritics}\n * @return {String} the prepared value\n */\n\n\nfunction prepareValueForComparison(value, _ref4) {\n  var keepDiacritics = _ref4.keepDiacritics;\n  // value might not actually be a string at this point (we don't get to choose)\n  // so part of preparing the value for comparison is ensure that it is a string\n  value = \"\" + value; // toString\n\n  if (!keepDiacritics) {\n    value = removeAccents(value);\n  }\n\n  return value;\n}\n/**\n * Gets value for key in item at arbitrarily nested keypath\n * @param {Object} item - the item\n * @param {Object|Function} key - the potentially nested keypath or property callback\n * @return {Array} - an array containing the value(s) at the nested keypath\n */\n\n\nfunction getItemValues(item, key) {\n  if (typeof key === 'object') {\n    key = key.key;\n  }\n\n  var value;\n\n  if (typeof key === 'function') {\n    value = key(item);\n  } else if (item == null) {\n    value = null;\n  } else if (Object.hasOwnProperty.call(item, key)) {\n    value = item[key];\n  } else if (key.includes('.')) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    return getNestedValues(key, item);\n  } else {\n    value = null;\n  } // because `value` can also be undefined\n\n\n  if (value == null) {\n    return [];\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return [String(value)];\n}\n/**\n * Given path: \"foo.bar.baz\"\n * And item: {foo: {bar: {baz: 'buzz'}}}\n *   -> 'buzz'\n * @param path a dot-separated set of keys\n * @param item the item to get the value from\n */\n\n\nfunction getNestedValues(path, item) {\n  var keys = path.split('.');\n  var values = [item];\n\n  for (var i = 0, I = keys.length; i < I; i++) {\n    var nestedKey = keys[i];\n    var nestedValues = [];\n\n    for (var j = 0, J = values.length; j < J; j++) {\n      var nestedItem = values[j];\n      if (nestedItem == null) continue;\n\n      if (Object.hasOwnProperty.call(nestedItem, nestedKey)) {\n        var nestedValue = nestedItem[nestedKey];\n\n        if (nestedValue != null) {\n          nestedValues.push(nestedValue);\n        }\n      } else if (nestedKey === '*') {\n        // ensure that values is an array\n        nestedValues = nestedValues.concat(nestedItem);\n      }\n    }\n\n    values = nestedValues;\n  }\n\n  if (Array.isArray(values[0])) {\n    // keep allowing the implicit wildcard for an array of strings at the end of\n    // the path; don't use `.flat()` because that's not available in node.js v10\n    var result = [];\n    return result.concat.apply(result, values);\n  } // Based on our logic it should be an array of strings by now...\n  // assuming the user's path terminated in strings\n\n\n  return values;\n}\n/**\n * Gets all the values for the given keys in the given item and returns an array of those values\n * @param item - the item from which the values will be retrieved\n * @param keys - the keys to use to retrieve the values\n * @return objects with {itemValue, attributes}\n */\n\n\nfunction getAllValuesToRank(item, keys) {\n  var allValues = [];\n\n  for (var j = 0, J = keys.length; j < J; j++) {\n    var key = keys[j];\n    var attributes = getKeyAttributes(key);\n    var itemValues = getItemValues(item, key);\n\n    for (var i = 0, I = itemValues.length; i < I; i++) {\n      allValues.push({\n        itemValue: itemValues[i],\n        attributes: attributes\n      });\n    }\n  }\n\n  return allValues;\n}\n\nvar defaultKeyAttributes = {\n  maxRanking: Infinity,\n  minRanking: -Infinity\n};\n/**\n * Gets all the attributes for the given key\n * @param key - the key from which the attributes will be retrieved\n * @return object containing the key's attributes\n */\n\nfunction getKeyAttributes(key) {\n  if (typeof key === 'string') {\n    return defaultKeyAttributes;\n  }\n\n  return _extends({}, defaultKeyAttributes, key);\n}\n/*\neslint\n  no-continue: \"off\",\n*/\n\nexport { defaultBaseSortFn, matchSorter, rankings };\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; };\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) });\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: true });\n  defineProperty(\n    GeneratorFunctionPrototype,\n    \"constructor\",\n    { value: GeneratorFunction, configurable: true }\n  );\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    defineProperty(this, \"_invoke\", { value: enqueue });\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(val) {\n    var object = Object(val);\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","var characterMap = {\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"AE\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"C\",\r\n\t\"\": \"C\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"D\",\r\n\t\"\": \"N\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"U\",\r\n\t\"\": \"U\",\r\n\t\"\": \"U\",\r\n\t\"\": \"U\",\r\n\t\"\": \"Y\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"ae\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"c\",\r\n\t\"\": \"c\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"d\",\r\n\t\"\": \"n\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"u\",\r\n\t\"\": \"u\",\r\n\t\"\": \"u\",\r\n\t\"\": \"u\",\r\n\t\"\": \"y\",\r\n\t\"\": \"y\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"C\": \"C\",\r\n\t\"c\": \"c\",\r\n\t\"\": \"D\",\r\n\t\"\": \"d\",\r\n\t\"\": \"D\",\r\n\t\"\": \"d\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"G\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"g\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"IJ\",\r\n\t\"\": \"ij\",\r\n\t\"\": \"J\",\r\n\t\"\": \"j\",\r\n\t\"\": \"K\",\r\n\t\"\": \"k\",\r\n\t\"\": \"K\",\r\n\t\"\": \"k\",\r\n\t\"K\": \"K\",\r\n\t\"k\": \"k\",\r\n\t\"\": \"L\",\r\n\t\"\": \"l\",\r\n\t\"\": \"L\",\r\n\t\"\": \"l\",\r\n\t\"\": \"L\",\r\n\t\"\": \"l\",\r\n\t\"\": \"L\",\r\n\t\"\": \"l\",\r\n\t\"\": \"l\",\r\n\t\"\": \"l\",\r\n\t\"\": \"M\",\r\n\t\"\": \"m\",\r\n\t\"M\": \"M\",\r\n\t\"m\": \"m\",\r\n\t\"\": \"N\",\r\n\t\"\": \"n\",\r\n\t\"\": \"N\",\r\n\t\"\": \"n\",\r\n\t\"\": \"N\",\r\n\t\"\": \"n\",\r\n\t\"\": \"n\",\r\n\t\"N\": \"N\",\r\n\t\"n\": \"n\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"OE\",\r\n\t\"\": \"oe\",\r\n\t\"P\": \"P\",\r\n\t\"p\": \"p\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"R\": \"R\",\r\n\t\"r\": \"r\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"\": \"S\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"\": \"s\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"\": \"T\",\r\n\t\"\": \"t\",\r\n\t\"\": \"t\",\r\n\t\"\": \"T\",\r\n\t\"\": \"T\",\r\n\t\"\": \"t\",\r\n\t\"\": \"T\",\r\n\t\"\": \"t\",\r\n\t\"T\": \"T\",\r\n\t\"t\": \"t\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"V\": \"V\",\r\n\t\"v\": \"v\",\r\n\t\"\": \"W\",\r\n\t\"\": \"w\",\r\n\t\"\": \"W\",\r\n\t\"\": \"w\",\r\n\t\"X\": \"X\",\r\n\t\"x\": \"x\",\r\n\t\"\": \"Y\",\r\n\t\"\": \"y\",\r\n\t\"\": \"Y\",\r\n\t\"Y\": \"Y\",\r\n\t\"y\": \"y\",\r\n\t\"\": \"Z\",\r\n\t\"\": \"z\",\r\n\t\"\": \"Z\",\r\n\t\"\": \"z\",\r\n\t\"\": \"Z\",\r\n\t\"\": \"z\",\r\n\t\"\": \"s\",\r\n\t\"\": \"f\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"AE\",\r\n\t\"\": \"ae\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"TH\",\r\n\t\"\": \"th\",\r\n\t\"\": \"P\",\r\n\t\"\": \"p\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"X\": \"X\",\r\n\t\"x\": \"x\",\r\n\t\"\": \"\",\r\n\t\"\": \"\",\r\n\t\"\": \"\",\r\n\t\"\": \"\",\r\n\t\"A\": \"A\",\r\n\t\"a\": \"a\",\r\n\t\"E\": \"E\",\r\n\t\"e\": \"e\",\r\n\t\"I\": \"I\",\r\n\t\"i\": \"i\",\r\n\t\"\": \"N\",\r\n\t\"\": \"n\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"W\",\r\n\t\"\": \"w\",\r\n\t\"\": \"Y\",\r\n\t\"\": \"y\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"B\": \"B\",\r\n\t\"b\": \"b\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"F\": \"F\",\r\n\t\"f\": \"f\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"J\": \"J\",\r\n\t\"\": \"j\",\r\n\t\"\": \"K\",\r\n\t\"\": \"k\",\r\n\t\"M\": \"M\",\r\n\t\"m\": \"m\",\r\n\t\"P\": \"P\",\r\n\t\"p\": \"p\",\r\n\t\"Q\": \"Q\",\r\n\t\"q\": \"q\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"V\": \"V\",\r\n\t\"v\": \"v\",\r\n\t\"W\": \"W\",\r\n\t\"w\": \"w\",\r\n\t\"X\": \"X\",\r\n\t\"x\": \"x\",\r\n\t\"Y\": \"Y\",\r\n\t\"y\": \"y\",\r\n\t\"A\": \"A\",\r\n\t\"a\": \"a\",\r\n\t\"B\": \"B\",\r\n\t\"b\": \"b\",\r\n\t\"\": \"D\",\r\n\t\"\": \"d\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"I\": \"I\",\r\n\t\"i\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"M\": \"M\",\r\n\t\"m\": \"m\",\r\n\t\"O\": \"O\",\r\n\t\"o\": \"o\",\r\n\t\"Q\": \"Q\",\r\n\t\"q\": \"q\",\r\n\t\"U\": \"U\",\r\n\t\"u\": \"u\",\r\n\t\"X\": \"X\",\r\n\t\"x\": \"x\",\r\n\t\"Z\": \"Z\",\r\n\t\"z\": \"z\",\r\n};\r\n\r\nvar chars = Object.keys(characterMap).join('|');\r\nvar allAccents = new RegExp(chars, 'g');\r\nvar firstAccent = new RegExp(chars, '');\r\n\r\nvar removeAccents = function(string) {\t\r\n\treturn string.replace(allAccents, function(match) {\r\n\t\treturn characterMap[match];\r\n\t});\r\n};\r\n\r\nvar hasAccents = function(string) {\r\n\treturn !!string.match(firstAccent);\r\n};\r\n\r\nmodule.exports = removeAccents;\r\nmodule.exports.has = hasAccents;\r\nmodule.exports.remove = removeAccents;\r\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport const getSelectedText = () => window.getSelection()?.toString();\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { memo } from 'react';\n\nexport const typedMemo: <T>(c: T) => T = memo;\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { ComponentType, ChangeEventHandler } from 'react';\nimport { Row, FilterValue } from 'react-table';\nimport useAsyncState from '../utils/useAsyncState';\n\nexport interface SearchInputProps {\n  count: number;\n  value: string;\n  onChange: ChangeEventHandler<HTMLInputElement>;\n}\n\nexport interface GlobalFilterProps<D extends object> {\n  preGlobalFilteredRows: Row<D>[];\n  // filter value cannot be `undefined` otherwise React will report component\n  // control type undefined error\n  filterValue: string;\n  setGlobalFilter: (filterValue: FilterValue) => void;\n  searchInput?: ComponentType<SearchInputProps>;\n}\n\nfunction DefaultSearchInput({ count, value, onChange }: SearchInputProps) {\n  return (\n    <span className=\"dt-global-filter\">\n      Search{' '}\n      <input\n        className=\"form-control input-sm\"\n        placeholder={`${count} records...`}\n        value={value}\n        onChange={onChange}\n      />\n    </span>\n  );\n}\n\nexport default (React.memo as <T>(fn: T) => T)(function GlobalFilter<\n  D extends object,\n>({\n  preGlobalFilteredRows,\n  filterValue = '',\n  searchInput,\n  setGlobalFilter,\n}: GlobalFilterProps<D>) {\n  const count = preGlobalFilteredRows.length;\n  const [value, setValue] = useAsyncState(\n    filterValue,\n    (newValue: string) => {\n      setGlobalFilter(newValue || undefined);\n    },\n    200,\n  );\n\n  const SearchInput = searchInput || DefaultSearchInput;\n\n  return (\n    <SearchInput\n      count={count}\n      value={value}\n      onChange={e => {\n        const target = e.target as HTMLInputElement;\n        e.preventDefault();\n        setValue(target.value);\n      }}\n    />\n  );\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useRef, useState } from 'react';\nimport { useAsyncDebounce } from 'react-table';\n\n// useAsyncDebounce in dist build of `react-table` requires regeneratorRuntime\nimport 'regenerator-runtime/runtime';\n\n/**\n * Hook useState to allow always return latest initialValue\n */\nexport default function useAsyncState<T, F extends (newValue: T) => unknown>(\n  initialValue: T,\n  callback: F,\n  wait = 200,\n) {\n  const [value, setValue] = useState(initialValue);\n  const valueRef = useRef(initialValue);\n  const onChange = useAsyncDebounce(callback, wait);\n\n  // sync updated initialValue\n  if (valueRef.current !== initialValue) {\n    valueRef.current = initialValue;\n    if (value !== initialValue) {\n      setValue(initialValue);\n    }\n  }\n\n  const setBoth = (newValue: T) => {\n    setValue(newValue);\n    onChange(newValue);\n  };\n\n  return [value, setBoth] as [typeof value, typeof setValue];\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { t } from '@superset-ui/core';\nimport { formatSelectOptions } from '@superset-ui/chart-controls';\n\nexport type SizeOption = [number, string];\n\nexport interface SelectPageSizeRendererProps {\n  current: number;\n  options: SizeOption[];\n  onChange: SelectPageSizeProps['onChange'];\n}\n\nfunction DefaultSelectRenderer({\n  current,\n  options,\n  onChange,\n}: SelectPageSizeRendererProps) {\n  return (\n    <span className=\"dt-select-page-size form-inline\">\n      {t('Show')}{' '}\n      <select\n        className=\"form-control input-sm\"\n        value={current}\n        onBlur={() => {}}\n        onChange={e => {\n          onChange(Number((e.target as HTMLSelectElement).value));\n        }}\n      >\n        {options.map(option => {\n          const [size, text] = Array.isArray(option)\n            ? option\n            : [option, option];\n          return (\n            <option key={size} value={size}>\n              {text}\n            </option>\n          );\n        })}\n      </select>{' '}\n      {t('entries')}\n    </span>\n  );\n}\n\nexport interface SelectPageSizeProps extends SelectPageSizeRendererProps {\n  total?: number;\n  selectRenderer?: typeof DefaultSelectRenderer;\n  onChange: (pageSize: number) => void;\n}\n\nfunction getOptionValue(x: SizeOption) {\n  return Array.isArray(x) ? x[0] : x;\n}\n\nexport default React.memo(function SelectPageSize({\n  total,\n  options: sizeOptions,\n  current: currentSize,\n  selectRenderer,\n  onChange,\n}: SelectPageSizeProps) {\n  const sizeOptionValues = sizeOptions.map(getOptionValue);\n  let options = [...sizeOptions];\n  // insert current size to list\n  if (\n    currentSize !== undefined &&\n    (currentSize !== total || !sizeOptionValues.includes(0)) &&\n    !sizeOptionValues.includes(currentSize)\n  ) {\n    options = [...sizeOptions];\n    options.splice(\n      sizeOptionValues.findIndex(x => x > currentSize),\n      0,\n      formatSelectOptions([currentSize])[0],\n    );\n  }\n  const current = currentSize === undefined ? sizeOptionValues[0] : currentSize;\n  const SelectRenderer = selectRenderer || DefaultSelectRenderer;\n  return (\n    <SelectRenderer current={current} options={options} onChange={onChange} />\n  );\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { CSSProperties, forwardRef } from 'react';\n\nexport interface PaginationProps {\n  pageCount: number; // number of pages\n  currentPage?: number; // index of current page, zero-based\n  maxPageItemCount?: number;\n  ellipsis?: string; // content for ellipsis item\n  onPageChange: (page: number) => void; // `page` is zero-based\n  style?: CSSProperties;\n}\n\n// first, ..., prev, current, next, ..., last\nconst MINIMAL_PAGE_ITEM_COUNT = 7;\n\n/**\n * Generate numeric page items around current page.\n *   - Always include first and last page\n *   - Add ellipsis if needed\n */\nexport function generatePageItems(\n  total: number,\n  current: number,\n  width: number,\n) {\n  if (width < MINIMAL_PAGE_ITEM_COUNT) {\n    throw new Error(\n      `Must allow at least ${MINIMAL_PAGE_ITEM_COUNT} page items`,\n    );\n  }\n  if (width % 2 === 0) {\n    throw new Error(`Must allow odd number of page items`);\n  }\n  if (total < width) {\n    return [...new Array(total).keys()];\n  }\n  const left = Math.max(\n    0,\n    Math.min(total - width, current - Math.floor(width / 2)),\n  );\n  const items: (string | number)[] = new Array(width);\n  for (let i = 0; i < width; i += 1) {\n    items[i] = i + left;\n  }\n  // replace non-ending items with placeholders\n  if (items[0] > 0) {\n    items[0] = 0;\n    items[1] = 'prev-more';\n  }\n  if (items[items.length - 1] < total - 1) {\n    items[items.length - 1] = total - 1;\n    items[items.length - 2] = 'next-more';\n  }\n  return items;\n}\n\nexport default React.memo(\n  forwardRef(function Pagination(\n    {\n      style,\n      pageCount,\n      currentPage = 0,\n      maxPageItemCount = 9,\n      onPageChange,\n    }: PaginationProps,\n    ref: React.Ref<HTMLDivElement>,\n  ) {\n    const pageItems = generatePageItems(\n      pageCount,\n      currentPage,\n      maxPageItemCount,\n    );\n    return (\n      <div ref={ref} className=\"dt-pagination\" style={style}>\n        <ul className=\"pagination pagination-sm\">\n          {pageItems.map(item =>\n            typeof item === 'number' ? (\n              // actual page number\n              <li\n                key={item}\n                className={currentPage === item ? 'active' : undefined}\n              >\n                <a\n                  href={`#page-${item}`}\n                  role=\"button\"\n                  onClick={e => {\n                    e.preventDefault();\n                    onPageChange(item);\n                  }}\n                >\n                  {item + 1}\n                </a>\n              </li>\n            ) : (\n              <li key={item} className=\"dt-pagination-ellipsis\">\n                <span></span>\n              </li>\n            ),\n          )}\n        </ul>\n      </div>\n    );\n  }),\n);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nlet cached: number | undefined;\n\nconst css = (x: TemplateStringsArray) => x.join('\\n');\n\nexport default function getScrollBarSize(forceRefresh = false) {\n  if (typeof document === 'undefined') {\n    return 0;\n  }\n  if (cached === undefined || forceRefresh) {\n    const inner = document.createElement('div');\n    const outer = document.createElement('div');\n    inner.style.cssText = css`\n      width: auto;\n      height: 100%;\n      overflow: scroll;\n    `;\n    outer.style.cssText = css`\n      position: absolute;\n      visibility: hidden;\n      overflow: hidden;\n      width: 100px;\n      height: 50px;\n    `;\n    outer.append(inner);\n    document.body.append(outer);\n    cached = outer.clientWidth - inner.clientWidth;\n    outer.remove();\n  }\n  return cached;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  useRef,\n  useMemo,\n  useLayoutEffect,\n  useCallback,\n  ReactNode,\n  ReactElement,\n  ComponentPropsWithRef,\n  CSSProperties,\n  UIEventHandler,\n} from 'react';\nimport { TableInstance, Hooks } from 'react-table';\nimport getScrollBarSize from '../utils/getScrollBarSize';\nimport needScrollBar from '../utils/needScrollBar';\nimport useMountedMemo from '../utils/useMountedMemo';\n\ntype ReactElementWithChildren<\n  T extends keyof JSX.IntrinsicElements,\n  C extends ReactNode = ReactNode,\n> = ReactElement<ComponentPropsWithRef<T> & { children: C }, T>;\n\ntype Th = ReactElementWithChildren<'th'>;\ntype Td = ReactElementWithChildren<'td'>;\ntype TrWithTh = ReactElementWithChildren<'tr', Th[]>;\ntype TrWithTd = ReactElementWithChildren<'tr', Td[]>;\ntype Thead = ReactElementWithChildren<'thead', TrWithTh>;\ntype Tbody = ReactElementWithChildren<'tbody', TrWithTd>;\ntype Tfoot = ReactElementWithChildren<'tfoot', TrWithTd>;\ntype Col = ReactElementWithChildren<'col', null>;\ntype ColGroup = ReactElementWithChildren<'colgroup', Col>;\n\nexport type Table = ReactElementWithChildren<\n  'table',\n  (Thead | Tbody | Tfoot | ColGroup)[]\n>;\nexport type TableRenderer = () => Table;\nexport type GetTableSize = () => Partial<StickyState> | undefined;\nexport type SetStickyState = (size?: Partial<StickyState>) => void;\n\nexport enum ReducerActions {\n  init = 'init', // this is from global reducer\n  setStickyState = 'setStickyState',\n}\n\nexport type ReducerAction<\n  T extends string,\n  P extends Record<string, unknown>,\n> = P & { type: T };\n\nexport type ColumnWidths = number[];\n\nexport interface StickyState {\n  width?: number; // maximum full table width\n  height?: number; // maximum full table height\n  realHeight?: number; // actual table viewport height (header + scrollable area)\n  bodyHeight?: number; // scrollable area height\n  tableHeight?: number; // the full table height\n  columnWidths?: ColumnWidths;\n  hasHorizontalScroll?: boolean;\n  hasVerticalScroll?: boolean;\n  rendering?: boolean;\n  setStickyState?: SetStickyState;\n}\n\nexport interface UseStickyTableOptions {\n  getTableSize?: GetTableSize;\n}\n\nexport interface UseStickyInstanceProps {\n  // manipulate DOMs in <table> to make the header sticky\n  wrapStickyTable: (renderer: TableRenderer) => ReactNode;\n  // update or recompute the sticky table size\n  setStickyState: SetStickyState;\n}\n\nexport type UseStickyState = {\n  sticky: StickyState;\n};\n\nconst sum = (a: number, b: number) => a + b;\nconst mergeStyleProp = (\n  node: ReactElement<{ style?: CSSProperties }>,\n  style: CSSProperties,\n) => ({\n  style: {\n    ...node.props.style,\n    ...style,\n  },\n});\nconst fixedTableLayout: CSSProperties = { tableLayout: 'fixed' };\n\n/**\n * An HOC for generating sticky header and fixed-height scrollable area\n */\nfunction StickyWrap({\n  sticky = {},\n  width: maxWidth,\n  height: maxHeight,\n  children: table,\n  setStickyState,\n}: {\n  width: number;\n  height: number;\n  setStickyState: SetStickyState;\n  children: Table;\n  sticky?: StickyState; // current sticky element sizes\n}) {\n  if (!table || table.type !== 'table') {\n    throw new Error('<StickyWrap> must have only one <table> element as child');\n  }\n  let thead: Thead | undefined;\n  let tbody: Tbody | undefined;\n  let tfoot: Tfoot | undefined;\n\n  React.Children.forEach(table.props.children, node => {\n    if (!node) {\n      return;\n    }\n    if (node.type === 'thead') {\n      thead = node;\n    } else if (node.type === 'tbody') {\n      tbody = node;\n    } else if (node.type === 'tfoot') {\n      tfoot = node;\n    }\n  });\n  if (!thead || !tbody) {\n    throw new Error(\n      '<table> in <StickyWrap> must contain both thead and tbody.',\n    );\n  }\n  const columnCount = useMemo(() => {\n    const headerRows = React.Children.toArray(\n      thead?.props.children,\n    ).pop() as TrWithTh;\n    return headerRows.props.children.length;\n  }, [thead]);\n\n  const theadRef = useRef<HTMLTableSectionElement>(null); // original thead for layout computation\n  const tfootRef = useRef<HTMLTableSectionElement>(null); // original tfoot for layout computation\n  const scrollHeaderRef = useRef<HTMLDivElement>(null); // fixed header\n  const scrollFooterRef = useRef<HTMLDivElement>(null); // fixed footer\n  const scrollBodyRef = useRef<HTMLDivElement>(null); // main body\n\n  const scrollBarSize = getScrollBarSize();\n  const { bodyHeight, columnWidths } = sticky;\n  const needSizer =\n    !columnWidths ||\n    sticky.width !== maxWidth ||\n    sticky.height !== maxHeight ||\n    sticky.setStickyState !== setStickyState;\n\n  // update scrollable area and header column sizes when mounted\n  useLayoutEffect(() => {\n    if (!theadRef.current) {\n      return;\n    }\n    const bodyThead = theadRef.current;\n    const theadHeight = bodyThead.clientHeight;\n    const tfootHeight = tfootRef.current ? tfootRef.current.clientHeight : 0;\n    if (!theadHeight) {\n      return;\n    }\n    const fullTableHeight = (bodyThead.parentNode as HTMLTableElement)\n      .clientHeight;\n    const ths = bodyThead.childNodes[0]\n      .childNodes as NodeListOf<HTMLTableHeaderCellElement>;\n    const widths = Array.from(ths).map(\n      th => th.getBoundingClientRect()?.width || th.clientWidth,\n    );\n    const [hasVerticalScroll, hasHorizontalScroll] = needScrollBar({\n      width: maxWidth,\n      height: maxHeight - theadHeight - tfootHeight,\n      innerHeight: fullTableHeight,\n      innerWidth: widths.reduce(sum),\n      scrollBarSize,\n    });\n    // real container height, include table header, footer and space for\n    // horizontal scroll bar\n    const realHeight = Math.min(\n      maxHeight,\n      hasHorizontalScroll ? fullTableHeight + scrollBarSize : fullTableHeight,\n    );\n    setStickyState({\n      hasVerticalScroll,\n      hasHorizontalScroll,\n      setStickyState,\n      width: maxWidth,\n      height: maxHeight,\n      realHeight,\n      tableHeight: fullTableHeight,\n      bodyHeight: realHeight - theadHeight - tfootHeight,\n      columnWidths: widths,\n    });\n  }, [maxWidth, maxHeight, setStickyState, scrollBarSize]);\n\n  let sizerTable: ReactElement | undefined;\n  let headerTable: ReactElement | undefined;\n  let footerTable: ReactElement | undefined;\n  let bodyTable: ReactElement | undefined;\n  if (needSizer) {\n    const theadWithRef = React.cloneElement(thead, { ref: theadRef });\n    const tfootWithRef = tfoot && React.cloneElement(tfoot, { ref: tfootRef });\n    sizerTable = (\n      <div\n        key=\"sizer\"\n        style={{\n          height: maxHeight,\n          overflow: 'auto',\n          visibility: 'hidden',\n        }}\n      >\n        {React.cloneElement(table, {}, theadWithRef, tbody, tfootWithRef)}\n      </div>\n    );\n  }\n\n  // reuse previously column widths, will be updated by `useLayoutEffect` above\n  const colWidths = columnWidths?.slice(0, columnCount);\n\n  if (colWidths && bodyHeight) {\n    const colgroup = (\n      <colgroup>\n        {colWidths.map((w, i) => (\n          // eslint-disable-next-line react/no-array-index-key\n          <col key={i} width={w} />\n        ))}\n      </colgroup>\n    );\n\n    headerTable = (\n      <div\n        key=\"header\"\n        ref={scrollHeaderRef}\n        style={{\n          overflow: 'hidden',\n        }}\n      >\n        {React.cloneElement(\n          table,\n          mergeStyleProp(table, fixedTableLayout),\n          colgroup,\n          thead,\n        )}\n        {headerTable}\n      </div>\n    );\n\n    footerTable = tfoot && (\n      <div\n        key=\"footer\"\n        ref={scrollFooterRef}\n        style={{\n          overflow: 'hidden',\n        }}\n      >\n        {React.cloneElement(\n          table,\n          mergeStyleProp(table, fixedTableLayout),\n          colgroup,\n          tfoot,\n        )}\n        {footerTable}\n      </div>\n    );\n\n    const onScroll: UIEventHandler<HTMLDivElement> = e => {\n      if (scrollHeaderRef.current) {\n        scrollHeaderRef.current.scrollLeft = e.currentTarget.scrollLeft;\n      }\n      if (scrollFooterRef.current) {\n        scrollFooterRef.current.scrollLeft = e.currentTarget.scrollLeft;\n      }\n    };\n    bodyTable = (\n      <div\n        key=\"body\"\n        ref={scrollBodyRef}\n        style={{\n          height: bodyHeight,\n          overflow: 'auto',\n        }}\n        onScroll={sticky.hasHorizontalScroll ? onScroll : undefined}\n      >\n        {React.cloneElement(\n          table,\n          mergeStyleProp(table, fixedTableLayout),\n          colgroup,\n          tbody,\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div\n      style={{\n        width: maxWidth,\n        height: sticky.realHeight || maxHeight,\n        overflow: 'hidden',\n      }}\n    >\n      {headerTable}\n      {bodyTable}\n      {footerTable}\n      {sizerTable}\n    </div>\n  );\n}\n\nfunction useInstance<D extends object>(instance: TableInstance<D>) {\n  const {\n    dispatch,\n    state: { sticky },\n    data,\n    page,\n    rows,\n    allColumns,\n    getTableSize = () => undefined,\n  } = instance;\n\n  const setStickyState = useCallback(\n    (size?: Partial<StickyState>) => {\n      dispatch({\n        type: ReducerActions.setStickyState,\n        size,\n      });\n    },\n    // turning pages would also trigger a resize\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [dispatch, getTableSize, page, rows],\n  );\n\n  const useStickyWrap = (renderer: TableRenderer) => {\n    const { width, height } =\n      useMountedMemo(getTableSize, [getTableSize]) || sticky;\n    // only change of data should trigger re-render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const table = useMemo(renderer, [page, rows, allColumns]);\n\n    useLayoutEffect(() => {\n      if (!width || !height) {\n        setStickyState();\n      }\n    }, [width, height]);\n\n    if (!width || !height) {\n      return null;\n    }\n    if (data.length === 0) {\n      return table;\n    }\n    return (\n      <StickyWrap\n        width={width}\n        height={height}\n        sticky={sticky}\n        setStickyState={setStickyState}\n      >\n        {table}\n      </StickyWrap>\n    );\n  };\n\n  Object.assign(instance, {\n    setStickyState,\n    wrapStickyTable: useStickyWrap,\n  });\n}\n\nexport default function useSticky<D extends object>(hooks: Hooks<D>) {\n  hooks.useInstance.push(useInstance);\n  hooks.stateReducers.push((newState, action_, prevState) => {\n    const action = action_ as ReducerAction<\n      ReducerActions,\n      { size: StickyState }\n    >;\n    if (action.type === ReducerActions.init) {\n      return {\n        ...newState,\n        sticky: {\n          ...prevState?.sticky,\n        },\n      };\n    }\n    if (action.type === ReducerActions.setStickyState) {\n      const { size } = action;\n      if (!size) {\n        return { ...newState };\n      }\n      return {\n        ...newState,\n        sticky: {\n          ...prevState?.sticky,\n          ...newState?.sticky,\n          ...action.size,\n        },\n      };\n    }\n    return newState;\n  });\n}\nuseSticky.pluginName = 'useSticky';\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * Whether a container need scroll bars when in another container.\n */\nexport default function needScrollBar({\n  width,\n  height,\n  innerHeight,\n  innerWidth,\n  scrollBarSize,\n}: {\n  width: number;\n  height: number;\n  innerHeight: number;\n  scrollBarSize: number;\n  innerWidth: number;\n}): [boolean, boolean] {\n  const hasVerticalScroll = innerHeight > height;\n  const hasHorizontalScroll =\n    innerWidth > width - (hasVerticalScroll ? scrollBarSize : 0);\n  return [hasVerticalScroll, hasHorizontalScroll];\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useLayoutEffect, useRef, useMemo } from 'react';\n\n/**\n * Execute a memoized callback only when mounted. Execute again when factory updated.\n * Returns undefined if not mounted yet.\n */\nexport default function useMountedMemo<T>(\n  factory: () => T,\n  deps?: unknown[],\n): T | undefined {\n  const mounted = useRef<typeof factory>();\n  useLayoutEffect(() => {\n    mounted.current = factory;\n  });\n  return useMemo(() => {\n    if (mounted.current) {\n      return factory();\n    }\n    return undefined;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mounted.current, mounted.current === factory, ...(deps || [])]);\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { Row } from 'react-table';\n\nexport const sortAlphanumericCaseInsensitive = <D extends {}>(\n  rowA: Row<D>,\n  rowB: Row<D>,\n  columnId: string,\n) => {\n  const valueA = rowA.values[columnId];\n  const valueB = rowB.values[columnId];\n\n  if (!valueA || typeof valueA !== 'string') {\n    return -1;\n  }\n  if (!valueB || typeof valueB !== 'string') {\n    return 1;\n  }\n  return valueA.localeCompare(valueB);\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  useCallback,\n  useRef,\n  ReactNode,\n  HTMLProps,\n  MutableRefObject,\n  CSSProperties,\n} from 'react';\nimport {\n  useTable,\n  usePagination,\n  useSortBy,\n  useGlobalFilter,\n  useColumnOrder,\n  PluginHook,\n  TableOptions,\n  FilterType,\n  IdType,\n  Row,\n} from 'react-table';\nimport { matchSorter, rankings } from 'match-sorter';\nimport { typedMemo, usePrevious } from '@superset-ui/core';\nimport { isEqual } from 'lodash';\nimport GlobalFilter, { GlobalFilterProps } from './components/GlobalFilter';\nimport SelectPageSize, {\n  SelectPageSizeProps,\n  SizeOption,\n} from './components/SelectPageSize';\nimport SimplePagination from './components/Pagination';\nimport useSticky from './hooks/useSticky';\nimport { PAGE_SIZE_OPTIONS } from '../consts';\nimport { sortAlphanumericCaseInsensitive } from './utils/sortAlphanumericCaseInsensitive';\n\nexport interface DataTableProps<D extends object> extends TableOptions<D> {\n  tableClassName?: string;\n  searchInput?: boolean | GlobalFilterProps<D>['searchInput'];\n  selectPageSize?: boolean | SelectPageSizeProps['selectRenderer'];\n  pageSizeOptions?: SizeOption[]; // available page size options\n  maxPageItemCount?: number;\n  hooks?: PluginHook<D>[]; // any additional hooks\n  width?: string | number;\n  height?: string | number;\n  serverPagination?: boolean;\n  onServerPaginationChange: (pageNumber: number, pageSize: number) => void;\n  serverPaginationData: { pageSize?: number; currentPage?: number };\n  pageSize?: number;\n  noResults?: string | ((filterString: string) => ReactNode);\n  sticky?: boolean;\n  rowCount: number;\n  wrapperRef?: MutableRefObject<HTMLDivElement>;\n  onColumnOrderChange: () => void;\n}\n\nexport interface RenderHTMLCellProps extends HTMLProps<HTMLTableCellElement> {\n  cellContent: ReactNode;\n}\n\nconst sortTypes = {\n  alphanumeric: sortAlphanumericCaseInsensitive,\n};\n\n// Be sure to pass our updateMyData and the skipReset option\nexport default typedMemo(function DataTable<D extends object>({\n  tableClassName,\n  columns,\n  data,\n  serverPaginationData,\n  width: initialWidth = '100%',\n  height: initialHeight = 300,\n  pageSize: initialPageSize = 0,\n  initialState: initialState_ = {},\n  pageSizeOptions = PAGE_SIZE_OPTIONS,\n  maxPageItemCount = 9,\n  sticky: doSticky,\n  searchInput = true,\n  onServerPaginationChange,\n  rowCount,\n  selectPageSize,\n  noResults: noResultsText = 'No data found',\n  hooks,\n  serverPagination,\n  wrapperRef: userWrapperRef,\n  onColumnOrderChange,\n  ...moreUseTableOptions\n}: DataTableProps<D>): JSX.Element {\n  const tableHooks: PluginHook<D>[] = [\n    useGlobalFilter,\n    useSortBy,\n    usePagination,\n    useColumnOrder,\n    doSticky ? useSticky : [],\n    hooks || [],\n  ].flat();\n  const columnNames = Object.keys(data?.[0] || {});\n  const previousColumnNames = usePrevious(columnNames);\n  const resultsSize = serverPagination ? rowCount : data.length;\n  const sortByRef = useRef([]); // cache initial `sortby` so sorting doesn't trigger page reset\n  const pageSizeRef = useRef([initialPageSize, resultsSize]);\n  const hasPagination = initialPageSize > 0 && resultsSize > 0; // pageSize == 0 means no pagination\n  const hasGlobalControl = hasPagination || !!searchInput;\n  const initialState = {\n    ...initialState_,\n    // zero length means all pages, the `usePagination` plugin does not\n    // understand pageSize = 0\n    sortBy: sortByRef.current,\n    pageSize: initialPageSize > 0 ? initialPageSize : resultsSize || 10,\n  };\n  const defaultWrapperRef = useRef<HTMLDivElement>(null);\n  const globalControlRef = useRef<HTMLDivElement>(null);\n  const paginationRef = useRef<HTMLDivElement>(null);\n  const wrapperRef = userWrapperRef || defaultWrapperRef;\n  const paginationData = JSON.stringify(serverPaginationData);\n\n  const defaultGetTableSize = useCallback(() => {\n    if (wrapperRef.current) {\n      // `initialWidth` and `initialHeight` could be also parameters like `100%`\n      // `Number` returns `NaN` on them, then we fallback to computed size\n      const width = Number(initialWidth) || wrapperRef.current.clientWidth;\n      const height =\n        (Number(initialHeight) || wrapperRef.current.clientHeight) -\n        (globalControlRef.current?.clientHeight || 0) -\n        (paginationRef.current?.clientHeight || 0);\n      return { width, height };\n    }\n    return undefined;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    initialHeight,\n    initialWidth,\n    wrapperRef,\n    hasPagination,\n    hasGlobalControl,\n    paginationRef,\n    resultsSize,\n    paginationData,\n  ]);\n\n  const defaultGlobalFilter: FilterType<D> = useCallback(\n    (rows: Row<D>[], columnIds: IdType<D>[], filterValue: string) => {\n      // allow searching by \"col1_value col2_value\"\n      const joinedString = (row: Row<D>) =>\n        columnIds.map(x => row.values[x]).join(' ');\n      return matchSorter(rows, filterValue, {\n        keys: [...columnIds, joinedString],\n        threshold: rankings.ACRONYM,\n      }) as typeof rows;\n    },\n    [],\n  );\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    prepareRow,\n    headerGroups,\n    footerGroups,\n    page,\n    pageCount,\n    gotoPage,\n    preGlobalFilteredRows,\n    setGlobalFilter,\n    setPageSize: setPageSize_,\n    wrapStickyTable,\n    setColumnOrder,\n    allColumns,\n    state: { pageIndex, pageSize, globalFilter: filterValue, sticky = {} },\n  } = useTable<D>(\n    {\n      columns,\n      data,\n      initialState,\n      getTableSize: defaultGetTableSize,\n      globalFilter: defaultGlobalFilter,\n      sortTypes,\n      autoResetSortBy: !isEqual(columnNames, previousColumnNames),\n      ...moreUseTableOptions,\n    },\n    ...tableHooks,\n  );\n  // make setPageSize accept 0\n  const setPageSize = (size: number) => {\n    if (serverPagination) {\n      onServerPaginationChange(0, size);\n    }\n    // keep the original size if data is empty\n    if (size || resultsSize !== 0) {\n      setPageSize_(size === 0 ? resultsSize : size);\n    }\n  };\n\n  const noResults =\n    typeof noResultsText === 'function'\n      ? noResultsText(filterValue as string)\n      : noResultsText;\n\n  const getNoResults = () => <div className=\"dt-no-results\">{noResults}</div>;\n\n  if (!columns || columns.length === 0) {\n    return (\n      wrapStickyTable ? wrapStickyTable(getNoResults) : getNoResults()\n    ) as JSX.Element;\n  }\n\n  const shouldRenderFooter = columns.some(x => !!x.Footer);\n\n  let columnBeingDragged = -1;\n\n  const onDragStart = (e: React.DragEvent) => {\n    const el = e.target as HTMLTableCellElement;\n    columnBeingDragged = allColumns.findIndex(\n      col => col.id === el.dataset.columnName,\n    );\n    e.dataTransfer.setData('text/plain', `${columnBeingDragged}`);\n  };\n\n  const onDrop = (e: React.DragEvent) => {\n    const el = e.target as HTMLTableCellElement;\n    const newPosition = allColumns.findIndex(\n      col => col.id === el.dataset.columnName,\n    );\n\n    if (newPosition !== -1) {\n      const currentCols = allColumns.map(c => c.id);\n      const colToBeMoved = currentCols.splice(columnBeingDragged, 1);\n      currentCols.splice(newPosition, 0, colToBeMoved[0]);\n      setColumnOrder(currentCols);\n      // toggle value in TableChart to trigger column width recalc\n      onColumnOrderChange();\n    }\n    e.preventDefault();\n  };\n\n  const renderTable = () => (\n    <table {...getTableProps({ className: tableClassName })}>\n      <thead>\n        {headerGroups.map(headerGroup => {\n          const { key: headerGroupKey, ...headerGroupProps } =\n            headerGroup.getHeaderGroupProps();\n          return (\n            <tr key={headerGroupKey || headerGroup.id} {...headerGroupProps}>\n              {headerGroup.headers.map(column =>\n                column.render('Header', {\n                  key: column.id,\n                  ...column.getSortByToggleProps(),\n                  onDragStart,\n                  onDrop,\n                }),\n              )}\n            </tr>\n          );\n        })}\n      </thead>\n      <tbody {...getTableBodyProps()}>\n        {page && page.length > 0 ? (\n          page.map(row => {\n            prepareRow(row);\n            const { key: rowKey, ...rowProps } = row.getRowProps();\n            return (\n              <tr key={rowKey || row.id} {...rowProps}>\n                {row.cells.map(cell =>\n                  cell.render('Cell', { key: cell.column.id }),\n                )}\n              </tr>\n            );\n          })\n        ) : (\n          <tr>\n            <td className=\"dt-no-results\" colSpan={columns.length}>\n              {noResults}\n            </td>\n          </tr>\n        )}\n      </tbody>\n      {shouldRenderFooter && (\n        <tfoot>\n          {footerGroups.map(footerGroup => {\n            const { key: footerGroupKey, ...footerGroupProps } =\n              footerGroup.getHeaderGroupProps();\n            return (\n              <tr key={footerGroupKey || footerGroup.id} {...footerGroupProps}>\n                {footerGroup.headers.map(column =>\n                  column.render('Footer', { key: column.id }),\n                )}\n              </tr>\n            );\n          })}\n        </tfoot>\n      )}\n    </table>\n  );\n\n  // force update the pageSize when it's been update from the initial state\n  if (\n    pageSizeRef.current[0] !== initialPageSize ||\n    // when initialPageSize stays as zero, but total number of records changed,\n    // we'd also need to update page size\n    (initialPageSize === 0 && pageSizeRef.current[1] !== resultsSize)\n  ) {\n    pageSizeRef.current = [initialPageSize, resultsSize];\n    setPageSize(initialPageSize);\n  }\n\n  const paginationStyle: CSSProperties = sticky.height\n    ? {}\n    : { visibility: 'hidden' };\n\n  let resultPageCount = pageCount;\n  let resultCurrentPageSize = pageSize;\n  let resultCurrentPage = pageIndex;\n  let resultOnPageChange: (page: number) => void = gotoPage;\n  if (serverPagination) {\n    const serverPageSize = serverPaginationData?.pageSize ?? initialPageSize;\n    resultPageCount = Math.ceil(rowCount / serverPageSize);\n    if (!Number.isFinite(resultPageCount)) {\n      resultPageCount = 0;\n    }\n    resultCurrentPageSize = serverPageSize;\n    const foundPageSizeIndex = pageSizeOptions.findIndex(\n      ([option]) => option >= resultCurrentPageSize,\n    );\n    if (foundPageSizeIndex === -1) {\n      resultCurrentPageSize = 0;\n    }\n    resultCurrentPage = serverPaginationData?.currentPage ?? 0;\n    resultOnPageChange = (pageNumber: number) =>\n      onServerPaginationChange(pageNumber, serverPageSize);\n  }\n  return (\n    <div\n      ref={wrapperRef}\n      style={{ width: initialWidth, height: initialHeight }}\n    >\n      {hasGlobalControl ? (\n        <div ref={globalControlRef} className=\"form-inline dt-controls\">\n          <div className=\"row\">\n            <div className=\"col-sm-6\">\n              {hasPagination ? (\n                <SelectPageSize\n                  total={resultsSize}\n                  current={resultCurrentPageSize}\n                  options={pageSizeOptions}\n                  selectRenderer={\n                    typeof selectPageSize === 'boolean'\n                      ? undefined\n                      : selectPageSize\n                  }\n                  onChange={setPageSize}\n                />\n              ) : null}\n            </div>\n            {searchInput ? (\n              <div className=\"col-sm-6\">\n                <GlobalFilter<D>\n                  searchInput={\n                    typeof searchInput === 'boolean' ? undefined : searchInput\n                  }\n                  preGlobalFilteredRows={preGlobalFilteredRows}\n                  setGlobalFilter={setGlobalFilter}\n                  filterValue={filterValue}\n                />\n              </div>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n      {wrapStickyTable ? wrapStickyTable(renderTable) : renderTable()}\n      {hasPagination && resultPageCount > 1 ? (\n        <SimplePagination\n          ref={paginationRef}\n          style={paginationStyle}\n          maxPageItemCount={maxPageItemCount}\n          pageCount={resultPageCount}\n          currentPage={resultCurrentPage}\n          onPageChange={resultOnPageChange}\n        />\n      ) : null}\n    </div>\n  );\n});\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { css, styled } from '@superset-ui/core';\n\nexport default styled.div`\n  ${({ theme }) => css`\n    table {\n      width: 100%;\n      min-width: auto;\n      max-width: none;\n      margin: 0;\n    }\n\n    th,\n    td {\n      min-width: 4.3em;\n    }\n\n    thead > tr > th {\n      padding-right: 0;\n      position: relative;\n      background: ${theme.colors.grayscale.light5};\n      text-align: left;\n    }\n    th svg {\n      color: ${theme.colors.grayscale.light2};\n      margin: ${theme.gridUnit / 2}px;\n    }\n    th.is-sorted svg {\n      color: ${theme.colors.grayscale.base};\n    }\n    .table > tbody > tr:first-of-type > td,\n    .table > tbody > tr:first-of-type > th {\n      border-top: 0;\n    }\n\n    .table > tbody tr td {\n      font-feature-settings: 'tnum' 1;\n    }\n\n    .dt-controls {\n      padding-bottom: 0.65em;\n    }\n    .dt-metric {\n      text-align: right;\n    }\n    .dt-totals {\n      font-weight: ${theme.typography.weights.bold};\n    }\n    .dt-is-null {\n      color: ${theme.colors.grayscale.light1};\n    }\n    td.dt-is-filter {\n      cursor: pointer;\n    }\n    td.dt-is-filter:hover {\n      background-color: ${theme.colors.secondary.light4};\n    }\n    td.dt-is-active-filter,\n    td.dt-is-active-filter:hover {\n      background-color: ${theme.colors.secondary.light3};\n    }\n\n    .dt-global-filter {\n      float: right;\n    }\n\n    .dt-truncate-cell {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    .dt-truncate-cell:hover {\n      overflow: visible;\n      white-space: normal;\n      height: auto;\n    }\n\n    .dt-pagination {\n      text-align: right;\n      /* use padding instead of margin so clientHeight can capture it */\n      padding-top: 0.5em;\n    }\n    .dt-pagination .pagination {\n      margin: 0;\n    }\n\n    .pagination > li > span.dt-pagination-ellipsis:focus,\n    .pagination > li > span.dt-pagination-ellipsis:hover {\n      background: ${theme.colors.grayscale.light5};\n    }\n\n    .dt-no-results {\n      text-align: center;\n      padding: 1em 0.6em;\n    }\n  `}\n`;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  DataRecordValue,\n  GenericDataType,\n  getNumberFormatter,\n  isProbablyHTML,\n  sanitizeHtml,\n} from '@superset-ui/core';\nimport { DataColumnMeta } from '../types';\nimport DateWithFormatter from './DateWithFormatter';\n\n/**\n * Format text for cell value.\n */\nfunction formatValue(\n  formatter: DataColumnMeta['formatter'],\n  value: DataRecordValue,\n): [boolean, string] {\n  // render undefined as empty string\n  if (value === undefined) {\n    return [false, ''];\n  }\n  // render null as `N/A`\n  if (\n    value === null ||\n    // null values in temporal columns are wrapped in a Date object, so make sure we\n    // handle them here too\n    (value instanceof DateWithFormatter && value.input === null)\n  ) {\n    return [false, 'N/A'];\n  }\n  if (formatter) {\n    return [false, formatter(value as number)];\n  }\n  if (typeof value === 'string') {\n    return isProbablyHTML(value) ? [true, sanitizeHtml(value)] : [false, value];\n  }\n  return [false, value.toString()];\n}\n\nexport function formatColumnValue(\n  column: DataColumnMeta,\n  value: DataRecordValue,\n) {\n  const { dataType, formatter, config = {} } = column;\n  const isNumber = dataType === GenericDataType.NUMERIC;\n  const smallNumberFormatter =\n    config.d3SmallNumberFormat === undefined\n      ? formatter\n      : getNumberFormatter(config.d3SmallNumberFormat);\n  return formatValue(\n    isNumber && typeof value === 'number' && Math.abs(value) < 1\n      ? smallNumberFormatter\n      : formatter,\n    value,\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  CSSProperties,\n  useCallback,\n  useLayoutEffect,\n  useMemo,\n  useState,\n  MouseEvent,\n} from 'react';\nimport {\n  ColumnInstance,\n  ColumnWithLooseAccessor,\n  DefaultSortTypes,\n  Row,\n} from 'react-table';\nimport { extent as d3Extent, max as d3Max } from 'd3-array';\nimport { FaSort } from '@react-icons/all-files/fa/FaSort';\nimport { FaSortDown as FaSortDesc } from '@react-icons/all-files/fa/FaSortDown';\nimport { FaSortUp as FaSortAsc } from '@react-icons/all-files/fa/FaSortUp';\nimport cx from 'classnames';\nimport {\n  DataRecord,\n  DataRecordValue,\n  DTTM_ALIAS,\n  ensureIsArray,\n  GenericDataType,\n  getSelectedText,\n  getTimeFormatterForGranularity,\n  BinaryQueryObjectFilterClause,\n  styled,\n  css,\n  t,\n  tn,\n} from '@superset-ui/core';\n\nimport { DataColumnMeta, TableChartTransformedProps } from './types';\nimport DataTable, {\n  DataTableProps,\n  SearchInputProps,\n  SelectPageSizeRendererProps,\n  SizeOption,\n} from './DataTable';\n\nimport Styles from './Styles';\nimport { formatColumnValue } from './utils/formatValue';\nimport { PAGE_SIZE_OPTIONS } from './consts';\nimport { updateExternalFormData } from './DataTable/utils/externalAPIs';\nimport getScrollBarSize from './DataTable/utils/getScrollBarSize';\n\ntype ValueRange = [number, number];\n\ninterface TableSize {\n  width: number;\n  height: number;\n}\n\n/**\n * Return sortType based on data type\n */\nfunction getSortTypeByDataType(dataType: GenericDataType): DefaultSortTypes {\n  if (dataType === GenericDataType.TEMPORAL) {\n    return 'datetime';\n  }\n  if (dataType === GenericDataType.STRING) {\n    return 'alphanumeric';\n  }\n  return 'basic';\n}\n\n/**\n * Cell background width calculation for horizontal bar chart\n */\nfunction cellWidth({\n  value,\n  valueRange,\n  alignPositiveNegative,\n}: {\n  value: number;\n  valueRange: ValueRange;\n  alignPositiveNegative: boolean;\n}) {\n  const [minValue, maxValue] = valueRange;\n  if (alignPositiveNegative) {\n    const perc = Math.abs(Math.round((value / maxValue) * 100));\n    return perc;\n  }\n  const posExtent = Math.abs(Math.max(maxValue, 0));\n  const negExtent = Math.abs(Math.min(minValue, 0));\n  const tot = posExtent + negExtent;\n  const perc2 = Math.round((Math.abs(value) / tot) * 100);\n  return perc2;\n}\n\n/**\n * Cell left margin (offset) calculation for horizontal bar chart elements\n * when alignPositiveNegative is not set\n */\nfunction cellOffset({\n  value,\n  valueRange,\n  alignPositiveNegative,\n}: {\n  value: number;\n  valueRange: ValueRange;\n  alignPositiveNegative: boolean;\n}) {\n  if (alignPositiveNegative) {\n    return 0;\n  }\n  const [minValue, maxValue] = valueRange;\n  const posExtent = Math.abs(Math.max(maxValue, 0));\n  const negExtent = Math.abs(Math.min(minValue, 0));\n  const tot = posExtent + negExtent;\n  return Math.round((Math.min(negExtent + value, negExtent) / tot) * 100);\n}\n\n/**\n * Cell background color calculation for horizontal bar chart\n */\nfunction cellBackground({\n  value,\n  colorPositiveNegative = false,\n}: {\n  value: number;\n  colorPositiveNegative: boolean;\n}) {\n  const r = colorPositiveNegative && value < 0 ? 150 : 0;\n  return `rgba(${r},0,0,0.2)`;\n}\n\nfunction SortIcon<D extends object>({ column }: { column: ColumnInstance<D> }) {\n  const { isSorted, isSortedDesc } = column;\n  let sortIcon = <FaSort />;\n  if (isSorted) {\n    sortIcon = isSortedDesc ? <FaSortDesc /> : <FaSortAsc />;\n  }\n  return sortIcon;\n}\n\nfunction SearchInput({ count, value, onChange }: SearchInputProps) {\n  return (\n    <span className=\"dt-global-filter\">\n      {t('Search')}{' '}\n      <input\n        className=\"form-control input-sm\"\n        placeholder={tn('search.num_records', count)}\n        value={value}\n        onChange={onChange}\n      />\n    </span>\n  );\n}\n\nfunction SelectPageSize({\n  options,\n  current,\n  onChange,\n}: SelectPageSizeRendererProps) {\n  return (\n    <span className=\"dt-select-page-size form-inline\">\n      {t('page_size.show')}{' '}\n      <select\n        className=\"form-control input-sm\"\n        value={current}\n        onBlur={() => {}}\n        onChange={e => {\n          onChange(Number((e.target as HTMLSelectElement).value));\n        }}\n      >\n        {options.map(option => {\n          const [size, text] = Array.isArray(option)\n            ? option\n            : [option, option];\n          return (\n            <option key={size} value={size}>\n              {text}\n            </option>\n          );\n        })}\n      </select>{' '}\n      {t('page_size.entries')}\n    </span>\n  );\n}\n\nconst getNoResultsMessage = (filter: string) =>\n  filter ? t('No matching records found') : t('No records found');\n\nexport default function TableChart<D extends DataRecord = DataRecord>(\n  props: TableChartTransformedProps<D> & {\n    sticky?: DataTableProps<D>['sticky'];\n  },\n) {\n  const {\n    timeGrain,\n    height,\n    width,\n    data,\n    totals,\n    isRawRecords,\n    rowCount = 0,\n    columns: columnsMeta,\n    alignPositiveNegative: defaultAlignPN = false,\n    colorPositiveNegative: defaultColorPN = false,\n    includeSearch = false,\n    pageSize = 0,\n    serverPagination = false,\n    serverPaginationData,\n    setDataMask,\n    showCellBars = true,\n    sortDesc = false,\n    filters,\n    sticky = true, // whether to use sticky header\n    columnColorFormatters,\n    allowRearrangeColumns = false,\n    onContextMenu,\n    emitCrossFilters,\n  } = props;\n  const timestampFormatter = useCallback(\n    value => getTimeFormatterForGranularity(timeGrain)(value),\n    [timeGrain],\n  );\n  const [tableSize, setTableSize] = useState<TableSize>({\n    width: 0,\n    height: 0,\n  });\n  // keep track of whether column order changed, so that column widths can too\n  const [columnOrderToggle, setColumnOrderToggle] = useState(false);\n\n  // only take relevant page size options\n  const pageSizeOptions = useMemo(() => {\n    const getServerPagination = (n: number) => n <= rowCount;\n    return PAGE_SIZE_OPTIONS.filter(([n]) =>\n      serverPagination ? getServerPagination(n) : n <= 2 * data.length,\n    ) as SizeOption[];\n  }, [data.length, rowCount, serverPagination]);\n\n  const getValueRange = useCallback(\n    function getValueRange(key: string, alignPositiveNegative: boolean) {\n      if (typeof data?.[0]?.[key] === 'number') {\n        const nums = data.map(row => row[key]) as number[];\n        return (\n          alignPositiveNegative\n            ? [0, d3Max(nums.map(Math.abs))]\n            : d3Extent(nums)\n        ) as ValueRange;\n      }\n      return null;\n    },\n    [data],\n  );\n\n  const isActiveFilterValue = useCallback(\n    function isActiveFilterValue(key: string, val: DataRecordValue) {\n      return !!filters && filters[key]?.includes(val);\n    },\n    [filters],\n  );\n\n  const getCrossFilterDataMask = (key: string, value: DataRecordValue) => {\n    let updatedFilters = { ...(filters || {}) };\n    if (filters && isActiveFilterValue(key, value)) {\n      updatedFilters = {};\n    } else {\n      updatedFilters = {\n        [key]: [value],\n      };\n    }\n    if (\n      Array.isArray(updatedFilters[key]) &&\n      updatedFilters[key].length === 0\n    ) {\n      delete updatedFilters[key];\n    }\n\n    const groupBy = Object.keys(updatedFilters);\n    const groupByValues = Object.values(updatedFilters);\n    const labelElements: string[] = [];\n    groupBy.forEach(col => {\n      const isTimestamp = col === DTTM_ALIAS;\n      const filterValues = ensureIsArray(updatedFilters?.[col]);\n      if (filterValues.length) {\n        const valueLabels = filterValues.map(value =>\n          isTimestamp ? timestampFormatter(value) : value,\n        );\n        labelElements.push(`${valueLabels.join(', ')}`);\n      }\n    });\n\n    return {\n      dataMask: {\n        extraFormData: {\n          filters:\n            groupBy.length === 0\n              ? []\n              : groupBy.map(col => {\n                  const val = ensureIsArray(updatedFilters?.[col]);\n                  if (!val.length)\n                    return {\n                      col,\n                      op: 'IS NULL' as const,\n                    };\n                  return {\n                    col,\n                    op: 'IN' as const,\n                    val: val.map(el =>\n                      el instanceof Date ? el.getTime() : el!,\n                    ),\n                    grain: col === DTTM_ALIAS ? timeGrain : undefined,\n                  };\n                }),\n        },\n        filterState: {\n          label: labelElements.join(', '),\n          value: groupByValues.length ? groupByValues : null,\n          filters:\n            updatedFilters && Object.keys(updatedFilters).length\n              ? updatedFilters\n              : null,\n        },\n      },\n      isCurrentValueSelected: isActiveFilterValue(key, value),\n    };\n  };\n\n  const toggleFilter = useCallback(\n    function toggleFilter(key: string, val: DataRecordValue) {\n      if (!emitCrossFilters) {\n        return;\n      }\n      setDataMask(getCrossFilterDataMask(key, val).dataMask);\n    },\n    [emitCrossFilters, getCrossFilterDataMask, setDataMask],\n  );\n\n  const getSharedStyle = (column: DataColumnMeta): CSSProperties => {\n    const { isNumeric, config = {} } = column;\n    const textAlign = config.horizontalAlign\n      ? config.horizontalAlign\n      : isNumeric\n      ? 'right'\n      : 'left';\n    return {\n      textAlign,\n    };\n  };\n\n  const handleContextMenu =\n    onContextMenu && !isRawRecords\n      ? (\n          value: D,\n          cellPoint: {\n            key: string;\n            value: DataRecordValue;\n            isMetric?: boolean;\n          },\n          clientX: number,\n          clientY: number,\n        ) => {\n          const drillToDetailFilters: BinaryQueryObjectFilterClause[] = [];\n          columnsMeta.forEach(col => {\n            if (!col.isMetric) {\n              const dataRecordValue = value[col.key];\n              drillToDetailFilters.push({\n                col: col.key,\n                op: '==',\n                val: dataRecordValue as string | number | boolean,\n                formattedVal: formatColumnValue(col, dataRecordValue)[1],\n              });\n            }\n          });\n          onContextMenu(clientX, clientY, {\n            drillToDetail: drillToDetailFilters,\n            crossFilter: cellPoint.isMetric\n              ? undefined\n              : getCrossFilterDataMask(cellPoint.key, cellPoint.value),\n            drillBy: cellPoint.isMetric\n              ? undefined\n              : {\n                  filters: [\n                    {\n                      col: cellPoint.key,\n                      op: '==',\n                      val: cellPoint.value as string | number | boolean,\n                    },\n                  ],\n                  groupbyFieldName: 'groupby',\n                },\n          });\n        }\n      : undefined;\n\n  const getColumnConfigs = useCallback(\n    (column: DataColumnMeta, i: number): ColumnWithLooseAccessor<D> => {\n      const { key, label, isNumeric, dataType, isMetric, config = {} } = column;\n      const columnWidth = Number.isNaN(Number(config.columnWidth))\n        ? config.columnWidth\n        : Number(config.columnWidth);\n\n      // inline style for both th and td cell\n      const sharedStyle: CSSProperties = getSharedStyle(column);\n\n      const alignPositiveNegative =\n        config.alignPositiveNegative === undefined\n          ? defaultAlignPN\n          : config.alignPositiveNegative;\n      const colorPositiveNegative =\n        config.colorPositiveNegative === undefined\n          ? defaultColorPN\n          : config.colorPositiveNegative;\n\n      const { truncateLongCells } = config;\n\n      const hasColumnColorFormatters =\n        isNumeric &&\n        Array.isArray(columnColorFormatters) &&\n        columnColorFormatters.length > 0;\n\n      const valueRange =\n        !hasColumnColorFormatters &&\n        (config.showCellBars === undefined\n          ? showCellBars\n          : config.showCellBars) &&\n        (isMetric || isRawRecords) &&\n        getValueRange(key, alignPositiveNegative);\n\n      let className = '';\n      if (emitCrossFilters && !isMetric) {\n        className += ' dt-is-filter';\n      }\n\n      return {\n        id: String(i), // to allow duplicate column keys\n        // must use custom accessor to allow `.` in column names\n        // typing is incorrect in current version of `@types/react-table`\n        // so we ask TS not to check.\n        accessor: ((datum: D) => datum[key]) as never,\n        Cell: ({ value, row }: { value: DataRecordValue; row: Row<D> }) => {\n          const [isHtml, text] = formatColumnValue(column, value);\n          const html = isHtml ? { __html: text } : undefined;\n\n          let backgroundColor;\n          if (hasColumnColorFormatters) {\n            columnColorFormatters!\n              .filter(formatter => formatter.column === column.key)\n              .forEach(formatter => {\n                const formatterResult =\n                  value || value === 0\n                    ? formatter.getColorFromValue(value as number)\n                    : false;\n                if (formatterResult) {\n                  backgroundColor = formatterResult;\n                }\n              });\n          }\n\n          const StyledCell = styled.td`\n            text-align: ${sharedStyle.textAlign};\n            white-space: ${value instanceof Date ? 'nowrap' : undefined};\n            position: relative;\n            background: ${backgroundColor || undefined};\n          `;\n\n          const cellBarStyles = css`\n            position: absolute;\n            height: 100%;\n            display: block;\n            top: 0;\n            ${valueRange &&\n            `\n                width: ${`${cellWidth({\n                  value: value as number,\n                  valueRange,\n                  alignPositiveNegative,\n                })}%`};\n                left: ${`${cellOffset({\n                  value: value as number,\n                  valueRange,\n                  alignPositiveNegative,\n                })}%`};\n                background-color: ${cellBackground({\n                  value: value as number,\n                  colorPositiveNegative,\n                })};\n              `}\n          `;\n\n          const cellProps = {\n            // show raw number in title in case of numeric values\n            title: typeof value === 'number' ? String(value) : undefined,\n            onClick:\n              emitCrossFilters && !valueRange && !isMetric\n                ? () => {\n                    // allow selecting text in a cell\n                    if (!getSelectedText()) {\n                      toggleFilter(key, value);\n                    }\n                  }\n                : undefined,\n            onContextMenu: (e: MouseEvent) => {\n              if (handleContextMenu) {\n                e.preventDefault();\n                e.stopPropagation();\n                handleContextMenu(\n                  row.original,\n                  { key, value, isMetric },\n                  e.nativeEvent.clientX,\n                  e.nativeEvent.clientY,\n                );\n              }\n            },\n            className: [\n              className,\n              value == null ? 'dt-is-null' : '',\n              isActiveFilterValue(key, value) ? ' dt-is-active-filter' : '',\n            ].join(' '),\n          };\n          if (html) {\n            if (truncateLongCells) {\n              // eslint-disable-next-line react/no-danger\n              return (\n                <StyledCell {...cellProps}>\n                  <div\n                    className=\"dt-truncate-cell\"\n                    style={columnWidth ? { width: columnWidth } : undefined}\n                    dangerouslySetInnerHTML={html}\n                  />\n                </StyledCell>\n              );\n            }\n            // eslint-disable-next-line react/no-danger\n            return <StyledCell {...cellProps} dangerouslySetInnerHTML={html} />;\n          }\n          // If cellProps renders textContent already, then we don't have to\n          // render `Cell`. This saves some time for large tables.\n          return (\n            <StyledCell {...cellProps}>\n              {valueRange && (\n                <div\n                  /* The following classes are added to support custom CSS styling */\n                  className={cx(\n                    'cell-bar',\n                    value && value < 0 ? 'negative' : 'positive',\n                  )}\n                  css={cellBarStyles}\n                />\n              )}\n              {truncateLongCells ? (\n                <div\n                  className=\"dt-truncate-cell\"\n                  style={columnWidth ? { width: columnWidth } : undefined}\n                >\n                  {text}\n                </div>\n              ) : (\n                text\n              )}\n            </StyledCell>\n          );\n        },\n        Header: ({ column: col, onClick, style, onDragStart, onDrop }) => (\n          <th\n            title={t('Shift + Click to sort by multiple columns')}\n            className={[className, col.isSorted ? 'is-sorted' : ''].join(' ')}\n            style={{\n              ...sharedStyle,\n              ...style,\n            }}\n            onClick={onClick}\n            data-column-name={col.id}\n            {...(allowRearrangeColumns && {\n              draggable: 'true',\n              onDragStart,\n              onDragOver: e => e.preventDefault(),\n              onDragEnter: e => e.preventDefault(),\n              onDrop,\n            })}\n          >\n            {/* can't use `columnWidth &&` because it may also be zero */}\n            {config.columnWidth ? (\n              // column width hint\n              <div\n                style={{\n                  width: columnWidth,\n                  height: 0.01,\n                }}\n              />\n            ) : null}\n            <div\n              data-column-name={col.id}\n              css={{\n                display: 'inline-flex',\n                alignItems: 'flex-end',\n              }}\n            >\n              <span data-column-name={col.id}>{label}</span>\n              <SortIcon column={col} />\n            </div>\n          </th>\n        ),\n        Footer: totals ? (\n          i === 0 ? (\n            <th>{t('Totals')}</th>\n          ) : (\n            <td style={sharedStyle}>\n              <strong>{formatColumnValue(column, totals[key])[1]}</strong>\n            </td>\n          )\n        ) : undefined,\n        sortDescFirst: sortDesc,\n        sortType: getSortTypeByDataType(dataType),\n      };\n    },\n    [\n      defaultAlignPN,\n      defaultColorPN,\n      emitCrossFilters,\n      getValueRange,\n      isActiveFilterValue,\n      isRawRecords,\n      showCellBars,\n      sortDesc,\n      toggleFilter,\n      totals,\n      columnColorFormatters,\n      columnOrderToggle,\n    ],\n  );\n\n  const columns = useMemo(\n    () => columnsMeta.map(getColumnConfigs),\n    [columnsMeta, getColumnConfigs],\n  );\n\n  const handleServerPaginationChange = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      updateExternalFormData(setDataMask, pageNumber, pageSize);\n    },\n    [setDataMask],\n  );\n\n  const handleSizeChange = useCallback(\n    ({ width, height }: { width: number; height: number }) => {\n      setTableSize({ width, height });\n    },\n    [],\n  );\n\n  useLayoutEffect(() => {\n    // After initial load the table should resize only when the new sizes\n    // Are not only scrollbar updates, otherwise, the table would twicth\n    const scrollBarSize = getScrollBarSize();\n    const { width: tableWidth, height: tableHeight } = tableSize;\n    // Table is increasing its original size\n    if (\n      width - tableWidth > scrollBarSize ||\n      height - tableHeight > scrollBarSize\n    ) {\n      handleSizeChange({\n        width: width - scrollBarSize,\n        height: height - scrollBarSize,\n      });\n    } else if (\n      tableWidth - width > scrollBarSize ||\n      tableHeight - height > scrollBarSize\n    ) {\n      // Table is decreasing its original size\n      handleSizeChange({\n        width,\n        height,\n      });\n    }\n  }, [width, height, handleSizeChange, tableSize]);\n\n  const { width: widthFromState, height: heightFromState } = tableSize;\n\n  return (\n    <Styles>\n      <DataTable<D>\n        columns={columns}\n        data={data}\n        rowCount={rowCount}\n        tableClassName=\"table table-striped table-condensed\"\n        pageSize={pageSize}\n        serverPaginationData={serverPaginationData}\n        pageSizeOptions={pageSizeOptions}\n        width={widthFromState}\n        height={heightFromState}\n        serverPagination={serverPagination}\n        onServerPaginationChange={handleServerPaginationChange}\n        onColumnOrderChange={() => setColumnOrderToggle(!columnOrderToggle)}\n        // 9 page items in > 340px works well even for 100+ pages\n        maxPageItemCount={width > 340 ? 9 : 7}\n        noResults={getNoResultsMessage}\n        searchInput={includeSearch && SearchInput}\n        selectPageSize={pageSize !== null && SelectPageSize}\n        // not in use in Superset, but needed for unit tests\n        sticky={sticky}\n      />\n    </Styles>\n  );\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n"],"names":["GenIcon","module","exports","props","DefaultContext","color","undefined","size","className","style","attr","IconContext","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","Tree2Element","tree","map","node","tag","key","child","data","IconBase","elem","conf","title","svgProps","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","computedSize","stroke","fill","strokeWidth","height","width","xmlns","children","Consumer","rankings","CASE_SENSITIVE_EQUAL","EQUAL","STARTS_WITH","WORD_STARTS_WITH","CONTAINS","ACRONYM","MATCHES","NO_MATCH","matchSorter","defaultBaseSortFn","a","b","String","rankedValue","localeCompare","items","value","options","_options","keys","_options$threshold","threshold","_options$baseSort","baseSort","_options$sorter","sorter","matchedItems","sort","aRank","rank","aKeyIndex","keyIndex","bRank","bKeyIndex","sortRankedValues","reduce","matches","item","index","rankingInfo","allValues","j","J","attributes","getKeyAttributes","itemValues","getItemValues","I","push","itemValue","getAllValuesToRank","_ref2","_ref3","keyThreshold","newRank","getMatchRanking","newRankedValue","minRanking","maxRanking","getHighestRanking","_rankingInfo$keyThres","_ref","testString","stringToRank","prepareValueForComparison","toLowerCase","startsWith","includes","string","acronym","split","forEach","wordInString","splitByHyphenWord","substr","matchingInOrderCharCount","charNumber","findMatchingCharacter","matchChar","spreadPercentage","inOrderPercentage","firstIndex","getClosenessRanking","_ref4","keepDiacritics","path","values","nestedKey","nestedValues","nestedItem","nestedValue","concat","Array","isArray","result","getNestedValues","defaultKeyAttributes","Infinity","runtime","Op","hasOwn","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","characterMap","chars","join","allAccents","RegExp","firstAccent","removeAccents","replace","match","has","remove","getSelectedText","window","getSelection","toString","typedMemo","memo","max","valueof","DefaultSearchInput","count","onChange","placeholder","React","preGlobalFilteredRows","filterValue","searchInput","setGlobalFilter","setValue","initialValue","callback","wait","useState","valueRef","useRef","useAsyncDebounce","newValue","current","useAsyncState","SearchInput","target","preventDefault","DefaultSelectRenderer","onBlur","Number","option","text","getOptionValue","x","total","sizeOptions","currentSize","selectRenderer","sizeOptionValues","splice","findIndex","formatSelectOptions","SelectRenderer","forwardRef","ref","pageCount","currentPage","maxPageItemCount","onPageChange","pageItems","left","Math","min","floor","generatePageItems","href","role","onClick","cached","css","getScrollBarSize","forceRefresh","document","inner","createElement","outer","cssText","append","body","clientWidth","ReducerActions","sum","mergeStyleProp","fixedTableLayout","tableLayout","StickyWrap","thead","tbody","tfoot","sticky","maxWidth","maxHeight","table","setStickyState","columnCount","useMemo","theadRef","tfootRef","scrollHeaderRef","scrollFooterRef","scrollBodyRef","scrollBarSize","bodyHeight","columnWidths","needSizer","sizerTable","headerTable","footerTable","bodyTable","useLayoutEffect","bodyThead","theadHeight","clientHeight","tfootHeight","fullTableHeight","parentNode","ths","childNodes","widths","from","th","getBoundingClientRect","hasVerticalScroll","hasHorizontalScroll","innerHeight","innerWidth","needScrollBar","realHeight","tableHeight","theadWithRef","tfootWithRef","overflow","visibility","colWidths","colgroup","w","onScroll","scrollLeft","currentTarget","useInstance","instance","dispatch","page","rows","allColumns","getTableSize","useCallback","wrapStickyTable","renderer","factory","deps","mounted","useMountedMemo","useSticky","hooks","stateReducers","newState","action_","prevState","action","init","pluginName","sortTypes","alphanumeric","rowA","rowB","columnId","valueA","valueB","tableClassName","columns","serverPaginationData","initialWidth","initialHeight","pageSize","initialPageSize","initialState","initialState_","pageSizeOptions","PAGE_SIZE_OPTIONS","doSticky","onServerPaginationChange","rowCount","selectPageSize","noResults","noResultsText","serverPagination","wrapperRef","userWrapperRef","onColumnOrderChange","moreUseTableOptions","tableHooks","useGlobalFilter","useSortBy","usePagination","useColumnOrder","flat","columnNames","previousColumnNames","usePrevious","resultsSize","sortByRef","pageSizeRef","hasPagination","hasGlobalControl","sortBy","defaultWrapperRef","globalControlRef","paginationRef","paginationData","JSON","stringify","defaultGetTableSize","defaultGlobalFilter","columnIds","row","getTableProps","getTableBodyProps","prepareRow","headerGroups","footerGroups","gotoPage","setPageSize","setPageSize_","setColumnOrder","pageIndex","globalFilter","useTable","autoResetSortBy","getNoResults","shouldRenderFooter","some","Footer","columnBeingDragged","onDragStart","el","col","id","dataset","columnName","dataTransfer","setData","onDrop","newPosition","currentCols","c","colToBeMoved","renderTable","headerGroup","headerGroupKey","headerGroupProps","getHeaderGroupProps","headers","column","render","getSortByToggleProps","rowKey","rowProps","getRowProps","cells","cell","colSpan","footerGroup","footerGroupKey","footerGroupProps","paginationStyle","resultPageCount","resultCurrentPageSize","resultCurrentPage","resultOnPageChange","serverPageSize","ceil","isFinite","pageNumber","SelectPageSize","GlobalFilter","styled","theme","colors","grayscale","light5","light2","gridUnit","base","typography","weights","bold","light1","secondary","light4","light3","formatColumnValue","dataType","formatter","config","isNumber","GenericDataType","smallNumberFormatter","d3SmallNumberFormat","getNumberFormatter","DateWithFormatter","input","isProbablyHTML","sanitizeHtml","formatValue","abs","getSortTypeByDataType","SortIcon","isSorted","isSortedDesc","sortIcon","FaSort","tn","getNoResultsMessage","filter","TableChart","timeGrain","totals","isRawRecords","columnsMeta","alignPositiveNegative","defaultAlignPN","colorPositiveNegative","defaultColorPN","includeSearch","setDataMask","showCellBars","sortDesc","filters","columnColorFormatters","allowRearrangeColumns","onContextMenu","emitCrossFilters","timestampFormatter","getTimeFormatterForGranularity","tableSize","setTableSize","columnOrderToggle","setColumnOrderToggle","getServerPagination","getValueRange","nums","d3Max","d3Extent","isActiveFilterValue","getCrossFilterDataMask","updatedFilters","groupBy","groupByValues","labelElements","isTimestamp","DTTM_ALIAS","filterValues","ensureIsArray","valueLabels","dataMask","extraFormData","op","Date","getTime","grain","filterState","label","isCurrentValueSelected","toggleFilter","handleContextMenu","cellPoint","clientX","clientY","drillToDetailFilters","isMetric","dataRecordValue","formattedVal","drillToDetail","crossFilter","drillBy","groupbyFieldName","getColumnConfigs","isNumeric","columnWidth","sharedStyle","textAlign","horizontalAlign","getSharedStyle","truncateLongCells","hasColumnColorFormatters","valueRange","accessor","datum","Cell","isHtml","html","__html","backgroundColor","formatterResult","getColorFromValue","StyledCell","cellBarStyles","minValue","maxValue","round","tot","cellWidth","posExtent","negExtent","cellOffset","cellBackground","cellProps","stopPropagation","original","nativeEvent","dangerouslySetInnerHTML","cx","Header","draggable","onDragOver","onDragEnter","sortDescFirst","sortType","handleServerPaginationChange","updateExternalFormData","handleSizeChange","tableWidth","widthFromState","heightFromState","Styles","DataTable"],"sourceRoot":""}