(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1083:function(e,t,o){"use strict";var n=o(5),l=o.n(n),s=(o(0),o(2)),a=o.n(s),i=o(7),r=o(470),c=o(103),h=o(75),u=o(1);const p={dataEndpoint:a.a.string.isRequired,multi:a.a.bool,mutator:a.a.func,onAsyncErrorMessage:a.a.string,onChange:a.a.func,placeholder:a.a.string,value:a.a.oneOfType([a.a.string,a.a.number,a.a.arrayOf(a.a.string),a.a.arrayOf(a.a.number)]),addDangerToast:a.a.func.isRequired},d={multi:!0,onAsyncErrorMessage:Object(i.e)("Error while fetching data"),onChange:()=>{},placeholder:Object(i.e)("Select ...")},f=e=>{const{value:t,onChange:o,dataEndpoint:n,multi:s,mutator:a,placeholder:i,onAsyncErrorMessage:h}=e;return Object(u.f)("div",null,Object(u.f)(c.a,e),Object(u.f)(r.a,{dataEndpoint:n,onChange:e=>{let t;var n,a;s?t=null!=(n=null==e?void 0:l()(e).call(e,e=>e.value))?n:null:t=null!=(a=null==e?void 0:e.value)?a:null;o(t)},onAsyncError:t=>e.addDangerToast(`${h}: ${t}`),mutator:a,multi:s,value:t,placeholder:i,valueRenderer:e=>Object(u.f)("div",null,e.label)}))};f.propTypes=p,f.defaultProps=d,t.a=Object(h.a)(f)},1085:function(e,t,o){"use strict";o.d(t,"a",(function(){return x}));var n=o(6),l=o.n(n),s=o(0),a=o.n(s),i=o(2),r=o.n(i),c=o(1201),h=o(1005),u=o(7),p=o(135),d=o(10).r,f=o(408),b=o(617),g=o(103),C=o(449),v=o(1);const m="latlong",O="delimited",j="geohash",y={onChange:r.a.func,value:r.a.object,animation:r.a.bool,choices:r.a.array};class x extends a.a.Component{constructor(e){var t,o,n;super(e);const s=e.value||{};let a;e.choices.length>0&&(a=e.choices[0][0]),this.state={type:s.type||m,delimiter:s.delimiter||",",latCol:s.latCol||a,lonCol:s.lonCol||a,lonlatCol:s.lonlatCol||a,reverseCheckbox:s.reverseCheckbox||!1,geohashCol:s.geohashCol||a,value:null,errors:[]},this.toggleCheckbox=l()(t=this.toggleCheckbox).call(t,this),this.onChange=l()(o=this.onChange).call(o,this),this.renderReverseCheckbox=l()(n=this.renderReverseCheckbox).call(n,this)}componentDidMount(){this.onChange()}onChange(){const{type:e}=this.state,t={type:e},o=[],n=Object(u.e)("Invalid lat/long configuration.");e===m?(t.latCol=this.state.latCol,t.lonCol=this.state.lonCol,t.lonCol&&t.latCol||o.push(n)):e===O?(t.lonlatCol=this.state.lonlatCol,t.delimiter=this.state.delimiter,t.reverseCheckbox=this.state.reverseCheckbox,t.lonlatCol&&t.delimiter||o.push(n)):e===j&&(t.geohashCol=this.state.geohashCol,t.reverseCheckbox=this.state.reverseCheckbox,t.geohashCol||o.push(n)),this.setState({value:t,errors:o}),this.props.onChange(t,o)}setType(e){this.setState({type:e},this.onChange)}toggleCheckbox(){this.setState(e=>({reverseCheckbox:!e.reverseCheckbox}),this.onChange)}renderLabelContent(){return this.state.errors.length>0?"N/A":this.state.type===m?`${this.state.lonCol} | ${this.state.latCol}`:this.state.type===O?`${this.state.lonlatCol}`:this.state.type===j?`${this.state.geohashCol}`:null}renderSelect(e,t){return Object(v.f)(C.a,{name:e,choices:this.props.choices,value:this.state[e],clearable:!1,onFocus:()=>{this.setType(t)},onChange:t=>{this.setState({[e]:t},this.onChange)}})}renderReverseCheckbox(){return Object(v.f)("span",null,Object(u.e)("Reverse lat/long "),Object(v.f)(b.a,{checked:this.state.reverseCheckbox,onChange:this.toggleCheckbox}))}renderPopoverContent(){var e,t,o;return Object(v.f)("div",{style:{width:"300px"}},Object(v.f)(f.a,{title:Object(u.e)("Longitude & Latitude columns"),isSelected:this.state.type===m,onSelect:l()(e=this.setType).call(e,this,m)},Object(v.f)(c.a,null,Object(v.f)(h.a,{md:6},"Longitude",this.renderSelect("lonCol",m)),Object(v.f)(h.a,{md:6},"Latitude",this.renderSelect("latCol",m)))),Object(v.f)(f.a,{title:Object(u.e)("Delimited long & lat single column"),info:Object(u.e)("Multiple formats accepted, look the geopy.points Python library for more details"),isSelected:this.state.type===O,onSelect:l()(t=this.setType).call(t,this,O)},Object(v.f)(c.a,null,Object(v.f)(h.a,{md:6},Object(u.e)("Column"),this.renderSelect("lonlatCol",O)),Object(v.f)(h.a,{md:6},this.renderReverseCheckbox()))),Object(v.f)(f.a,{title:Object(u.e)("Geohash"),isSelected:this.state.type===j,onSelect:l()(o=this.setType).call(o,this,j)},Object(v.f)(c.a,null,Object(v.f)(h.a,{md:6},"Column",this.renderSelect("geohashCol",j)),Object(v.f)(h.a,{md:6},this.renderReverseCheckbox()))))}render(){return Object(v.f)("div",null,Object(v.f)(g.a,this.props),Object(v.f)(d,{content:this.renderPopoverContent(),placement:"topLeft",trigger:"click"},Object(v.f)(p.a,{className:"pointer"},this.renderLabelContent())))}}x.propTypes=y,x.defaultProps={onChange:()=>{},animation:!0,choices:[]}},391:function(e,t,o){"use strict";o.d(t,"a",(function(){return C}));var n=o(159),l=o.n(n),s=o(481),a=o.n(s),i=o(0),r=o.n(i),c=o(571),h=o(537),u=o(1109),p=o(840),d=o(208),f=o.n(d),b=o(103),g=o(1);class C extends r.a.Component{constructor(e){var t;super(e),this.debouncedOnChange=f()(e=>{this.onChange(e)},500),this.onChange=e=>{var t,o;let n=e;const s=[];if(""!==e&&this.props.isFloat){const t=Object(u.a)(e);t?s.push(t):n=e.match(/.*([.0])$/g)?e:a()(e)}if(""!==e&&this.props.isInt){const t=Object(p.a)(e);t?s.push(t):n=l()(e,10)}null==(t=(o=this.props).onChange)||t.call(o,n,s)},this.onChangeWrapper=e=>{const{value:t}=e.target;this.setState({value:t}),(this.props.renderTrigger?this.debouncedOnChange:this.onChange)(t)},this.render=()=>{const{value:e}=this.state,t=null!=e?e.toString():"";return Object(g.f)("div",null,Object(g.f)(b.a,this.props),Object(g.f)(c.a,{controlId:this.state.controlId,bsSize:"medium"},Object(g.f)(h.a,{type:"text",placeholder:this.props.placeholder,onChange:this.onChangeWrapper,onFocus:this.props.onFocus,value:t,disabled:this.props.disabled})))},this.state={controlId:(t=e.controlId,`formInlineName_${null!=t?t:(1e6*Math.random()).toFixed()}`),value:e.value}}}},394:function(e,t,o){"use strict";o.d(t,"a",(function(){return g}));var n=o(23),l=o.n(n),s=o(6),a=o.n(s),i=o(0),r=o.n(i),c=o(2),h=o.n(c),u=o(103),p=o(617),d=o(1);const f={value:h.a.bool,label:h.a.string,onChange:h.a.func},b={paddingRight:"5px"};class g extends r.a.Component{onChange(){this.props.onChange(!this.props.value)}renderCheckbox(){var e;return Object(d.f)(p.a,{onChange:a()(e=this.onChange).call(e,this),style:b,checked:!!this.props.value})}render(){var e;return this.props.label?Object(d.f)(u.a,l()({},this.props,{leftNode:this.renderCheckbox(),onClick:a()(e=this.onChange).call(e,this)})):this.renderCheckbox()}}g.propTypes=f,g.defaultProps={value:!1,onChange:()=>{}}},408:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));o(0);var n=o(2),l=o.n(n),s=o(144),a=o(1);const i={title:l.a.string.isRequired,isSelected:l.a.bool.isRequired,onSelect:l.a.func.isRequired,info:l.a.string,children:l.a.node.isRequired};function r({title:e,isSelected:t,children:o,onSelect:n,info:l}){return Object(a.f)("div",{className:`PopoverSection ${t?"":"dimmed"}`},Object(a.f)("div",{role:"button",tabIndex:0,onClick:n,className:"pointer"},Object(a.f)("strong",null,e),"  ",l&&Object(a.f)(s.a,{tooltip:l,label:"date-free-tooltip"})," ",Object(a.f)("i",{className:t?"fa fa-check text-primary":""})),Object(a.f)("div",{className:"m-t-5 m-l-5"},o))}r.propTypes=i},449:function(e,t,o){"use strict";o.d(t,"a",(function(){return M}));o(34);var n=o(23),l=o.n(n),s=o(402),a=o.n(s),i=o(87),r=o.n(i),c=o(1273),h=o.n(c),u=o(56),p=o.n(u),d=o(24),f=o.n(d),b=o(5),g=o.n(b),C=o(17),v=o.n(C),m=o(6),O=o.n(m),j=o(0),y=o.n(j),x=o(2),w=o.n(x),S=o(7),k=o(70),R=o(103),T=o(1);const A={autoFocus:w.a.bool,choices:w.a.array,clearable:w.a.bool,description:w.a.string,disabled:w.a.bool,freeForm:w.a.bool,isLoading:w.a.bool,label:w.a.string,multi:w.a.bool,isMulti:w.a.bool,allowAll:w.a.bool,name:w.a.string.isRequired,onChange:w.a.func,onFocus:w.a.func,value:w.a.oneOfType([w.a.string,w.a.number,w.a.array]),showHeader:w.a.bool,optionRenderer:w.a.func,valueRenderer:w.a.func,valueKey:w.a.string,options:w.a.array,placeholder:w.a.string,noResultsText:w.a.string,selectRef:w.a.func,filterOption:w.a.func,promptTextCreator:w.a.func,commaChoosesOption:w.a.bool,menuPortalTarget:w.a.element,menuPosition:w.a.string,menuPlacement:w.a.string,forceOverflow:w.a.bool},F={autoFocus:!1,choices:[],clearable:!0,description:null,disabled:!1,freeForm:!1,isLoading:!1,label:null,multi:!1,onChange:()=>{},onFocus:()=>{},showHeader:!0,valueKey:"value",noResultsText:Object(S.e)("No results found"),promptTextCreator:e=>`Create Option ${e}`,commaChoosesOption:!0,allowAll:!1};class M extends y.a.PureComponent{constructor(e){var t,o,n,l;super(e),this.state={options:this.getOptions(e)},this.onChange=O()(t=this.onChange).call(t,this),this.createMetaSelectAllOption=O()(o=this.createMetaSelectAllOption).call(o,this),this.select=null,this.getSelectRef=O()(n=this.getSelectRef).call(n,this),this.handleKeyDownForCreate=O()(l=this.handleKeyDownForCreate).call(l,this)}UNSAFE_componentWillReceiveProps(e){if(e.choices!==this.props.choices||e.options!==this.props.options){const t=this.getOptions(e);this.setState({options:t})}}onChange(e){let t=this.props.multi?[]:null;if(e)if(this.props.multi)v()(e).call(e,e=>{var o,n;!0!==e.meta?t.push(e[this.props.valueKey]||e):t=g()(o=f()(n=this.getOptions(this.props)).call(n,e=>!e.meta)).call(o,e=>e[this.props.valueKey])});else{if(!0===e.meta)return;t=e[this.props.valueKey]}this.props.onChange(t)}getSelectRef(e){this.select=e,this.props.selectRef&&this.props.selectRef(e)}getOptions(e){let t=[];var o;if(e.options)t=g()(o=e.options).call(o,e=>e);else if(e.choices){var n;t=g()(n=e.choices).call(n,t=>{if(p()(t)){const[o,n]=t.length>1?t:[t[0],t[0]];return{label:n,[e.valueKey]:o}}return h()(t)?t:{label:t,[e.valueKey]:t}})}if(e.freeForm&&e.value){const o=new r.a(g()(t).call(t,t=>t[e.valueKey])),n=p()(e.value)?e.value:[e.value];v()(n).call(n,n=>{o.has(n)||t.unshift({label:n,[e.valueKey]:n})})}return!0===e.allowAll&&!0===e.multi?this.optionsIncludesSelectAll(t)||t.unshift(this.createMetaSelectAllOption()):t=f()(t).call(t,e=>!this.isMetaSelectAllOption(e)),t}handleKeyDownForCreate(e){const{key:t}=e;("Tab"===t||this.props.commaChoosesOption&&","===t)&&this.select&&this.select.onKeyDown({...e,key:"Enter"})}isMetaSelectAllOption(e){return e.meta&&!0===e.meta&&"Select All"===e.label}optionsIncludesSelectAll(e){return a()(e).call(e,e=>this.isMetaSelectAllOption(e))>=0}optionsRemaining(){const{options:e}=this.state,{value:t}=this.props;let o=p()(t)?e.length-t.length:e.length;return this.optionsIncludesSelectAll(e)&&(o-=1),o}createMetaSelectAllOption(){const e={label:"Select All",meta:!0};return e[this.props.valueKey]="Select All",e}render(){const{autoFocus:e,clearable:t,disabled:o,filterOption:n,isLoading:s,menuPlacement:a,name:i,noResultsText:r,onFocus:c,optionRenderer:h,promptTextCreator:u,value:d,valueKey:f,valueRenderer:b,forceOverflow:g,menuPortalTarget:C,menuPosition:v}=this.props,m=this.optionsRemaining(),O=m?Object(S.e)("%s option(s)",m):"",j=this.props.placeholder||O,y=this.props.isMulti||this.props.multi;let x;y&&m&&p()(d)&&d.length&&(x=O);const w={autoFocus:e,clearable:t,disabled:o,filterOption:n,ignoreAccents:!1,isLoading:s,isMulti:y,labelKey:"label",menuPlacement:a,forceOverflow:g,menuPortalTarget:C,menuPosition:v,name:`select-${i}`,noResultsText:r,onChange:this.onChange,onFocus:c,optionRenderer:h,options:this.state.options,placeholder:j,assistiveText:x,promptTextCreator:u,selectRef:this.getSelectRef,value:d,valueKey:f,valueRenderer:b};let A;return this.props.freeForm?(A=k.c,w.onKeyDown=this.handleKeyDownForCreate):A=k.f,Object(T.f)("div",null,this.props.showHeader&&Object(T.f)(R.a,this.props),y?Object(T.f)(k.d,l()({},w,{selectWrap:A})):Object(T.f)(A,w))}}M.propTypes=A,M.defaultProps=F},617:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));o(0);var n=o(62),l=o(629),s=o(1);const a=n.c.span`
  &,
  & svg {
    vertical-align: top;
  }
`;function i({checked:e,onChange:t,style:o}){return Object(s.f)(a,{style:o,onClick:()=>{t(!e)},role:"checkbox",tabIndex:0,"aria-checked":e,"aria-label":"Checkbox"},e?Object(s.f)(l.a,null):Object(s.f)(l.c,null))}},629:function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return a}));o(0);var n=o(1);const l=()=>Object(n.f)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(n.f)("path",{d:"M16 0H2C0.89 0 0 0.9 0 2V16C0 17.1 0.89 18 2 18H16C17.11 18 18 17.1 18 16V2C18 0.9 17.11 0 16 0Z",fill:"#20A7C9"}),Object(n.f)("path",{d:"M7 14L2 9L3.41 7.59L7 11.17L14.59 3.58L16 5L7 14Z",fill:"white"})),s=()=>Object(n.f)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(n.f)("path",{d:"M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"#999999"}),Object(n.f)("path",{d:"M14 10H4V8H14V10Z",fill:"white"})),a=()=>Object(n.f)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(n.f)("path",{d:"M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"#CCCCCC"}),Object(n.f)("path",{d:"M16 2V16H2V2H16V2Z",fill:"white"}))}}]);