{"version":3,"file":"explore.3db8021a4ca521bd8b7d.entry.js","mappings":"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IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,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O,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,KAA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","sources":["webpack://superset/webpack/runtime/chunk loaded","webpack://superset/webpack/runtime/create fake namespace object","webpack://superset/webpack/runtime/load script","webpack://superset/webpack/runtime/css loading","webpack://superset/./src/utils/DebouncedMessageQueue.js","webpack://superset/./src/middleware/loggerMiddleware.js","webpack://superset/./src/components/MessageToasts/getToastsFromPyFlashMessages.js","webpack://superset/./src/explore/actions/saveModalActions.js","webpack://superset/./src/explore/actions/exploreActions.ts","webpack://superset/./src/explore/reducers/index.js","webpack://superset/./src/explore/reducers/saveModalReducer.js","webpack://superset/./src/explore/reducers/exploreReducer.js","webpack://superset/./src/components/MessageToasts/reducers.js","webpack://superset/./src/reports/reducers/reports.js","webpack://superset/./src/components/CachedLabel/TooltipContent.tsx","webpack://superset/./src/components/CachedLabel/index.tsx","webpack://superset/./src/components/Timer/index.tsx","webpack://superset/./src/explore/components/ChartPills.tsx","webpack://superset/./src/explore/components/ExploreAlert.tsx","webpack://superset/./src/explore/components/ExploreChartPanel.jsx","webpack://superset/./src/explore/components/RunQueryButton/index.tsx","webpack://superset/./src/explore/components/ControlPanelsContainer.tsx","webpack://superset/./src/explore/components/SaveModal.tsx","webpack://superset/./src/explore/components/DatasourcePanel/DatasourcePanelDragOption/index.tsx","webpack://superset/./src/explore/components/DatasourcePanel/index.tsx","webpack://superset/./src/utils/getControlsForVizType.js","webpack://superset/./src/components/AlteredSliceTag/index.jsx","webpack://superset/./src/explore/components/ExploreChartHeader/index.jsx","webpack://superset/./src/explore/components/ExploreViewContainer/index.jsx","webpack://superset/./src/explore/App.jsx","webpack://superset/./src/explore/index.jsx","webpack://superset/./src/explore/reducers/getInitialState.ts","webpack://superset/./src/reports/actions/reports.js","webpack://superset/./node_modules/match-sorter/dist/match-sorter.esm.js","webpack://superset/./node_modules/remove-accents/index.js","webpack://superset/./src/hooks/apiResources/charts.ts","webpack://superset/./src/hooks/apiResources/dashboards.ts","webpack://superset/webpack/bootstrap","webpack://superset/webpack/runtime/amd define","webpack://superset/webpack/runtime/amd options","webpack://superset/webpack/runtime/compat get default export","webpack://superset/webpack/runtime/define property getters","webpack://superset/webpack/runtime/ensure chunk","webpack://superset/webpack/runtime/get javascript chunk filename","webpack://superset/webpack/runtime/get mini-css chunk filename","webpack://superset/webpack/runtime/global","webpack://superset/webpack/runtime/harmony module decorator","webpack://superset/webpack/runtime/hasOwnProperty shorthand","webpack://superset/webpack/runtime/make namespace object","webpack://superset/webpack/runtime/node module decorator","webpack://superset/webpack/runtime/publicPath","webpack://superset/webpack/runtime/jsonp chunk loading","webpack://superset/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"superset:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","var createStylesheet = (chunkId, fullhref, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tdocument.head.appendChild(linkTag);\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t9782: 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"137\":1,\"380\":1,\"1261\":1,\"1877\":1,\"3036\":1,\"4194\":1,\"4237\":1,\"4494\":1,\"5566\":1,\"6871\":1,\"8623\":1,\"8650\":1,\"9313\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { debounce } from 'lodash';\n\nclass DebouncedMessageQueue {\n  constructor({\n    callback = () => {},\n    sizeThreshold = 1000,\n    delayThreshold = 1000,\n  }) {\n    this.queue = [];\n    this.sizeThreshold = sizeThreshold;\n    this.delayThrehold = delayThreshold;\n\n    this.trigger = debounce(this.trigger.bind(this), this.delayThrehold);\n    this.callback = callback;\n  }\n\n  append(eventData) {\n    this.queue.push(eventData);\n    this.trigger();\n  }\n\n  trigger() {\n    if (this.queue.length > 0) {\n      const events = this.queue.splice(0, this.sizeThreshold);\n      this.callback.call(null, events);\n\n      // If there are remaining items, call it again.\n      if (this.queue.length > 0) {\n        this.trigger();\n      }\n    }\n  }\n}\n\nexport default DebouncedMessageQueue;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable camelcase */\n/* eslint prefer-const: 2 */\nimport shortid from 'shortid';\nimport { SupersetClient } from '@superset-ui/core';\n\nimport { safeStringify } from '../utils/safeStringify';\nimport { LOG_EVENT } from '../logger/actions';\nimport { LOG_EVENT_TYPE_TIMING } from '../logger/LogUtils';\nimport DebouncedMessageQueue from '../utils/DebouncedMessageQueue';\n\nconst LOG_ENDPOINT = '/superset/log/?explode=events';\nconst sendBeacon = events => {\n  if (events.length <= 0) {\n    return;\n  }\n\n  let endpoint = LOG_ENDPOINT;\n  const { source, source_id } = events[0];\n  // backend logs treat these request params as first-class citizens\n  if (source === 'dashboard') {\n    endpoint += `&dashboard_id=${source_id}`;\n  } else if (source === 'slice') {\n    endpoint += `&slice_id=${source_id}`;\n  }\n\n  if (navigator.sendBeacon) {\n    const formData = new FormData();\n    formData.append('events', safeStringify(events));\n    navigator.sendBeacon(endpoint, formData);\n  } else {\n    SupersetClient.post({\n      endpoint,\n      postPayload: { events },\n      parseMethod: null,\n    });\n  }\n};\n\n// beacon API has data size limit = 2^16.\n// assume avg each log entry has 2^6 characters\nconst MAX_EVENTS_PER_REQUEST = 1024;\nconst logMessageQueue = new DebouncedMessageQueue({\n  callback: sendBeacon,\n  sizeThreshold: MAX_EVENTS_PER_REQUEST,\n  delayThreshold: 1000,\n});\nlet lastEventId = 0;\nconst loggerMiddleware = store => next => action => {\n  if (action.type !== LOG_EVENT) {\n    return next(action);\n  }\n\n  const { dashboardInfo, explore, impressionId, dashboardLayout } =\n    store.getState();\n  let logMetadata = {\n    impression_id: impressionId,\n    version: 'v2',\n  };\n  if (dashboardInfo) {\n    logMetadata = {\n      source: 'dashboard',\n      source_id: dashboardInfo.id,\n      ...logMetadata,\n    };\n  } else if (explore) {\n    logMetadata = {\n      source: 'explore',\n      source_id: explore.slice ? explore.slice.slice_id : 0,\n      ...logMetadata,\n    };\n  }\n\n  const { eventName } = action.payload;\n  let { eventData = {} } = action.payload;\n  eventData = {\n    ...logMetadata,\n    ts: new Date().getTime(),\n    event_name: eventName,\n    ...eventData,\n  };\n  if (LOG_EVENT_TYPE_TIMING.has(eventName)) {\n    eventData = {\n      ...eventData,\n      event_type: 'timing',\n      trigger_event: lastEventId,\n    };\n  } else {\n    lastEventId = shortid.generate();\n    eventData = {\n      ...eventData,\n      event_type: 'user',\n      event_id: lastEventId,\n      visibility: document.visibilityState,\n    };\n  }\n\n  if (eventData.target_id && dashboardLayout?.present?.[eventData.target_id]) {\n    const { meta } = dashboardLayout.present[eventData.target_id];\n    // chart name or tab/header text\n    eventData.target_name = meta.chartId ? meta.sliceName : meta.text;\n  }\n\n  logMessageQueue.append(eventData);\n  return eventData;\n};\n\nexport default loggerMiddleware;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { addToast } from './actions';\nimport { ToastType } from './types';\n\nexport default function toastsFromPyFlashMessages(flashMessages = []) {\n  const toasts = [];\n\n  flashMessages.forEach(([messageType, message]) => {\n    const toastType =\n      messageType === 'danger'\n        ? ToastType.DANGER\n        : (messageType === 'success' && ToastType.SUCCESS) || ToastType.INFO;\n\n    const toast = addToast({\n      text: message,\n      toastType,\n    }).payload;\n\n    toasts.push(toast);\n  });\n\n  return toasts;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { SupersetClient } from '@superset-ui/core';\nimport { buildV1ChartDataPayload, getExploreUrl } from '../exploreUtils';\n\nexport const FETCH_DASHBOARDS_SUCCEEDED = 'FETCH_DASHBOARDS_SUCCEEDED';\nexport function fetchDashboardsSucceeded(choices) {\n  return { type: FETCH_DASHBOARDS_SUCCEEDED, choices };\n}\n\nexport const FETCH_DASHBOARDS_FAILED = 'FETCH_DASHBOARDS_FAILED';\nexport function fetchDashboardsFailed(userId) {\n  return { type: FETCH_DASHBOARDS_FAILED, userId };\n}\n\nexport function fetchDashboards(userId) {\n  return function fetchDashboardsThunk(dispatch) {\n    return SupersetClient.get({\n      endpoint: `/dashboardasync/api/read?_flt_0_owners=${userId}`,\n    })\n      .then(({ json }) => {\n        const choices = json.pks.map((id, index) => ({\n          value: id,\n          label: (json.result[index] || {}).dashboard_title,\n        }));\n\n        return dispatch(fetchDashboardsSucceeded(choices));\n      })\n      .catch(() => dispatch(fetchDashboardsFailed(userId)));\n  };\n}\n\nexport const SAVE_SLICE_FAILED = 'SAVE_SLICE_FAILED';\nexport function saveSliceFailed() {\n  return { type: SAVE_SLICE_FAILED };\n}\nexport const SAVE_SLICE_SUCCESS = 'SAVE_SLICE_SUCCESS';\nexport function saveSliceSuccess(data) {\n  return { type: SAVE_SLICE_SUCCESS, data };\n}\n\nexport const REMOVE_SAVE_MODAL_ALERT = 'REMOVE_SAVE_MODAL_ALERT';\nexport function removeSaveModalAlert() {\n  return { type: REMOVE_SAVE_MODAL_ALERT };\n}\n\nexport function saveSlice(formData, requestParams) {\n  return dispatch => {\n    const url = getExploreUrl({\n      formData,\n      endpointType: 'base',\n      force: false,\n      curUrl: null,\n      requestParams,\n    });\n\n    // Save the query context so we can re-generate the data from Python\n    // for alerts and reports\n    const queryContext = buildV1ChartDataPayload({\n      formData,\n      force: false,\n      resultFormat: 'json',\n      resultType: 'full',\n    });\n\n    return SupersetClient.post({\n      url,\n      postPayload: { form_data: formData, query_context: queryContext },\n    })\n      .then(response => {\n        dispatch(saveSliceSuccess(response.json));\n        return response.json;\n      })\n      .catch(() => dispatch(saveSliceFailed()));\n  };\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint camelcase: 0 */\nimport { Dataset } from '@superset-ui/chart-controls';\nimport {\n  t,\n  SupersetClient,\n  DatasourceType,\n  QueryFormData,\n} from '@superset-ui/core';\nimport { Dispatch } from 'redux';\nimport {\n  addDangerToast,\n  toastActions,\n} from 'src/components/MessageToasts/actions';\nimport { Slice } from 'src/types/Chart';\n\nconst FAVESTAR_BASE_URL = '/superset/favstar/slice';\n\nexport const SET_DATASOURCE_TYPE = 'SET_DATASOURCE_TYPE';\nexport function setDatasourceType(datasourceType: DatasourceType) {\n  return { type: SET_DATASOURCE_TYPE, datasourceType };\n}\n\nexport const SET_DATASOURCE = 'SET_DATASOURCE';\nexport function setDatasource(datasource: Dataset) {\n  return { type: SET_DATASOURCE, datasource };\n}\n\nexport const SET_DATASOURCES = 'SET_DATASOURCES';\nexport function setDatasources(datasources: Dataset[]) {\n  return { type: SET_DATASOURCES, datasources };\n}\n\nexport const POST_DATASOURCE_STARTED = 'POST_DATASOURCE_STARTED';\nexport const FETCH_DATASOURCE_SUCCEEDED = 'FETCH_DATASOURCE_SUCCEEDED';\nexport function fetchDatasourceSucceeded() {\n  return { type: FETCH_DATASOURCE_SUCCEEDED };\n}\n\nexport const FETCH_DATASOURCES_STARTED = 'FETCH_DATASOURCES_STARTED';\nexport function fetchDatasourcesStarted() {\n  return { type: FETCH_DATASOURCES_STARTED };\n}\n\nexport const FETCH_DATASOURCES_SUCCEEDED = 'FETCH_DATASOURCES_SUCCEEDED';\nexport function fetchDatasourcesSucceeded() {\n  return { type: FETCH_DATASOURCES_SUCCEEDED };\n}\n\nexport const TOGGLE_FAVE_STAR = 'TOGGLE_FAVE_STAR';\nexport function toggleFaveStar(isStarred: boolean) {\n  return { type: TOGGLE_FAVE_STAR, isStarred };\n}\n\nexport const FETCH_FAVE_STAR = 'FETCH_FAVE_STAR';\nexport function fetchFaveStar(sliceId: string) {\n  return function (dispatch: Dispatch) {\n    SupersetClient.get({\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/count/`,\n    }).then(({ json }) => {\n      if (json.count > 0) {\n        dispatch(toggleFaveStar(true));\n      }\n    });\n  };\n}\n\nexport const SAVE_FAVE_STAR = 'SAVE_FAVE_STAR';\nexport function saveFaveStar(sliceId: string, isStarred: boolean) {\n  return function (dispatch: Dispatch) {\n    const urlSuffix = isStarred ? 'unselect' : 'select';\n    SupersetClient.get({\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/${urlSuffix}/`,\n    })\n      .then(() => dispatch(toggleFaveStar(!isStarred)))\n      .catch(() => {\n        dispatch(\n          addDangerToast(t('An error occurred while starring this chart')),\n        );\n      });\n  };\n}\n\nexport const SET_FIELD_VALUE = 'SET_FIELD_VALUE';\nexport function setControlValue(\n  controlName: string,\n  value: any,\n  validationErrors?: any[],\n) {\n  return { type: SET_FIELD_VALUE, controlName, value, validationErrors };\n}\n\nexport const SET_EXPLORE_CONTROLS = 'UPDATE_EXPLORE_CONTROLS';\nexport function setExploreControls(formData: QueryFormData) {\n  return { type: SET_EXPLORE_CONTROLS, formData };\n}\n\nexport const UPDATE_CHART_TITLE = 'UPDATE_CHART_TITLE';\nexport function updateChartTitle(sliceName: string) {\n  return { type: UPDATE_CHART_TITLE, sliceName };\n}\n\nexport const CREATE_NEW_SLICE = 'CREATE_NEW_SLICE';\nexport function createNewSlice(\n  can_add: boolean,\n  can_download: boolean,\n  can_overwrite: boolean,\n  slice: Slice,\n  form_data: QueryFormData,\n) {\n  return {\n    type: CREATE_NEW_SLICE,\n    can_add,\n    can_download,\n    can_overwrite,\n    slice,\n    form_data,\n  };\n}\n\nexport const SLICE_UPDATED = 'SLICE_UPDATED';\nexport function sliceUpdated(slice: Slice) {\n  return { type: SLICE_UPDATED, slice };\n}\n\nexport const SET_FORCE_QUERY = 'SET_FORCE_QUERY';\nexport function setForceQuery(force: boolean) {\n  return {\n    type: SET_FORCE_QUERY,\n    force,\n  };\n}\n\nexport const exploreActions = {\n  ...toastActions,\n  setDatasourceType,\n  setDatasource,\n  setDatasources,\n  fetchDatasourcesStarted,\n  fetchDatasourcesSucceeded,\n  toggleFaveStar,\n  fetchFaveStar,\n  saveFaveStar,\n  setControlValue,\n  setExploreControls,\n  updateChartTitle,\n  createNewSlice,\n  sliceUpdated,\n  setForceQuery,\n};\n\nexport type ExploreActions = typeof exploreActions;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { combineReducers } from 'redux';\n\nimport reports from 'src/reports/reducers/reports';\nimport charts from 'src/components/Chart/chartReducer';\nimport dataMask from 'src/dataMask/reducer';\nimport messageToasts from 'src/components/MessageToasts/reducers';\nimport saveModal from './saveModalReducer';\nimport explore from './exploreReducer';\n\nconst impressionId = (state = '') => state;\n\nexport default combineReducers({\n  charts,\n  saveModal,\n  dataMask,\n  explore,\n  impressionId,\n  messageToasts,\n  reports,\n});\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint camelcase: 0 */\nimport * as actions from '../actions/saveModalActions';\n\nexport default function saveModalReducer(state = {}, action) {\n  const actionHandlers = {\n    [actions.FETCH_DASHBOARDS_SUCCEEDED]() {\n      return { ...state, dashboards: action.choices };\n    },\n    [actions.FETCH_DASHBOARDS_FAILED]() {\n      return {\n        ...state,\n        saveModalAlert: `fetching dashboards failed for ${action.userId}`,\n      };\n    },\n    [actions.SAVE_SLICE_FAILED]() {\n      return { ...state, saveModalAlert: 'Failed to save slice' };\n    },\n    [actions.SAVE_SLICE_SUCCESS](data) {\n      return { ...state, data };\n    },\n    [actions.REMOVE_SAVE_MODAL_ALERT]() {\n      return { ...state, saveModalAlert: null };\n    },\n  };\n\n  if (action.type in actionHandlers) {\n    return actionHandlers[action.type]();\n  }\n  return state;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint camelcase: 0 */\nimport { ensureIsArray } from '@superset-ui/core';\nimport { DYNAMIC_PLUGIN_CONTROLS_READY } from 'src/components/Chart/chartAction';\nimport { DEFAULT_TIME_RANGE } from 'src/explore/constants';\nimport { getControlsState } from 'src/explore/store';\nimport {\n  getControlConfig,\n  getControlStateFromControlConfig,\n  getControlValuesCompatibleWithDatasource,\n  StandardizedFormData,\n} from 'src/explore/controlUtils';\nimport * as actions from 'src/explore/actions/exploreActions';\n\nexport default function exploreReducer(state = {}, action) {\n  const actionHandlers = {\n    [DYNAMIC_PLUGIN_CONTROLS_READY]() {\n      return {\n        ...state,\n        controls: action.controlsState,\n      };\n    },\n    [actions.TOGGLE_FAVE_STAR]() {\n      return {\n        ...state,\n        isStarred: action.isStarred,\n      };\n    },\n    [actions.POST_DATASOURCE_STARTED]() {\n      return {\n        ...state,\n        isDatasourceMetaLoading: true,\n      };\n    },\n    [actions.SET_DATASOURCE]() {\n      const newFormData = { ...state.form_data };\n      if (action.datasource.type !== state.datasource.type) {\n        if (action.datasource.type === 'table') {\n          newFormData.granularity_sqla = action.datasource.granularity_sqla;\n          newFormData.time_grain_sqla = action.datasource.time_grain_sqla;\n          delete newFormData.druid_time_origin;\n          delete newFormData.granularity;\n        } else {\n          newFormData.druid_time_origin = action.datasource.druid_time_origin;\n          newFormData.granularity = action.datasource.granularity;\n          delete newFormData.granularity_sqla;\n          delete newFormData.time_grain_sqla;\n        }\n      }\n\n      const controls = { ...state.controls };\n      const controlsTransferred = [];\n      if (\n        action.datasource.id !== state.datasource.id ||\n        action.datasource.type !== state.datasource.type\n      ) {\n        // reset time range filter to default\n        newFormData.time_range = DEFAULT_TIME_RANGE;\n\n        // reset control values for column/metric related controls\n        Object.entries(controls).forEach(([controlName, controlState]) => {\n          if (\n            // for direct column select controls\n            controlState.valueKey === 'column_name' ||\n            // for all other controls\n            'savedMetrics' in controlState ||\n            'columns' in controlState ||\n            ('options' in controlState && !Array.isArray(controlState.options))\n          ) {\n            controls[controlName] = {\n              ...controlState,\n            };\n            newFormData[controlName] = getControlValuesCompatibleWithDatasource(\n              action.datasource,\n              controlState,\n              controlState.value,\n            );\n            if (\n              ensureIsArray(newFormData[controlName]).length > 0 &&\n              newFormData[controlName] !== controls[controlName].default\n            ) {\n              controlsTransferred.push(controlName);\n            }\n          }\n        });\n      }\n\n      const newState = {\n        ...state,\n        controls,\n        datasource: action.datasource,\n        datasource_id: action.datasource.id,\n        datasource_type: action.datasource.type,\n      };\n      return {\n        ...newState,\n        form_data: newFormData,\n        controls: getControlsState(newState, newFormData),\n        controlsTransferred,\n      };\n    },\n    [actions.FETCH_DATASOURCES_STARTED]() {\n      return {\n        ...state,\n        isDatasourcesLoading: true,\n      };\n    },\n    [actions.SET_DATASOURCES]() {\n      return {\n        ...state,\n        datasources: action.datasources,\n      };\n    },\n    [actions.SET_FIELD_VALUE]() {\n      const { controlName, value, validationErrors } = action;\n      let new_form_data = { ...state.form_data, [controlName]: value };\n      const old_metrics_data = state.form_data.metrics;\n      const new_column_config = state.form_data.column_config;\n\n      const vizType = new_form_data.viz_type;\n\n      // if the controlName is metrics, and the metric column name is updated,\n      // need to update column config as well to keep the previou config.\n      if (controlName === 'metrics' && old_metrics_data && new_column_config) {\n        value.forEach((item, index) => {\n          if (\n            item?.label !== old_metrics_data[index]?.label &&\n            !!new_column_config[old_metrics_data[index]?.label]\n          ) {\n            new_column_config[item.label] =\n              new_column_config[old_metrics_data[index].label];\n\n            delete new_column_config[old_metrics_data[index].label];\n          }\n        });\n        new_form_data.column_config = new_column_config;\n      }\n\n      // Use the processed control config (with overrides and everything)\n      // if `controlName` does not existing in current controls,\n      const controlConfig =\n        state.controls[action.controlName] ||\n        getControlConfig(action.controlName, vizType) ||\n        {};\n\n      // will call validators again\n      const control = {\n        ...getControlStateFromControlConfig(controlConfig, state, action.value),\n      };\n\n      const column_config = {\n        ...state.controls.column_config,\n        ...(new_column_config && { value: new_column_config }),\n      };\n\n      const newState = {\n        ...state,\n        controls: {\n          ...state.controls,\n          [controlName]: control,\n          ...(controlName === 'metrics' && { column_config }),\n        },\n      };\n\n      const rerenderedControls = {};\n      if (Array.isArray(control.rerender)) {\n        control.rerender.forEach(controlName => {\n          rerenderedControls[controlName] = {\n            ...getControlStateFromControlConfig(\n              newState.controls[controlName],\n              newState,\n              newState.controls[controlName].value,\n            ),\n          };\n        });\n      }\n\n      // combine newly detected errors with errors from `onChange` event of\n      // each control component (passed via reducer action).\n      const errors = control.validationErrors || [];\n      (validationErrors || []).forEach(err => {\n        // skip duplicated errors\n        if (!errors.includes(err)) {\n          errors.push(err);\n        }\n      });\n      const hasErrors = errors && errors.length > 0;\n\n      const isVizSwitch =\n        action.controlName === 'viz_type' &&\n        action.value !== state.controls.viz_type.value;\n      let currentControlsState = state.controls;\n      if (isVizSwitch) {\n        // get StandardizedFormData from source form_data\n        const sfd = new StandardizedFormData(state.form_data);\n        const transformed = sfd.transform(action.value, state);\n        new_form_data = transformed.formData;\n        currentControlsState = transformed.controlsState;\n      }\n\n      return {\n        ...state,\n        form_data: new_form_data,\n        triggerRender: control.renderTrigger && !hasErrors,\n        controls: {\n          ...currentControlsState,\n          [action.controlName]: {\n            ...control,\n            validationErrors: errors,\n          },\n          ...rerenderedControls,\n        },\n      };\n    },\n    [actions.SET_EXPLORE_CONTROLS]() {\n      return {\n        ...state,\n        controls: getControlsState(state, action.formData),\n      };\n    },\n    [actions.UPDATE_CHART_TITLE]() {\n      return {\n        ...state,\n        sliceName: action.sliceName,\n      };\n    },\n    [actions.CREATE_NEW_SLICE]() {\n      return {\n        ...state,\n        slice: action.slice,\n        controls: getControlsState(state, action.form_data),\n        can_add: action.can_add,\n        can_download: action.can_download,\n        can_overwrite: action.can_overwrite,\n      };\n    },\n    [actions.SLICE_UPDATED]() {\n      return {\n        ...state,\n        slice: {\n          ...state.slice,\n          ...action.slice,\n          owners: action.slice.owners ?? null,\n        },\n        sliceName: action.slice.slice_name ?? state.sliceName,\n      };\n    },\n    [actions.SET_FORCE_QUERY]() {\n      return {\n        ...state,\n        force: action.force,\n      };\n    },\n  };\n\n  if (action.type in actionHandlers) {\n    return actionHandlers[action.type]();\n  }\n  return state;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ADD_TOAST, REMOVE_TOAST } from './actions';\n\nexport default function messageToastsReducer(toasts = [], action) {\n  switch (action.type) {\n    case ADD_TOAST: {\n      const { payload: toast } = action;\n      const result = toasts.slice();\n      if (!toast.noDuplicate || !result.find(x => x.text === toast.text)) {\n        return [toast, ...toasts];\n      }\n      return toasts;\n    }\n\n    case REMOVE_TOAST: {\n      const {\n        payload: { id },\n      } = action;\n      return [...toasts].filter(toast => toast.id !== id);\n    }\n\n    default:\n      return toasts;\n  }\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable camelcase */\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { SET_REPORT, ADD_REPORT, EDIT_REPORT } from '../actions/reports';\n\nexport default function reportsReducer(state = {}, action) {\n  const actionHandlers = {\n    [SET_REPORT]() {\n      const { report, resourceId, creationMethod, filterField } = action;\n      // For now report count should only be one, but we are checking in case\n      // functionality changes.\n      const reportObject = report.result?.find(\n        report => report[filterField] === resourceId,\n      );\n\n      if (reportObject) {\n        return {\n          ...state,\n          [creationMethod]: {\n            ...state[creationMethod],\n            [resourceId]: reportObject,\n          },\n        };\n      }\n      if (state?.[creationMethod]?.[resourceId]) {\n        // remove the empty report from state\n        const newState = { ...state };\n        delete newState[creationMethod][resourceId];\n        return newState;\n      }\n      return { ...state };\n    },\n\n    [ADD_REPORT]() {\n      const { result, id } = action.json;\n      const report = { ...result, id };\n      const reportTypeId = report.dashboard || report.chart;\n      // this is the id of either the chart or the dashboard associated with the report.\n\n      return {\n        ...state,\n        [report.creation_method]: {\n          ...state[report.creation_method],\n          [reportTypeId]: report,\n        },\n      };\n    },\n\n    [EDIT_REPORT]() {\n      const report = {\n        ...action.json.result,\n        id: action.json.id,\n      };\n      const reportTypeId = report.dashboard || report.chart;\n\n      return {\n        ...state,\n        [report.creation_method]: {\n          ...state[report.creation_method],\n          [reportTypeId]: report,\n        },\n      };\n    },\n  };\n\n  if (action.type in actionHandlers) {\n    return actionHandlers[action.type]();\n  }\n  return state;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport moment from 'moment';\nimport { t } from '@superset-ui/core';\n\ninterface Props {\n  cachedTimestamp?: string;\n}\nexport const TooltipContent: React.FC<Props> = ({ cachedTimestamp }) => {\n  const cachedText = cachedTimestamp ? (\n    <span>\n      {t('Loaded data cached')}\n      <b> {moment.utc(cachedTimestamp).fromNow()}</b>\n    </span>\n  ) : (\n    t('Loaded from cache')\n  );\n\n  return (\n    <span data-test=\"tooltip-content\">\n      {cachedText}. {t('Click to force-refresh')}\n    </span>\n  );\n};\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport { t } from '@superset-ui/core';\nimport Label from 'src/components/Label';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { TooltipContent } from './TooltipContent';\n\nexport interface CacheLabelProps {\n  onClick?: React.MouseEventHandler<HTMLElement>;\n  cachedTimestamp?: string;\n  className?: string;\n}\n\nconst CacheLabel: React.FC<CacheLabelProps> = ({\n  className,\n  onClick,\n  cachedTimestamp,\n}) => {\n  const [hovered, setHovered] = useState(false);\n\n  const labelType = hovered ? 'primary' : 'default';\n  return (\n    <Tooltip\n      title={<TooltipContent cachedTimestamp={cachedTimestamp} />}\n      id=\"cache-desc-tooltip\"\n    >\n      <Label\n        className={`${className}`}\n        type={labelType}\n        onClick={onClick}\n        onMouseOver={() => setHovered(true)}\n        onMouseOut={() => setHovered(false)}\n      >\n        {t('Cached')} <i className=\"fa fa-refresh\" />\n      </Label>\n    </Tooltip>\n  );\n};\n\nexport default CacheLabel;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useRef, useState } from 'react';\nimport { styled } from '@superset-ui/core';\nimport Label, { Type } from 'src/components/Label';\n\nimport { now, fDuration } from 'src/utils/dates';\n\nexport interface TimerProps {\n  endTime?: number;\n  isRunning: boolean;\n  startTime?: number;\n  status?: Type;\n}\n\nconst TimerLabel = styled(Label)`\n  text-align: left;\n`;\n\nexport default function Timer({\n  endTime,\n  isRunning,\n  startTime,\n  status = 'success',\n}: TimerProps) {\n  const [clockStr, setClockStr] = useState('00:00:00.00');\n  const timer = useRef<ReturnType<typeof setInterval>>();\n\n  useEffect(() => {\n    const stopTimer = () => {\n      if (timer.current) {\n        clearInterval(timer.current);\n        timer.current = undefined;\n      }\n    };\n\n    if (isRunning) {\n      timer.current = setInterval(() => {\n        if (startTime) {\n          const endDttm = endTime || now();\n          if (startTime < endDttm) {\n            setClockStr(fDuration(startTime, endDttm));\n          }\n          if (!isRunning) {\n            stopTimer();\n          }\n        }\n      }, 30);\n    }\n    return stopTimer;\n  }, [endTime, isRunning, startTime]);\n\n  return (\n    <TimerLabel type={status} role=\"timer\">\n      {clockStr}\n    </TimerLabel>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { forwardRef, RefObject } from 'react';\nimport { css, QueryData, SupersetTheme } from '@superset-ui/core';\nimport RowCountLabel from 'src/explore/components/RowCountLabel';\nimport CachedLabel from 'src/components/CachedLabel';\nimport Timer from 'src/components/Timer';\n\nenum CHART_STATUS_MAP {\n  failed = 'danger',\n  loading = 'warning',\n  success = 'success',\n}\n\nexport type ChartPillsProps = {\n  queriesResponse: QueryData[];\n  chartStatus: keyof typeof CHART_STATUS_MAP;\n  chartUpdateStartTime: number;\n  chartUpdateEndTime: number;\n  refreshCachedQuery: () => void;\n  rowLimit: string | number;\n};\n\nexport const ChartPills = forwardRef(\n  (\n    {\n      queriesResponse,\n      chartStatus,\n      chartUpdateStartTime,\n      chartUpdateEndTime,\n      refreshCachedQuery,\n      rowLimit,\n    }: ChartPillsProps,\n    ref: RefObject<HTMLDivElement>,\n  ) => {\n    const isLoading = chartStatus === 'loading';\n    const firstQueryResponse = queriesResponse?.[0];\n    return (\n      <div ref={ref}>\n        <div\n          css={(theme: SupersetTheme) => css`\n            display: flex;\n            justify-content: flex-end;\n            padding-bottom: ${theme.gridUnit * 4}px;\n            & .ant-tag:last-of-type {\n              margin: 0;\n            }\n          `}\n        >\n          {!isLoading && firstQueryResponse && (\n            <RowCountLabel\n              rowcount={Number(firstQueryResponse.rowcount) || 0}\n              limit={Number(rowLimit) || 0}\n            />\n          )}\n          {!isLoading && firstQueryResponse?.is_cached && (\n            <CachedLabel\n              onClick={refreshCachedQuery}\n              cachedTimestamp={firstQueryResponse.cached_dttm}\n            />\n          )}\n          <Timer\n            startTime={chartUpdateStartTime}\n            endTime={chartUpdateEndTime}\n            isRunning={isLoading}\n            status={CHART_STATUS_MAP[chartStatus]}\n          />\n        </div>\n      </div>\n    );\n  },\n);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { forwardRef, RefObject } from 'react';\nimport { css, styled } from '@superset-ui/core';\nimport Button from 'src/components/Button';\n\ninterface ControlPanelAlertProps {\n  title: string;\n  bodyText: string;\n  primaryButtonAction?: (e: React.MouseEvent) => void;\n  secondaryButtonAction?: (e: React.MouseEvent) => void;\n  primaryButtonText?: string;\n  secondaryButtonText?: string;\n  type: 'info' | 'warning';\n  className?: string;\n}\n\nconst AlertContainer = styled.div`\n  ${({ theme }) => css`\n    margin: ${theme.gridUnit * 4}px;\n    padding: ${theme.gridUnit * 4}px;\n\n    border: 1px solid ${theme.colors.info.base};\n    background-color: ${theme.colors.info.light2};\n    border-radius: 2px;\n\n    color: ${theme.colors.info.dark2};\n    font-size: ${theme.typography.sizes.m}px;\n\n    p {\n      margin-bottom: ${theme.gridUnit}px;\n    }\n\n    & a,\n    & span[role='button'] {\n      color: inherit;\n      text-decoration: underline;\n      &:hover {\n        color: ${theme.colors.info.dark1};\n      }\n    }\n\n    &.alert-type-warning {\n      border-color: ${theme.colors.alert.base};\n      background-color: ${theme.colors.alert.light2};\n\n      p {\n        color: ${theme.colors.alert.dark2};\n      }\n\n      & a:hover,\n      & span[role='button']:hover {\n        color: ${theme.colors.alert.dark1};\n      }\n    }\n  `}\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  button {\n    line-height: 1;\n  }\n`;\n\nconst Title = styled.p`\n  font-weight: ${({ theme }) => theme.typography.weights.bold};\n`;\n\nexport const ExploreAlert = forwardRef(\n  (\n    {\n      title,\n      bodyText,\n      primaryButtonAction,\n      secondaryButtonAction,\n      primaryButtonText,\n      secondaryButtonText,\n      type = 'info',\n      className = '',\n    }: ControlPanelAlertProps,\n    ref: RefObject<HTMLDivElement>,\n  ) => (\n    <AlertContainer className={`alert-type-${type} ${className}`} ref={ref}>\n      <Title>{title}</Title>\n      <p>{bodyText}</p>\n      {primaryButtonText && primaryButtonAction && (\n        <ButtonContainer>\n          {secondaryButtonAction && secondaryButtonText && (\n            <Button\n              buttonStyle=\"link\"\n              buttonSize=\"small\"\n              onClick={secondaryButtonAction}\n            >\n              {secondaryButtonText}\n            </Button>\n          )}\n          <Button\n            buttonStyle={type === 'warning' ? 'warning' : 'primary'}\n            buttonSize=\"small\"\n            onClick={primaryButtonAction}\n          >\n            {primaryButtonText}\n          </Button>\n        </ButtonContainer>\n      )}\n    </AlertContainer>\n  ),\n);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport Split from 'react-split';\nimport {\n  css,\n  ensureIsArray,\n  styled,\n  SupersetClient,\n  t,\n  useTheme,\n} from '@superset-ui/core';\nimport { useResizeDetector } from 'react-resize-detector';\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\nimport ChartContainer from 'src/components/Chart/ChartContainer';\nimport {\n  getItem,\n  setItem,\n  LocalStorageKeys,\n} from 'src/utils/localStorageHelpers';\nimport { DataTablesPane } from './DataTablesPane';\nimport { buildV1ChartDataPayload } from '../exploreUtils';\nimport { ChartPills } from './ChartPills';\nimport { ExploreAlert } from './ExploreAlert';\nimport { getChartRequiredFieldsMissingMessage } from '../../utils/getChartRequiredFieldsMissingMessage';\n\nconst propTypes = {\n  actions: PropTypes.object.isRequired,\n  onQuery: PropTypes.func,\n  can_overwrite: PropTypes.bool.isRequired,\n  can_download: PropTypes.bool.isRequired,\n  datasource: PropTypes.object,\n  dashboardId: PropTypes.number,\n  column_formats: PropTypes.object,\n  containerId: PropTypes.string.isRequired,\n  isStarred: PropTypes.bool.isRequired,\n  slice: PropTypes.object,\n  sliceName: PropTypes.string,\n  table_name: PropTypes.string,\n  vizType: PropTypes.string.isRequired,\n  form_data: PropTypes.object,\n  ownState: PropTypes.object,\n  standalone: PropTypes.number,\n  force: PropTypes.bool,\n  timeout: PropTypes.number,\n  chartIsStale: PropTypes.bool,\n  chart: chartPropShape,\n  errorMessage: PropTypes.node,\n  triggerRender: PropTypes.bool,\n};\n\nconst GUTTER_SIZE_FACTOR = 1.25;\n\nconst INITIAL_SIZES = [100, 0];\nconst MIN_SIZES = [300, 65];\nconst DEFAULT_SOUTH_PANE_HEIGHT_PERCENT = 40;\n\nconst Styles = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  align-content: stretch;\n  overflow: auto;\n  box-shadow: none;\n  height: 100%;\n\n  & > div {\n    height: 100%;\n  }\n\n  .gutter {\n    border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-bottom: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    width: ${({ theme }) => theme.gridUnit * 9}px;\n    margin: ${({ theme }) => theme.gridUnit * GUTTER_SIZE_FACTOR}px auto;\n  }\n\n  .gutter.gutter-vertical {\n    cursor: row-resize;\n  }\n\n  .ant-collapse {\n    .ant-tabs {\n      height: 100%;\n      .ant-tabs-nav {\n        padding-left: ${({ theme }) => theme.gridUnit * 5}px;\n        margin: 0;\n      }\n      .ant-tabs-content-holder {\n        overflow: hidden;\n        .ant-tabs-content {\n          height: 100%;\n        }\n      }\n    }\n  }\n`;\n\nconst ExploreChartPanel = ({\n  chart,\n  slice,\n  vizType,\n  ownState,\n  triggerRender,\n  force,\n  datasource,\n  errorMessage,\n  form_data: formData,\n  onQuery,\n  actions,\n  timeout,\n  standalone,\n  chartIsStale,\n  chartAlert,\n}) => {\n  const theme = useTheme();\n  const gutterMargin = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const gutterHeight = theme.gridUnit * GUTTER_SIZE_FACTOR;\n  const {\n    width: chartPanelWidth,\n    height: chartPanelHeight,\n    ref: chartPanelRef,\n  } = useResizeDetector({\n    refreshMode: 'debounce',\n    refreshRate: 300,\n  });\n  const [splitSizes, setSplitSizes] = useState(\n    getItem(LocalStorageKeys.chart_split_sizes, INITIAL_SIZES),\n  );\n\n  const showAlertBanner =\n    !chartAlert &&\n    chartIsStale &&\n    chart.chartStatus !== 'failed' &&\n    ensureIsArray(chart.queriesResponse).length > 0;\n\n  const updateQueryContext = useCallback(\n    async function fetchChartData() {\n      if (slice && slice.query_context === null) {\n        const queryContext = buildV1ChartDataPayload({\n          formData: slice.form_data,\n          force,\n          resultFormat: 'json',\n          resultType: 'full',\n          setDataMask: null,\n          ownState: null,\n        });\n\n        await SupersetClient.put({\n          endpoint: `/api/v1/chart/${slice.slice_id}`,\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            query_context: JSON.stringify(queryContext),\n            query_context_generation: true,\n          }),\n        });\n      }\n    },\n    [slice],\n  );\n\n  useEffect(() => {\n    updateQueryContext();\n  }, [updateQueryContext]);\n\n  useEffect(() => {\n    setItem(LocalStorageKeys.chart_split_sizes, splitSizes);\n  }, [splitSizes]);\n\n  const onDragEnd = useCallback(sizes => {\n    setSplitSizes(sizes);\n  }, []);\n\n  const refreshCachedQuery = useCallback(() => {\n    actions.setForceQuery(true);\n    actions.postChartFormData(\n      formData,\n      true,\n      timeout,\n      chart.id,\n      undefined,\n      ownState,\n    );\n    actions.updateQueryFormData(formData, chart.id);\n  }, [actions, chart.id, formData, ownState, timeout]);\n\n  const onCollapseChange = useCallback(isOpen => {\n    let splitSizes;\n    if (!isOpen) {\n      splitSizes = INITIAL_SIZES;\n    } else {\n      splitSizes = [\n        100 - DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\n        DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\n      ];\n    }\n    setSplitSizes(splitSizes);\n  }, []);\n\n  const renderChart = useCallback(\n    () => (\n      <div\n        css={css`\n          min-height: 0;\n          flex: 1;\n          overflow: auto;\n        `}\n        ref={chartPanelRef}\n      >\n        {chartPanelWidth && chartPanelHeight && (\n          <ChartContainer\n            width={Math.floor(chartPanelWidth)}\n            height={chartPanelHeight}\n            ownState={ownState}\n            annotationData={chart.annotationData}\n            chartAlert={chart.chartAlert}\n            chartStackTrace={chart.chartStackTrace}\n            chartId={chart.id}\n            chartStatus={chart.chartStatus}\n            triggerRender={triggerRender}\n            force={force}\n            datasource={datasource}\n            errorMessage={errorMessage}\n            formData={formData}\n            latestQueryFormData={chart.latestQueryFormData}\n            onQuery={onQuery}\n            queriesResponse={chart.queriesResponse}\n            chartIsStale={chartIsStale}\n            setControlValue={actions.setControlValue}\n            timeout={timeout}\n            triggerQuery={chart.triggerQuery}\n            vizType={vizType}\n          />\n        )}\n      </div>\n    ),\n    [\n      actions.setControlValue,\n      chart.annotationData,\n      chart.chartAlert,\n      chart.chartStackTrace,\n      chart.chartStatus,\n      chart.id,\n      chart.latestQueryFormData,\n      chart.queriesResponse,\n      chart.triggerQuery,\n      chartIsStale,\n      chartPanelHeight,\n      chartPanelRef,\n      chartPanelWidth,\n      datasource,\n      errorMessage,\n      force,\n      formData,\n      onQuery,\n      ownState,\n      timeout,\n      triggerRender,\n      vizType,\n    ],\n  );\n\n  const panelBody = useMemo(\n    () => (\n      <div\n        className=\"panel-body\"\n        css={css`\n          display: flex;\n          flex-direction: column;\n        `}\n      >\n        {showAlertBanner && (\n          <ExploreAlert\n            title={\n              errorMessage\n                ? t('Required control values have been removed')\n                : t('Your chart is not up to date')\n            }\n            bodyText={\n              errorMessage ? (\n                getChartRequiredFieldsMissingMessage(false)\n              ) : (\n                <span>\n                  {t(\n                    'You updated the values in the control panel, but the chart was not updated automatically. Run the query by clicking on the \"Update chart\" button or',\n                  )}{' '}\n                  <span role=\"button\" tabIndex={0} onClick={onQuery}>\n                    {t('click here')}\n                  </span>\n                  .\n                </span>\n              )\n            }\n            type=\"warning\"\n            css={theme => css`\n              margin: 0 0 ${theme.gridUnit * 4}px 0;\n            `}\n          />\n        )}\n        <ChartPills\n          queriesResponse={chart.queriesResponse}\n          chartStatus={chart.chartStatus}\n          chartUpdateStartTime={chart.chartUpdateStartTime}\n          chartUpdateEndTime={chart.chartUpdateEndTime}\n          refreshCachedQuery={refreshCachedQuery}\n          rowLimit={formData?.row_limit}\n        />\n        {renderChart()}\n      </div>\n    ),\n    [\n      showAlertBanner,\n      errorMessage,\n      onQuery,\n      chart.queriesResponse,\n      chart.chartStatus,\n      chart.chartUpdateStartTime,\n      chart.chartUpdateEndTime,\n      refreshCachedQuery,\n      formData?.row_limit,\n      renderChart,\n    ],\n  );\n\n  const standaloneChartBody = useMemo(() => renderChart(), [renderChart]);\n\n  const [queryFormData, setQueryFormData] = useState(chart.latestQueryFormData);\n\n  useEffect(() => {\n    // only update when `latestQueryFormData` changes AND `triggerRender`\n    // is false. No update should be done when only `triggerRender` changes,\n    // as this can trigger a query downstream based on incomplete form data.\n    // (`latestQueryFormData` is only updated when a a valid request has been\n    // triggered).\n    if (!triggerRender) {\n      setQueryFormData(chart.latestQueryFormData);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chart.latestQueryFormData]);\n\n  const elementStyle = useCallback(\n    (dimension, elementSize, gutterSize) => ({\n      [dimension]: `calc(${elementSize}% - ${gutterSize + gutterMargin}px)`,\n    }),\n    [gutterMargin],\n  );\n\n  if (standalone) {\n    // dom manipulation hack to get rid of the boostrap theme's body background\n    const standaloneClass = 'background-transparent';\n    const bodyClasses = document.body.className.split(' ');\n    if (!bodyClasses.includes(standaloneClass)) {\n      document.body.className += ` ${standaloneClass}`;\n    }\n    return standaloneChartBody;\n  }\n\n  return (\n    <Styles className=\"panel panel-default chart-container\">\n      {vizType === 'filter_box' ? (\n        panelBody\n      ) : (\n        <Split\n          sizes={splitSizes}\n          minSize={MIN_SIZES}\n          direction=\"vertical\"\n          gutterSize={gutterHeight}\n          onDragEnd={onDragEnd}\n          elementStyle={elementStyle}\n          expandToMin\n        >\n          {panelBody}\n          <DataTablesPane\n            ownState={ownState}\n            queryFormData={queryFormData}\n            datasource={datasource}\n            queryForce={force}\n            onCollapseChange={onCollapseChange}\n            chartStatus={chart.chartStatus}\n            errorMessage={errorMessage}\n            actions={actions}\n          />\n        </Split>\n      )}\n    </Styles>\n  );\n};\n\nExploreChartPanel.propTypes = propTypes;\n\nexport default ExploreChartPanel;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { ReactNode } from 'react';\nimport { t } from '@superset-ui/core';\nimport Button from 'src/components/Button';\n\nexport type RunQueryButtonProps = {\n  loading: boolean;\n  onQuery: () => void;\n  onStop: () => void;\n  errorMessage: ReactNode;\n  isNewChart: boolean;\n  canStopQuery: boolean;\n  chartIsStale: boolean;\n};\n\nexport const RunQueryButton = ({\n  loading,\n  onQuery,\n  onStop,\n  errorMessage,\n  isNewChart,\n  canStopQuery,\n  chartIsStale,\n}: RunQueryButtonProps) =>\n  loading ? (\n    <Button onClick={onStop} buttonStyle=\"warning\" disabled={!canStopQuery}>\n      <i className=\"fa fa-stop-circle-o\" /> {t('Stop')}\n    </Button>\n  ) : (\n    <Button\n      onClick={onQuery}\n      buttonStyle={chartIsStale ? 'primary' : 'secondary'}\n      disabled={!!errorMessage}\n      data-test=\"run-query-button\"\n    >\n      {isNewChart ? t('Create chart') : t('Update chart')}\n    </Button>\n  );\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint camelcase: 0 */\nimport React, {\n  ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  ensureIsArray,\n  t,\n  styled,\n  getChartControlPanelRegistry,\n  QueryFormData,\n  DatasourceType,\n  css,\n  SupersetTheme,\n} from '@superset-ui/core';\nimport {\n  ControlPanelSectionConfig,\n  ControlState,\n  CustomControlItem,\n  Dataset,\n  ExpandedControlItem,\n  InfoTooltipWithTrigger,\n  sections,\n} from '@superset-ui/chart-controls';\n\nimport Collapse from 'src/components/Collapse';\nimport Tabs from 'src/components/Tabs';\nimport { PluginContext } from 'src/components/DynamicPlugins';\nimport Loading from 'src/components/Loading';\n\nimport { usePrevious } from 'src/hooks/usePrevious';\nimport { getSectionsToRender } from 'src/explore/controlUtils';\nimport { ExploreActions } from 'src/explore/actions/exploreActions';\nimport { ExplorePageState } from 'src/explore/reducers/getInitialState';\nimport { ChartState } from 'src/explore/types';\nimport { Tooltip } from 'src/components/Tooltip';\n\nimport { rgba } from 'emotion-rgba';\nimport ControlRow from './ControlRow';\nimport Control from './Control';\nimport { ExploreAlert } from './ExploreAlert';\nimport { RunQueryButton } from './RunQueryButton';\n\nexport type ControlPanelsContainerProps = {\n  exploreState: ExplorePageState['explore'];\n  actions: ExploreActions;\n  datasource_type: DatasourceType;\n  chart: ChartState;\n  controls: Record<string, ControlState>;\n  form_data: QueryFormData;\n  isDatasourceMetaLoading: boolean;\n  errorMessage: ReactNode;\n  onQuery: () => void;\n  onStop: () => void;\n  canStopQuery: boolean;\n  chartIsStale: boolean;\n};\n\nexport type ExpandedControlPanelSectionConfig = Omit<\n  ControlPanelSectionConfig,\n  'controlSetRows'\n> & {\n  controlSetRows: ExpandedControlItem[][];\n};\n\nconst actionButtonsContainerStyles = (theme: SupersetTheme) => css`\n  display: flex;\n  position: sticky;\n  bottom: 0;\n  flex-direction: column;\n  align-items: center;\n  padding: ${theme.gridUnit * 4}px;\n  z-index: 999;\n  background: linear-gradient(\n    ${rgba(theme.colors.grayscale.light5, 0)},\n    ${theme.colors.grayscale.light5} ${theme.opacity.mediumLight}\n  );\n\n  & > button {\n    min-width: 156px;\n  }\n`;\n\nconst Styles = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n\n  // Resizable add overflow-y: auto as a style to this div\n  // To override it, we need to use !important\n  overflow: visible !important;\n  #controlSections {\n    height: 100%;\n    overflow: visible;\n  }\n  .nav-tabs {\n    flex: 0 0 1;\n  }\n  .tab-content {\n    overflow: auto;\n    flex: 1 1 100%;\n  }\n  .Select__menu {\n    max-width: 100%;\n  }\n  .type-label {\n    margin-right: ${({ theme }) => theme.gridUnit * 3}px;\n    width: ${({ theme }) => theme.gridUnit * 7}px;\n    display: inline-block;\n    text-align: center;\n    font-weight: ${({ theme }) => theme.typography.weights.bold};\n  }\n`;\n\nconst ControlPanelsTabs = styled(Tabs)`\n  ${({ theme, fullWidth }) => css`\n    height: 100%;\n    overflow: visible;\n    .ant-tabs-nav {\n      margin-bottom: 0;\n    }\n    .ant-tabs-nav-list {\n      width: ${fullWidth ? '100%' : '50%'};\n    }\n    .ant-tabs-tabpane {\n      height: 100%;\n    }\n    .ant-tabs-content-holder {\n      padding-top: ${theme.gridUnit * 4}px;\n    }\n\n    .ant-collapse-ghost > .ant-collapse-item {\n      &:not(:last-child) {\n        border-bottom: 1px solid ${theme.colors.grayscale.light3};\n      }\n\n      & > .ant-collapse-header {\n        font-size: ${theme.typography.sizes.s}px;\n      }\n\n      & > .ant-collapse-content > .ant-collapse-content-box {\n        padding-bottom: 0;\n        font-size: ${theme.typography.sizes.s}px;\n      }\n    }\n  `}\n`;\n\nconst isTimeSection = (section: ControlPanelSectionConfig): boolean =>\n  !!section.label &&\n  (sections.legacyRegularTime.label === section.label ||\n    sections.legacyTimeseriesTime.label === section.label);\n\nconst hasTimeColumn = (datasource: Dataset): boolean =>\n  datasource?.columns?.some(c => c.is_dttm) ||\n  datasource.type === DatasourceType.Druid;\n\nconst sectionsToExpand = (\n  sections: ControlPanelSectionConfig[],\n  datasource: Dataset,\n): string[] =>\n  // avoid expanding time section if datasource doesn't include time column\n  sections.reduce(\n    (acc, section) =>\n      section.expanded && (!isTimeSection(section) || hasTimeColumn(datasource))\n        ? [...acc, String(section.label)]\n        : acc,\n    [] as string[],\n  );\n\nfunction getState(\n  vizType: string,\n  datasource: Dataset,\n  datasourceType: DatasourceType,\n) {\n  const querySections: ControlPanelSectionConfig[] = [];\n  const customizeSections: ControlPanelSectionConfig[] = [];\n\n  getSectionsToRender(vizType, datasourceType).forEach(section => {\n    // if at least one control in the section is not `renderTrigger`\n    // or asks to be displayed at the Data tab\n    if (\n      section.tabOverride === 'data' ||\n      section.controlSetRows.some(rows =>\n        rows.some(\n          control =>\n            control &&\n            typeof control === 'object' &&\n            'config' in control &&\n            control.config &&\n            (!control.config.renderTrigger ||\n              control.config.tabOverride === 'data'),\n        ),\n      )\n    ) {\n      querySections.push(section);\n    } else {\n      customizeSections.push(section);\n    }\n  });\n  const expandedQuerySections: string[] = sectionsToExpand(\n    querySections,\n    datasource,\n  );\n  const expandedCustomizeSections: string[] = sectionsToExpand(\n    customizeSections,\n    datasource,\n  );\n  return {\n    expandedQuerySections,\n    expandedCustomizeSections,\n    querySections,\n    customizeSections,\n  };\n}\n\nexport const ControlPanelsContainer = (props: ControlPanelsContainerProps) => {\n  const pluginContext = useContext(PluginContext);\n\n  const prevState = usePrevious(props.exploreState);\n  const prevDatasource = usePrevious(props.exploreState.datasource);\n\n  const [showDatasourceAlert, setShowDatasourceAlert] = useState(false);\n\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (\n      prevDatasource &&\n      (props.exploreState.datasource?.id !== prevDatasource.id ||\n        props.exploreState.datasource?.type !== prevDatasource.type)\n    ) {\n      setShowDatasourceAlert(true);\n      containerRef.current?.scrollTo(0, 0);\n    }\n  }, [\n    props.exploreState.datasource?.id,\n    props.exploreState.datasource?.type,\n    prevDatasource,\n  ]);\n\n  const {\n    expandedQuerySections,\n    expandedCustomizeSections,\n    querySections,\n    customizeSections,\n  } = useMemo(\n    () =>\n      getState(\n        props.form_data.viz_type,\n        props.exploreState.datasource,\n        props.datasource_type,\n      ),\n    [\n      props.exploreState.datasource,\n      props.form_data.viz_type,\n      props.datasource_type,\n    ],\n  );\n\n  const resetTransferredControls = useCallback(() => {\n    ensureIsArray(props.exploreState.controlsTransferred).forEach(controlName =>\n      props.actions.setControlValue(\n        controlName,\n        props.controls[controlName].default,\n      ),\n    );\n  }, [props.actions, props.exploreState.controlsTransferred, props.controls]);\n\n  const handleClearFormClick = useCallback(() => {\n    resetTransferredControls();\n    setShowDatasourceAlert(false);\n  }, [resetTransferredControls]);\n\n  const handleContinueClick = useCallback(() => {\n    setShowDatasourceAlert(false);\n  }, []);\n\n  const shouldRecalculateControlState = ({\n    name,\n    config,\n  }: CustomControlItem): boolean => {\n    const { controls, chart, exploreState } = props;\n\n    return Boolean(\n      config.shouldMapStateToProps?.(\n        prevState || exploreState,\n        exploreState,\n        controls[name],\n        chart,\n      ),\n    );\n  };\n\n  const renderControl = ({ name, config }: CustomControlItem) => {\n    const { controls, chart, exploreState } = props;\n    const { visibility } = config;\n\n    // If the control item is not an object, we have to look up the control data from\n    // the centralized controls file.\n    // When it is an object we read control data straight from `config` instead\n    const controlData = {\n      ...config,\n      ...controls[name],\n      ...(shouldRecalculateControlState({ name, config })\n        ? config?.mapStateToProps?.(exploreState, controls[name], chart)\n        : // for other controls, `mapStateToProps` is already run in\n          // controlUtils/getControlState.ts\n          undefined),\n      name,\n    };\n    const { validationErrors, ...restProps } = controlData as ControlState & {\n      validationErrors?: any[];\n    };\n\n    const isVisible = visibility\n      ? visibility.call(config, props, controlData)\n      : undefined;\n\n    return (\n      <Control\n        key={`control-${name}`}\n        name={name}\n        validationErrors={validationErrors}\n        actions={props.actions}\n        isVisible={isVisible}\n        {...restProps}\n      />\n    );\n  };\n\n  const renderControlPanelSection = (\n    section: ExpandedControlPanelSectionConfig,\n  ) => {\n    const { controls } = props;\n    const { label, description } = section;\n\n    // Section label can be a ReactNode but in some places we want to\n    // have a string ID. Using forced type conversion for now,\n    // should probably add a `id` field to sections in the future.\n    const sectionId = String(label);\n\n    const hasErrors = section.controlSetRows.some(rows =>\n      rows.some(item => {\n        const controlName =\n          typeof item === 'string'\n            ? item\n            : item && 'name' in item\n            ? item.name\n            : null;\n        return (\n          controlName &&\n          controlName in controls &&\n          controls[controlName].validationErrors &&\n          controls[controlName].validationErrors.length > 0\n        );\n      }),\n    );\n    const PanelHeader = () => (\n      <span data-test=\"collapsible-control-panel-header\">\n        <span>{label}</span>{' '}\n        {description && (\n          // label is only used in tooltip id (should probably call this prop `id`)\n          <InfoTooltipWithTrigger label={sectionId} tooltip={description} />\n        )}\n        {hasErrors && (\n          <InfoTooltipWithTrigger\n            label=\"validation-errors\"\n            bsStyle=\"danger\"\n            tooltip=\"This section contains validation errors\"\n          />\n        )}\n      </span>\n    );\n\n    return (\n      <Collapse.Panel\n        css={theme => css`\n          margin-bottom: 0;\n          box-shadow: none;\n\n          &:last-child {\n            padding-bottom: ${theme.gridUnit * 16}px;\n            border-bottom: 0;\n          }\n\n          .panel-body {\n            margin-left: ${theme.gridUnit * 4}px;\n            padding-bottom: 0;\n          }\n\n          span.label {\n            display: inline-block;\n          }\n        `}\n        header={<PanelHeader />}\n        key={sectionId}\n      >\n        {section.controlSetRows.map((controlSets, i) => {\n          const renderedControls = controlSets\n            .map(controlItem => {\n              if (!controlItem) {\n                // When the item is invalid\n                return null;\n              }\n              if (React.isValidElement(controlItem)) {\n                // When the item is a React element\n                return controlItem;\n              }\n              if (\n                controlItem.name &&\n                controlItem.config &&\n                controlItem.name !== 'datasource'\n              ) {\n                return renderControl(controlItem);\n              }\n              return null;\n            })\n            .filter(x => x !== null);\n          // don't show the row if it is empty\n          if (renderedControls.length === 0) {\n            return null;\n          }\n          return (\n            <ControlRow\n              key={`controlsetrow-${i}`}\n              controls={renderedControls}\n            />\n          );\n        })}\n      </Collapse.Panel>\n    );\n  };\n\n  const hasControlsTransferred =\n    ensureIsArray(props.exploreState.controlsTransferred).length > 0;\n\n  const DatasourceAlert = useCallback(\n    () =>\n      hasControlsTransferred ? (\n        <ExploreAlert\n          title={t('Keep control settings?')}\n          bodyText={t(\n            \"You've changed datasets. Any controls with data (columns, metrics) that match this new dataset have been retained.\",\n          )}\n          primaryButtonAction={handleContinueClick}\n          secondaryButtonAction={handleClearFormClick}\n          primaryButtonText={t('Continue')}\n          secondaryButtonText={t('Clear form')}\n          type=\"info\"\n        />\n      ) : (\n        <ExploreAlert\n          title={t('No form settings were maintained')}\n          bodyText={t(\n            'We were unable to carry over any controls when switching to this new dataset.',\n          )}\n          primaryButtonAction={handleContinueClick}\n          primaryButtonText={t('Continue')}\n          type=\"warning\"\n        />\n      ),\n    [handleClearFormClick, handleContinueClick, hasControlsTransferred],\n  );\n\n  const dataTabTitle = useMemo(\n    () => (\n      <>\n        <span>{t('Data')}</span>\n        {props.errorMessage && (\n          <span\n            css={(theme: SupersetTheme) => css`\n              font-size: ${theme.typography.sizes.xs}px;\n              margin-left: ${theme.gridUnit * 2}px;\n            `}\n          >\n            {' '}\n            <Tooltip\n              id=\"query-error-tooltip\"\n              placement=\"right\"\n              title={props.errorMessage}\n            >\n              <i className=\"fa fa-exclamation-circle text-danger fa-lg\" />\n            </Tooltip>\n          </span>\n        )}\n      </>\n    ),\n    [props.errorMessage],\n  );\n\n  const controlPanelRegistry = getChartControlPanelRegistry();\n  if (\n    !controlPanelRegistry.has(props.form_data.viz_type) &&\n    pluginContext.loading\n  ) {\n    return <Loading />;\n  }\n\n  const showCustomizeTab = customizeSections.length > 0;\n\n  return (\n    <Styles ref={containerRef}>\n      <ControlPanelsTabs\n        id=\"controlSections\"\n        data-test=\"control-tabs\"\n        fullWidth={showCustomizeTab}\n        allowOverflow={false}\n      >\n        <Tabs.TabPane key=\"query\" tab={dataTabTitle}>\n          <Collapse\n            defaultActiveKey={expandedQuerySections}\n            expandIconPosition=\"right\"\n            ghost\n          >\n            {showDatasourceAlert && <DatasourceAlert />}\n            {querySections.map(renderControlPanelSection)}\n          </Collapse>\n        </Tabs.TabPane>\n        {showCustomizeTab && (\n          <Tabs.TabPane key=\"display\" tab={t('Customize')}>\n            <Collapse\n              defaultActiveKey={expandedCustomizeSections}\n              expandIconPosition=\"right\"\n              ghost\n            >\n              {customizeSections.map(renderControlPanelSection)}\n            </Collapse>\n          </Tabs.TabPane>\n        )}\n      </ControlPanelsTabs>\n      <div css={actionButtonsContainerStyles}>\n        <RunQueryButton\n          onQuery={props.onQuery}\n          onStop={props.onStop}\n          errorMessage={props.errorMessage}\n          loading={props.chart.chartStatus === 'loading'}\n          isNewChart={!props.chart.queriesResponse}\n          canStopQuery={props.canStopQuery}\n          chartIsStale={props.chartIsStale}\n        />\n      </div>\n    </Styles>\n  );\n};\n\nexport default ControlPanelsContainer;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint camelcase: 0 */\nimport React from 'react';\nimport { Input } from 'src/components/Input';\nimport { Form, FormItem } from 'src/components/Form';\nimport Alert from 'src/components/Alert';\nimport { JsonObject, t, styled } from '@superset-ui/core';\nimport ReactMarkdown from 'react-markdown';\nimport Modal from 'src/components/Modal';\nimport { Radio } from 'src/components/Radio';\nimport Button from 'src/components/Button';\nimport { Select } from 'src/components';\nimport { SelectValue } from 'antd/lib/select';\nimport { connect } from 'react-redux';\n\n// Session storage key for recent dashboard\nconst SK_DASHBOARD_ID = 'save_chart_recent_dashboard';\nconst SELECT_PLACEHOLDER = t('**Select** a dashboard OR **create** a new one');\n\ntype SaveModalProps = {\n  onHide: () => void;\n  actions: Record<string, any>;\n  form_data?: Record<string, any>;\n  userId: number;\n  dashboards: Array<any>;\n  alert?: string;\n  sliceName?: string;\n  slice?: Record<string, any>;\n  datasource?: Record<string, any>;\n  dashboardId: '' | number | null;\n};\n\ntype ActionType = 'overwrite' | 'saveas';\n\ntype SaveModalState = {\n  saveToDashboardId: number | string | null;\n  newSliceName?: string;\n  newDashboardName?: string;\n  alert: string | null;\n  action: ActionType;\n};\n\nexport const StyledModal = styled(Modal)`\n  .ant-modal-body {\n    overflow: visible;\n  }\n`;\n\nclass SaveModal extends React.Component<SaveModalProps, SaveModalState> {\n  constructor(props: SaveModalProps) {\n    super(props);\n    this.state = {\n      saveToDashboardId: null,\n      newSliceName: props.sliceName,\n      alert: null,\n      action: this.canOverwriteSlice() ? 'overwrite' : 'saveas',\n    };\n    this.onDashboardSelectChange = this.onDashboardSelectChange.bind(this);\n    this.onSliceNameChange = this.onSliceNameChange.bind(this);\n    this.changeAction = this.changeAction.bind(this);\n    this.saveOrOverwrite = this.saveOrOverwrite.bind(this);\n    this.isNewDashboard = this.isNewDashboard.bind(this);\n  }\n\n  isNewDashboard(): boolean {\n    return !!(!this.state.saveToDashboardId && this.state.newDashboardName);\n  }\n\n  canOverwriteSlice(): boolean {\n    return (\n      this.props.slice?.owners?.includes(this.props.userId) &&\n      !this.props.slice?.is_managed_externally\n    );\n  }\n\n  componentDidMount() {\n    this.props.actions.fetchDashboards(this.props.userId).then(() => {\n      const dashboardIds = this.props.dashboards.map(\n        dashboard => dashboard.value,\n      );\n      const lastDashboard = sessionStorage.getItem(SK_DASHBOARD_ID);\n      let recentDashboard = lastDashboard && parseInt(lastDashboard, 10);\n\n      if (this.props.dashboardId) {\n        recentDashboard = this.props.dashboardId;\n      }\n\n      if (\n        recentDashboard !== null &&\n        dashboardIds.indexOf(recentDashboard) !== -1\n      ) {\n        this.setState({\n          saveToDashboardId: recentDashboard,\n        });\n      }\n    });\n  }\n\n  onSliceNameChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({ newSliceName: event.target.value });\n  }\n\n  onDashboardSelectChange(selected: SelectValue) {\n    const newDashboardName = selected ? String(selected) : undefined;\n    const saveToDashboardId =\n      selected && typeof selected === 'number' ? selected : null;\n    this.setState({ saveToDashboardId, newDashboardName });\n  }\n\n  changeAction(action: ActionType) {\n    this.setState({ action });\n  }\n\n  saveOrOverwrite(gotodash: boolean) {\n    this.setState({ alert: null });\n    this.props.actions.removeSaveModalAlert();\n    const sliceParams: Record<string, any> = {};\n\n    if (this.props.slice && this.props.slice.slice_id) {\n      sliceParams.slice_id = this.props.slice.slice_id;\n    }\n    if (sliceParams.action === 'saveas') {\n      if (this.state.newSliceName === '') {\n        this.setState({ alert: t('Please enter a chart name') });\n        return;\n      }\n    }\n    sliceParams.action = this.state.action;\n    sliceParams.slice_name = this.state.newSliceName;\n    sliceParams.save_to_dashboard_id = this.state.saveToDashboardId;\n    sliceParams.new_dashboard_name = this.state.newDashboardName;\n    const { url_params, ...formData } = this.props.form_data || {};\n\n    this.props.actions\n      .saveSlice(formData, sliceParams)\n      .then((data: JsonObject) => {\n        if (data.dashboard_id === null) {\n          sessionStorage.removeItem(SK_DASHBOARD_ID);\n        } else {\n          sessionStorage.setItem(SK_DASHBOARD_ID, data.dashboard_id);\n        }\n        // Go to new slice url or dashboard url\n        let url = gotodash ? data.dashboard_url : data.slice.slice_url;\n        if (url_params) {\n          const prefix = url.includes('?') ? '&' : '?';\n          url = `${url}${prefix}${new URLSearchParams(url_params).toString()}`;\n        }\n        window.location.assign(url);\n      });\n    this.props.onHide();\n  }\n\n  removeAlert() {\n    if (this.props.alert) {\n      this.props.actions.removeSaveModalAlert();\n    }\n    this.setState({ alert: null });\n  }\n\n  render() {\n    const dashboardSelectValue =\n      this.state.saveToDashboardId || this.state.newDashboardName;\n    return (\n      <StyledModal\n        show\n        onHide={this.props.onHide}\n        title={t('Save chart')}\n        footer={\n          <div data-test=\"save-modal-footer\">\n            <Button\n              id=\"btn_cancel\"\n              buttonSize=\"small\"\n              onClick={this.props.onHide}\n            >\n              {t('Cancel')}\n            </Button>\n            <Button\n              id=\"btn_modal_save_goto_dash\"\n              buttonSize=\"small\"\n              disabled={\n                !this.state.newSliceName ||\n                (!this.state.saveToDashboardId && !this.state.newDashboardName)\n              }\n              onClick={() => this.saveOrOverwrite(true)}\n            >\n              {this.isNewDashboard()\n                ? t('Save & go to new dashboard')\n                : t('Save & go to dashboard')}\n            </Button>\n            <Button\n              id=\"btn_modal_save\"\n              buttonSize=\"small\"\n              buttonStyle=\"primary\"\n              onClick={() => this.saveOrOverwrite(false)}\n              disabled={!this.state.newSliceName}\n              data-test=\"btn-modal-save\"\n            >\n              {!this.canOverwriteSlice() && this.props.slice\n                ? t('Save as new chart')\n                : this.isNewDashboard()\n                ? t('Save to new dashboard')\n                : t('Save')}\n            </Button>\n          </div>\n        }\n      >\n        <Form data-test=\"save-modal-body\" layout=\"vertical\">\n          {(this.state.alert || this.props.alert) && (\n            <Alert\n              type=\"warning\"\n              message={\n                <>\n                  {this.state.alert ? this.state.alert : this.props.alert}\n                  <i\n                    role=\"button\"\n                    aria-label=\"Remove alert\"\n                    tabIndex={0}\n                    className=\"fa fa-close pull-right\"\n                    onClick={this.removeAlert.bind(this)}\n                    style={{ cursor: 'pointer' }}\n                  />\n                </>\n              }\n            />\n          )}\n          <FormItem data-test=\"radio-group\">\n            <Radio\n              id=\"overwrite-radio\"\n              disabled={!this.canOverwriteSlice()}\n              checked={this.state.action === 'overwrite'}\n              onChange={() => this.changeAction('overwrite')}\n              data-test=\"save-overwrite-radio\"\n            >\n              {t('Save (Overwrite)')}\n            </Radio>\n            <Radio\n              id=\"saveas-radio\"\n              data-test=\"saveas-radio\"\n              checked={this.state.action === 'saveas'}\n              onChange={() => this.changeAction('saveas')}\n            >\n              {t('Save as...')}\n            </Radio>\n          </FormItem>\n          <hr />\n          <FormItem label={t('Chart name')} required>\n            <Input\n              name=\"new_slice_name\"\n              type=\"text\"\n              placeholder=\"Name\"\n              value={this.state.newSliceName}\n              onChange={this.onSliceNameChange}\n              data-test=\"new-chart-name\"\n            />\n          </FormItem>\n          <FormItem\n            label={t('Add to dashboard')}\n            data-test=\"save-chart-modal-select-dashboard-form\"\n          >\n            <Select\n              allowClear\n              allowNewOptions\n              ariaLabel={t('Select a dashboard')}\n              options={this.props.dashboards}\n              onChange={this.onDashboardSelectChange}\n              value={dashboardSelectValue || undefined}\n              placeholder={\n                // Using markdown to allow for good i18n\n                <ReactMarkdown\n                  source={SELECT_PLACEHOLDER}\n                  renderers={{ paragraph: 'span' }}\n                />\n              }\n            />\n          </FormItem>\n        </Form>\n      </StyledModal>\n    );\n  }\n}\n\nfunction mapStateToProps({\n  explore,\n  saveModal,\n}: Record<string, any>): Partial<SaveModalProps> {\n  return {\n    datasource: explore.datasource,\n    slice: explore.slice,\n    userId: explore.user?.userId,\n    dashboards: saveModal.dashboards,\n    alert: saveModal.saveModalAlert,\n  };\n}\n\nexport default connect(mapStateToProps, () => ({}))(SaveModal);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { useDrag } from 'react-dnd';\nimport { css, Metric, styled } from '@superset-ui/core';\nimport { ColumnMeta } from '@superset-ui/chart-controls';\nimport { DndItemType } from 'src/explore/components/DndItemType';\nimport {\n  StyledColumnOption,\n  StyledMetricOption,\n} from 'src/explore/components/optionRenderers';\nimport Icons from 'src/components/Icons';\n\nimport { DatasourcePanelDndItem } from '../types';\n\nconst DatasourceItemContainer = styled.div`\n  ${({ theme }) => css`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    height: ${theme.gridUnit * 6}px;\n    padding: 0 ${theme.gridUnit}px;\n\n    // hack to make the drag preview image corners rounded\n    transform: translate(0, 0);\n    background-color: inherit;\n    border-radius: 4px;\n\n    > div {\n      min-width: 0;\n      margin-right: ${theme.gridUnit * 2}px;\n    }\n  `}\n`;\n\ninterface DatasourcePanelDragOptionProps extends DatasourcePanelDndItem {\n  labelRef?: React.RefObject<any>;\n  showTooltip?: boolean;\n}\n\ntype MetricOption = Omit<Metric, 'id'> & {\n  label?: string;\n};\n\nexport default function DatasourcePanelDragOption(\n  props: DatasourcePanelDragOptionProps,\n) {\n  const { labelRef, showTooltip, type, value } = props;\n  const [{ isDragging }, drag] = useDrag({\n    item: {\n      value: props.value,\n      type: props.type,\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const optionProps = {\n    labelRef,\n    showTooltip: !isDragging && showTooltip,\n    showType: true,\n  };\n\n  return (\n    <DatasourceItemContainer data-test=\"DatasourcePanelDragOption\" ref={drag}>\n      {type === DndItemType.Column ? (\n        <StyledColumnOption column={value as ColumnMeta} {...optionProps} />\n      ) : (\n        <StyledMetricOption metric={value as MetricOption} {...optionProps} />\n      )}\n      <Icons.Drag />\n    </DatasourceItemContainer>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { css, styled, t, DatasourceType } from '@superset-ui/core';\nimport {\n  ControlConfig,\n  Dataset,\n  ColumnMeta,\n} from '@superset-ui/chart-controls';\nimport { debounce } from 'lodash';\nimport { matchSorter, rankings } from 'match-sorter';\nimport Collapse from 'src/components/Collapse';\nimport Alert from 'src/components/Alert';\nimport { SaveDatasetModal } from 'src/SqlLab/components/SaveDatasetModal';\nimport { Input } from 'src/components/Input';\nimport { FAST_DEBOUNCE } from 'src/constants';\nimport { FeatureFlag, isFeatureEnabled } from 'src/featureFlags';\nimport { ExploreActions } from 'src/explore/actions/exploreActions';\nimport Control from 'src/explore/components/Control';\nimport { ExploreDatasource } from 'src/SqlLab/types';\nimport DatasourcePanelDragOption from './DatasourcePanelDragOption';\nimport { DndItemType } from '../DndItemType';\nimport { StyledColumnOption, StyledMetricOption } from '../optionRenderers';\n\ninterface DatasourceControl extends ControlConfig {\n  datasource?: ExploreDatasource;\n}\n\nexport interface Props {\n  datasource: Dataset;\n  controls: {\n    datasource: DatasourceControl;\n  };\n  actions: Partial<ExploreActions> & Pick<ExploreActions, 'setControlValue'>;\n  // we use this props control force update when this panel resize\n  shouldForceUpdate?: number;\n}\n\nconst enableExploreDnd = isFeatureEnabled(\n  FeatureFlag.ENABLE_EXPLORE_DRAG_AND_DROP,\n);\n\nconst Button = styled.button`\n  background: none;\n  border: none;\n  text-decoration: underline;\n  color: ${({ theme }) => theme.colors.primary.dark1};\n`;\n\nconst ButtonContainer = styled.div`\n  text-align: center;\n  padding-top: 2px;\n`;\n\nconst DatasourceContainer = styled.div`\n  ${({ theme }) => css`\n    background-color: ${theme.colors.grayscale.light5};\n    position: relative;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    max-height: 100%;\n    .ant-collapse {\n      height: auto;\n    }\n    .field-selections {\n      padding: 0 0 ${4 * theme.gridUnit}px;\n      overflow: auto;\n    }\n    .field-length {\n      margin-bottom: ${theme.gridUnit * 2}px;\n      font-size: ${theme.typography.sizes.s}px;\n      color: ${theme.colors.grayscale.light1};\n    }\n    .form-control.input-md {\n      width: calc(100% - ${theme.gridUnit * 8}px);\n      height: ${theme.gridUnit * 8}px;\n      margin: ${theme.gridUnit * 2}px auto;\n    }\n    .type-label {\n      font-size: ${theme.typography.sizes.s}px;\n      color: ${theme.colors.grayscale.base};\n    }\n    .Control {\n      padding-bottom: 0;\n    }\n  `};\n`;\n\nconst LabelWrapper = styled.div`\n  ${({ theme }) => css`\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size: ${theme.typography.sizes.s}px;\n    background-color: ${theme.colors.grayscale.light4};\n    margin: ${theme.gridUnit * 2}px 0;\n    border-radius: 4px;\n    padding: 0 ${theme.gridUnit}px;\n\n    &:first-of-type {\n      margin-top: 0;\n    }\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n\n    ${enableExploreDnd &&\n    css`\n      padding: 0;\n      cursor: pointer;\n      &:hover {\n        background-color: ${theme.colors.grayscale.light3};\n      }\n    `}\n\n    & > span {\n      white-space: nowrap;\n    }\n\n    .option-label {\n      display: inline;\n    }\n\n    .metric-option {\n      & > svg {\n        min-width: ${theme.gridUnit * 4}px;\n      }\n      & > .option-label {\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    }\n  `}\n`;\n\nconst SectionHeader = styled.span`\n  ${({ theme }) => css`\n    font-size: ${theme.typography.sizes.s}px;\n  `}\n`;\n\nconst StyledInfoboxWrapper = styled.div`\n  ${({ theme }) => css`\n    margin: 0 ${theme.gridUnit * 2.5}px;\n\n    span {\n      text-decoration: underline;\n    }\n  `}\n`;\n\nconst LabelContainer = (props: {\n  children: React.ReactElement;\n  className: string;\n}) => {\n  const labelRef = useRef<HTMLDivElement>(null);\n  const extendedProps = {\n    labelRef,\n  };\n  return (\n    <LabelWrapper className={props.className}>\n      {React.cloneElement(props.children, extendedProps)}\n    </LabelWrapper>\n  );\n};\n\nexport default function DataSourcePanel({\n  datasource,\n  controls: { datasource: datasourceControl },\n  actions,\n  shouldForceUpdate,\n}: Props) {\n  const { columns: _columns, metrics } = datasource;\n\n  // display temporal column first\n  const columns = useMemo(\n    () =>\n      [..._columns].sort((col1, col2) => {\n        if (col1.is_dttm && !col2.is_dttm) {\n          return -1;\n        }\n        if (col2.is_dttm && !col1.is_dttm) {\n          return 1;\n        }\n        return 0;\n      }),\n    [_columns],\n  );\n\n  const [showSaveDatasetModal, setShowSaveDatasetModal] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const [lists, setList] = useState({\n    columns,\n    metrics,\n  });\n  const [showAllMetrics, setShowAllMetrics] = useState(false);\n  const [showAllColumns, setShowAllColumns] = useState(false);\n\n  const DEFAULT_MAX_COLUMNS_LENGTH = 50;\n  const DEFAULT_MAX_METRICS_LENGTH = 50;\n\n  const search = useMemo(\n    () =>\n      debounce((value: string) => {\n        if (value === '') {\n          setList({ columns, metrics });\n          return;\n        }\n        setList({\n          columns: matchSorter(columns, value, {\n            keys: [\n              {\n                key: 'verbose_name',\n                threshold: rankings.CONTAINS,\n              },\n              {\n                key: 'column_name',\n                threshold: rankings.CONTAINS,\n              },\n              {\n                key: item =>\n                  [item.description, item.expression].map(\n                    x => x?.replace(/[_\\n\\s]+/g, ' ') || '',\n                  ),\n                threshold: rankings.CONTAINS,\n                maxRanking: rankings.CONTAINS,\n              },\n            ],\n            keepDiacritics: true,\n          }),\n          metrics: matchSorter(metrics, value, {\n            keys: [\n              {\n                key: 'verbose_name',\n                threshold: rankings.CONTAINS,\n              },\n              {\n                key: 'metric_name',\n                threshold: rankings.CONTAINS,\n              },\n              {\n                key: item =>\n                  [item.description, item.expression].map(\n                    x => x?.replace(/[_\\n\\s]+/g, ' ') || '',\n                  ),\n                threshold: rankings.CONTAINS,\n                maxRanking: rankings.CONTAINS,\n              },\n            ],\n            keepDiacritics: true,\n            baseSort: (a, b) =>\n              Number(b.item.is_certified) - Number(a.item.is_certified) ||\n              String(a.rankedValue).localeCompare(b.rankedValue),\n          }),\n        });\n      }, FAST_DEBOUNCE),\n    [columns, metrics],\n  );\n\n  useEffect(() => {\n    setList({\n      columns,\n      metrics,\n    });\n    setInputValue('');\n  }, [columns, datasource, metrics]);\n\n  const sortCertifiedFirst = (slice: ColumnMeta[]) =>\n    slice.sort((a, b) => b.is_certified - a.is_certified);\n\n  const metricSlice = useMemo(\n    () =>\n      showAllMetrics\n        ? lists.metrics\n        : lists.metrics.slice(0, DEFAULT_MAX_METRICS_LENGTH),\n    [lists.metrics, showAllMetrics],\n  );\n\n  const columnSlice = useMemo(\n    () =>\n      showAllColumns\n        ? sortCertifiedFirst(lists.columns)\n        : sortCertifiedFirst(\n            lists.columns.slice(0, DEFAULT_MAX_COLUMNS_LENGTH),\n          ),\n    [lists.columns, showAllColumns],\n  );\n\n  const showInfoboxCheck = () => {\n    if (sessionStorage.getItem('showInfobox') === 'false') return false;\n    return true;\n  };\n\n  const mainBody = useMemo(\n    () => (\n      <>\n        <Input\n          allowClear\n          onChange={evt => {\n            setInputValue(evt.target.value);\n            search(evt.target.value);\n          }}\n          value={inputValue}\n          className=\"form-control input-md\"\n          placeholder={t('Search Metrics & Columns')}\n        />\n        <div className=\"field-selections\">\n          {datasource.type === DatasourceType.Query && showInfoboxCheck() && (\n            <StyledInfoboxWrapper>\n              <Alert\n                closable\n                onClose={() => sessionStorage.setItem('showInfobox', 'false')}\n                type=\"info\"\n                message=\"\"\n                description={\n                  <>\n                    <span\n                      role=\"button\"\n                      tabIndex={0}\n                      onClick={() => setShowSaveDatasetModal(true)}\n                      className=\"add-dataset-alert-description\"\n                    >\n                      {t('Create a dataset')}\n                    </span>\n                    {t(' to edit or add columns and metrics.')}\n                  </>\n                }\n              />\n            </StyledInfoboxWrapper>\n          )}\n          <Collapse\n            defaultActiveKey={['metrics', 'column']}\n            expandIconPosition=\"right\"\n            ghost\n          >\n            <Collapse.Panel\n              header={<SectionHeader>{t('Metrics')}</SectionHeader>}\n              key=\"metrics\"\n            >\n              <div className=\"field-length\">\n                {t(\n                  `Showing %s of %s`,\n                  metricSlice.length,\n                  lists.metrics.length,\n                )}\n              </div>\n              {metricSlice.map(m => (\n                <LabelContainer\n                  key={m.metric_name + String(shouldForceUpdate)}\n                  className=\"column\"\n                >\n                  {enableExploreDnd ? (\n                    <DatasourcePanelDragOption\n                      value={m}\n                      type={DndItemType.Metric}\n                    />\n                  ) : (\n                    <StyledMetricOption metric={m} showType />\n                  )}\n                </LabelContainer>\n              ))}\n              {lists.metrics.length > DEFAULT_MAX_METRICS_LENGTH ? (\n                <ButtonContainer>\n                  <Button onClick={() => setShowAllMetrics(!showAllMetrics)}>\n                    {showAllMetrics ? t('Show less...') : t('Show all...')}\n                  </Button>\n                </ButtonContainer>\n              ) : (\n                <></>\n              )}\n            </Collapse.Panel>\n            <Collapse.Panel\n              header={<SectionHeader>{t('Columns')}</SectionHeader>}\n              key=\"column\"\n            >\n              <div className=\"field-length\">\n                {t(\n                  `Showing %s of %s`,\n                  columnSlice.length,\n                  lists.columns.length,\n                )}\n              </div>\n              {columnSlice.map(col => (\n                <LabelContainer\n                  key={col.column_name + String(shouldForceUpdate)}\n                  className=\"column\"\n                >\n                  {enableExploreDnd ? (\n                    <DatasourcePanelDragOption\n                      value={col}\n                      type={DndItemType.Column}\n                    />\n                  ) : (\n                    <StyledColumnOption column={col} showType />\n                  )}\n                </LabelContainer>\n              ))}\n              {lists.columns.length > DEFAULT_MAX_COLUMNS_LENGTH ? (\n                <ButtonContainer>\n                  <Button onClick={() => setShowAllColumns(!showAllColumns)}>\n                    {showAllColumns ? t('Show Less...') : t('Show all...')}\n                  </Button>\n                </ButtonContainer>\n              ) : (\n                <></>\n              )}\n            </Collapse.Panel>\n          </Collapse>\n        </div>\n      </>\n    ),\n    [\n      columnSlice,\n      inputValue,\n      lists.columns.length,\n      lists.metrics.length,\n      metricSlice,\n      search,\n      showAllColumns,\n      showAllMetrics,\n      shouldForceUpdate,\n    ],\n  );\n\n  return (\n    <DatasourceContainer>\n      <SaveDatasetModal\n        visible={showSaveDatasetModal}\n        onHide={() => setShowSaveDatasetModal(false)}\n        buttonTextOnSave={t('Save')}\n        buttonTextOnOverwrite={t('Overwrite')}\n        datasource={datasource}\n      />\n      <Control {...datasourceControl} name=\"datasource\" actions={actions} />\n      {datasource.id != null && mainBody}\n    </DatasourceContainer>\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport memoize from 'lodash/memoize';\nimport { isControlPanelSectionConfig } from '@superset-ui/chart-controls';\nimport { getChartControlPanelRegistry } from '@superset-ui/core';\nimport { controls } from '../explore/controls';\n\nconst memoizedControls = memoize((vizType, controlPanel) => {\n  const controlsMap = {};\n  (controlPanel?.controlPanelSections || [])\n    .filter(isControlPanelSectionConfig)\n    .forEach(section => {\n      section.controlSetRows.forEach(row => {\n        row.forEach(control => {\n          if (!control) return;\n          if (typeof control === 'string') {\n            // For now, we have to look in controls.jsx to get the config for some controls.\n            // Once everything is migrated out, delete this if statement.\n            controlsMap[control] = controls[control];\n          } else if (control.name && control.config) {\n            // condition needed because there are elements, e.g. <hr /> in some control configs (I'm looking at you, FilterBox!)\n            controlsMap[control.name] = control.config;\n          }\n        });\n      });\n    });\n  return controlsMap;\n});\n\nconst getControlsForVizType = vizType => {\n  const controlPanel = getChartControlPanelRegistry().get(vizType);\n  return memoizedControls(vizType, controlPanel);\n};\n\nexport default getControlsForVizType;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { isEqual, isEmpty } from 'lodash';\nimport { styled, t } from '@superset-ui/core';\nimport { sanitizeFormData } from 'src/explore/exploreUtils/formData';\nimport getControlsForVizType from 'src/utils/getControlsForVizType';\nimport { safeStringify } from 'src/utils/safeStringify';\nimport { Tooltip } from 'src/components/Tooltip';\nimport ModalTrigger from '../ModalTrigger';\nimport TableView from '../TableView';\n\nconst propTypes = {\n  origFormData: PropTypes.object.isRequired,\n  currentFormData: PropTypes.object.isRequired,\n};\n\nconst StyledLabel = styled.span`\n  ${({ theme }) => `\n    font-size: ${theme.typography.sizes.s}px;\n    color: ${theme.colors.grayscale.dark1};\n    background-color: ${theme.colors.alert.base};\n\n    &: hover {\n      background-color: ${theme.colors.alert.dark1};\n    }\n  `}\n`;\n\nfunction alterForComparison(value) {\n  // Considering `[]`, `{}`, `null` and `undefined` as identical\n  // for this purpose\n  if (value === undefined || value === null || value === '') {\n    return null;\n  }\n  if (typeof value === 'object') {\n    if (Array.isArray(value) && value.length === 0) {\n      return null;\n    }\n    const keys = Object.keys(value);\n    if (keys && keys.length === 0) {\n      return null;\n    }\n  }\n  return value;\n}\n\nexport default class AlteredSliceTag extends React.Component {\n  constructor(props) {\n    super(props);\n    const diffs = this.getDiffs(props);\n    const controlsMap = getControlsForVizType(this.props.origFormData.viz_type);\n    const rows = this.getRowsFromDiffs(diffs, controlsMap);\n\n    this.state = { rows, hasDiffs: !isEmpty(diffs), controlsMap };\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    // Update differences if need be\n    if (isEqual(this.props, newProps)) {\n      return;\n    }\n    const diffs = this.getDiffs(newProps);\n    this.setState(prevState => ({\n      rows: this.getRowsFromDiffs(diffs, prevState.controlsMap),\n      hasDiffs: !isEmpty(diffs),\n    }));\n  }\n\n  getRowsFromDiffs(diffs, controlsMap) {\n    return Object.entries(diffs).map(([key, diff]) => ({\n      control: (controlsMap[key] && controlsMap[key].label) || key,\n      before: this.formatValue(diff.before, key, controlsMap),\n      after: this.formatValue(diff.after, key, controlsMap),\n    }));\n  }\n\n  getDiffs(props) {\n    // Returns all properties that differ in the\n    // current form data and the saved form data\n    const ofd = sanitizeFormData(props.origFormData);\n    const cfd = sanitizeFormData(props.currentFormData);\n\n    const fdKeys = Object.keys(cfd);\n    const diffs = {};\n    fdKeys.forEach(fdKey => {\n      if (!ofd[fdKey] && !cfd[fdKey]) {\n        return;\n      }\n      if (['filters', 'having', 'having_filters', 'where'].includes(fdKey)) {\n        return;\n      }\n      if (!this.isEqualish(ofd[fdKey], cfd[fdKey])) {\n        diffs[fdKey] = { before: ofd[fdKey], after: cfd[fdKey] };\n      }\n    });\n    return diffs;\n  }\n\n  isEqualish(val1, val2) {\n    return isEqual(alterForComparison(val1), alterForComparison(val2));\n  }\n\n  formatValue(value, key, controlsMap) {\n    // Format display value based on the control type\n    // or the value type\n    if (value === undefined) {\n      return 'N/A';\n    }\n    if (value === null) {\n      return 'null';\n    }\n    if (controlsMap[key]?.type === 'AdhocFilterControl') {\n      if (!value.length) {\n        return '[]';\n      }\n      return value\n        .map(v => {\n          const filterVal =\n            v.comparator && v.comparator.constructor === Array\n              ? `[${v.comparator.join(', ')}]`\n              : v.comparator;\n          return `${v.subject} ${v.operator} ${filterVal}`;\n        })\n        .join(', ');\n    }\n    if (controlsMap[key]?.type === 'BoundsControl') {\n      return `Min: ${value[0]}, Max: ${value[1]}`;\n    }\n    if (controlsMap[key]?.type === 'CollectionControl') {\n      return value.map(v => safeStringify(v)).join(', ');\n    }\n    if (\n      controlsMap[key]?.type === 'MetricsControl' &&\n      value.constructor === Array\n    ) {\n      const formattedValue = value.map(v => v?.label ?? v);\n      return formattedValue.length ? formattedValue.join(', ') : '[]';\n    }\n    if (typeof value === 'boolean') {\n      return value ? 'true' : 'false';\n    }\n    if (value.constructor === Array) {\n      const formattedValue = value.map(v => v?.label ?? v);\n      return formattedValue.length ? formattedValue.join(', ') : '[]';\n    }\n    if (typeof value === 'string' || typeof value === 'number') {\n      return value;\n    }\n    return safeStringify(value);\n  }\n\n  renderModalBody() {\n    const columns = [\n      {\n        accessor: 'control',\n        Header: 'Control',\n      },\n      {\n        accessor: 'before',\n        Header: 'Before',\n      },\n      {\n        accessor: 'after',\n        Header: 'After',\n      },\n    ];\n    // set the wrap text in the specific columns.\n    const columnsForWrapText = ['Control', 'Before', 'After'];\n\n    return (\n      <TableView\n        columns={columns}\n        data={this.state.rows}\n        pageSize={50}\n        className=\"table-condensed\"\n        columnsForWrapText={columnsForWrapText}\n      />\n    );\n  }\n\n  renderTriggerNode() {\n    return (\n      <Tooltip id=\"difference-tooltip\" title={t('Click to see difference')}>\n        <StyledLabel className=\"label\">{t('Altered')}</StyledLabel>\n      </Tooltip>\n    );\n  }\n\n  render() {\n    // Return nothing if there are no differences\n    if (!this.state.hasDiffs) {\n      return null;\n    }\n    // Render the label-warning 'Altered' tag which the user may\n    // click to open a modal containing a table summarizing the\n    // differences in the slice\n    return (\n      <ModalTrigger\n        triggerNode={this.renderTriggerNode()}\n        modalTitle={t('Chart changes')}\n        modalBody={this.renderModalBody()}\n        responsive\n      />\n    );\n  }\n}\n\nAlteredSliceTag.propTypes = propTypes;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { Tooltip } from 'src/components/Tooltip';\nimport {\n  CategoricalColorNamespace,\n  css,\n  SupersetClient,\n  t,\n} from '@superset-ui/core';\nimport { toggleActive, deleteActiveReport } from 'src/reports/actions/reports';\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\nimport AlteredSliceTag from 'src/components/AlteredSliceTag';\nimport Button from 'src/components/Button';\nimport Icons from 'src/components/Icons';\nimport PropertiesModal from 'src/explore/components/PropertiesModal';\nimport { sliceUpdated } from 'src/explore/actions/exploreActions';\nimport { PageHeaderWithActions } from 'src/components/PageHeaderWithActions';\nimport { useExploreAdditionalActionsMenu } from '../useExploreAdditionalActionsMenu';\n\nconst propTypes = {\n  actions: PropTypes.object.isRequired,\n  canOverwrite: PropTypes.bool.isRequired,\n  canDownload: PropTypes.bool.isRequired,\n  dashboardId: PropTypes.number,\n  isStarred: PropTypes.bool.isRequired,\n  slice: PropTypes.object,\n  sliceName: PropTypes.string,\n  table_name: PropTypes.string,\n  formData: PropTypes.object,\n  ownState: PropTypes.object,\n  timeout: PropTypes.number,\n  chart: chartPropShape,\n  saveDisabled: PropTypes.bool,\n};\n\nconst saveButtonStyles = theme => css`\n  color: ${theme.colors.primary.dark2};\n  & > span[role='img'] {\n    margin-right: 0;\n  }\n`;\n\nexport const ExploreChartHeader = ({\n  dashboardId,\n  slice,\n  actions,\n  formData,\n  ownState,\n  chart,\n  user,\n  canOverwrite,\n  canDownload,\n  isStarred,\n  sliceUpdated,\n  sliceName,\n  onSaveChart,\n  saveDisabled,\n}) => {\n  const { latestQueryFormData, sliceFormData } = chart;\n  const [isPropertiesModalOpen, setIsPropertiesModalOpen] = useState(false);\n\n  const fetchChartDashboardData = async () => {\n    await SupersetClient.get({\n      endpoint: `/api/v1/chart/${slice.slice_id}`,\n    })\n      .then(res => {\n        const response = res?.json?.result;\n        if (response && response.dashboards && response.dashboards.length) {\n          const { dashboards } = response;\n          const dashboard =\n            dashboardId &&\n            dashboards.length &&\n            dashboards.find(d => d.id === dashboardId);\n\n          if (dashboard && dashboard.json_metadata) {\n            // setting the chart to use the dashboard custom label colors if any\n            const metadata = JSON.parse(dashboard.json_metadata);\n            const sharedLabelColors = metadata.shared_label_colors || {};\n            const customLabelColors = metadata.label_colors || {};\n            const mergedLabelColors = {\n              ...sharedLabelColors,\n              ...customLabelColors,\n            };\n\n            const categoricalNamespace =\n              CategoricalColorNamespace.getNamespace();\n\n            Object.keys(mergedLabelColors).forEach(label => {\n              categoricalNamespace.setColor(\n                label,\n                mergedLabelColors[label],\n                metadata.color_scheme,\n              );\n            });\n          }\n        }\n      })\n      .catch(() => {});\n  };\n\n  useEffect(() => {\n    if (dashboardId) {\n      fetchChartDashboardData();\n    }\n  }, []);\n\n  const openPropertiesModal = () => {\n    setIsPropertiesModalOpen(true);\n  };\n\n  const closePropertiesModal = () => {\n    setIsPropertiesModalOpen(false);\n  };\n\n  const [menu, isDropdownVisible, setIsDropdownVisible] =\n    useExploreAdditionalActionsMenu(\n      latestQueryFormData,\n      canDownload,\n      slice,\n      actions.redirectSQLLab,\n      openPropertiesModal,\n      ownState,\n    );\n\n  const oldSliceName = slice?.slice_name;\n  return (\n    <>\n      <PageHeaderWithActions\n        editableTitleProps={{\n          title: sliceName,\n          canEdit:\n            !slice ||\n            canOverwrite ||\n            (slice?.owners || []).includes(user?.userId),\n          onSave: actions.updateChartTitle,\n          placeholder: t('Add the name of the chart'),\n          label: t('Chart title'),\n        }}\n        showTitlePanelItems={!!slice}\n        certificatiedBadgeProps={{\n          certifiedBy: slice?.certified_by,\n          details: slice?.certification_details,\n        }}\n        showFaveStar={!!user?.userId}\n        faveStarProps={{\n          itemId: slice?.slice_id,\n          fetchFaveStar: actions.fetchFaveStar,\n          saveFaveStar: actions.saveFaveStar,\n          isStarred,\n          showTooltip: true,\n        }}\n        titlePanelAdditionalItems={\n          sliceFormData ? (\n            <AlteredSliceTag\n              className=\"altered\"\n              origFormData={{\n                ...sliceFormData,\n                chartTitle: oldSliceName,\n              }}\n              currentFormData={{ ...formData, chartTitle: sliceName }}\n            />\n          ) : null\n        }\n        rightPanelAdditionalItems={\n          <Tooltip\n            title={\n              saveDisabled\n                ? t('Add required control values to save chart')\n                : null\n            }\n          >\n            {/* needed to wrap button in a div - antd tooltip doesn't work with disabled button */}\n            <div>\n              <Button\n                buttonStyle=\"secondary\"\n                onClick={onSaveChart}\n                disabled={saveDisabled}\n                data-test=\"query-save-button\"\n                css={saveButtonStyles}\n              >\n                <Icons.SaveOutlined iconSize=\"l\" />\n                {t('Save')}\n              </Button>\n            </div>\n          </Tooltip>\n        }\n        additionalActionsMenu={menu}\n        menuDropdownProps={{\n          visible: isDropdownVisible,\n          onVisibleChange: setIsDropdownVisible,\n        }}\n      />\n      {isPropertiesModalOpen && (\n        <PropertiesModal\n          show={isPropertiesModalOpen}\n          onHide={closePropertiesModal}\n          onSave={sliceUpdated}\n          slice={slice}\n        />\n      )}\n    </>\n  );\n};\n\nExploreChartHeader.propTypes = propTypes;\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    { sliceUpdated, toggleActive, deleteActiveReport },\n    dispatch,\n  );\n}\n\nexport default connect(null, mapDispatchToProps)(ExploreChartHeader);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint camelcase: 0 */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { styled, t, css, useTheme, logging } from '@superset-ui/core';\nimport { debounce, pick } from 'lodash';\nimport { Resizable } from 're-resizable';\nimport { useChangeEffect } from 'src/hooks/useChangeEffect';\nimport { usePluginContext } from 'src/components/DynamicPlugins';\nimport { Global } from '@emotion/react';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { usePrevious } from 'src/hooks/usePrevious';\nimport { useComponentDidMount } from 'src/hooks/useComponentDidMount';\nimport Icons from 'src/components/Icons';\nimport {\n  getItem,\n  setItem,\n  LocalStorageKeys,\n} from 'src/utils/localStorageHelpers';\nimport { RESERVED_CHART_URL_PARAMS, URL_PARAMS } from 'src/constants';\nimport { getUrlParam } from 'src/utils/urlUtils';\nimport cx from 'classnames';\nimport * as chartActions from 'src/components/Chart/chartAction';\nimport { fetchDatasourceMetadata } from 'src/dashboard/actions/datasources';\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\nimport { mergeExtraFormData } from 'src/dashboard/components/nativeFilters/utils';\nimport { postFormData, putFormData } from 'src/explore/exploreUtils/formData';\nimport { useTabId } from 'src/hooks/useTabId';\nimport ExploreChartPanel from '../ExploreChartPanel';\nimport ConnectedControlPanelsContainer from '../ControlPanelsContainer';\nimport SaveModal from '../SaveModal';\nimport DataSourcePanel from '../DatasourcePanel';\nimport { mountExploreUrl } from '../../exploreUtils';\nimport { areObjectsEqual } from '../../../reduxUtils';\nimport { getFormDataFromControls } from '../../controlUtils';\nimport * as exploreActions from '../../actions/exploreActions';\nimport * as saveModalActions from '../../actions/saveModalActions';\nimport * as logActions from '../../../logger/actions';\nimport {\n  LOG_ACTIONS_MOUNT_EXPLORER,\n  LOG_ACTIONS_CHANGE_EXPLORE_CONTROLS,\n} from '../../../logger/LogUtils';\nimport ConnectedExploreChartHeader from '../ExploreChartHeader';\n\nconst propTypes = {\n  ...ExploreChartPanel.propTypes,\n  actions: PropTypes.object.isRequired,\n  datasource_type: PropTypes.string.isRequired,\n  dashboardId: PropTypes.number,\n  isDatasourceMetaLoading: PropTypes.bool.isRequired,\n  chart: chartPropShape.isRequired,\n  slice: PropTypes.object,\n  sliceName: PropTypes.string,\n  controls: PropTypes.object.isRequired,\n  forcedHeight: PropTypes.string,\n  form_data: PropTypes.object.isRequired,\n  standalone: PropTypes.number.isRequired,\n  force: PropTypes.bool,\n  timeout: PropTypes.number,\n  impressionId: PropTypes.string,\n  vizType: PropTypes.string,\n};\n\nconst ExploreContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nconst ExplorePanelContainer = styled.div`\n  ${({ theme }) => css`\n    background: ${theme.colors.grayscale.light5};\n    text-align: left;\n    position: relative;\n    width: 100%;\n    max-height: 100%;\n    min-height: 0;\n    display: flex;\n    flex: 1;\n    flex-wrap: nowrap;\n    border-top: 1px solid ${theme.colors.grayscale.light2};\n    .explore-column {\n      display: flex;\n      flex-direction: column;\n      padding: ${theme.gridUnit * 2}px 0;\n      max-height: 100%;\n    }\n    .data-source-selection {\n      background-color: ${theme.colors.grayscale.light5};\n      padding: ${theme.gridUnit * 2}px 0;\n      border-right: 1px solid ${theme.colors.grayscale.light2};\n    }\n    .main-explore-content {\n      flex: 1;\n      min-width: ${theme.gridUnit * 128}px;\n      border-left: 1px solid ${theme.colors.grayscale.light2};\n      padding: 0 ${theme.gridUnit * 4}px;\n      .panel {\n        margin-bottom: 0;\n      }\n    }\n    .controls-column {\n      align-self: flex-start;\n      padding: 0;\n    }\n    .title-container {\n      position: relative;\n      display: flex;\n      flex-direction: row;\n      padding: 0 ${theme.gridUnit * 4}px;\n      justify-content: space-between;\n      .horizontal-text {\n        font-size: ${theme.typography.sizes.s}px;\n      }\n    }\n    .no-show {\n      display: none;\n    }\n    .vertical-text {\n      writing-mode: vertical-rl;\n      text-orientation: mixed;\n    }\n    .sidebar {\n      height: 100%;\n      background-color: ${theme.colors.grayscale.light4};\n      padding: ${theme.gridUnit * 2}px;\n      width: ${theme.gridUnit * 8}px;\n    }\n    .callpase-icon > svg {\n      color: ${theme.colors.primary.base};\n    }\n  `};\n`;\n\nconst updateHistory = debounce(\n  async (\n    formData,\n    datasourceId,\n    datasourceType,\n    isReplace,\n    standalone,\n    force,\n    title,\n    tabId,\n  ) => {\n    const payload = { ...formData };\n    const chartId = formData.slice_id;\n    const additionalParam = {};\n    if (chartId) {\n      additionalParam[URL_PARAMS.sliceId.name] = chartId;\n    } else {\n      additionalParam[URL_PARAMS.datasourceId.name] = datasourceId;\n      additionalParam[URL_PARAMS.datasourceType.name] = datasourceType;\n    }\n\n    const urlParams = payload?.url_params || {};\n    Object.entries(urlParams).forEach(([key, value]) => {\n      if (!RESERVED_CHART_URL_PARAMS.includes(key)) {\n        additionalParam[key] = value;\n      }\n    });\n\n    try {\n      let key;\n      let stateModifier;\n      if (isReplace) {\n        key = await postFormData(\n          datasourceId,\n          datasourceType,\n          formData,\n          chartId,\n          tabId,\n        );\n        stateModifier = 'replaceState';\n      } else {\n        key = getUrlParam(URL_PARAMS.formDataKey);\n        await putFormData(\n          datasourceId,\n          datasourceType,\n          key,\n          formData,\n          chartId,\n          tabId,\n        );\n        stateModifier = 'pushState';\n      }\n      const url = mountExploreUrl(\n        standalone ? URL_PARAMS.standalone.name : null,\n        {\n          [URL_PARAMS.formDataKey.name]: key,\n          ...additionalParam,\n        },\n        force,\n      );\n      window.history[stateModifier](payload, title, url);\n    } catch (e) {\n      logging.warn('Failed at altering browser history', e);\n    }\n  },\n  1000,\n);\n\nfunction ExploreViewContainer(props) {\n  const dynamicPluginContext = usePluginContext();\n  const dynamicPlugin = dynamicPluginContext.dynamicPlugins[props.vizType];\n  const isDynamicPluginLoading = dynamicPlugin && dynamicPlugin.mounting;\n  const wasDynamicPluginLoading = usePrevious(isDynamicPluginLoading);\n\n  /** the state of controls in the previous render */\n  const previousControls = usePrevious(props.controls);\n  /** the state of controls last time a query was triggered */\n  const [lastQueriedControls, setLastQueriedControls] = useState(\n    props.controls,\n  );\n\n  const [showingModal, setShowingModal] = useState(false);\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [shouldForceUpdate, setShouldForceUpdate] = useState(-1);\n  const tabId = useTabId();\n\n  const theme = useTheme();\n\n  const defaultSidebarsWidth = {\n    controls_width: 320,\n    datasource_width: 300,\n  };\n\n  const addHistory = useCallback(\n    async ({ isReplace = false, title } = {}) => {\n      const formData = props.dashboardId\n        ? {\n            ...props.form_data,\n            dashboardId: props.dashboardId,\n          }\n        : props.form_data;\n      const { id: datasourceId, type: datasourceType } = props.datasource;\n\n      updateHistory(\n        formData,\n        datasourceId,\n        datasourceType,\n        isReplace,\n        props.standalone,\n        props.force,\n        title,\n        tabId,\n      );\n    },\n    [\n      props.dashboardId,\n      props.form_data,\n      props.datasource.id,\n      props.datasource.type,\n      props.standalone,\n      props.force,\n      tabId,\n    ],\n  );\n\n  const handlePopstate = useCallback(() => {\n    const formData = window.history.state;\n    if (formData && Object.keys(formData).length) {\n      props.actions.setExploreControls(formData);\n      props.actions.postChartFormData(\n        formData,\n        props.force,\n        props.timeout,\n        props.chart.id,\n      );\n    }\n  }, [props.actions, props.chart.id, props.timeout]);\n\n  const onQuery = useCallback(() => {\n    props.actions.setForceQuery(false);\n    props.actions.triggerQuery(true, props.chart.id);\n    addHistory();\n    setLastQueriedControls(props.controls);\n  }, [props.controls, addHistory, props.actions, props.chart.id]);\n\n  const handleKeydown = useCallback(\n    event => {\n      const controlOrCommand = event.ctrlKey || event.metaKey;\n      if (controlOrCommand) {\n        const isEnter = event.key === 'Enter' || event.keyCode === 13;\n        const isS = event.key === 's' || event.keyCode === 83;\n        if (isEnter) {\n          onQuery();\n        } else if (isS) {\n          if (props.slice) {\n            props.actions\n              .saveSlice(props.form_data, {\n                action: 'overwrite',\n                slice_id: props.slice.slice_id,\n                slice_name: props.slice.slice_name,\n                add_to_dash: 'noSave',\n                goto_dash: false,\n              })\n              .then(({ data }) => {\n                window.location = data.slice.slice_url;\n              });\n          }\n        }\n      }\n    },\n    [onQuery, props.actions, props.form_data, props.slice],\n  );\n\n  function onStop() {\n    if (props.chart && props.chart.queryController) {\n      props.chart.queryController.abort();\n    }\n  }\n\n  function toggleModal() {\n    setShowingModal(!showingModal);\n  }\n\n  function toggleCollapse() {\n    setIsCollapsed(!isCollapsed);\n  }\n\n  useComponentDidMount(() => {\n    props.actions.logEvent(LOG_ACTIONS_MOUNT_EXPLORER);\n  });\n\n  useChangeEffect(tabId, (previous, current) => {\n    if (current) {\n      addHistory({ isReplace: true });\n    }\n  });\n\n  const previousHandlePopstate = usePrevious(handlePopstate);\n  useEffect(() => {\n    if (previousHandlePopstate) {\n      window.removeEventListener('popstate', previousHandlePopstate);\n    }\n    window.addEventListener('popstate', handlePopstate);\n    return () => {\n      window.removeEventListener('popstate', handlePopstate);\n    };\n  }, [handlePopstate, previousHandlePopstate]);\n\n  const previousHandleKeyDown = usePrevious(handleKeydown);\n  useEffect(() => {\n    if (previousHandleKeyDown) {\n      window.removeEventListener('keydown', previousHandleKeyDown);\n    }\n    document.addEventListener('keydown', handleKeydown);\n    return () => {\n      document.removeEventListener('keydown', handleKeydown);\n    };\n  }, [handleKeydown, previousHandleKeyDown]);\n\n  useEffect(() => {\n    if (wasDynamicPluginLoading && !isDynamicPluginLoading) {\n      // reload the controls now that we actually have the control config\n      props.actions.dynamicPluginControlsReady();\n    }\n  }, [isDynamicPluginLoading]);\n\n  useEffect(() => {\n    const hasError = Object.values(props.controls).some(\n      control =>\n        control.validationErrors && control.validationErrors.length > 0,\n    );\n    if (!hasError) {\n      props.actions.triggerQuery(true, props.chart.id);\n    }\n  }, []);\n\n  const reRenderChart = useCallback(\n    controlsChanged => {\n      const newQueryFormData = controlsChanged\n        ? {\n            ...props.chart.latestQueryFormData,\n            ...getFormDataFromControls(pick(props.controls, controlsChanged)),\n          }\n        : getFormDataFromControls(props.controls);\n      props.actions.updateQueryFormData(newQueryFormData, props.chart.id);\n      props.actions.renderTriggered(new Date().getTime(), props.chart.id);\n      addHistory();\n    },\n    [\n      addHistory,\n      props.actions,\n      props.chart.id,\n      props.chart.latestQueryFormData,\n      props.controls,\n    ],\n  );\n\n  // effect to run when controls change\n  useEffect(() => {\n    if (\n      previousControls &&\n      props.chart.latestQueryFormData.viz_type === props.controls.viz_type.value\n    ) {\n      if (\n        props.controls.datasource &&\n        (previousControls.datasource == null ||\n          props.controls.datasource.value !== previousControls.datasource.value)\n      ) {\n        // this should really be handled by actions\n        fetchDatasourceMetadata(props.form_data.datasource, true);\n      }\n\n      const changedControlKeys = Object.keys(props.controls).filter(\n        key =>\n          typeof previousControls[key] !== 'undefined' &&\n          !areObjectsEqual(\n            props.controls[key].value,\n            previousControls[key].value,\n          ),\n      );\n\n      // this should also be handled by the actions that are actually changing the controls\n      const displayControlsChanged = changedControlKeys.filter(\n        key => props.controls[key].renderTrigger,\n      );\n      if (displayControlsChanged.length > 0) {\n        reRenderChart(displayControlsChanged);\n      }\n    }\n  }, [props.controls, props.ownState]);\n\n  const chartIsStale = useMemo(() => {\n    if (lastQueriedControls) {\n      const changedControlKeys = Object.keys(props.controls).filter(\n        key =>\n          typeof lastQueriedControls[key] !== 'undefined' &&\n          !areObjectsEqual(\n            props.controls[key].value,\n            lastQueriedControls[key].value,\n          ),\n      );\n\n      return changedControlKeys.some(\n        key =>\n          !props.controls[key].renderTrigger &&\n          !props.controls[key].dontRefreshOnChange,\n      );\n    }\n    return false;\n  }, [lastQueriedControls, props.controls]);\n\n  useEffect(() => {\n    if (props.ownState !== undefined) {\n      onQuery();\n      reRenderChart();\n    }\n  }, [props.ownState]);\n\n  if (chartIsStale) {\n    props.actions.logEvent(LOG_ACTIONS_CHANGE_EXPLORE_CONTROLS);\n  }\n\n  const errorMessage = useMemo(() => {\n    const controlsWithErrors = Object.values(props.controls).filter(\n      control =>\n        control.validationErrors && control.validationErrors.length > 0,\n    );\n    if (controlsWithErrors.length === 0) {\n      return null;\n    }\n\n    const errorMessages = controlsWithErrors.map(\n      control => control.validationErrors,\n    );\n    const uniqueErrorMessages = [...new Set(errorMessages.flat())];\n\n    const errors = uniqueErrorMessages\n      .map(message => {\n        const matchingLabels = controlsWithErrors\n          .filter(control => control.validationErrors?.includes(message))\n          .map(control => control.label);\n        return [matchingLabels, message];\n      })\n      .map(([labels, message]) => (\n        <div key={message}>\n          {labels.length > 1 ? t('Controls labeled ') : t('Control labeled ')}\n          <strong>{` ${labels.join(', ')}`}</strong>\n          <span>: {message}</span>\n        </div>\n      ));\n\n    let errorMessage;\n    if (errors.length > 0) {\n      errorMessage = <div style={{ textAlign: 'left' }}>{errors}</div>;\n    }\n    return errorMessage;\n  }, [props.controls]);\n\n  function renderChartContainer() {\n    return (\n      <ExploreChartPanel\n        {...props}\n        errorMessage={errorMessage}\n        chartIsStale={chartIsStale}\n        onQuery={onQuery}\n      />\n    );\n  }\n\n  function getSidebarWidths(key) {\n    return getItem(key, defaultSidebarsWidth[key]);\n  }\n\n  function setSidebarWidths(key, dimension) {\n    const newDimension = Number(getSidebarWidths(key)) + dimension.width;\n    setItem(key, newDimension);\n  }\n\n  if (props.standalone) {\n    return renderChartContainer();\n  }\n\n  return (\n    <ExploreContainer>\n      <ConnectedExploreChartHeader\n        actions={props.actions}\n        canOverwrite={props.can_overwrite}\n        canDownload={props.can_download}\n        dashboardId={props.dashboardId}\n        isStarred={props.isStarred}\n        slice={props.slice}\n        sliceName={props.sliceName}\n        table_name={props.table_name}\n        formData={props.form_data}\n        chart={props.chart}\n        ownState={props.ownState}\n        user={props.user}\n        reports={props.reports}\n        onSaveChart={toggleModal}\n        saveDisabled={errorMessage || props.chart.chartStatus === 'loading'}\n      />\n      <ExplorePanelContainer id=\"explore-container\">\n        <Global\n          styles={css`\n            .navbar {\n              margin-bottom: 0;\n            }\n            body {\n              height: 100vh;\n              max-height: 100vh;\n              overflow: hidden;\n            }\n            #app-menu,\n            #app {\n              flex: 1 1 auto;\n            }\n            #app {\n              flex-basis: 100%;\n              overflow: hidden;\n              height: 100%;\n            }\n            #app-menu {\n              flex-shrink: 0;\n            }\n          `}\n        />\n        {showingModal && (\n          <SaveModal\n            onHide={toggleModal}\n            actions={props.actions}\n            form_data={props.form_data}\n            sliceName={props.sliceName}\n            dashboardId={props.dashboardId}\n          />\n        )}\n        <Resizable\n          onResizeStop={(evt, direction, ref, d) => {\n            setShouldForceUpdate(d?.width);\n            setSidebarWidths(LocalStorageKeys.datasource_width, d);\n          }}\n          defaultSize={{\n            width: getSidebarWidths(LocalStorageKeys.datasource_width),\n            height: '100%',\n          }}\n          minWidth={defaultSidebarsWidth[LocalStorageKeys.datasource_width]}\n          maxWidth=\"33%\"\n          enable={{ right: true }}\n          className={\n            isCollapsed ? 'no-show' : 'explore-column data-source-selection'\n          }\n        >\n          <div className=\"title-container\">\n            <span className=\"horizontal-text\">{t('Dataset')}</span>\n            <span\n              role=\"button\"\n              tabIndex={0}\n              className=\"action-button\"\n              onClick={toggleCollapse}\n            >\n              <Icons.Expand\n                className=\"collapse-icon\"\n                iconColor={theme.colors.primary.base}\n                iconSize=\"l\"\n              />\n            </span>\n          </div>\n          <DataSourcePanel\n            datasource={props.datasource}\n            controls={props.controls}\n            actions={props.actions}\n            shouldForceUpdate={shouldForceUpdate}\n            user={props.user}\n          />\n        </Resizable>\n        {isCollapsed ? (\n          <div\n            className=\"sidebar\"\n            onClick={toggleCollapse}\n            data-test=\"open-datasource-tab\"\n            role=\"button\"\n            tabIndex={0}\n          >\n            <span role=\"button\" tabIndex={0} className=\"action-button\">\n              <Tooltip title={t('Open Datasource tab')}>\n                <Icons.Collapse\n                  className=\"collapse-icon\"\n                  iconColor={theme.colors.primary.base}\n                  iconSize=\"l\"\n                />\n              </Tooltip>\n            </span>\n            <Icons.DatasetPhysical\n              css={{ marginTop: theme.gridUnit * 2 }}\n              iconSize=\"l\"\n              iconColor={theme.colors.grayscale.base}\n            />\n          </div>\n        ) : null}\n        <Resizable\n          onResizeStop={(evt, direction, ref, d) =>\n            setSidebarWidths(LocalStorageKeys.controls_width, d)\n          }\n          defaultSize={{\n            width: getSidebarWidths(LocalStorageKeys.controls_width),\n            height: '100%',\n          }}\n          minWidth={defaultSidebarsWidth[LocalStorageKeys.controls_width]}\n          maxWidth=\"33%\"\n          enable={{ right: true }}\n          className=\"col-sm-3 explore-column controls-column\"\n        >\n          <ConnectedControlPanelsContainer\n            exploreState={props.exploreState}\n            actions={props.actions}\n            form_data={props.form_data}\n            controls={props.controls}\n            chart={props.chart}\n            datasource_type={props.datasource_type}\n            isDatasourceMetaLoading={props.isDatasourceMetaLoading}\n            onQuery={onQuery}\n            onStop={onStop}\n            canStopQuery={props.can_add || props.can_overwrite}\n            errorMessage={errorMessage}\n            chartIsStale={chartIsStale}\n          />\n        </Resizable>\n        <div\n          className={cx(\n            'main-explore-content',\n            isCollapsed ? 'col-sm-9' : 'col-sm-7',\n          )}\n        >\n          {renderChartContainer()}\n        </div>\n      </ExplorePanelContainer>\n    </ExploreContainer>\n  );\n}\n\nExploreViewContainer.propTypes = propTypes;\n\nfunction mapStateToProps(state) {\n  const { explore, charts, impressionId, dataMask, reports } = state;\n  const form_data = getFormDataFromControls(explore.controls);\n  form_data.extra_form_data = mergeExtraFormData(\n    { ...form_data.extra_form_data },\n    {\n      ...dataMask[form_data.slice_id ?? 0]?.ownState, // 0 - unsaved chart\n    },\n  );\n  const chartKey = Object.keys(charts)[0];\n  const chart = charts[chartKey];\n\n  let dashboardId = Number(explore.form_data?.dashboardId);\n  if (Number.isNaN(dashboardId)) {\n    dashboardId = undefined;\n  }\n\n  return {\n    isDatasourceMetaLoading: explore.isDatasourceMetaLoading,\n    datasource: explore.datasource,\n    datasource_type: explore.datasource.type,\n    datasourceId: explore.datasource_id,\n    dashboardId,\n    controls: explore.controls,\n    can_overwrite: !!explore.can_overwrite,\n    can_add: !!explore.can_add,\n    can_download: !!explore.can_download,\n    column_formats: explore.datasource\n      ? explore.datasource.column_formats\n      : null,\n    containerId: explore.slice\n      ? `slice-container-${explore.slice.slice_id}`\n      : 'slice-container',\n    isStarred: explore.isStarred,\n    slice: explore.slice,\n    sliceName: explore.sliceName,\n    triggerRender: explore.triggerRender,\n    form_data,\n    table_name: form_data.datasource_name,\n    vizType: form_data.viz_type,\n    standalone: explore.standalone,\n    force: explore.force,\n    forcedHeight: explore.forced_height,\n    chart,\n    timeout: explore.common.conf.SUPERSET_WEBSERVER_TIMEOUT,\n    ownState: dataMask[form_data.slice_id ?? 0]?.ownState, // 0 - unsaved chart\n    impressionId,\n    user: explore.user,\n    exploreState: explore,\n    reports,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  const actions = {\n    ...exploreActions,\n    ...saveModalActions,\n    ...chartActions,\n    ...logActions,\n  };\n  return {\n    actions: bindActionCreators(actions, dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ExploreViewContainer);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport { Provider } from 'react-redux';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { ThemeProvider } from '@superset-ui/core';\nimport { GlobalStyles } from 'src/GlobalStyles';\nimport { DynamicPluginProvider } from 'src/components/DynamicPlugins';\nimport ToastContainer from 'src/components/MessageToasts/ToastContainer';\nimport setupApp from 'src/setup/setupApp';\nimport setupPlugins from 'src/setup/setupPlugins';\nimport './main.less';\nimport '../assets/stylesheets/reactable-pagination.less';\nimport { theme } from 'src/preamble';\nimport ExploreViewContainer from './components/ExploreViewContainer';\n\nsetupApp();\nsetupPlugins();\n\nconst App = ({ store }) => (\n  <Provider store={store}>\n    <DndProvider backend={HTML5Backend}>\n      <ThemeProvider theme={theme}>\n        <GlobalStyles />\n        <DynamicPluginProvider>\n          <ExploreViewContainer />\n          <ToastContainer />\n        </DynamicPluginProvider>\n      </ThemeProvider>\n    </DndProvider>\n  </Provider>\n);\n\nexport default hot(App);\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from '../middleware/loggerMiddleware';\nimport { initFeatureFlags } from '../featureFlags';\nimport { initEnhancer } from '../reduxUtils';\nimport getInitialState from './reducers/getInitialState';\nimport rootReducer from './reducers/index';\nimport App from './App';\n\nconst exploreViewContainer = document.getElementById('app');\nconst bootstrapData = JSON.parse(\n  exploreViewContainer.getAttribute('data-bootstrap'),\n);\ninitFeatureFlags(bootstrapData.common.feature_flags);\nconst initState = getInitialState(bootstrapData);\nconst store = createStore(\n  rootReducer,\n  initState,\n  compose(applyMiddleware(thunk, logger), initEnhancer(false)),\n);\n\nReactDOM.render(<App store={store} />, document.getElementById('app'));\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport shortid from 'shortid';\nimport { DatasourceType, JsonObject, QueryFormData } from '@superset-ui/core';\nimport { ControlStateMapping, Dataset } from '@superset-ui/chart-controls';\nimport {\n  CommonBootstrapData,\n  UserWithPermissionsAndRoles,\n} from 'src/types/bootstrapTypes';\nimport getToastsFromPyFlashMessages from 'src/components/MessageToasts/getToastsFromPyFlashMessages';\n\nimport { ChartState, Slice } from 'src/explore/types';\nimport { getChartKey } from 'src/explore/exploreUtils';\nimport { getControlsState } from 'src/explore/store';\nimport {\n  getFormDataFromControls,\n  applyMapStateToPropsToControl,\n} from 'src/explore/controlUtils';\n\nexport interface ExplorePageBootstrapData extends JsonObject {\n  can_add: boolean;\n  can_download: boolean;\n  can_overwrite: boolean;\n  common: CommonBootstrapData;\n  datasource: Dataset;\n  datasource_id: number;\n  datasource_type: DatasourceType;\n  forced_height: string | null;\n  form_data: QueryFormData;\n  slice: Slice | null;\n  standalone: boolean;\n  force: boolean;\n  user: UserWithPermissionsAndRoles;\n}\n\nexport default function getInitialState(\n  bootstrapData: ExplorePageBootstrapData,\n) {\n  const { form_data: initialFormData } = bootstrapData;\n  const { slice } = bootstrapData;\n  const sliceName = slice ? slice.slice_name : null;\n\n  const exploreState = {\n    // note this will add `form_data` to state,\n    // which will be manipulatable by future reducers.\n    ...bootstrapData,\n    sliceName,\n    common: {\n      flash_messages: bootstrapData.common.flash_messages,\n      conf: bootstrapData.common.conf,\n    },\n    isDatasourceMetaLoading: false,\n    isStarred: false,\n    // Initial control state will skip `control.mapStateToProps`\n    // because `bootstrapData.controls` is undefined.\n    controls: getControlsState(\n      bootstrapData,\n      initialFormData,\n    ) as ControlStateMapping,\n    controlsTransferred: [],\n  };\n\n  // apply initial mapStateToProps for all controls, must execute AFTER\n  // bootstrapState has initialized `controls`. Order of execution is not\n  // guaranteed, so controls shouldn't rely on the each other's mapped state.\n  Object.entries(exploreState.controls).forEach(([key, controlState]) => {\n    exploreState.controls[key] = applyMapStateToPropsToControl(\n      controlState,\n      exploreState,\n    );\n  });\n\n  const sliceFormData = slice\n    ? getFormDataFromControls(getControlsState(bootstrapData, slice.form_data))\n    : null;\n\n  const chartKey: number = getChartKey(bootstrapData);\n  const chart: ChartState = {\n    id: chartKey,\n    chartAlert: null,\n    chartStatus: null,\n    chartStackTrace: null,\n    chartUpdateEndTime: null,\n    chartUpdateStartTime: 0,\n    latestQueryFormData: getFormDataFromControls(exploreState.controls),\n    sliceFormData,\n    queryController: null,\n    queriesResponse: null,\n    triggerQuery: false,\n    lastRendered: 0,\n  };\n\n  return {\n    charts: {\n      [chartKey]: chart,\n    },\n    saveModal: {\n      dashboards: [],\n      saveModalAlert: null,\n    },\n    explore: exploreState,\n    impressionId: shortid.generate(),\n    messageToasts: getToastsFromPyFlashMessages(\n      (bootstrapData.common || {}).flash_messages || [],\n    ),\n  };\n}\n\nexport type ExplorePageState = ReturnType<typeof getInitialState>;\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint camelcase: 0 */\nimport { t, SupersetClient } from '@superset-ui/core';\nimport rison from 'rison';\nimport {\n  addDangerToast,\n  addSuccessToast,\n} from 'src/components/MessageToasts/actions';\n\nexport const SET_REPORT = 'SET_REPORT';\nexport function setReport(report, resourceId, creationMethod, filterField) {\n  return { type: SET_REPORT, report, resourceId, creationMethod, filterField };\n}\n\nexport function fetchUISpecificReport({\n  userId,\n  filterField,\n  creationMethod,\n  resourceId,\n}) {\n  const queryParams = rison.encode({\n    filters: [\n      {\n        col: filterField,\n        opr: 'eq',\n        value: resourceId,\n      },\n      {\n        col: 'creation_method',\n        opr: 'eq',\n        value: creationMethod,\n      },\n      {\n        col: 'created_by',\n        opr: 'rel_o_m',\n        value: userId,\n      },\n    ],\n  });\n  return function fetchUISpecificReportThunk(dispatch) {\n    return SupersetClient.get({\n      endpoint: `/api/v1/report/?q=${queryParams}`,\n    })\n      .then(({ json }) => {\n        dispatch(setReport(json, resourceId, creationMethod, filterField));\n      })\n      .catch(() =>\n        dispatch(\n          addDangerToast(\n            t(\n              'There was an issue fetching reports attached to this dashboard.',\n            ),\n          ),\n        ),\n      );\n  };\n}\n\nconst structureFetchAction = (dispatch, getState) => {\n  const state = getState();\n  const { user, dashboardInfo, charts, explore } = state;\n  if (dashboardInfo) {\n    dispatch(\n      fetchUISpecificReport({\n        userId: user.userId,\n        filterField: 'dashboard_id',\n        creationMethod: 'dashboards',\n        resourceId: dashboardInfo.id,\n      }),\n    );\n  } else {\n    const [chartArr] = Object.keys(charts);\n    dispatch(\n      fetchUISpecificReport({\n        userId: explore.user.userId,\n        filterField: 'chart_id',\n        creationMethod: 'charts',\n        resourceId: charts[chartArr].id,\n      }),\n    );\n  }\n};\n\nexport const ADD_REPORT = 'ADD_REPORT';\n\nexport const addReport = report => dispatch =>\n  SupersetClient.post({\n    endpoint: `/api/v1/report/`,\n    jsonPayload: report,\n  }).then(({ json }) => {\n    dispatch({ type: ADD_REPORT, json });\n    dispatch(addSuccessToast(t('The report has been created')));\n  });\n\nexport const EDIT_REPORT = 'EDIT_REPORT';\n\nexport const editReport = (id, report) => dispatch =>\n  SupersetClient.put({\n    endpoint: `/api/v1/report/${id}`,\n    jsonPayload: report,\n  }).then(({ json }) => {\n    dispatch({ type: EDIT_REPORT, json });\n    dispatch(addSuccessToast(t('Report updated')));\n  });\n\nexport function toggleActive(report, isActive) {\n  return function toggleActiveThunk(dispatch) {\n    return SupersetClient.put({\n      endpoint: encodeURI(`/api/v1/report/${report.id}`),\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        active: isActive,\n      }),\n    })\n      .catch(() => {\n        dispatch(\n          addDangerToast(\n            t('We were unable to active or deactivate this report.'),\n          ),\n        );\n      })\n      .finally(() => {\n        dispatch(structureFetchAction);\n      });\n  };\n}\n\nexport function deleteActiveReport(report) {\n  return function deleteActiveReportThunk(dispatch) {\n    return SupersetClient.delete({\n      endpoint: encodeURI(`/api/v1/report/${report.id}`),\n    })\n      .catch(() => {\n        dispatch(addDangerToast(t('Your report could not be deleted')));\n      })\n      .finally(() => {\n        dispatch(structureFetchAction);\n        dispatch(addSuccessToast(t('Deleted: %s', report.name)));\n      });\n  };\n}\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport removeAccents from 'remove-accents';\n\nvar rankings = {\n  CASE_SENSITIVE_EQUAL: 7,\n  EQUAL: 6,\n  STARTS_WITH: 5,\n  WORD_STARTS_WITH: 4,\n  CONTAINS: 3,\n  ACRONYM: 2,\n  MATCHES: 1,\n  NO_MATCH: 0\n};\nmatchSorter.rankings = rankings;\n\nvar defaultBaseSortFn = function defaultBaseSortFn(a, b) {\n  return String(a.rankedValue).localeCompare(String(b.rankedValue));\n};\n/**\n * Takes an array of items and a value and returns a new array with the items that match the given value\n * @param {Array} items - the items to sort\n * @param {String} value - the value to use for ranking\n * @param {Object} options - Some options to configure the sorter\n * @return {Array} - the new sorted array\n */\n\n\nfunction matchSorter(items, value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      keys = _options.keys,\n      _options$threshold = _options.threshold,\n      threshold = _options$threshold === void 0 ? rankings.MATCHES : _options$threshold,\n      _options$baseSort = _options.baseSort,\n      baseSort = _options$baseSort === void 0 ? defaultBaseSortFn : _options$baseSort,\n      _options$sorter = _options.sorter,\n      sorter = _options$sorter === void 0 ? function (matchedItems) {\n    return matchedItems.sort(function (a, b) {\n      return sortRankedValues(a, b, baseSort);\n    });\n  } : _options$sorter;\n  var matchedItems = items.reduce(reduceItemsToRanked, []);\n  return sorter(matchedItems).map(function (_ref) {\n    var item = _ref.item;\n    return item;\n  });\n\n  function reduceItemsToRanked(matches, item, index) {\n    var rankingInfo = getHighestRanking(item, keys, value, options);\n    var rank = rankingInfo.rank,\n        _rankingInfo$keyThres = rankingInfo.keyThreshold,\n        keyThreshold = _rankingInfo$keyThres === void 0 ? threshold : _rankingInfo$keyThres;\n\n    if (rank >= keyThreshold) {\n      matches.push(_extends({}, rankingInfo, {\n        item: item,\n        index: index\n      }));\n    }\n\n    return matches;\n  }\n}\n/**\n * Gets the highest ranking for value for the given item based on its values for the given keys\n * @param {*} item - the item to rank\n * @param {Array} keys - the keys to get values from the item for the ranking\n * @param {String} value - the value to rank against\n * @param {Object} options - options to control the ranking\n * @return {{rank: Number, keyIndex: Number, keyThreshold: Number}} - the highest ranking\n */\n\n\nfunction getHighestRanking(item, keys, value, options) {\n  if (!keys) {\n    // if keys is not specified, then we assume the item given is ready to be matched\n    var stringItem = item;\n    return {\n      // ends up being duplicate of 'item' in matches but consistent\n      rankedValue: stringItem,\n      rank: getMatchRanking(stringItem, value, options),\n      keyIndex: -1,\n      keyThreshold: options.threshold\n    };\n  }\n\n  var valuesToRank = getAllValuesToRank(item, keys);\n  return valuesToRank.reduce(function (_ref2, _ref3, i) {\n    var rank = _ref2.rank,\n        rankedValue = _ref2.rankedValue,\n        keyIndex = _ref2.keyIndex,\n        keyThreshold = _ref2.keyThreshold;\n    var itemValue = _ref3.itemValue,\n        attributes = _ref3.attributes;\n    var newRank = getMatchRanking(itemValue, value, options);\n    var newRankedValue = rankedValue;\n    var minRanking = attributes.minRanking,\n        maxRanking = attributes.maxRanking,\n        threshold = attributes.threshold;\n\n    if (newRank < minRanking && newRank >= rankings.MATCHES) {\n      newRank = minRanking;\n    } else if (newRank > maxRanking) {\n      newRank = maxRanking;\n    }\n\n    if (newRank > rank) {\n      rank = newRank;\n      keyIndex = i;\n      keyThreshold = threshold;\n      newRankedValue = itemValue;\n    }\n\n    return {\n      rankedValue: newRankedValue,\n      rank: rank,\n      keyIndex: keyIndex,\n      keyThreshold: keyThreshold\n    };\n  }, {\n    rankedValue: item,\n    rank: rankings.NO_MATCH,\n    keyIndex: -1,\n    keyThreshold: options.threshold\n  });\n}\n/**\n * Gives a rankings score based on how well the two strings match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @param {Object} options - options for the match (like keepDiacritics for comparison)\n * @returns {Number} the ranking for how well stringToRank matches testString\n */\n\n\nfunction getMatchRanking(testString, stringToRank, options) {\n  testString = prepareValueForComparison(testString, options);\n  stringToRank = prepareValueForComparison(stringToRank, options); // too long\n\n  if (stringToRank.length > testString.length) {\n    return rankings.NO_MATCH;\n  } // case sensitive equals\n\n\n  if (testString === stringToRank) {\n    return rankings.CASE_SENSITIVE_EQUAL;\n  } // Lower casing before further comparison\n\n\n  testString = testString.toLowerCase();\n  stringToRank = stringToRank.toLowerCase(); // case insensitive equals\n\n  if (testString === stringToRank) {\n    return rankings.EQUAL;\n  } // starts with\n\n\n  if (testString.startsWith(stringToRank)) {\n    return rankings.STARTS_WITH;\n  } // word starts with\n\n\n  if (testString.includes(\" \" + stringToRank)) {\n    return rankings.WORD_STARTS_WITH;\n  } // contains\n\n\n  if (testString.includes(stringToRank)) {\n    return rankings.CONTAINS;\n  } else if (stringToRank.length === 1) {\n    // If the only character in the given stringToRank\n    //   isn't even contained in the testString, then\n    //   it's definitely not a match.\n    return rankings.NO_MATCH;\n  } // acronym\n\n\n  if (getAcronym(testString).includes(stringToRank)) {\n    return rankings.ACRONYM;\n  } // will return a number between rankings.MATCHES and\n  // rankings.MATCHES + 1 depending  on how close of a match it is.\n\n\n  return getClosenessRanking(testString, stringToRank);\n}\n/**\n * Generates an acronym for a string.\n *\n * @param {String} string the string for which to produce the acronym\n * @returns {String} the acronym\n */\n\n\nfunction getAcronym(string) {\n  var acronym = '';\n  var wordsInString = string.split(' ');\n  wordsInString.forEach(function (wordInString) {\n    var splitByHyphenWords = wordInString.split('-');\n    splitByHyphenWords.forEach(function (splitByHyphenWord) {\n      acronym += splitByHyphenWord.substr(0, 1);\n    });\n  });\n  return acronym;\n}\n/**\n * Returns a score based on how spread apart the\n * characters from the stringToRank are within the testString.\n * A number close to rankings.MATCHES represents a loose match. A number close\n * to rankings.MATCHES + 1 represents a tighter match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @returns {Number} the number between rankings.MATCHES and\n * rankings.MATCHES + 1 for how well stringToRank matches testString\n */\n\n\nfunction getClosenessRanking(testString, stringToRank) {\n  var matchingInOrderCharCount = 0;\n  var charNumber = 0;\n\n  function findMatchingCharacter(matchChar, string, index) {\n    for (var j = index, J = string.length; j < J; j++) {\n      var stringChar = string[j];\n\n      if (stringChar === matchChar) {\n        matchingInOrderCharCount += 1;\n        return j + 1;\n      }\n    }\n\n    return -1;\n  }\n\n  function getRanking(spread) {\n    var spreadPercentage = 1 / spread;\n    var inOrderPercentage = matchingInOrderCharCount / stringToRank.length;\n    var ranking = rankings.MATCHES + inOrderPercentage * spreadPercentage;\n    return ranking;\n  }\n\n  var firstIndex = findMatchingCharacter(stringToRank[0], testString, 0);\n\n  if (firstIndex < 0) {\n    return rankings.NO_MATCH;\n  }\n\n  charNumber = firstIndex;\n\n  for (var i = 1, I = stringToRank.length; i < I; i++) {\n    var matchChar = stringToRank[i];\n    charNumber = findMatchingCharacter(matchChar, testString, charNumber);\n    var found = charNumber > -1;\n\n    if (!found) {\n      return rankings.NO_MATCH;\n    }\n  }\n\n  var spread = charNumber - firstIndex;\n  return getRanking(spread);\n}\n/**\n * Sorts items that have a rank, index, and keyIndex\n * @param {Object} a - the first item to sort\n * @param {Object} b - the second item to sort\n * @return {Number} -1 if a should come first, 1 if b should come first, 0 if equal\n */\n\n\nfunction sortRankedValues(a, b, baseSort) {\n  var aFirst = -1;\n  var bFirst = 1;\n  var aRank = a.rank,\n      aKeyIndex = a.keyIndex;\n  var bRank = b.rank,\n      bKeyIndex = b.keyIndex;\n  var same = aRank === bRank;\n\n  if (same) {\n    if (aKeyIndex === bKeyIndex) {\n      // use the base sort function as a tie-breaker\n      return baseSort(a, b);\n    } else {\n      return aKeyIndex < bKeyIndex ? aFirst : bFirst;\n    }\n  } else {\n    return aRank > bRank ? aFirst : bFirst;\n  }\n}\n/**\n * Prepares value for comparison by stringifying it, removing diacritics (if specified)\n * @param {String} value - the value to clean\n * @param {Object} options - {keepDiacritics: whether to remove diacritics}\n * @return {String} the prepared value\n */\n\n\nfunction prepareValueForComparison(value, _ref4) {\n  var keepDiacritics = _ref4.keepDiacritics;\n  // value might not actually be a string at this point (we don't get to choose)\n  // so part of preparing the value for comparison is ensure that it is a string\n  value = \"\" + value; // toString\n\n  if (!keepDiacritics) {\n    value = removeAccents(value);\n  }\n\n  return value;\n}\n/**\n * Gets value for key in item at arbitrarily nested keypath\n * @param {Object} item - the item\n * @param {Object|Function} key - the potentially nested keypath or property callback\n * @return {Array} - an array containing the value(s) at the nested keypath\n */\n\n\nfunction getItemValues(item, key) {\n  if (typeof key === 'object') {\n    key = key.key;\n  }\n\n  var value;\n\n  if (typeof key === 'function') {\n    value = key(item);\n  } else if (item == null) {\n    value = null;\n  } else if (Object.hasOwnProperty.call(item, key)) {\n    value = item[key];\n  } else if (key.includes('.')) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    return getNestedValues(key, item);\n  } else {\n    value = null;\n  } // because `value` can also be undefined\n\n\n  if (value == null) {\n    return [];\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return [String(value)];\n}\n/**\n * Given path: \"foo.bar.baz\"\n * And item: {foo: {bar: {baz: 'buzz'}}}\n *   -> 'buzz'\n * @param path a dot-separated set of keys\n * @param item the item to get the value from\n */\n\n\nfunction getNestedValues(path, item) {\n  var keys = path.split('.');\n  var values = [item];\n\n  for (var i = 0, I = keys.length; i < I; i++) {\n    var nestedKey = keys[i];\n    var nestedValues = [];\n\n    for (var j = 0, J = values.length; j < J; j++) {\n      var nestedItem = values[j];\n      if (nestedItem == null) continue;\n\n      if (Object.hasOwnProperty.call(nestedItem, nestedKey)) {\n        var nestedValue = nestedItem[nestedKey];\n\n        if (nestedValue != null) {\n          nestedValues.push(nestedValue);\n        }\n      } else if (nestedKey === '*') {\n        // ensure that values is an array\n        nestedValues = nestedValues.concat(nestedItem);\n      }\n    }\n\n    values = nestedValues;\n  }\n\n  if (Array.isArray(values[0])) {\n    // keep allowing the implicit wildcard for an array of strings at the end of\n    // the path; don't use `.flat()` because that's not available in node.js v10\n    var result = [];\n    return result.concat.apply(result, values);\n  } // Based on our logic it should be an array of strings by now...\n  // assuming the user's path terminated in strings\n\n\n  return values;\n}\n/**\n * Gets all the values for the given keys in the given item and returns an array of those values\n * @param item - the item from which the values will be retrieved\n * @param keys - the keys to use to retrieve the values\n * @return objects with {itemValue, attributes}\n */\n\n\nfunction getAllValuesToRank(item, keys) {\n  var allValues = [];\n\n  for (var j = 0, J = keys.length; j < J; j++) {\n    var key = keys[j];\n    var attributes = getKeyAttributes(key);\n    var itemValues = getItemValues(item, key);\n\n    for (var i = 0, I = itemValues.length; i < I; i++) {\n      allValues.push({\n        itemValue: itemValues[i],\n        attributes: attributes\n      });\n    }\n  }\n\n  return allValues;\n}\n\nvar defaultKeyAttributes = {\n  maxRanking: Infinity,\n  minRanking: -Infinity\n};\n/**\n * Gets all the attributes for the given key\n * @param key - the key from which the attributes will be retrieved\n * @return object containing the key's attributes\n */\n\nfunction getKeyAttributes(key) {\n  if (typeof key === 'string') {\n    return defaultKeyAttributes;\n  }\n\n  return _extends({}, defaultKeyAttributes, key);\n}\n/*\neslint\n  no-continue: \"off\",\n*/\n\nexport { defaultBaseSortFn, matchSorter, rankings };\n","var characterMap = {\r\n\t\"À\": \"A\",\r\n\t\"Á\": \"A\",\r\n\t\"Â\": \"A\",\r\n\t\"Ã\": \"A\",\r\n\t\"Ä\": \"A\",\r\n\t\"Å\": \"A\",\r\n\t\"Ấ\": \"A\",\r\n\t\"Ắ\": \"A\",\r\n\t\"Ẳ\": \"A\",\r\n\t\"Ẵ\": \"A\",\r\n\t\"Ặ\": \"A\",\r\n\t\"Æ\": \"AE\",\r\n\t\"Ầ\": \"A\",\r\n\t\"Ằ\": \"A\",\r\n\t\"Ȃ\": \"A\",\r\n\t\"Ç\": \"C\",\r\n\t\"Ḉ\": \"C\",\r\n\t\"È\": \"E\",\r\n\t\"É\": \"E\",\r\n\t\"Ê\": \"E\",\r\n\t\"Ë\": \"E\",\r\n\t\"Ế\": \"E\",\r\n\t\"Ḗ\": \"E\",\r\n\t\"Ề\": \"E\",\r\n\t\"Ḕ\": \"E\",\r\n\t\"Ḝ\": \"E\",\r\n\t\"Ȇ\": \"E\",\r\n\t\"Ì\": \"I\",\r\n\t\"Í\": \"I\",\r\n\t\"Î\": \"I\",\r\n\t\"Ï\": \"I\",\r\n\t\"Ḯ\": \"I\",\r\n\t\"Ȋ\": \"I\",\r\n\t\"Ð\": \"D\",\r\n\t\"Ñ\": \"N\",\r\n\t\"Ò\": \"O\",\r\n\t\"Ó\": \"O\",\r\n\t\"Ô\": \"O\",\r\n\t\"Õ\": \"O\",\r\n\t\"Ö\": \"O\",\r\n\t\"Ø\": \"O\",\r\n\t\"Ố\": \"O\",\r\n\t\"Ṍ\": \"O\",\r\n\t\"Ṓ\": \"O\",\r\n\t\"Ȏ\": \"O\",\r\n\t\"Ù\": \"U\",\r\n\t\"Ú\": \"U\",\r\n\t\"Û\": \"U\",\r\n\t\"Ü\": \"U\",\r\n\t\"Ý\": \"Y\",\r\n\t\"à\": \"a\",\r\n\t\"á\": \"a\",\r\n\t\"â\": \"a\",\r\n\t\"ã\": \"a\",\r\n\t\"ä\": \"a\",\r\n\t\"å\": \"a\",\r\n\t\"ấ\": \"a\",\r\n\t\"ắ\": \"a\",\r\n\t\"ẳ\": \"a\",\r\n\t\"ẵ\": \"a\",\r\n\t\"ặ\": \"a\",\r\n\t\"æ\": \"ae\",\r\n\t\"ầ\": \"a\",\r\n\t\"ằ\": \"a\",\r\n\t\"ȃ\": \"a\",\r\n\t\"ç\": \"c\",\r\n\t\"ḉ\": \"c\",\r\n\t\"è\": \"e\",\r\n\t\"é\": \"e\",\r\n\t\"ê\": \"e\",\r\n\t\"ë\": \"e\",\r\n\t\"ế\": \"e\",\r\n\t\"ḗ\": \"e\",\r\n\t\"ề\": \"e\",\r\n\t\"ḕ\": \"e\",\r\n\t\"ḝ\": \"e\",\r\n\t\"ȇ\": \"e\",\r\n\t\"ì\": \"i\",\r\n\t\"í\": \"i\",\r\n\t\"î\": \"i\",\r\n\t\"ï\": \"i\",\r\n\t\"ḯ\": \"i\",\r\n\t\"ȋ\": \"i\",\r\n\t\"ð\": \"d\",\r\n\t\"ñ\": \"n\",\r\n\t\"ò\": \"o\",\r\n\t\"ó\": \"o\",\r\n\t\"ô\": \"o\",\r\n\t\"õ\": \"o\",\r\n\t\"ö\": \"o\",\r\n\t\"ø\": \"o\",\r\n\t\"ố\": \"o\",\r\n\t\"ṍ\": \"o\",\r\n\t\"ṓ\": \"o\",\r\n\t\"ȏ\": \"o\",\r\n\t\"ù\": \"u\",\r\n\t\"ú\": \"u\",\r\n\t\"û\": \"u\",\r\n\t\"ü\": \"u\",\r\n\t\"ý\": \"y\",\r\n\t\"ÿ\": \"y\",\r\n\t\"Ā\": \"A\",\r\n\t\"ā\": \"a\",\r\n\t\"Ă\": \"A\",\r\n\t\"ă\": \"a\",\r\n\t\"Ą\": \"A\",\r\n\t\"ą\": \"a\",\r\n\t\"Ć\": \"C\",\r\n\t\"ć\": \"c\",\r\n\t\"Ĉ\": \"C\",\r\n\t\"ĉ\": \"c\",\r\n\t\"Ċ\": \"C\",\r\n\t\"ċ\": \"c\",\r\n\t\"Č\": \"C\",\r\n\t\"č\": \"c\",\r\n\t\"C̆\": \"C\",\r\n\t\"c̆\": \"c\",\r\n\t\"Ď\": \"D\",\r\n\t\"ď\": \"d\",\r\n\t\"Đ\": \"D\",\r\n\t\"đ\": \"d\",\r\n\t\"Ē\": \"E\",\r\n\t\"ē\": \"e\",\r\n\t\"Ĕ\": \"E\",\r\n\t\"ĕ\": \"e\",\r\n\t\"Ė\": \"E\",\r\n\t\"ė\": \"e\",\r\n\t\"Ę\": \"E\",\r\n\t\"ę\": \"e\",\r\n\t\"Ě\": \"E\",\r\n\t\"ě\": \"e\",\r\n\t\"Ĝ\": \"G\",\r\n\t\"Ǵ\": \"G\",\r\n\t\"ĝ\": \"g\",\r\n\t\"ǵ\": \"g\",\r\n\t\"Ğ\": \"G\",\r\n\t\"ğ\": \"g\",\r\n\t\"Ġ\": \"G\",\r\n\t\"ġ\": \"g\",\r\n\t\"Ģ\": \"G\",\r\n\t\"ģ\": \"g\",\r\n\t\"Ĥ\": \"H\",\r\n\t\"ĥ\": \"h\",\r\n\t\"Ħ\": \"H\",\r\n\t\"ħ\": \"h\",\r\n\t\"Ḫ\": \"H\",\r\n\t\"ḫ\": \"h\",\r\n\t\"Ĩ\": \"I\",\r\n\t\"ĩ\": \"i\",\r\n\t\"Ī\": \"I\",\r\n\t\"ī\": \"i\",\r\n\t\"Ĭ\": \"I\",\r\n\t\"ĭ\": \"i\",\r\n\t\"Į\": \"I\",\r\n\t\"į\": \"i\",\r\n\t\"İ\": \"I\",\r\n\t\"ı\": \"i\",\r\n\t\"Ĳ\": \"IJ\",\r\n\t\"ĳ\": \"ij\",\r\n\t\"Ĵ\": \"J\",\r\n\t\"ĵ\": \"j\",\r\n\t\"Ķ\": \"K\",\r\n\t\"ķ\": \"k\",\r\n\t\"Ḱ\": \"K\",\r\n\t\"ḱ\": \"k\",\r\n\t\"K̆\": \"K\",\r\n\t\"k̆\": \"k\",\r\n\t\"Ĺ\": \"L\",\r\n\t\"ĺ\": \"l\",\r\n\t\"Ļ\": \"L\",\r\n\t\"ļ\": \"l\",\r\n\t\"Ľ\": \"L\",\r\n\t\"ľ\": \"l\",\r\n\t\"Ŀ\": \"L\",\r\n\t\"ŀ\": \"l\",\r\n\t\"Ł\": \"l\",\r\n\t\"ł\": \"l\",\r\n\t\"Ḿ\": \"M\",\r\n\t\"ḿ\": \"m\",\r\n\t\"M̆\": \"M\",\r\n\t\"m̆\": \"m\",\r\n\t\"Ń\": \"N\",\r\n\t\"ń\": \"n\",\r\n\t\"Ņ\": \"N\",\r\n\t\"ņ\": \"n\",\r\n\t\"Ň\": \"N\",\r\n\t\"ň\": \"n\",\r\n\t\"ŉ\": \"n\",\r\n\t\"N̆\": \"N\",\r\n\t\"n̆\": \"n\",\r\n\t\"Ō\": \"O\",\r\n\t\"ō\": \"o\",\r\n\t\"Ŏ\": \"O\",\r\n\t\"ŏ\": \"o\",\r\n\t\"Ő\": \"O\",\r\n\t\"ő\": \"o\",\r\n\t\"Œ\": \"OE\",\r\n\t\"œ\": \"oe\",\r\n\t\"P̆\": \"P\",\r\n\t\"p̆\": \"p\",\r\n\t\"Ŕ\": \"R\",\r\n\t\"ŕ\": \"r\",\r\n\t\"Ŗ\": \"R\",\r\n\t\"ŗ\": \"r\",\r\n\t\"Ř\": \"R\",\r\n\t\"ř\": \"r\",\r\n\t\"R̆\": \"R\",\r\n\t\"r̆\": \"r\",\r\n\t\"Ȓ\": \"R\",\r\n\t\"ȓ\": \"r\",\r\n\t\"Ś\": \"S\",\r\n\t\"ś\": \"s\",\r\n\t\"Ŝ\": \"S\",\r\n\t\"ŝ\": \"s\",\r\n\t\"Ş\": \"S\",\r\n\t\"Ș\": \"S\",\r\n\t\"ș\": \"s\",\r\n\t\"ş\": \"s\",\r\n\t\"Š\": \"S\",\r\n\t\"š\": \"s\",\r\n\t\"Ţ\": \"T\",\r\n\t\"ţ\": \"t\",\r\n\t\"ț\": \"t\",\r\n\t\"Ț\": \"T\",\r\n\t\"Ť\": \"T\",\r\n\t\"ť\": \"t\",\r\n\t\"Ŧ\": \"T\",\r\n\t\"ŧ\": \"t\",\r\n\t\"T̆\": \"T\",\r\n\t\"t̆\": \"t\",\r\n\t\"Ũ\": \"U\",\r\n\t\"ũ\": \"u\",\r\n\t\"Ū\": \"U\",\r\n\t\"ū\": \"u\",\r\n\t\"Ŭ\": \"U\",\r\n\t\"ŭ\": \"u\",\r\n\t\"Ů\": \"U\",\r\n\t\"ů\": \"u\",\r\n\t\"Ű\": \"U\",\r\n\t\"ű\": \"u\",\r\n\t\"Ų\": \"U\",\r\n\t\"ų\": \"u\",\r\n\t\"Ȗ\": \"U\",\r\n\t\"ȗ\": \"u\",\r\n\t\"V̆\": \"V\",\r\n\t\"v̆\": \"v\",\r\n\t\"Ŵ\": \"W\",\r\n\t\"ŵ\": \"w\",\r\n\t\"Ẃ\": \"W\",\r\n\t\"ẃ\": \"w\",\r\n\t\"X̆\": \"X\",\r\n\t\"x̆\": \"x\",\r\n\t\"Ŷ\": \"Y\",\r\n\t\"ŷ\": \"y\",\r\n\t\"Ÿ\": \"Y\",\r\n\t\"Y̆\": \"Y\",\r\n\t\"y̆\": \"y\",\r\n\t\"Ź\": \"Z\",\r\n\t\"ź\": \"z\",\r\n\t\"Ż\": \"Z\",\r\n\t\"ż\": \"z\",\r\n\t\"Ž\": \"Z\",\r\n\t\"ž\": \"z\",\r\n\t\"ſ\": \"s\",\r\n\t\"ƒ\": \"f\",\r\n\t\"Ơ\": \"O\",\r\n\t\"ơ\": \"o\",\r\n\t\"Ư\": \"U\",\r\n\t\"ư\": \"u\",\r\n\t\"Ǎ\": \"A\",\r\n\t\"ǎ\": \"a\",\r\n\t\"Ǐ\": \"I\",\r\n\t\"ǐ\": \"i\",\r\n\t\"Ǒ\": \"O\",\r\n\t\"ǒ\": \"o\",\r\n\t\"Ǔ\": \"U\",\r\n\t\"ǔ\": \"u\",\r\n\t\"Ǖ\": \"U\",\r\n\t\"ǖ\": \"u\",\r\n\t\"Ǘ\": \"U\",\r\n\t\"ǘ\": \"u\",\r\n\t\"Ǚ\": \"U\",\r\n\t\"ǚ\": \"u\",\r\n\t\"Ǜ\": \"U\",\r\n\t\"ǜ\": \"u\",\r\n\t\"Ứ\": \"U\",\r\n\t\"ứ\": \"u\",\r\n\t\"Ṹ\": \"U\",\r\n\t\"ṹ\": \"u\",\r\n\t\"Ǻ\": \"A\",\r\n\t\"ǻ\": \"a\",\r\n\t\"Ǽ\": \"AE\",\r\n\t\"ǽ\": \"ae\",\r\n\t\"Ǿ\": \"O\",\r\n\t\"ǿ\": \"o\",\r\n\t\"Þ\": \"TH\",\r\n\t\"þ\": \"th\",\r\n\t\"Ṕ\": \"P\",\r\n\t\"ṕ\": \"p\",\r\n\t\"Ṥ\": \"S\",\r\n\t\"ṥ\": \"s\",\r\n\t\"X́\": \"X\",\r\n\t\"x́\": \"x\",\r\n\t\"Ѓ\": \"Г\",\r\n\t\"ѓ\": \"г\",\r\n\t\"Ќ\": \"К\",\r\n\t\"ќ\": \"к\",\r\n\t\"A̋\": \"A\",\r\n\t\"a̋\": \"a\",\r\n\t\"E̋\": \"E\",\r\n\t\"e̋\": \"e\",\r\n\t\"I̋\": \"I\",\r\n\t\"i̋\": \"i\",\r\n\t\"Ǹ\": \"N\",\r\n\t\"ǹ\": \"n\",\r\n\t\"Ồ\": \"O\",\r\n\t\"ồ\": \"o\",\r\n\t\"Ṑ\": \"O\",\r\n\t\"ṑ\": \"o\",\r\n\t\"Ừ\": \"U\",\r\n\t\"ừ\": \"u\",\r\n\t\"Ẁ\": \"W\",\r\n\t\"ẁ\": \"w\",\r\n\t\"Ỳ\": \"Y\",\r\n\t\"ỳ\": \"y\",\r\n\t\"Ȁ\": \"A\",\r\n\t\"ȁ\": \"a\",\r\n\t\"Ȅ\": \"E\",\r\n\t\"ȅ\": \"e\",\r\n\t\"Ȉ\": \"I\",\r\n\t\"ȉ\": \"i\",\r\n\t\"Ȍ\": \"O\",\r\n\t\"ȍ\": \"o\",\r\n\t\"Ȑ\": \"R\",\r\n\t\"ȑ\": \"r\",\r\n\t\"Ȕ\": \"U\",\r\n\t\"ȕ\": \"u\",\r\n\t\"B̌\": \"B\",\r\n\t\"b̌\": \"b\",\r\n\t\"Č̣\": \"C\",\r\n\t\"č̣\": \"c\",\r\n\t\"Ê̌\": \"E\",\r\n\t\"ê̌\": \"e\",\r\n\t\"F̌\": \"F\",\r\n\t\"f̌\": \"f\",\r\n\t\"Ǧ\": \"G\",\r\n\t\"ǧ\": \"g\",\r\n\t\"Ȟ\": \"H\",\r\n\t\"ȟ\": \"h\",\r\n\t\"J̌\": \"J\",\r\n\t\"ǰ\": \"j\",\r\n\t\"Ǩ\": \"K\",\r\n\t\"ǩ\": \"k\",\r\n\t\"M̌\": \"M\",\r\n\t\"m̌\": \"m\",\r\n\t\"P̌\": \"P\",\r\n\t\"p̌\": \"p\",\r\n\t\"Q̌\": \"Q\",\r\n\t\"q̌\": \"q\",\r\n\t\"Ř̩\": \"R\",\r\n\t\"ř̩\": \"r\",\r\n\t\"Ṧ\": \"S\",\r\n\t\"ṧ\": \"s\",\r\n\t\"V̌\": \"V\",\r\n\t\"v̌\": \"v\",\r\n\t\"W̌\": \"W\",\r\n\t\"w̌\": \"w\",\r\n\t\"X̌\": \"X\",\r\n\t\"x̌\": \"x\",\r\n\t\"Y̌\": \"Y\",\r\n\t\"y̌\": \"y\",\r\n\t\"A̧\": \"A\",\r\n\t\"a̧\": \"a\",\r\n\t\"B̧\": \"B\",\r\n\t\"b̧\": \"b\",\r\n\t\"Ḑ\": \"D\",\r\n\t\"ḑ\": \"d\",\r\n\t\"Ȩ\": \"E\",\r\n\t\"ȩ\": \"e\",\r\n\t\"Ɛ̧\": \"E\",\r\n\t\"ɛ̧\": \"e\",\r\n\t\"Ḩ\": \"H\",\r\n\t\"ḩ\": \"h\",\r\n\t\"I̧\": \"I\",\r\n\t\"i̧\": \"i\",\r\n\t\"Ɨ̧\": \"I\",\r\n\t\"ɨ̧\": \"i\",\r\n\t\"M̧\": \"M\",\r\n\t\"m̧\": \"m\",\r\n\t\"O̧\": \"O\",\r\n\t\"o̧\": \"o\",\r\n\t\"Q̧\": \"Q\",\r\n\t\"q̧\": \"q\",\r\n\t\"U̧\": \"U\",\r\n\t\"u̧\": \"u\",\r\n\t\"X̧\": \"X\",\r\n\t\"x̧\": \"x\",\r\n\t\"Z̧\": \"Z\",\r\n\t\"z̧\": \"z\",\r\n};\r\n\r\nvar chars = Object.keys(characterMap).join('|');\r\nvar allAccents = new RegExp(chars, 'g');\r\nvar firstAccent = new RegExp(chars, '');\r\n\r\nvar removeAccents = function(string) {\t\r\n\treturn string.replace(allAccents, function(match) {\r\n\t\treturn characterMap[match];\r\n\t});\r\n};\r\n\r\nvar hasAccents = function(string) {\r\n\treturn !!string.match(firstAccent);\r\n};\r\n\r\nmodule.exports = removeAccents;\r\nmodule.exports.has = hasAccents;\r\nmodule.exports.remove = removeAccents;\r\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport rison from 'rison';\nimport Chart from 'src/types/Chart';\nimport { useApiV1Resource, useTransformedResource } from './apiResources';\n\nfunction extractOwnerNames({ owners }: Chart) {\n  if (!owners) return null;\n  return owners.map(owner => `${owner.first_name} ${owner.last_name}`);\n}\n\nconst ownerNamesQuery = rison.encode({\n  columns: ['owners.first_name', 'owners.last_name'],\n  keys: ['none'],\n});\n\nexport function useChartOwnerNames(chartId: string) {\n  return useTransformedResource(\n    useApiV1Resource<Chart>(`/api/v1/chart/${chartId}?q=${ownerNamesQuery}`),\n    extractOwnerNames,\n  );\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { Dashboard, Datasource, EmbeddedDashboard } from 'src/dashboard/types';\nimport { Chart } from 'src/types/Chart';\nimport { useApiV1Resource, useTransformedResource } from './apiResources';\n\nexport const useDashboard = (idOrSlug: string | number) =>\n  useTransformedResource(\n    useApiV1Resource<Dashboard>(`/api/v1/dashboard/${idOrSlug}`),\n    dashboard => ({\n      ...dashboard,\n      metadata:\n        (dashboard.json_metadata && JSON.parse(dashboard.json_metadata)) || {},\n      position_data:\n        dashboard.position_json && JSON.parse(dashboard.position_json),\n    }),\n  );\n\n// gets the chart definitions for a dashboard\nexport const useDashboardCharts = (idOrSlug: string | number) =>\n  useApiV1Resource<Chart[]>(`/api/v1/dashboard/${idOrSlug}/charts`);\n\n// gets the datasets for a dashboard\n// important: this endpoint only returns the fields in the dataset\n// that are necessary for rendering the given dashboard\nexport const useDashboardDatasets = (idOrSlug: string | number) =>\n  useApiV1Resource<Datasource[]>(`/api/v1/dashboard/${idOrSlug}/datasets`);\n\nexport const useEmbeddedDashboard = (idOrSlug: string | number) =>\n  useApiV1Resource<EmbeddedDashboard>(`/api/v1/dashboard/${idOrSlug}/embedded`);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames not based on template\n\tif (chunkId === 4593) return \"4593.d68c5ae37590aeca12f4.entry.js\";\n\tif (chunkId === 2441) return \"2441.9d43893841d3df512e51.entry.js\";\n\t// return url for filenames based on template\n\treturn \"\" + {\"57\":\"38f4b0c5b2c751f3029f\",\"112\":\"0cceda87f254629c0f55\",\"137\":\"2e4eee61fdab260331a3\",\"158\":\"7af34d924b2b2e3aaaa7\",\"177\":\"ca39eb74c4d49fd55005\",\"183\":\"2d69e60dfe962c42eee9\",\"215\":\"f6160a99b46b22e18caa\",\"310\":\"e2c18a71d3a5c875a789\",\"312\":\"90af13ee4a0d5e067aab\",\"326\":\"7374ea8855c4c8c9dde6\",\"336\":\"e5df42bc5a8ad6d9aed0\",\"347\":\"3f1f3f38b6b3b9616e75\",\"349\":\"0202ec1626f196ac9881\",\"363\":\"e517ebae29a6c51c5e09\",\"380\":\"b10c6bc15614f70674c7\",\"440\":\"163404f983dce20259a1\",\"444\":\"eebc4df9b567ec2657cd\",\"498\":\"04c19f92943ed9b4ddb9\",\"597\":\"d08e416f0ccd4854221a\",\"600\":\"d0d66aaabc04eac7f3a8\",\"616\":\"a77417ca34a51fe13a7d\",\"704\":\"56bff0d3ef19079ea66f\",\"741\":\"ddfd188cfe976cc863f1\",\"775\":\"3530fba743ac26563709\",\"826\":\"3f59c315d2e5d8b15ff9\",\"895\":\"2bf64696de38a5e5ed38\",\"954\":\"96328cc7910404deebe6\",\"992\":\"3972b8e3abebd6e63caf\",\"999\":\"54febe7bb96630a3013d\",\"1020\":\"b190f9aca679c03b62c3\",\"1075\":\"529bc3f823e6fc60cd70\",\"1095\":\"d9afdc3949f8b21a7820\",\"1130\":\"110ae26061868bd68c17\",\"1161\":\"3aa46fb33df2aab20c02\",\"1174\":\"8849a375bcccf9df44ed\",\"1185\":\"9ea89afc9bce89ad80ad\",\"1221\":\"89aea5a154a8cfd8fbad\",\"1256\":\"3479cded7646565257ab\",\"1258\":\"604b6fdb6661c6e1205e\",\"1261\":\"858915f2b7f5a9a59fc3\",\"1263\":\"62048be321505812ff6a\",\"1293\":\"825c8594d240fbf17f20\",\"1351\":\"8f38137e5b4342d2da4f\",\"1382\":\"4c5c4c09ba5f63220889\",\"1398\":\"951f07c7c3e07b72cca4\",\"1402\":\"308402927cb1af91614e\",\"1493\":\"55bdc0586c89caac178c\",\"1568\":\"40f6c6e7fe72a2bc1b13\",\"1573\":\"2e576b04c9b82c938093\",\"1605\":\"2f7a1d1a47b76ec8c5c1\",\"1862\":\"f169edb4a2450c249757\",\"1877\":\"7dd385c6e9090a1b2734\",\"1899\":\"0502b5cdba557a6ff693\",\"1948\":\"73ae58351a954a5c96f0\",\"2079\":\"1506fd7de5b75c690b36\",\"2089\":\"6762245ee484d3ffcb17\",\"2105\":\"8146230ef7c416ab6cb3\",\"2112\":\"bd47c3047ff30d422b26\",\"2229\":\"92b5dd2bef5c7f4c0f0c\",\"2264\":\"b12e914fd5684cf329c8\",\"2267\":\"1665a22356999f7d09cb\",\"2403\":\"a0d676c094e2f90b5f0a\",\"2439\":\"7e0114c1e26108fed2fc\",\"2549\":\"b939e874d4289ca1bb4f\",\"2646\":\"22d6b0b1d527d046d260\",\"2698\":\"75dfd37839ade6c35680\",\"2713\":\"617726f17984c3192f46\",\"2797\":\"6a8bfc332a16fd0f491c\",\"2955\":\"21b0680368dea0bf61c5\",\"2983\":\"b85bf5c0e81e6910fa04\",\"3036\":\"ea33f16b56589e7fe331\",\"3126\":\"4764f4f403630edad7c5\",\"3141\":\"6db0cd2a326a62903532\",\"3187\":\"6802e173609e0f6b30c1\",\"3208\":\"1d1e22f6771cfd2e9ef1\",\"3232\":\"88df3be221f938679450\",\"3240\":\"78cb567a5b91a58f0c01\",\"3265\":\"edc982d88e8d399830b7\",\"3325\":\"46b72d4c661fb47189a2\",\"3496\":\"bbde815936f983fdf562\",\"3544\":\"78f16a06c10598e0b889\",\"3558\":\"a1e4af25d87548162409\",\"3567\":\"ccb341a117b2ee4d5e98\",\"3588\":\"461c58b164a3fc1357b1\",\"3606\":\"7621f705e25335f0121d\",\"3711\":\"78a94e1e858a8721ed5f\",\"3745\":\"19220130e12f15e5cce8\",\"3749\":\"68f7a3e5d439a23f4d89\",\"3831\":\"0a48200ca8cf0d470682\",\"3871\":\"79cd11ca09fe747b1bfd\",\"3955\":\"03c4e9c66c2c63d79acc\",\"3985\":\"d51bceddde4bd627d6c2\",\"4139\":\"21f4237f0879646a0d9c\",\"4194\":\"89e3dd82524d881e7dd7\",\"4237\":\"f3af87387b276d765b99\",\"4266\":\"958a29639679b362fba3\",\"4273\":\"827fb5197c686f0662c7\",\"4421\":\"6290fd574418d5e32572\",\"4458\":\"85219e9a6edf20621bea\",\"4474\":\"b28a000dfeccbe1d81f3\",\"4494\":\"4bf0f6b8a66ee921247f\",\"4572\":\"49cd8f3d6d6f320ed729\",\"4579\":\"8164718d6dabba184b88\",\"4625\":\"7c5442bc1e5598e90822\",\"4662\":\"712187ae25c83dce2174\",\"4667\":\"47a4c2c13ccfb09d3757\",\"4732\":\"d30d055df1b3b7e84dba\",\"4757\":\"124ced191b8ef59a3e2c\",\"4758\":\"8546effff2a679b01358\",\"4790\":\"8546d26839292e046adb\",\"4794\":\"fa2a3ad4d82d3d4459fd\",\"4797\":\"be22f9be14d0445f0f87\",\"4810\":\"82297ac94bca3b3859d2\",\"4817\":\"259525e7b455b997848a\",\"4832\":\"5a592d69bbd6eff5fd66\",\"4851\":\"a9ccd9b9ba2b847b6417\",\"4972\":\"132e72e310c461806395\",\"5051\":\"86881151df595df4d35b\",\"5094\":\"00b4fe4aafbe798dface\",\"5123\":\"9d063c72a9891c56cbdc\",\"5181\":\"26c317d9c3baa9529fe0\",\"5201\":\"0c0d33390c8cfa65fbbd\",\"5215\":\"20dcf5c795803b21389a\",\"5224\":\"2137b5c272446c93f5b7\",\"5226\":\"43d2d046df38601d76af\",\"5249\":\"8c40bbdfb03d04b29d02\",\"5264\":\"764ad1c6642ad40a50d2\",\"5281\":\"8b441b46691123854b6b\",\"5330\":\"c3630bd2c65829e4c7a1\",\"5335\":\"cbdabbf1e2d3d7e254df\",\"5350\":\"a4556551303ff93cd4bb\",\"5359\":\"fe8715215a93c63953ec\",\"5367\":\"12541bbb82603d7e2d66\",\"5507\":\"c7cdf6f84afbcf502ddb\",\"5566\":\"34d4af5592bdcfc9eb41\",\"5580\":\"fa964e628191e708a48e\",\"5592\":\"2e19c97690b06c32f1b4\",\"5641\":\"207a4252758bcd4d3cbd\",\"5707\":\"2b76605f1d6e11cf2df7\",\"5771\":\"3acf2091ed043492ae76\",\"5777\":\"58d0e720fba584974cbf\",\"5802\":\"8caa85ec5eb98cb83343\",\"5816\":\"3374bb9b8c7f89ae2da0\",\"5832\":\"6641ca7ff6e2a41a1257\",\"5838\":\"af5789397b8a13e08c38\",\"5962\":\"ed92d26f4a929fbbc564\",\"5972\":\"713e574a1d9b58a2135d\",\"5998\":\"cb935545042c1ce92ecb\",\"6061\":\"c9b07a9f1a9bae8552b2\",\"6126\":\"62a79c1241ef166355de\",\"6150\":\"6d17f8394d91a097eab6\",\"6167\":\"ad4ff700d252caec8ce3\",\"6207\":\"17d778c7ae36315bd979\",\"6254\":\"15612e9a43534ba1a97d\",\"6303\":\"b8e13b4773cab5f877ee\",\"6357\":\"b70dcdf0427abc91ad57\",\"6371\":\"150eda30c7d4d3f90b81\",\"6377\":\"6f0f091efb5ecc18dde4\",\"6420\":\"12131f944d05bfbc2b3d\",\"6447\":\"bfa0e245c6ade68dd3de\",\"6486\":\"9801caf1364f204340c9\",\"6507\":\"f00932e24ce22bd1ca3b\",\"6579\":\"59f16731ccd9acdd96b3\",\"6668\":\"0062637c2e307e4a2536\",\"6682\":\"bdf3637ab1584c67ae30\",\"6693\":\"7859419c833807d8ecc8\",\"6758\":\"fc3f2d7bb3a5b8f56817\",\"6819\":\"1d34427183b1bc32acfd\",\"6871\":\"ee6aaef556c2b3abedbf\",\"6883\":\"369bb61eda9423d64359\",\"6968\":\"626e60cd5099d84de454\",\"6981\":\"68a6c50b90b0d58736ad\",\"7003\":\"40ed9de7bc516276c805\",\"7183\":\"e16648fac64644e729c7\",\"7245\":\"68eaaf3112a48224bf50\",\"7249\":\"b5e7e83ac26bf4ec5fbe\",\"7405\":\"2bfae0bdc72a5900199c\",\"7460\":\"140aaba41af8a7b3891b\",\"7502\":\"e65433dae777c734f950\",\"7521\":\"26996cc765c12c03e878\",\"7584\":\"76c89f632c7a8315389e\",\"7610\":\"69ae28e81db50e4eb6d7\",\"7654\":\"2a756f12d13ca404a744\",\"7716\":\"36cbf8b4562f9c80a2e0\",\"7760\":\"7ab09485b0ef9d161fbf\",\"7803\":\"7967d211212f85a80dde\",\"7832\":\"fd7f701b105cdaddf11a\",\"7850\":\"00845228665a5b4e5deb\",\"7922\":\"034a466af79e5aec1e20\",\"7974\":\"5056eeaeb6bace4afae6\",\"7984\":\"aab98ca4cfcb982e0aca\",\"7989\":\"e2c714d33a44d93648c0\",\"8041\":\"b0b7ebae013a28bd3488\",\"8312\":\"9b8eaa85fdf772d344ca\",\"8349\":\"739a4da1e29881e55220\",\"8398\":\"effe2e4690559c9dd638\",\"8425\":\"d93b4ec64b1aced0c856\",\"8463\":\"55fba49f8743cb008b18\",\"8464\":\"fa6890448761f6eaa909\",\"8491\":\"bc7fc77e4b9a26daf89a\",\"8551\":\"ccccf6dc4ad567097d48\",\"8623\":\"f3f0b0e4997f9dcf5264\",\"8650\":\"0397d3d0734fd9230e1b\",\"8656\":\"930c6a0cab67c68681cd\",\"8682\":\"e55361dd9642ab2c6cce\",\"8695\":\"794b59e83f2639bbd4f5\",\"8701\":\"ac60e542441acfc7d1ff\",\"8750\":\"a4875cd79305e6148ef1\",\"8883\":\"7d0a7cd57a0e5306d21e\",\"8924\":\"2b7dda01776b3d7cfd73\",\"8970\":\"9662eb9aee235b45a0ba\",\"9013\":\"2ae202ac00476dac5f77\",\"9052\":\"bdc47b9882987a855bd3\",\"9101\":\"d01b4b3b943752d35454\",\"9109\":\"70032121a681b08c1ca9\",\"9207\":\"5716fdaacba60c1b00fc\",\"9305\":\"857144aa3240952e069c\",\"9313\":\"f002dd41453444b5a5f0\",\"9322\":\"4c640e97a929f739a3df\",\"9325\":\"d2f1f08edbd1d07cd106\",\"9393\":\"aa0534433005d1a82b09\",\"9396\":\"0515a3d9012750847fd2\",\"9483\":\"6d46e2bf0399b437ea4b\",\"9510\":\"a1ded01332afd173d7e1\",\"9558\":\"11464bec3d82809a0027\",\"9622\":\"a6e817b0d68ef7cee2d4\",\"9767\":\"9e8414a89898cf629e48\",\"9794\":\"6c8b7483e1f99924e7f5\",\"9811\":\"b3748ff012fc7ee520ef\",\"9857\":\"169119af235c81fa0bc3\",\"9873\":\"34c9f3b849b55ef12fa4\",\"9877\":\"f6f5b18362ffb2b9362c\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + {\"137\":\"2e4eee61fdab260331a3\",\"380\":\"b10c6bc15614f70674c7\",\"1261\":\"858915f2b7f5a9a59fc3\",\"1877\":\"7dd385c6e9090a1b2734\",\"3036\":\"ea33f16b56589e7fe331\",\"4194\":\"89e3dd82524d881e7dd7\",\"4237\":\"f3af87387b276d765b99\",\"4494\":\"4bf0f6b8a66ee921247f\",\"5566\":\"34d4af5592bdcfc9eb41\",\"6871\":\"ee6aaef556c2b3abedbf\",\"8623\":\"f3f0b0e4997f9dcf5264\",\"8650\":\"0397d3d0734fd9230e1b\",\"9313\":\"f002dd41453444b5a5f0\"}[chunkId] + \".chunk.css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/static/assets/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t9782: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(!/^(126|687)1$/.test(chunkId)) {\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunksuperset\"] = globalThis[\"webpackChunksuperset\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// module factories are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\n__webpack_require__.O(undefined, [1216,504,7550,2102,789,2087,6315,7167,3807,9308,1844,995,876,9602,2671,1139,5534,9525,5010,4113,5289,5175,9312,3389,2569,8274,4489,7649], () => (__webpack_require__(85156)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [1216,504,7550,2102,789,2087,6315,7167,3807,9308,1844,995,876,9602,2671,1139,5534,9525,5010,4113,5289,5175,9312,3389,2569,8274,4489,7649], () => (__webpack_require__(90666)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","loadStylesheet","installedCssChunks","logMessageQueue","constructor","callback","sizeThreshold","delayThreshold","this","queue","delayThrehold","trigger","bind","append","eventData","push","length","events","splice","call","endpoint","source","source_id","navigator","sendBeacon","formData","FormData","safeStringify","SupersetClient","postPayload","parseMethod","lastEventId","toastsFromPyFlashMessages","flashMessages","toasts","forEach","messageType","message","toastType","ToastType","toast","addToast","text","payload","FETCH_DASHBOARDS_SUCCEEDED","fetchDashboardsSucceeded","choices","type","FETCH_DASHBOARDS_FAILED","fetchDashboardsFailed","userId","fetchDashboards","dispatch","then","json","pks","map","id","index","value","label","result","dashboard_title","catch","SAVE_SLICE_FAILED","saveSliceFailed","SAVE_SLICE_SUCCESS","saveSliceSuccess","data","REMOVE_SAVE_MODAL_ALERT","removeSaveModalAlert","saveSlice","requestParams","url","getExploreUrl","endpointType","force","curUrl","queryContext","buildV1ChartDataPayload","resultFormat","resultType","form_data","query_context","response","FAVESTAR_BASE_URL","SET_DATASOURCE_TYPE","setDatasourceType","datasourceType","SET_DATASOURCE","setDatasource","datasource","SET_DATASOURCES","setDatasources","datasources","POST_DATASOURCE_STARTED","FETCH_DATASOURCE_SUCCEEDED","fetchDatasourceSucceeded","FETCH_DATASOURCES_STARTED","fetchDatasourcesStarted","FETCH_DATASOURCES_SUCCEEDED","fetchDatasourcesSucceeded","TOGGLE_FAVE_STAR","toggleFaveStar","isStarred","FETCH_FAVE_STAR","fetchFaveStar","sliceId","count","SAVE_FAVE_STAR","saveFaveStar","urlSuffix","t","SET_FIELD_VALUE","setControlValue","controlName","validationErrors","SET_EXPLORE_CONTROLS","setExploreControls","UPDATE_CHART_TITLE","updateChartTitle","sliceName","CREATE_NEW_SLICE","createNewSlice","can_add","can_download","can_overwrite","slice","SLICE_UPDATED","sliceUpdated","SET_FORCE_QUERY","setForceQuery","exploreActions","combineReducers","charts","saveModal","state","action","actionHandlers","actions","dashboards","saveModalAlert","dataMask","explore","DYNAMIC_PLUGIN_CONTROLS_READY","controls","controlsState","isDatasourceMetaLoading","newFormData","granularity_sqla","time_grain_sqla","druid_time_origin","granularity","controlsTransferred","time_range","DEFAULT_TIME_RANGE","Object","entries","controlState","valueKey","Array","isArray","options","getControlValuesCompatibleWithDatasource","ensureIsArray","default","newState","datasource_id","datasource_type","getControlsState","isDatasourcesLoading","new_form_data","old_metrics_data","metrics","new_column_config","column_config","vizType","viz_type","item","controlConfig","getControlConfig","control","getControlStateFromControlConfig","rerenderedControls","rerender","errors","err","includes","hasErrors","isVizSwitch","currentControlsState","transformed","StandardizedFormData","transform","triggerRender","renderTrigger","owners","slice_name","impressionId","messageToasts","ADD_TOAST","noDuplicate","find","x","REMOVE_TOAST","filter","reports","SET_REPORT","report","resourceId","creationMethod","filterField","reportObject","ADD_REPORT","reportTypeId","dashboard","chart","creation_method","EDIT_REPORT","TooltipContent","cachedTimestamp","cachedText","fromNow","className","onClick","hovered","setHovered","useState","labelType","Tooltip","title","Label","onMouseOver","onMouseOut","TimerLabel","style","Timer","endTime","isRunning","startTime","status","clockStr","setClockStr","timer","useRef","useEffect","stopTimer","current","clearInterval","undefined","setInterval","endDttm","role","CHART_STATUS_MAP","ChartPills","forwardRef","queriesResponse","chartStatus","chartUpdateStartTime","chartUpdateEndTime","refreshCachedQuery","rowLimit","ref","isLoading","firstQueryResponse","css","theme","gridUnit","RowCountLabel","rowcount","Number","limit","is_cached","CachedLabel","cached_dttm","AlertContainer","colors","info","base","light2","dark2","typography","sizes","m","dark1","alert","ButtonContainer","Title","weights","bold","ExploreAlert","bodyText","primaryButtonAction","secondaryButtonAction","primaryButtonText","secondaryButtonText","Button","buttonStyle","buttonSize","propTypes","PropTypes","onQuery","dashboardId","column_formats","containerId","table_name","ownState","standalone","timeout","chartIsStale","chartPropShape","errorMessage","GUTTER_SIZE_FACTOR","INITIAL_SIZES","MIN_SIZES","Styles","styled","grayscale","ExploreChartPanel","chartAlert","useTheme","gutterMargin","gutterHeight","width","chartPanelWidth","height","chartPanelHeight","chartPanelRef","useResizeDetector","refreshMode","refreshRate","splitSizes","setSplitSizes","getItem","LocalStorageKeys","showAlertBanner","updateQueryContext","useCallback","async","setDataMask","slice_id","headers","body","JSON","stringify","query_context_generation","setItem","onDragEnd","postChartFormData","updateQueryFormData","onCollapseChange","isOpen","renderChart","ChartContainer","Math","floor","annotationData","chartStackTrace","chartId","latestQueryFormData","triggerQuery","panelBody","useMemo","getChartRequiredFieldsMissingMessage","tabIndex","row_limit","standaloneChartBody","queryFormData","setQueryFormData","elementStyle","dimension","elementSize","gutterSize","standaloneClass","document","split","minSize","direction","expandToMin","DataTablesPane","queryForce","RunQueryButton","loading","onStop","isNewChart","canStopQuery","disabled","actionButtonsContainerStyles","rgba","light5","opacity","mediumLight","ControlPanelsTabs","Tabs","fullWidth","light3","s","sectionsToExpand","sections","reduce","acc","section","expanded","isTimeSection","columns","some","c","is_dttm","Datasource","hasTimeColumn","String","props","pluginContext","useContext","prevState","usePrevious","exploreState","prevDatasource","showDatasourceAlert","setShowDatasourceAlert","containerRef","scrollTo","expandedQuerySections","expandedCustomizeSections","querySections","customizeSections","tabOverride","controlSetRows","rows","config","getState","resetTransferredControls","handleClearFormClick","handleContinueClick","shouldRecalculateControlState","name","Boolean","shouldMapStateToProps","renderControlPanelSection","description","sectionId","Collapse","header","InfoTooltipWithTrigger","tooltip","bsStyle","key","controlSets","i","renderedControls","controlItem","visibility","controlData","mapStateToProps","restProps","isVisible","Control","renderControl","ControlRow","hasControlsTransferred","DatasourceAlert","dataTabTitle","xs","placement","has","Loading","showCustomizeTab","allowOverflow","tab","defaultActiveKey","expandIconPosition","ghost","SK_DASHBOARD_ID","SELECT_PLACEHOLDER","StyledModal","Modal","SaveModal","super","saveToDashboardId","newSliceName","canOverwriteSlice","onDashboardSelectChange","onSliceNameChange","changeAction","saveOrOverwrite","isNewDashboard","newDashboardName","is_managed_externally","componentDidMount","dashboardIds","lastDashboard","sessionStorage","recentDashboard","parseInt","indexOf","setState","event","target","selected","gotodash","sliceParams","save_to_dashboard_id","new_dashboard_name","url_params","dashboard_id","removeItem","dashboard_url","slice_url","prefix","URLSearchParams","toString","window","location","assign","onHide","removeAlert","render","dashboardSelectValue","show","footer","Form","layout","Alert","cursor","Radio","checked","onChange","required","Input","placeholder","allowClear","allowNewOptions","ariaLabel","renderers","paragraph","user","DatasourceItemContainer","DatasourcePanelDragOption","labelRef","showTooltip","isDragging","drag","useDrag","collect","monitor","optionProps","showType","DndItemType","column","metric","Icons","enableExploreDnd","primary","DatasourceContainer","light1","LabelWrapper","light4","SectionHeader","StyledInfoboxWrapper","LabelContainer","extendedProps","children","DataSourcePanel","datasourceControl","shouldForceUpdate","_columns","sort","col1","col2","showSaveDatasetModal","setShowSaveDatasetModal","inputValue","setInputValue","lists","setList","showAllMetrics","setShowAllMetrics","showAllColumns","setShowAllColumns","search","keys","threshold","expression","replace","maxRanking","keepDiacritics","baseSort","a","b","is_certified","rankedValue","localeCompare","metricSlice","columnSlice","mainBody","evt","closable","onClose","metric_name","col","column_name","SaveDatasetModal","visible","buttonTextOnSave","buttonTextOnOverwrite","memoizedControls","memoize","controlPanel","controlsMap","controlPanelSections","isControlPanelSectionConfig","row","origFormData","currentFormData","StyledLabel","alterForComparison","AlteredSliceTag","React","diffs","getDiffs","getChartControlPanelRegistry","get","getControlsForVizType","getRowsFromDiffs","hasDiffs","UNSAFE_componentWillReceiveProps","newProps","diff","before","formatValue","after","ofd","sanitizeFormData","cfd","fdKeys","fdKey","isEqualish","val1","val2","v","filterVal","comparator","join","subject","operator","formattedValue","renderModalBody","TableView","accessor","Header","pageSize","columnsForWrapText","renderTriggerNode","ModalTrigger","triggerNode","modalTitle","modalBody","responsive","canOverwrite","canDownload","saveDisabled","saveButtonStyles","ExploreChartHeader","onSaveChart","sliceFormData","isPropertiesModalOpen","setIsPropertiesModalOpen","res","d","json_metadata","metadata","parse","mergedLabelColors","shared_label_colors","label_colors","categoricalNamespace","CategoricalColorNamespace","getNamespace","setColor","color_scheme","fetchChartDashboardData","menu","isDropdownVisible","setIsDropdownVisible","useExploreAdditionalActionsMenu","redirectSQLLab","oldSliceName","PageHeaderWithActions","editableTitleProps","canEdit","onSave","showTitlePanelItems","certificatiedBadgeProps","certifiedBy","certified_by","details","certification_details","showFaveStar","faveStarProps","itemId","titlePanelAdditionalItems","chartTitle","rightPanelAdditionalItems","iconSize","additionalActionsMenu","menuDropdownProps","onVisibleChange","PropertiesModal","connect","bindActionCreators","toggleActive","deleteActiveReport","forcedHeight","ExploreContainer","ExplorePanelContainer","updateHistory","datasourceId","isReplace","tabId","additionalParam","URL_PARAMS","urlParams","RESERVED_CHART_URL_PARAMS","stateModifier","postFormData","getUrlParam","putFormData","mountExploreUrl","history","e","logging","ExploreViewContainer","dynamicPlugin","usePluginContext","dynamicPlugins","isDynamicPluginLoading","mounting","wasDynamicPluginLoading","previousControls","lastQueriedControls","setLastQueriedControls","showingModal","setShowingModal","isCollapsed","setIsCollapsed","setShouldForceUpdate","useTabId","defaultSidebarsWidth","controls_width","datasource_width","addHistory","handlePopstate","handleKeydown","ctrlKey","metaKey","isEnter","keyCode","isS","add_to_dash","goto_dash","toggleModal","toggleCollapse","useComponentDidMount","logEvent","LOG_ACTIONS_MOUNT_EXPLORER","useChangeEffect","previous","previousHandlePopstate","removeEventListener","addEventListener","previousHandleKeyDown","dynamicPluginControlsReady","values","reRenderChart","controlsChanged","newQueryFormData","getFormDataFromControls","renderTriggered","Date","getTime","fetchDatasourceMetadata","displayControlsChanged","areObjectsEqual","dontRefreshOnChange","LOG_ACTIONS_CHANGE_EXPLORE_CONTROLS","controlsWithErrors","errorMessages","Set","flat","labels","textAlign","renderChartContainer","getSidebarWidths","setSidebarWidths","newDimension","styles","onResizeStop","defaultSize","minWidth","maxWidth","enable","right","iconColor","marginTop","queryController","abort","cx","extra_form_data","mergeExtraFormData","isNaN","datasource_name","forced_height","common","conf","SUPERSET_WEBSERVER_TIMEOUT","saveModalActions","chartActions","logActions","setupApp","setupPlugins","exploreViewContainer","getElementById","bootstrapData","getAttribute","initFeatureFlags","feature_flags","initState","initialFormData","flash_messages","chartKey","lastRendered","getInitialState","store","createStore","rootReducer","compose","applyMiddleware","thunk","next","LOG_EVENT","dashboardInfo","dashboardLayout","logMetadata","impression_id","version","eventName","ts","event_name","LOG_EVENT_TYPE_TIMING","event_type","trigger_event","shortid","event_id","visibilityState","target_id","present","meta","target_name","initEnhancer","ReactDOM","DndProvider","backend","HTML5Backend","GlobalStyles","ToastContainer","fetchUISpecificReport","queryParams","rison","filters","opr","setReport","addDangerToast","structureFetchAction","chartArr","addReport","jsonPayload","addSuccessToast","editReport","isActive","encodeURI","active","finally","rankings","CASE_SENSITIVE_EQUAL","EQUAL","STARTS_WITH","WORD_STARTS_WITH","CONTAINS","ACRONYM","MATCHES","NO_MATCH","matchSorter","defaultBaseSortFn","items","_options","_options$threshold","_options$baseSort","_options$sorter","sorter","matchedItems","aRank","rank","aKeyIndex","keyIndex","bRank","bKeyIndex","sortRankedValues","matches","rankingInfo","allValues","j","J","attributes","getKeyAttributes","itemValues","getItemValues","I","itemValue","getAllValuesToRank","_ref2","_ref3","keyThreshold","newRank","getMatchRanking","newRankedValue","minRanking","getHighestRanking","_rankingInfo$keyThres","_ref","testString","stringToRank","prepareValueForComparison","toLowerCase","startsWith","string","acronym","wordInString","splitByHyphenWord","substr","matchingInOrderCharCount","charNumber","findMatchingCharacter","matchChar","spreadPercentage","inOrderPercentage","firstIndex","getClosenessRanking","_ref4","hasOwnProperty","path","nestedKey","nestedValues","nestedItem","nestedValue","concat","apply","getNestedValues","defaultKeyAttributes","Infinity","characterMap","chars","allAccents","RegExp","firstAccent","removeAccents","match","module","exports","remove","extractOwnerNames","owner","first_name","last_name","ownerNamesQuery","useChartOwnerNames","useDashboard","idOrSlug","position_data","position_json","useDashboardCharts","useDashboardDatasets","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","amdD","Error","amdO","O","chunkIds","fn","priority","notFulfilled","fulfilled","every","r","n","getter","__esModule","getPrototypeOf","obj","mode","ns","create","def","getOwnPropertyNames","definition","o","defineProperty","enumerable","f","chunkId","Promise","all","promises","u","miniCssF","g","globalThis","Function","hmd","set","prop","prototype","l","done","script","needAttach","scripts","getElementsByTagName","createElement","charset","nc","setAttribute","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","setTimeout","head","appendChild","Symbol","toStringTag","nmd","paths","p","resolve","reject","href","fullhref","existingLinkTags","dataHref","tag","rel","existingStyleTags","findStylesheet","linkTag","errorType","realHref","code","request","createStylesheet","miniCss","installedChunks","installedChunkData","test","promise","error","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}