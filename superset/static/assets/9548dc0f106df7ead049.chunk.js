(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[4854],{43323:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(67294),o=r(11965);function i(e,t){class r extends n.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,o.tZ)("div",{ref:this.setContainerRef,id:e,className:t})}}const i=r;return e.displayName&&(i.displayName=e.displayName),e.propTypes&&(i.propTypes={...i.propTypes,...e.propTypes}),e.defaultProps&&(i.defaultProps=e.defaultProps),r}},67869:(e,t,r)=>{"use strict";r.d(t,{E8:()=>S,CW:()=>R.Z,kI:()=>n,A5:()=>o.Z,Gz:()=>d.Z,Ys:()=>_.Z,$5:()=>E.Z,Dg:()=>h.Z,XF:()=>m.Z,gE:()=>i.Z,yE:()=>p.Z,eL:()=>s.Z,zR:()=>u.Z,UM:()=>C.Z,Bs:()=>N.Z,T8:()=>c.Z,Xs:()=>O.Xs,Ag:()=>O.Ag,Zf:()=>T.Zf,Gh:()=>T.Gh,B_:()=>a.Z,Qg:()=>T.Qg,j3:()=>l.Z,l:()=>O.ZP});var n=r(28062),o=r(97466),i=r(15226),a=r(81545),s=r(58586),l=r(45511),c=r(2995),u=r(98195),R=r(27965),d=r(86698),_=r(69224),E=r(77781),h=r(64236),m=r(65445),p=r(36361),C=r(132),N=r(31225),T=r(25130),O=r(78161);const S="#00A699"},8608:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(62761);function o(e,t,r){let n=e,o=t(n);for(;!r(o);){if(n-=1,n<0){n=e;break}o=t(n)}return n}function i(e){const{idealFontSize:t,maxWidth:r,maxHeight:i,style:a,...s}=e;let l;if(null!=t)l=t;else{if(null==i)throw new Error("You must specify at least one of maxHeight or idealFontSize");l=Math.floor(i)}function c(e){return(0,n.Z)({...s,style:{...a,fontSize:`${e}px`}})}return null!=r&&(l=o(l,c,(e=>e.width>0&&e.width<=r))),null!=i&&(l=o(l,c,(e=>e.height>0&&e.height<=i))),l}},2445:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(61888),o=r(66529),i=r(10660);function a(e,t){const{texts:r,className:a,style:s,container:l}=e,c=new Map;let u,R;c.set("",{height:0,width:0});const d=r.map((e=>{if(c.has(e))return c.get(e);u||(R=o.Y.createInContainer(l),u=o.S.createInContainer(R)),(0,i.Z)(u,{className:a,style:s,text:e});const r=(0,n.Z)(u,t);return c.set(e,r),r}));return R&&u&&setTimeout((()=>{o.S.removeFromContainer(R),o.Y.removeFromContainer(l)}),500),d}},62761:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(10660),o=r(61888),i=r(66529);function a(e,t){const{text:r,className:a,style:s,container:l}=e;if(0===r.length)return{height:0,width:0};const c=i.Y.createInContainer(l),u=i.S.createInContainer(c);(0,n.Z)(u,{className:a,style:s,text:r});const R=(0,o.Z)(u,t);return setTimeout((()=>{i.S.removeFromContainer(c),i.Y.removeFromContainer(l)}),500),R}},66529:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i,S:()=>a});class n{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e){if(void 0===e&&(e=document.body),this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e){if(void 0===e&&(e=document.body),this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const o="http://www.w3.org/2000/svg",i=new n((function(){const e=document.createElementNS(o,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),a=new n((function(){return document.createElementNS(o,"text")}))},61888:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const n={height:20,width:100};function o(e,t){void 0===t&&(t=n);const{width:r,height:o}=e.getBBox?e.getBBox():t;return{height:Math.ceil(o),width:Math.ceil(r)}}},10660:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const n=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function o(e,t){let{className:r,style:o={},text:i}=void 0===t?{}:t;const a=e;return a.textContent!==i&&(a.textContent=void 0===i?null:i),a.getAttribute("class")!==r&&a.setAttribute("class",null!=r?r:""),a.style.removeProperty("font"),a.style.removeProperty("font-weight"),a.style.removeProperty("font-style"),a.style.removeProperty("font-size"),a.style.removeProperty("font-family"),a.style.removeProperty("letter-spacing"),n.filter((e=>void 0!==o[e]&&null!==o[e])).forEach((e=>{a.style[e]=`${o[e]}`})),a}},4756:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var n=r(67294);const o=e=>{(0,n.useEffect)(e,[])}},15208:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var n=r(67294);const o=e=>{const t=(0,n.useRef)(!1);(0,n.useEffect)((()=>{t.current?e():t.current=!0}),[e])}},78243:(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var n=r(67294);function o(e){const t=(0,n.useRef)(null),[r,o]=(0,n.useState)(!1),i=e=>{const[t]=e;o(t.intersectionRatio<1)};return(0,n.useEffect)((()=>{const r=new IntersectionObserver(i,e),n=t.current;return n&&r.observe(n),()=>{n&&r.unobserve(n)}}),[t,e]),[t,r]}},51794:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(67294);const o=(e,t)=>{var r,o;const[i,a]=(0,n.useState)(0),[s,l]=(0,n.useState)(!1),c=(0,n.useRef)({scrollWidth:0,parentElementWidth:0,plusRefWidth:0});return(0,n.useLayoutEffect)((()=>{var r;const n=e.current,o=null==t?void 0:t.current;if(!n)return;const{scrollWidth:i,clientWidth:s,childNodes:u}=n,R=c.current,d=(null==(r=n.parentElement)?void 0:r.clientWidth)||0,_=(null==o?void 0:o.offsetWidth)||0;if(c.current={scrollWidth:i,parentElementWidth:d,plusRefWidth:_},R.parentElementWidth!==d||R.scrollWidth!==i||R.plusRefWidth!==_)if(i>s){const e=6,t=(null==o?void 0:o.offsetWidth)||0,r=s-e,n=u.length;let i=0,c=0;for(let o=0;o<n;o+=1){const n=u[o].offsetWidth;r-e-i-t<=0&&(c+=1),i+=n}n>1&&c?(l(!0),a(c)):(l(!1),a(1))}else l(!1),a(0)}),[null==(r=e.current)?void 0:r.offsetWidth,null==(o=e.current)?void 0:o.clientWidth,e]),[i,s]}},77069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnnotationOpacity:()=>ge.TJ,AnnotationSourceType:()=>ge.u$,AnnotationStyle:()=>ge.QW,AnnotationType:()=>ge.JJ,ApiLegacy:()=>n,ApiV1:()=>o,AppSection:()=>St.Tr,AxisType:()=>St.we,BRAND_COLOR:()=>et.E8,Behavior:()=>St.cg,CategoricalAirbnb:()=>et.CW,CategoricalColorNamespace:()=>et.kI,CategoricalColorScale:()=>et.A5,CategoricalD3:()=>et.Gz,CategoricalEcharts:()=>et.Ys,CategoricalGoogle:()=>et.$5,CategoricalLyft:()=>et.Dg,CategoricalPreset:()=>et.XF,CategoricalScheme:()=>et.gE,CategoricalSuperset:()=>et.yE,ChartClient:()=>ct,ChartDataProvider:()=>Ot,ChartFrame:()=>Dt,ChartLabel:()=>St.Df,ChartMetadata:()=>ut.Z,ChartPlugin:()=>Rt.Z,ChartProps:()=>dt.Z,ColorScheme:()=>et.eL,ColorSchemeRegistry:()=>et.zR,ComparisonType:()=>U.wj,ContributionType:()=>M.YC,CtasEnum:()=>M.WN,CurrencyFormatter:()=>Ht.Z,DEFAULT_D3_FORMAT:()=>Ie.A,DEFAULT_METRICS:()=>v.BH,DTTM_ALIAS:()=>de.W3,DataMaskType:()=>H.gT,DatasourceKey:()=>Ne.Z,DatasourceType:()=>v.i9,EXTRA_FORM_DATA_APPEND_KEYS:()=>de.Ci,EXTRA_FORM_DATA_OVERRIDE_EXTRA_KEYS:()=>de.fn,EXTRA_FORM_DATA_OVERRIDE_KEYS:()=>de.Ay,EXTRA_FORM_DATA_OVERRIDE_REGULAR_KEYS:()=>de.NU,EXTRA_FORM_DATA_OVERRIDE_REGULAR_MAPPINGS:()=>de.gn,EmotionCacheProvider:()=>tt.zo,ErrorTypeEnum:()=>M.C5,ExtensibleFunction:()=>i.Z,FAST_DEBOUNCE:()=>wt.o,FeatureFlag:()=>y.TT,GenericDataType:()=>b.Z,LOCAL_PREFIX:()=>be.D,NO_TIME_RANGE:()=>de.vM,NativeFilterType:()=>H.BE,NumberFormats:()=>fe.Z,NumberFormatter:()=>De.Z,NumberFormatterRegistry:()=>Ze.Z,OverwritePolicy:()=>l.r,PREVIEW_TIME:()=>Ue.F,PREVIEW_VALUE:()=>De.G,PandasAxis:()=>A,Plugin:()=>a.Z,Preset:()=>s.Z,QueryMode:()=>x.n,QueryState:()=>M.Tb,Registry:()=>l.Z,RegistryWithDefaultKey:()=>c.Z,RollingType:()=>U.su,SLOW_DEBOUNCE:()=>wt.M,SafeMarkdown:()=>Wt.Z,SequentialCommon:()=>et.UM,SequentialD3:()=>et.Bs,SequentialScheme:()=>et.T8,SharedLabelColor:()=>et.Xs,SharedLabelColorSource:()=>et.Ag,SuperChart:()=>ht.Z,SupersetApiError:()=>ye.P,SupersetApiErrorType:()=>ye.M,SupersetClient:()=>te.Z,SupersetClientClass:()=>re.Z,ThemeProvider:()=>tt.f6,TimeFormats:()=>be.Z,TimeFormatter:()=>Ue.Z,TimeGranularity:()=>Ke.A,TooltipFrame:()=>xt,TooltipTable:()=>Ut,TypedRegistry:()=>u.Z,WithLegend:()=>Ft,__hack_reexport_AdvancedAnalytics:()=>U.ZP,__hack_reexport_Column:()=>Z.ZP,__hack_reexport_Dashboard:()=>H.ZP,__hack_reexport_Datasource:()=>v.ZP,__hack_reexport_Metric:()=>F.ZP,__hack_reexport_Query:()=>M.ZP,__hack_reexport_QueryFormData:()=>x.Z,__hack_reexport_QueryResponse:()=>b.C,__hack_reexport_Time:()=>z,__hack_reexport_chart_Base:()=>St.ZP,__hack_reexport_chart_QueryResponse:()=>gt,__hack_reexport_chart_TransformFunction:()=>At,__hack_reexport_connection:()=>ne,__hack_reexport_dimension:()=>Je,__hack_reexport_jed:()=>$,__hack_reexport_translation:()=>J,addAlpha:()=>et.Zf,addLocaleData:()=>j.oK,addTranslation:()=>j.Zt,addTranslations:()=>j.hk,buildCustomFormatters:()=>zt.zn,buildQueryContext:()=>_e.Z,buildQueryObject:()=>Ee.Z,callApi:()=>ee.Z,chartLabelExplanations:()=>St.t$,chartLabelWeight:()=>St.eH,computeMaxFontSize:()=>He.Z,concludedQueryStateList:()=>M.yv,configure:()=>j.jQ,convertFilter:()=>he.Z,convertKeysToCamelCase:()=>R.Z,createD3NumberFormatter:()=>Pe.Z,createD3TimeFormatter:()=>We.Z,createDurationFormatter:()=>Fe.Z,createEmotionCache:()=>tt.S9,createLoadableRenderer:()=>_t.Z,createMultiFormatter:()=>Ge.Z,createSiAtMostNDigitFormatter:()=>Me,createSmartNumberFormatter:()=>xe.Z,css:()=>tt.iv,defineSharedModule:()=>oe.vO,defineSharedModules:()=>oe.YW,denormalizeTimestamp:()=>Qe,emotionCache:()=>tt.Yi,ensureIsArray:()=>d.Z,ensureIsInt:()=>_.Z,evalExpression:()=>Gt.f,extractQueryFields:()=>Se.Z,extractTimegrain:()=>me.Z,formatNumber:()=>ve.uf,formatTime:()=>we.mr,formatTimeRange:()=>we.ns,getAnalogousColors:()=>et.Gh,getCategoricalSchemeRegistry:()=>et.B_,getChartBuildQueryRegistry:()=>st.Z,getChartComponentRegistry:()=>mt.Z,getChartControlPanelRegistry:()=>pt.Z,getChartMetadataRegistry:()=>lt.Z,getChartTransformPropsRegistry:()=>Ct.Z,getColumnLabel:()=>pe.Z,getContrastingColor:()=>et.Qg,getCurrencySymbol:()=>Ht.j,getCustomFormatter:()=>zt.So,getExtensionsRegistry:()=>Bt.I,getMetricLabel:()=>Ce.Z,getMultipleTextDimensions:()=>qe.Z,getNumberFormatter:()=>ve.JB,getNumberFormatterRegistry:()=>ve.ZP,getSelectedText:()=>g.Z,getSequentialSchemeRegistry:()=>et.j3,getSharedLabelColor:()=>et.l,getTextDimension:()=>Xe.Z,getTimeFormatter:()=>we.bt,getTimeFormatterForGranularity:()=>we.uh,getTimeFormatterRegistry:()=>we.ZP,getTimeRangeFormatter:()=>we.Rg,getValueFormatter:()=>zt.kZ,getXAxisColumn:()=>Ae.Bw,getXAxisLabel:()=>Ae.M8,hasGenericChartAxes:()=>Ae.O6,initFeatureFlags:()=>y.fG,isAdhocColumn:()=>Z.GA,isAdhocMetricSQL:()=>F.q5,isAdhocMetricSimple:()=>F.nX,isBinaryAdhocFilter:()=>P.kC,isBinaryOperator:()=>L.VU,isDefined:()=>E.Z,isEqualArray:()=>m.Z,isEventAnnotationLayer:()=>ge.pD,isFeatureEnabled:()=>y.cr,isFilterDivider:()=>H.nY,isFormulaAnnotationLayer:()=>ge.x5,isFreeFormAdhocFilter:()=>P.jz,isIntervalAnnotationLayer:()=>ge.Ry,isNativeFilter:()=>H.kI,isNativeFilterWithDataMask:()=>H.S0,isPhysicalColumn:()=>Z.s9,isPostProcessingAggregation:()=>w,isPostProcessingBoxplot:()=>W,isPostProcessingCompare:()=>K,isPostProcessingContribution:()=>G,isPostProcessingCum:()=>Q,isPostProcessingDiff:()=>Y,isPostProcessingPivot:()=>B,isPostProcessingProphet:()=>k,isPostProcessingResample:()=>q,isPostProcessingRolling:()=>V,isPostProcessingSort:()=>X,isProbablyHTML:()=>I.Kv,isQueryFormColumn:()=>Z.Gk,isQueryFormMetric:()=>F.I0,isRecordAnnotationResult:()=>ge.$c,isRequired:()=>h.Z,isSavedMetric:()=>F.AG,isSetAdhocFilter:()=>P.VK,isSetOperator:()=>L.XA,isSimpleAdhocFilter:()=>P.Ki,isTableAnnotationLayer:()=>ge.mn,isTimeseriesAnnotationLayer:()=>ge.nl,isTimeseriesAnnotationResult:()=>ge.b4,isUnaryAdhocFilter:()=>P._l,isUnaryOperator:()=>L.CW,isValidExpression:()=>Gt.$,isXAxisSet:()=>Ae.SR,jsx:()=>tt.tZ,keyframes:()=>tt.F4,legacyValidateInteger:()=>rt.Z,legacyValidateNumber:()=>nt.Z,logging:()=>N.Z,lruCache:()=>S,makeApi:()=>ce.Z,makeSingleton:()=>p.Z,mergeMargin:()=>je,normalizeOrderBy:()=>Te.Z,normalizeTimeColumn:()=>Oe.T,normalizeTimestamp:()=>Ve.Z,parseLength:()=>$e.Z,promiseTimeout:()=>C,reactify:()=>Et.Z,removeDuplicates:()=>T.Z,removeHTMLTags:()=>I.ZU,reset:()=>oe.mc,resetTranslation:()=>j.sq,runningQueryStateList:()=>M.sn,safeHtmlSpan:()=>I.Ul,sanitizeHtml:()=>I.Z6,sanitizeHtmlIfNeeded:()=>I.T4,seed:()=>f.D,seedRandom:()=>f.b,setD3Format:()=>ve.KF,smartDateDetailedFormatter:()=>ke.Z,smartDateFormatter:()=>Be.Z,smartDateVerboseFormatter:()=>Ye.Z,styled:()=>tt.iK,supersetTheme:()=>tt.K6,t:()=>j.t,testQuery:()=>M.Qn,testQueryResponse:()=>M.pY,testQueryResults:()=>M.eh,tn:()=>j.tn,truncationCSS:()=>qt.B,typedMemo:()=>D.l,useCSSTextTruncation:()=>qt.Z,useChangeEffect:()=>kt.S,useComponentDidMount:()=>Yt.J,useComponentDidUpdate:()=>Vt.d,useElementOnScreen:()=>Qt.W,usePrevious:()=>Kt.D,useTheme:()=>tt.Fg,useTruncation:()=>Xt.Z,validateInteger:()=>ot,validateNonEmpty:()=>at.Z,validateNumber:()=>it.Z,withTheme:()=>tt.Zz});var n={};r.r(n),r.d(n,{__hack_reexport_query_api_legacy:()=>le,fetchExploreJson:()=>ie,getDatasourceMetadata:()=>se,getFormData:()=>ae});var o={};r.r(o),r.d(o,{default:()=>Re,getChartData:()=>ue});var i=r(54732),a=r(91189),s=r(46449),l=r(90537),c=r(29243),u=r(53652),R=r(78036),d=r(55786),_=r(77675),E=r(37731),h=r(49714),m=r(1111),p=r(1875);function C(e,t){return new Promise((r=>{setTimeout((()=>{r(e())}),t)}))}var N=r(68492),T=r(74765);class O{constructor(e){if(this.cache=void 0,this.capacity=void 0,e<1)throw new Error("The capacity in LRU must be greater than 0.");this.capacity=e,this.cache=new Map}has(e){return this.cache.has(e)}get(e){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");if(this.cache.has(e)){const t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t}}set(e,t){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");this.cache.size>=this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(e,t)}clear(){this.cache.clear()}get size(){return this.cache.size}}function S(e){return void 0===e&&(e=100),new O(e)}var A,g=r(50523),y=r(93185),f=r(70406),D=r(26635),I=r(32103),v=r(46078),Z=r(72813),P=r(46306),F=r(62446),L=r(31612),M=r(43716),x=r(20620),b=r(88889),U=r(62363);function w(e){return"aggregation"===(null==e?void 0:e.operation)}function W(e){return"boxplot"===(null==e?void 0:e.operation)}function G(e){return"contribution"===(null==e?void 0:e.operation)}function B(e){return"pivot"===(null==e?void 0:e.operation)}function k(e){return"prophet"===(null==e?void 0:e.operation)}function Y(e){return"diff"===(null==e?void 0:e.operation)}function V(e){return"rolling"===(null==e?void 0:e.operation)}function Q(e){return"cum"===(null==e?void 0:e.operation)}function K(e){return"compare"===(null==e?void 0:e.operation)}function X(e){return"sort"===(null==e?void 0:e.operation)}function q(e){return"resample"===(null==e?void 0:e.operation)}!function(e){e[e.Row=0]="Row",e[e.Column=1]="Column"}(A||(A={}));var H=r(10916);const z={};var j=r(55867);const $={},J={};var ee=r(97065),te=r(31069),re=r(99619);const ne={};var oe=r(81847);async function ie(e){let{client:t=te.Z,method:r="POST",requestConfig:n,endpoint:o="/superset/explore_json/",formData:i}=e;const{json:a}=await t.request({...n,method:r,endpoint:o,searchParams:"GET"===r?new URLSearchParams({form_data:JSON.stringify(i)}):void 0,postPayload:"POST"===r?{form_data:i}:void 0});return a}function ae(e){let{client:t=te.Z,sliceId:r,overrideFormData:n,requestConfig:o}=e;const i=t.get({endpoint:`/api/v1/form_data/?slice_id=${r}`,...o}).then((e=>{let{json:t}=e;return t}));return n?i.then((e=>({...e,...n}))):i}function se(e){let{client:t=te.Z,datasourceKey:r,requestConfig:n}=e;return t.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${r}`,...n}).then((e=>e.json))}const le={};var ce=r(22102);const ue=(0,ce.Z)({method:"POST",endpoint:"/api/v1/chart/data"}),Re={getChartData:ue};var de=r(5364),_e=r(61654),Ee=r(65946),he=r(78483),me=r(5031),pe=r(10581),Ce=r(56652),Ne=r(67706),Te=r(82028),Oe=r(78444),Se=r(69363),Ae=r(11146),ge=r(34804),ye=r(18014),fe=r(45636),De=r(77809),Ie=r(43230),ve=r(67190),Ze=r(18212),Pe=r(43851),Fe=r(75430),Le=r(16722);function Me(e){void 0===e&&(e={});const{description:t,n:r=3,id:n,label:o}=e,i=(0,Le.WU)(`.${r}s`);return new De.Z({description:t,formatFunc:e=>{const t=i(e);return t.slice(-1)<"A"?parseFloat(t).toString():t},id:null!=n?n:`si_at_most_${r}_digit`,label:null!=o?o:`SI with at most ${r} significant digits`})}var xe=r(84986),be=r(42846),Ue=r(69244),we=r(51115),We=r(69),Ge=r(11538),Be=r(78900),ke=r(62720),Ye=r(40962),Ve=r(88484);function Qe(e){const t=e.match(Ve.t);return t?`${t[1]}T${t[2]}`:e}var Ke=r(18010),Xe=r(62761),qe=r(2445),He=r(8608);function ze(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=0),Number.isNaN(t)||null===t?r:Number.isNaN(r)||null===r?t:e(t,r)}function je(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r="expand");const{top:n,left:o,bottom:i,right:a}=e,s="expand"===r?Math.max:Math.min;return{bottom:ze(s,i,t.bottom),left:ze(s,o,t.left),right:ze(s,a,t.right),top:ze(s,n,t.top)}}var $e=r(80644);const Je={};var et=r(67869),tt=r(51995),rt=r(75294),nt=r(99298);function ot(e){return!("string"==typeof e&&e.trim().length>0&&Number.isInteger(Number(e.trim()))||"number"==typeof e&&Number.isInteger(e))&&(0,j.t)("is expected to be an integer")}var it=r(872),at=r(95826),st=r(19427),lt=r(11064);class ct{constructor(e){void 0===e&&(e={}),this.client=void 0;const{client:t=te.Z}=e;this.client=t}loadFormData(e,t){return"sliceId"in e?this.client.get({endpoint:`/api/v1/form_data/?slice_id=${e.sliceId}`,...t}).then((e=>e.json)).then((t=>({...t,...e.formData}))):e.formData?Promise.resolve(e.formData):Promise.reject(new Error("At least one of sliceId or formData must be specified"))}async loadQueryData(e,t){const{viz_type:r}=e,n=(0,lt.Z)(),o=(0,st.Z)();if(n.has(r)){var i;const{useLegacyApi:a}=n.get(r),s=null!=(i=await o.get(r))?i:()=>e,l=a?{endpoint:"/superset/explore_json/",postPayload:{form_data:s(e)},...t}:{endpoint:"/api/v1/chart/data",jsonPayload:{query_context:s(e)},...t};return this.client.post(l).then((e=>Array.isArray(e.json)?e.json:[e.json]))}return Promise.reject(new Error(`Unknown chart type: ${r}`))}loadDatasource(e,t){return this.client.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${e}`,...t}).then((e=>e.json))}loadAnnotation(e){return(0,E.Z)(e.sourceType)?Promise.reject(new Error("This feature is not implemented yet.")):Promise.resolve({})}loadAnnotations(e){return Array.isArray(e)&&e.length>0?Promise.all(e.map((e=>this.loadAnnotation(e)))).then((t=>e.reduce(((e,r,n)=>{const o=e;return o[r.name]=t[n],o}),{}))):Promise.resolve({})}loadChartData(e){return this.loadFormData(e).then((e=>Promise.all([this.loadAnnotations(e.annotation_layers),this.loadDatasource(e.datasource),this.loadQueryData(e)]).then((t=>{let[r,n,o]=t;return{annotationData:r,datasource:n,formData:e,queriesData:o}}))))}}var ut=r(48805),Rt=r(84912),dt=r(9330),_t=r(89453),Et=r(43323),ht=r(88274),mt=r(54085),pt=r(37687),Ct=r(74464),Nt=r(67294);class Tt extends Nt.PureComponent{constructor(e){super(e),this.chartClient=void 0,this.handleFetchData=()=>{const{loadDatasource:e,formDataRequestOptions:t,datasourceRequestOptions:r,queryRequestOptions:n}=this.props;this.setState({status:"loading"},(()=>{try{this.chartClient.loadFormData(this.extractSliceIdAndFormData(),t).then((t=>Promise.all([e?this.chartClient.loadDatasource(t.datasource,r):Promise.resolve(void 0),this.chartClient.loadQueryData(t,n)]).then((e=>{let[r,n]=e;return{datasource:r,formData:t,queriesData:n}})))).then(this.handleReceiveData).catch(this.handleError)}catch(e){this.handleError(e)}}))},this.handleReceiveData=e=>{const{onLoaded:t}=this.props;t&&t(e),this.setState({payload:e,status:"loaded"})},this.handleError=e=>{const{onError:t}=this.props;t&&t(e),this.setState({error:e,status:"error"})},this.state={status:"uninitialized"},this.chartClient=new ct({client:e.client})}componentDidMount(){this.handleFetchData()}componentDidUpdate(e){const{formData:t,sliceId:r}=this.props;t===e.formData&&r===e.sliceId||this.handleFetchData()}extractSliceIdAndFormData(){const{formData:e,sliceId:t}=this.props;return e?{formData:e}:{sliceId:t}}render(){const{children:e}=this.props,{status:t,payload:r,error:n}=this.state;switch(t){case"loading":return e({loading:!0});case"loaded":return e({payload:r});case"error":return e({error:n});default:return null}}}const Ot=Tt;var St=r(16355);const At={},gt={};var yt=r(11965);function ft(e){return(0,E.Z)(e)&&"number"==typeof e}class Dt extends Nt.PureComponent{render(){const{contentWidth:e,contentHeight:t,width:r,height:n,renderContent:o}=this.props,i=ft(e)&&e>r,a=ft(t)&&t>n;return i||a?(0,yt.tZ)("div",{style:{height:n,overflowX:i?"auto":"hidden",overflowY:a?"auto":"hidden",width:r}},o({height:Math.max(null!=t?t:0,n),width:Math.max(null!=e?e:0,r)})):o({height:n,width:r})}}Dt.defaultProps={renderContent(){}};var It=r(49302);const vt={display:"flex",flexGrow:0,flexShrink:0,order:-1},Zt={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"};class Pt extends Nt.PureComponent{getContainerDirection(){const{position:e}=this.props;return"left"===e?"row":"right"===e?"row-reverse":"bottom"===e?"column-reverse":"column"}getLegendJustifyContent(){const{legendJustifyContent:e,position:t}=this.props;return e||("left"===t||"right"===t?"flex-start":"flex-end")}render(){const{className:e,debounceTime:t,width:r,height:n,position:o,renderChart:i,renderLegend:a}=this.props,s="left"===o||"right"===o,l={display:"flex",flexDirection:this.getContainerDirection(),height:n,width:r},c={...Zt};s?c.width=0:c.height=0;const u=s?"column":"row",R={...vt,flexDirection:u,justifyContent:this.getLegendJustifyContent()};return(0,yt.tZ)("div",{className:`with-legend ${e}`,style:l},a&&(0,yt.tZ)("div",{className:"legend-container",style:R},a({direction:u})),(0,yt.tZ)("div",{className:"main-container",style:c},(0,yt.tZ)(It.Z,{debounceTime:t},(e=>e.width>0&&e.height>0?i(e):null))))}}Pt.defaultProps={className:"",height:"auto",position:"top",width:"auto"};const Ft=Pt,Lt={padding:8};class Mt extends Nt.PureComponent{render(){const{className:e,children:t}=this.props;return(0,yt.tZ)("div",{className:e,style:Lt},t)}}Mt.defaultProps={className:""};const xt=Mt,bt={paddingLeft:8,textAlign:"right"};class Ut extends Nt.PureComponent{render(){const{className:e,data:t}=this.props;return(0,yt.tZ)("table",{className:e},(0,yt.tZ)("tbody",null,t.map((e=>{let{key:t,keyColumn:r,keyStyle:n,valueColumn:o,valueStyle:i}=e;return(0,yt.tZ)("tr",{key:t},(0,yt.tZ)("td",{style:n},null!=r?r:t),(0,yt.tZ)("td",{style:i?{...bt,...i}:bt},o))}))))}}Ut.defaultProps={className:"",data:[]};var wt=r(68122),Wt=r(78186),Gt=r(60524),Bt=r(75049),kt=r(28291),Yt=r(4756),Vt=r(15208),Qt=r(78243),Kt=r(85716),Xt=r(51794),qt=r(3297),Ht=r(37208),zt=r(1819)},43716:(e,t,r)=>{"use strict";r.d(t,{C5:()=>o,Qn:()=>c,Tb:()=>a,WN:()=>i,YC:()=>d,ZP:()=>_,eh:()=>u,pY:()=>R,sn:()=>s,yv:()=>l});var n=r(46078);const o={FRONTEND_CSRF_ERROR:"FRONTEND_CSRF_ERROR",FRONTEND_NETWORK_ERROR:"FRONTEND_NETWORK_ERROR",FRONTEND_TIMEOUT_ERROR:"FRONTEND_TIMEOUT_ERROR",GENERIC_DB_ENGINE_ERROR:"GENERIC_DB_ENGINE_ERROR",COLUMN_DOES_NOT_EXIST_ERROR:"COLUMN_DOES_NOT_EXIST_ERROR",TABLE_DOES_NOT_EXIST_ERROR:"TABLE_DOES_NOT_EXIST_ERROR",SCHEMA_DOES_NOT_EXIST_ERROR:"SCHEMA_DOES_NOT_EXIST_ERROR",CONNECTION_INVALID_USERNAME_ERROR:"CONNECTION_INVALID_USERNAME_ERROR",CONNECTION_INVALID_PASSWORD_ERROR:"CONNECTION_INVALID_PASSWORD_ERROR",CONNECTION_INVALID_HOSTNAME_ERROR:"CONNECTION_INVALID_HOSTNAME_ERROR",CONNECTION_PORT_CLOSED_ERROR:"CONNECTION_PORT_CLOSED_ERROR",CONNECTION_INVALID_PORT_ERROR:"CONNECTION_INVALID_PORT_ERROR",CONNECTION_HOST_DOWN_ERROR:"CONNECTION_HOST_DOWN_ERROR",CONNECTION_ACCESS_DENIED_ERROR:"CONNECTION_ACCESS_DENIED_ERROR",CONNECTION_UNKNOWN_DATABASE_ERROR:"CONNECTION_UNKNOWN_DATABASE_ERROR",CONNECTION_DATABASE_PERMISSIONS_ERROR:"CONNECTION_DATABASE_PERMISSIONS_ERROR",CONNECTION_MISSING_PARAMETERS_ERRORS:"CONNECTION_MISSING_PARAMETERS_ERRORS",OBJECT_DOES_NOT_EXIST_ERROR:"OBJECT_DOES_NOT_EXIST_ERROR",SYNTAX_ERROR:"SYNTAX_ERROR",VIZ_GET_DF_ERROR:"VIZ_GET_DF_ERROR",UNKNOWN_DATASOURCE_TYPE_ERROR:"UNKNOWN_DATASOURCE_TYPE_ERROR",FAILED_FETCHING_DATASOURCE_INFO_ERROR:"FAILED_FETCHING_DATASOURCE_INFO_ERROR",TABLE_SECURITY_ACCESS_ERROR:"TABLE_SECURITY_ACCESS_ERROR",DATASOURCE_SECURITY_ACCESS_ERROR:"DATASOURCE_SECURITY_ACCESS_ERROR",DATABASE_SECURITY_ACCESS_ERROR:"DATABASE_SECURITY_ACCESS_ERROR",QUERY_SECURITY_ACCESS_ERROR:"QUERY_SECURITY_ACCESS_ERROR",MISSING_OWNERSHIP_ERROR:"MISSING_OWNERSHIP_ERROR",BACKEND_TIMEOUT_ERROR:"BACKEND_TIMEOUT_ERROR",DATABASE_NOT_FOUND_ERROR:"DATABASE_NOT_FOUND_ERROR",MISSING_TEMPLATE_PARAMS_ERROR:"MISSING_TEMPLATE_PARAMS_ERROR",INVALID_TEMPLATE_PARAMS_ERROR:"INVALID_TEMPLATE_PARAMS_ERROR",RESULTS_BACKEND_NOT_CONFIGURED_ERROR:"RESULTS_BACKEND_NOT_CONFIGURED_ERROR",DML_NOT_ALLOWED_ERROR:"DML_NOT_ALLOWED_ERROR",INVALID_CTAS_QUERY_ERROR:"INVALID_CTAS_QUERY_ERROR",INVALID_CVAS_QUERY_ERROR:"INVALID_CVAS_QUERY_ERROR",SQLLAB_TIMEOUT_ERROR:"SQLLAB_TIMEOUT_ERROR",RESULTS_BACKEND_ERROR:"RESULTS_BACKEND_ERROR",ASYNC_WORKERS_ERROR:"ASYNC_WORKERS_ERROR",GENERIC_COMMAND_ERROR:"GENERIC_COMMAND_ERROR",GENERIC_BACKEND_ERROR:"GENERIC_BACKEND_ERROR",INVALID_PAYLOAD_FORMAT_ERROR:"INVALID_PAYLOAD_FORMAT_ERROR",INVALID_PAYLOAD_SCHEMA_ERROR:"INVALID_PAYLOAD_SCHEMA_ERROR"},i={TABLE:"TABLE",VIEW:"VIEW"};var a;!function(e){e.STARTED="started",e.STOPPED="stopped",e.FAILED="failed",e.PENDING="pending",e.RUNNING="running",e.SCHEDULED="scheduled",e.SUCCESS="success",e.FETCHING="fetching",e.TIMED_OUT="timed_out"}(a||(a={}));const s=[a.RUNNING,a.STARTED,a.PENDING,a.FETCHING,a.SCHEDULED],l=[a.STOPPED,a.FAILED,a.SUCCESS,a.TIMED_OUT],c={id:"clientId2353",dbId:1,sql:"SELECT * FROM something",sqlEditorId:"dfsadfs",tab:"unimportant",tempTable:"",ctas:!1,cached:!1,errorMessage:null,extra:{progress:null},isDataPreview:!1,progress:0,resultsKey:null,state:a.SUCCESS,tempSchema:null,trackingUrl:null,templateParams:null,rows:42,queryLimit:100,limitingFactor:"",endDttm:1476910579693,duration:"",startDttm:1476910566092.96,time:{},user:{},userId:1,db:{},started:"",querylink:{},queryId:1,executedSql:"",output:"",actions:{},type:n.i9.Query,columns:[{column_name:"Column 1",type:"STRING",is_dttm:!1},{column_name:"Column 3",type:"STRING",is_dttm:!1},{column_name:"Column 2",type:"TIMESTAMP",is_dttm:!0}]},u={results:{displayLimitReached:!1,columns:[{column_name:"Column 1",type:"STRING",is_dttm:!1},{column_name:"Column 3",type:"STRING",is_dttm:!1},{column_name:"Column 2",type:"TIMESTAMP",is_dttm:!0}],data:[{"Column 1":"a","Column 2":"b","Column 3":"2014-11-11T00:00:00"}],expanded_columns:[],selected_columns:[{column_name:"Column 1",type:"STRING",is_dttm:!1},{column_name:"Column 3",type:"STRING",is_dttm:!1},{column_name:"Column 2",type:"TIMESTAMP",is_dttm:!0}],query:{limit:6}}},R={...c,...u};var d;!function(e){e.Row="row",e.Column="column"}(d||(d={}));const _={}},77675:(e,t,r)=>{"use strict";function n(e,t){const r=parseInt(String(e),10),n=void 0===t?NaN:t;return Number.isNaN(r)?n:r}r.d(t,{Z:()=>n})},50523:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=()=>{var e;return null==(e=window.getSelection())?void 0:e.toString()}},70406:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,b:()=>a});var n=r(36377),o=r.n(n);function i(e){return o()(e)}function a(){return o()("superset-ui")()}},26635:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n=r(67294).memo},75042:()=>{}}]);
//# sourceMappingURL=9548dc0f106df7ead049.chunk.js.map