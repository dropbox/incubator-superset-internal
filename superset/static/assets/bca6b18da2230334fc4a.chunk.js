"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[5181],{45181:(e,t,l)=>{l.r(t),l.d(t,{default:()=>M});var n=l(18446),a=l.n(n),r=l(87185),o=l.n(r),u=l(67294),i=l(55786),s=l(10581),c=l(62720),p=l(55867),d=l(16355),h=l(23279),f=l.n(h),v=l(90057),S=l(4715),m=l(27600),g=l(85633),b=l(52004),w=l(74448),y=l(56080),C=l(11965);function F(e,t){switch(t.type){case"ownState":return e.ownState={...e.ownState,...t.ownState},e;case"filterState":return e.extraFormData=t.extraFormData,e.__cache=t.__cache,e.filterState={...e.filterState,...t.filterState},e;default:return e}}function M(e){const{coltypeMap:t,data:l,filterState:n,formData:r,height:h,isRefreshing:M,width:O,setDataMask:E,setHoveredFilter:N,unsetHoveredFilter:Z,setFocusedFilter:k,unsetFocusedFilter:T,setFilterActive:A,appSection:x,showOverflow:L,parentRef:_,inputRef:R,filterBarOrientation:D}=e,{enableEmptyFilter:I,multiSelect:j,showSearch:P,inverseSelection:$,defaultToFirstItem:B,searchAllOptions:G}=r,H=(0,u.useMemo)((()=>(0,i.Z)(r.groupby).map(s.Z)),[r.groupby]),[J]=H,[K]=(0,u.useState)(t),[V,W]=(0,v.C)(F,{extraFormData:{},filterState:n}),q=t[J],Q=(0,u.useMemo)((()=>(0,y.EG)({timeFormatter:c.Z})),[]),U=(0,u.useCallback)((e=>{const t=I&&!$&&!(null!=e&&e.length),l=$&&null!=e&&e.length?(0,p.t)(" (excluded)"):"";W({type:"filterState",__cache:n,extraFormData:(0,y.vb)(J,e,t,$),filterState:{...n,label:null!=e&&e.length?`${(e||[]).map((e=>Q(e,q))).join(", ")}${l}`:void 0,value:x===d.Tr.FILTER_CONFIG_MODAL&&B?void 0:e}})}),[x,J,q,B,W,I,$,JSON.stringify(n),Q]),z=x===d.Tr.FILTER_CONFIG_MODAL&&B,X=(0,u.useCallback)(f()((e=>{W({type:"ownState",ownState:{coltypeMap:K,search:e}})}),m.M$),[]),Y=(0,u.useCallback)((e=>{G&&X(e)}),[X,G]),ee=(0,u.useCallback)((()=>{G&&W({type:"ownState",ownState:{coltypeMap:K,search:null}})}),[W,K,G]),te=(0,u.useCallback)((()=>{ee(),T()}),[ee,T]),le=(0,u.useCallback)((e=>{const t=null===e?[null]:(0,i.Z)(e);0===t.length?U(null):U(t)}),[U]),ne=0===l.length?(0,p.t)("No data"):(0,p.tn)("%s option","%s options",l.length,l.length),ae=(0,u.useMemo)((()=>{if(n.validateMessage)return(0,C.tZ)(w.Am,{status:n.validateStatus},n.validateMessage)}),[n.validateMessage,n.validateStatus]),re=(0,u.useMemo)((()=>{const e=[...l],t=o()(e,a()),n=[];return t.forEach((e=>{const[t]=H.map((t=>e[t]));n.push({label:Q(t,q),value:t})})),n}),[l,q,H,Q]),oe=(0,u.useCallback)(((e,t)=>{const l=(0,g.mj)("label");return r.sortAscending?l(e,t):l(t,e)}),[r.sortAscending]);return(0,u.useEffect)((()=>{if(B&&void 0===n.value){const e=l[0]?H.map((e=>l[0][e])):null;void 0!==(null==e?void 0:e[0])&&U(e)}else U(z?null:n.value)}),[J,z,B,I,$,U,l,H,JSON.stringify(n.value)]),(0,u.useEffect)((()=>{E(V)}),[JSON.stringify(V)]),(0,C.tZ)(w.un,{height:h,width:O},(0,C.tZ)(w.jp,{validateStatus:n.validateStatus,extra:ae},(0,C.tZ)(S.Ph,{allowClear:!0,allowNewOptions:!0,allowSelectAll:!G,value:n.value||[],disabled:z,getPopupContainer:L?()=>(null==_?void 0:_.current)||document.body:e=>(null==e?void 0:e.parentNode)||document.body,showSearch:P,mode:j?"multiple":"single",placeholder:ne,onSearch:Y,onSelect:ee,onBlur:te,onFocus:k,onMouseEnter:N,onMouseLeave:Z,onChange:le,ref:R,loading:M,oneLine:D===b.Bp.HORIZONTAL,invertSelection:$,options:re,sortComparator:oe,onDropdownVisibleChange:A})))}},74448:(e,t,l)=>{l.d(t,{Am:()=>u,jp:()=>o,un:()=>r});var n=l(51995),a=l(4591);const r=n.iK.div`
  min-height: ${e=>{let{height:t}=e;return t}}px;
  width: ${e=>{let{width:t}=e;return t}}px;
`,o=(0,n.iK)(a.Z)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,u=n.iK.div`
  color: ${e=>{var t;let{theme:l,status:n="error"}=e;return null==(t=l.colors[n])?void 0:t.base}};
`},56080:(e,t,l)=>{l.d(t,{EG:()=>i,WO:()=>u,vb:()=>o});var n=l(88889),a=l(54076),r=l(61641);const o=function(e,t,l,n){void 0===l&&(l=!1),void 0===n&&(n=!1);const a={};return l?a.adhoc_filters=[{expressionType:r.v.SQL,clause:r.P.WHERE,sqlExpression:"1 = 0"}]:null!=t&&0!==t.length&&(a.filters=[{col:e,op:n?"NOT IN":"IN",val:t}]),a},u=(e,t,l)=>{const n=[];return null!=t&&t!==l&&n.push({col:e,op:">=",val:t}),null!=l&&l!==t&&n.push({col:e,op:"<=",val:l}),null!=l&&null!=t&&l===t&&n.push({col:e,op:"==",val:l}),n.length?{filters:n}:{}};function i(e){let{timeFormatter:t,numberFormatter:l}=void 0===e?{}:e;return(e,r)=>{if(null==e)return a.li;if("boolean"==typeof e)return e?a.Tb:a.jy;if(r===n.Z.BOOLEAN)try{return JSON.parse(String(e).toLowerCase())?a.Tb:a.jy}catch{return a.jy}return"string"==typeof e?e:t&&r===n.Z.TEMPORAL?t(e):l&&"number"==typeof e&&r===n.Z.NUMERIC?l(e):String(e)}}},90057:(e,t,l)=>{l.d(t,{C:()=>o,x:()=>r});var n=l(12902),a=l(67294);function r(e){var t=(0,a.useState)((function(){return(0,n.vV)("function"==typeof e?e():e,!0)})),l=t[1];return[t[0],(0,a.useCallback)((function(e){l("function"==typeof e?(0,n.ZP)(e):(0,n.vV)(e))}),[])]}function o(e,t,l){var r=(0,a.useMemo)((function(){return(0,n.ZP)(e)}),[e]);return(0,a.useReducer)(r,t,l)}}}]);
//# sourceMappingURL=bca6b18da2230334fc4a.chunk.js.map